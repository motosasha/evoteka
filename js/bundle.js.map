{"version":3,"file":"bundle.js","names":["__webpack_modules__","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","text","indexOf","applyArguments","func","args","apply","is","arr","a","Array","isArray","obj","Object","prototype","toString","call","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","nil","hex","test","rgb","hsl","col","key","parseEasingParameters","string","match","exec","split","map","p","parseFloat","spring","params","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","b","solver","t","progress","exp","cos","sin","cached","frame","elapsed","rest","steps","ceil","eases","functionEasings","bezier","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","mX1","mY1","mX2","mY2","sampleValues","Float32Array","i","x","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","abs","binarySubdivide","penner","linear","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","forEach","name","keys","easeIn","parseEasings","ease","selectString","document","querySelectorAll","e","filterArray","callback","len","length","thisArg","arguments","result","push","flattenArray","reduce","concat","toArray","o","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","colorToRgb","rgbValue","hexValue","replace","m","g","parseInt","hexToRgba","hslValue","h","s","l","hue2rgb","q","hslToRgba","getUnit","getFunctionValue","animatable","target","id","total","getAttribute","el","prop","convertPxToUnit","value","unit","tempEl","createElement","tagName","parentEl","parentNode","body","appendChild","style","position","width","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","set","getTransformValue","propName","defaultVal","getTransformUnit","get","list","getOriginalTargetValue","getRelativeValue","to","from","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getPolylineLength","previousPos","points","totalLength","numberOfItems","currentPos","getItem","getTotalLength","getCircleLength","getRectLength","getLineLength","getPolygonLength","getParentSvg","pathEl","svgData","parentSvgEl","getParentSvgEl","rect","getBoundingClientRect","viewBoxAttr","height","viewBox","w","vW","vH","getPathProgress","path","isPathTargetInsideSVG","point","offset","getPointAtLength","p0","scaleX","scaleY","property","atan2","decomposeValue","rgx","original","numbers","Number","strings","parseTargets","targets","item","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","propArray","v","k","getProperties","properties","keyframes","propertyNames","newKey","flattenKeyframes","tweens","normalizeTweens","previousTween","tween","normalizeTweenValues","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","attribute","setAttribute","object","manual","last","setTargetsValue","valueUnit","animType","getAnimations","animatables","lastTween","type","createAnimation","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","activeInstances","engine","raf","step","activeInstancesLength","activeInstance","paused","splice","tick","requestAnimationFrame","undefined","addEventListener","anime","suspendWhenDocumentHidden","isDocumentHidden","cancelAnimationFrame","instance","_onDocumentVisibility","hidden","children","startTime","lastTime","now","childrenLength","resolve","makePromise","promise","window","Promise","_resolve","finished","instanceSettings","createNewInstance","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","reversePlayback","i$1","syncInstanceChildren","began","loopBegan","changeBegan","changeCompleted","remaining","completed","reset","pause","play","reverse","restart","remove","removeTargetsFromInstance","removeTargetsFromAnimations","targetsArray","c","childAnimations","version","running","convertPx","percent","setDashoffset","pathLength","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","index","fromX","fromY","floor","distanceX","distanceY","timeline","tl","add","instanceParams","tlIndex","ins","insParams","tlDuration","random","has","delete","Event","bubbles","createEvent","initEvent","destroy","nodeName","clientWidth","d","removeEventListener","bind","resize","overflowY","overflowX","wordWrap","boxSizing","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","scrollHeight","Element","scrollTop","scrollBehavior","offsetHeight","dispatchEvent","_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__","animejs__WEBPACK_IMPORTED_MODULE_1__","querySelector","observer","IntersectionObserver","entries","entry","isIntersecting","svgPath","signAnimation","strokeDashoffset","opacity","unobserve","root","rootMargin","threshold","observe","formCheck","form","submit","contactsNameValue","contactsContactValue","contactsPlaceValue","removeAttribute","contactsHost","contactsNameField","contactsContactField","contactsMessageField","formButton","animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__","userNameValue","userContactValue","userPlaceValue","userCategoryValue","userNameField","userContactField","userPlaceField","userCategoryField","_js_common_openNav_js__WEBPACK_IMPORTED_MODULE_1__","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","minLen","_arrayLikeToArray","constructor","_unsupportedIterableToArray","F","done","_e","f","TypeError","err","normalCompletion","didErr","next","_e2","return","arr2","heroPhrasesAnimation","translateX","translateZ","heroHost","_step","isAnimated","localStorage","pageHeader","heroText","heroPhrases","heroTimeLine","_iterator","phrase","innerHTML","textContent","classList","documentElement","translateY","setItem","_js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__","imask__WEBPACK_IMPORTED_MODULE_1__","inputs","input","this","phoneFields","field","mask","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","navLinks","navHeaderLinks","clickHandler","href","preventDefault","offsetTop","scroll","top","behavior","_js_utils_hrefGetter__WEBPACK_IMPORTED_MODULE_2__","scrollTo","left","urlPathname","urlSearch","urlHash","_typeof","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","arg","hint","prim","toPrimitive","res","String","_toPrimitive","default","HystModal","Constructor","_classCallCheck","config","assign","backscroll","linkAttributeName","closeOnOverlay","closeOnEsc","closeOnButton","waitTransitions","catchFocus","fixedSelectors","beforeOpen","afterClose","init","_closeAfterTransition","protoProps","staticProps","isOpened","openedWindow","starter","_nextWindows","_scrollPosition","_reopenTrigger","_overlayChecker","_isMoved","_focusElements","_modalBlock","existingShadow","shadow","eventsFeeler","_this","clickedlink","closest","targetSelector","open","close","contains","which","focusCatcher","selector","_bodyScrollControl","focusControl","console","log","nodes","focus","nodesArray","activeElement","focusedItemIndex","shiftKey","fixedSelectorsElems","html","marginRight","pageYOffset","marginSize","innerWidth","_hystmodal__WEBPACK_IMPORTED_MODULE_1__","simplebar__WEBPACK_IMPORTED_MODULE_2__","slim_select__WEBPACK_IMPORTED_MODULE_3__","placeSelect","categorySelect","categorySlimSelect","select","showSearch","events","afterChange","dataset","autoHide","directionsHost","modal","tile","tileCategory","cat","setSelected","thanks","swiper__WEBPACK_IMPORTED_MODULE_1__","reviewsSlider","breakpoint","matchMedia","breakpointChecker","matches","enableSwiper","modules","Pagination","pagination","breakpoints","addListener","swiper__WEBPACK_IMPORTED_MODULE_2__","animationOptions","svgPaths","reviewsSlides","reviewsSwiperSlider","Navigation","spaceBetween","navigation","nextEl","prevEl","on","currentSvg","activeIndex","previousIndex","centerTag","active","offsetLeft","tagHost","activeTag","tagScroll","startX","scrollLeft","slider","isDown","pageX","walk","autosize__WEBPACK_IMPORTED_MODULE_1__","textareas","textarea","bodyState","state","_js_utils_getScrollSize_js__WEBPACK_IMPORTED_MODULE_1__","setProperty","fn","attachEvent","readyState","outer","inner","overflow","scrollbarSize","url","URL","location","pathname","search","hash","module","canUseDOM","exports","_createClass","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_objectWithoutProperties","source","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","Super","NewTarget","_superPropBase","_get","receiver","base","desc","getOwnPropertyDescriptor","_defineProperty","_set","isStrict","Error","_slicedToArray","_arrayWithHoles","_i","_s","_arr","_n","_d","_iterableToArrayLimit","_nonIterableRest","_","j","HTMLContenteditableMaskElement","_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__","_html_mask_element_js__WEBPACK_IMPORTED_MODULE_1__","_core_holder_js__WEBPACK_IMPORTED_MODULE_2__","_HTMLMaskElement","_super","rootElement","selection","getSelection","anchorOffset","focusOffset","createRange","range","setStart","firstChild","setEnd","lastChild","removeAllRanges","addRange","HTMLMaskElement","_mask_element_js__WEBPACK_IMPORTED_MODULE_1__","_MaskElement","_handlers","_this$input$getRootNo","_this$input$getRootNo2","_this$input","getRootNode","selectionStart","selectionEnd","setSelectionRange","handlers","_this2","event","_toggleEventHandler","EVENTS_MAP","_this3","handler","selectionChange","drop","click","commit","InputMask","_core_utils_js__WEBPACK_IMPORTED_MODULE_1__","_core_action_details_js__WEBPACK_IMPORTED_MODULE_2__","_masked_factory_js__WEBPACK_IMPORTED_MODULE_4__","_mask_element_js__WEBPACK_IMPORTED_MODULE_5__","_html_mask_element_js__WEBPACK_IMPORTED_MODULE_6__","_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_7__","_core_holder_js__WEBPACK_IMPORTED_MODULE_8__","_excluded","opts","isContentEditable","masked","_listeners","_value","_unmaskedValue","_saveSelection","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","updateValue","maskEquals","Masked","maskedClass","unmaskedValue","updateOptions","_this$masked","updateControl","typedValue","typedValueEquals","bindEvents","unbindEvents","ev","_len","_key","listeners","_cursorChanging","_changingCursorPos","isActive","warn","_selection","cursorPos","newUnmaskedValue","newValue","isChanged","_fireChangeEvents","restOpts","updateMask","updateOpts","objectIncludes","_delayUpdateCursor","_abortUpdateCursor","setTimeout","_fireEvent","_inputEvent","isComplete","clearTimeout","nearestInputPos","DIRECTION","LEFT","hIndex","details","oldRawValue","rawInputValue","startChangePos","removed","inserted","removeDirection","raw","NONE","updateCursor","doCommit","stopPropagation","_unbindEvents","MaskElement","_core_holder_js__WEBPACK_IMPORTED_MODULE_1__","_unsafeSelectionStart","_unsafeSelectionEnd","_unsafeSelect","ActionDetails","_utils_js__WEBPACK_IMPORTED_MODULE_1__","oldValue","oldSelection","insertedCount","removedCount","substring","RIGHT","ChangeDetails","rawInserted","skip","tailShift","ContinuousTailDetails","stop","tail","append","aggregate","_appendPlaceholder","beforePos","shiftChar","IMask","escapeRegExp","forceDirection","indexInDirection","isString","normalizePrepare","posInDirection","_change_details_js__WEBPACK_IMPORTED_MODULE_1__","FORCE_LEFT","FORCE_RIGHT","prep","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","_controls_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_14__","_controls_html_mask_element_js__WEBPACK_IMPORTED_MODULE_13__","_controls_input_js__WEBPACK_IMPORTED_MODULE_0__","_controls_mask_element_js__WEBPACK_IMPORTED_MODULE_12__","_masked_base_js__WEBPACK_IMPORTED_MODULE_2__","MaskedDate","_masked_date_js__WEBPACK_IMPORTED_MODULE_7__","MaskedDynamic","_masked_dynamic_js__WEBPACK_IMPORTED_MODULE_10__","MaskedEnum","_masked_enum_js__WEBPACK_IMPORTED_MODULE_4__","MaskedFunction","_masked_function_js__WEBPACK_IMPORTED_MODULE_9__","MaskedNumber","_masked_number_js__WEBPACK_IMPORTED_MODULE_6__","MaskedPattern","_masked_pattern_js__WEBPACK_IMPORTED_MODULE_3__","MaskedRange","_masked_range_js__WEBPACK_IMPORTED_MODULE_5__","MaskedRegExp","_masked_regexp_js__WEBPACK_IMPORTED_MODULE_8__","PIPE_TYPE","_masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__","createMask","_masked_factory_js__WEBPACK_IMPORTED_MODULE_11__","createPipe","pipe","globalThis","_core_change_details_js__WEBPACK_IMPORTED_MODULE_1__","_core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__","_core_utils_js__WEBPACK_IMPORTED_MODULE_3__","_core_holder_js__WEBPACK_IMPORTED_MODULE_4__","_update","DEFAULTS","isInitialized","withValueRefresh","doParse","doFormat","extractInput","fromPos","toPos","appendTo","ch","flags","checkTail","consistentState","_normalizePrepare","doPrepare","_normalizePrepare2","_appendCharRaw","consistentTail","appended","doValidate","beforeTailState","overwrite","unshift","tailDetails","appendTail","shift","_beforeTailState","ci","_appendChar","eager","_appendEager","_refreshing","rawInput","ret","_isolated","prepare","validate","parent","format","parse","deleteCount","tailPos","extractTail","valLength","tval","EMPTY_VALUES","includes","_pattern_js__WEBPACK_IMPORTED_MODULE_1__","_range_js__WEBPACK_IMPORTED_MODULE_2__","_core_holder_js__WEBPACK_IMPORTED_MODULE_3__","_MaskedPattern","pattern","blocks","GET_DEFAULT_BLOCKS","Y","getFullYear","getMonth","getDate","bk","autofix","_get2","date","isDateExist","padStart","join","_str$split","_str$split2","day","month","year","maxLength","_factory_js__WEBPACK_IMPORTED_MODULE_2__","_base_js__WEBPACK_IMPORTED_MODULE_3__","_core_utils_js__WEBPACK_IMPORTED_MODULE_4__","_core_holder_js__WEBPACK_IMPORTED_MODULE_5__","_Masked","currentMask","compiledMasks","_applyDispatch","currentMaskFlags","prevValueBeforeTail","inputValue","insertValue","_rawInputValue","tailValue","prevMask","prevMaskState","doDispatch","_flags$_beforeTailSta","_flags$_beforeTailSta2","currentMaskRef","dispatch","currentDetails","_normalizePrepare3","_normalizePrepare4","_this$currentMask","_this$currentMask2","_this$currentMask3","isFilled","_this$currentMask4","_this$currentMask5","maskedState","mi","_this$currentMask6","_this$currentMask7","_this$currentMask8","_get3","_len2","_key2","every","_mask$mi","_this$currentMask9","weight","sort","i1","i2","enum","repeat","_core_utils_js__WEBPACK_IMPORTED_MODULE_0__","Function","MaskedClass","_base_js__WEBPACK_IMPORTED_MODULE_1__","_core_change_details_js__WEBPACK_IMPORTED_MODULE_2__","_updateRegExps","allowNegative","scale","radix","_numberRegExpInput","_numberRegExp","_mapToRadixRegExp","mapToRadix","_thousandsSeparatorRegExp","thousandsSeparator","parts","noSepCh","_removeThousandsSeparators","prepCh","extendOnSeparators","count","_separatorsCount","_this$_adjustRangeWit","_adjustRangeWithSeparators","_this$_adjustRangeWit2","prevBeforeTailValue","prevBeforeTailSeparatorsCount","_separatorsCountFromSlice","appendDetails","_insertThousandsSeparators","beforeTailValue","beforeTailSeparatorsCount","searchFrom","separatorPos","separatorAroundFromPos","_findSeparatorAround","separatorAroundToPos","_this$_adjustRangeWit3","_this$_adjustRangeWit4","valueBeforePos","valueAfterPos","separatorAtLeftPos","separatorAtLeftEndPos","separatorAtRightPos","valid","number","validnum","formatted","normalizeZeros","_normalizeZeros","padFractionalZeros","_padFractionalZeros","sign","zeros","num","padEnd","signed","_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__","_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_5__","_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_6__","_pattern_cursor_js__WEBPACK_IMPORTED_MODULE_7__","_factory_js__WEBPACK_IMPORTED_MODULE_8__","_core_holder_js__WEBPACK_IMPORTED_MODULE_9__","definitions","DEFAULT_INPUT_DEFINITIONS","_rebuildMask","defs","_blocks","_stops","_maskedBlocks","unmaskingBlock","optionalBlock","bNames","filter","bName","maskedBlock","lazy","placeholderChar","char","isInput","STOP_CHAR","ESCAPE_CHAR","def","isOptional","isUnmasking","bi","isFixed","_this$_mapPosToBlock","startBlockIndex","_mapPosToBlock","blockIter","_block","blockDetails","chunkTail","_forEachBlocksInRange","bFromPos","bToPos","blockChunk","_findStopBefore","_blockStartPos","blockIndex","extend","stopBefore","si","toBlockIndex","startBlockIter","endBlockIndex","bDetails","accVal","_block2","blockStartPos","fromBlockIter","toBlockIter","isSameBlock","fromBlockStartPos","fromBlockEndPos","removeDetails","cursor","pushRightBeforeInput","popState","pushLeftBeforeInput","pushRightBeforeFilled","ok","pushLeftBeforeRequired","pushLeftBeforeFilled","pushRightBeforeRequired","maskedBlocks","_this4","indices","gi","InputDefinition","FixedDefinition","ChunksTailDetails","_core_utils_js__WEBPACK_IMPORTED_MODULE_2__","_core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__","chunks","tailChunk","lastChunk","extendLast","firstTailChunk","chunk","lastBlockIter","chunkBlock","remainChars","cstate","chunkShiftPos","PatternCursor","_log","_ref","pop","block","pushState","bindBlock","_this$block","_pushLeft","_pushRight","_this5","_this6","PatternFixedDefinition","_isRawInput","maxPos","isResolved","PatternInputDefinition","_factory_js__WEBPACK_IMPORTED_MODULE_1__","blockOpts","_this$masked2","_this$masked3","boundPos","_this$masked4","_this$parent","_factory_js__WEBPACK_IMPORTED_MODULE_0__","MASKED","UNMASKED","TYPED","runIsolated","pipeArgs","fromStr","toStr","sameCharsCount","minstr","maxstr","_ref2","placeholder","nextVal","_this$boundaries","boundaries","_this$boundaries2","_matchFrom","_this$boundaries3","_this$boundaries4","__unused_webpack___webpack_module__","$","addClass","animate","animationEnd","attr","blur","data","detach","each","empty","eq","find","focusin","focusout","hasClass","hide","insertAfter","insertBefore","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","nextAll","off","once","outerHeight","outerWidth","parents","prepend","prependTo","prev","prevAll","removeAttr","removeClass","removeData","show","siblings","styles","toggleClass","touchend","touchmove","touchstart","transition","transitionEnd","transitionStart","trigger","ssr_window__WEBPACK_IMPORTED_MODULE_0__","Dom7","items","super","proto","makeReactive","arrayFlat","arrayFilter","context","getWindow","getDocument","trim","toCreate","tempParent","childNodes","qsa","uniqueArray","arrayUnique","classes","classNames","className","toggle","attrs","attrName","dom7ElementDataStorage","dataKey","attributes","group","toUpperCase","multiple","selectedOptions","options","selected","transitionDuration","eventType","listener","capture","handleLiveEvent","eventData","dom7EventData","handleEvent","dom7LiveListeners","proxyListener","dom7Listeners","dom7proxy","eventName","onceHandler","eventArgs","CustomEvent","evt","detail","cancelable","dataIndex","fireCallBack","includeMargins","innerHeight","box","clientTop","clientLeft","scrollY","scrollX","display","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","returnIndex","els","newChild","tempDiv","before","cloneNode","after","nextSibling","nextElementSibling","nextEls","previousElementSibling","prevEls","foundElements","found","toAdd","currentTop","currentLeft","maxTop","maxLeft","newTop","newLeft","animateTop","animateLeft","scrollWidth","render","easeProgress","initialProps","initialParams","elements","animating","que","easingProgress","frameId","dom7AnimateInstance","initialFullValue","initialValue","finalValue","finalFullValue","container","elementsDone","propsDone","element","animateInstance","noTrigger","shortcut","_Symbol_js__WEBPACK_IMPORTED_MODULE_0__","_getRawTag_js__WEBPACK_IMPORTED_MODULE_1__","_objectToString_js__WEBPACK_IMPORTED_MODULE_2__","symToStringTag","toStringTag","_trimmedEndIndex_js__WEBPACK_IMPORTED_MODULE_0__","reTrimStart","freeGlobal","global","objectProto","nativeObjectToString","isOwn","tag","unmasked","_freeGlobal_js__WEBPACK_IMPORTED_MODULE_0__","freeSelf","reWhitespace","charAt","_isObject_js__WEBPACK_IMPORTED_MODULE_1__","_now_js__WEBPACK_IMPORTED_MODULE_2__","_toNumber_js__WEBPACK_IMPORTED_MODULE_0__","nativeMax","nativeMin","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","_baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__","_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__","_root_js__WEBPACK_IMPORTED_MODULE_0__","_debounce_js__WEBPACK_IMPORTED_MODULE_1__","_isObject_js__WEBPACK_IMPORTED_MODULE_0__","_baseTrim_js__WEBPACK_IMPORTED_MODULE_2__","_isSymbol_js__WEBPACK_IMPORTED_MODULE_0__","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","other","isBinary","SimpleBarCore","lodash_es__WEBPACK_IMPORTED_MODULE_1__","lodash_es__WEBPACK_IMPORTED_MODULE_2__","can_use_dom__WEBPACK_IMPORTED_MODULE_0__","__assign","cachedScrollbarWidth","cachedDevicePixelRatio","scrollbarWidth","right","getElementWindow$1","ownerDocument","defaultView","getElementDocument$1","devicePixelRatio","getOptions$1","acc","option","chr","addClasses$1","_a","removeClasses$1","classNamesToQuery$1","helpers","freeze","getElementWindow","getElementDocument","getOptions","addClasses","removeClasses","classNamesToQuery","removePreventClickId","minScrollbarWidth","stopScrollDelay","isScrolling","isMouseEntering","scrollXTicking","scrollYTicking","wrapperEl","contentWrapperEl","contentEl","offsetEl","maskEl","placeholderEl","heightAutoObserverWrapperEl","heightAutoObserverEl","rtlHelpers","resizeObserver","mutationObserver","elStyles","isRtl","mouseX","mouseY","onMouseMove","onWindowResize","onStopScrolling","onMouseEntered","onScroll","elWindow","scrolling","showScrollbar","isOverflowing","positionScrollbar","_onStopScrolling","hideScrollbar","onMouseEnter","mouseEntered","_onMouseEntered","_onMouseMove","clientX","clientY","forceVisible","onMouseMoveForAxis","onMouseLeave","onMouseLeaveForAxis","_onWindowResize","getScrollbarWidth","hideNativeScrollbar","onPointerEvent","isWithinTrackXBounds","isWithinTrackYBounds","track","scrollbar","isWithinBounds","pointerType","onDragStart","onTrackClick","drag","_b","_c","_f","_g","_h","_j","_k","_l","draggedAxis","trackSize","sizeAttr","contentSize","scrollSizeAttr","hostSize","dragPos","pageY","offsetAttr","dragOffset","scrollPos","size","getRtlHelpers","isScrollingToNegative","scrollOffsetAttr","onEndDrag","elDocument","dragging","preventClick","defaultOptions","offsetSizeAttr","overflowAttr","isVisible","dummyDiv","scrollbarDummyEl","firstElementChild","dummyChild","dummyContainerOffset","getOffset","dummyChildOffset","dummyChildOffsetAfterScroll","isScrollOriginAtZero","pageXOffset","initDOM","recalculate","initListeners","wrapper","scrollableNode","contentWrapper","contentNode","findChild","horizontal","vertical","visible","ResizeObserver","resizeObserverStarted_1","MutationObserver","childList","subtree","characterData","contentElOffsetWidth","isHeightAuto","isWidthAuto","contentWrapperElOffsetWidth","elOverflowX","elOverflowY","padding","paddingRight","paddingLeft","margin","contentElScrollHeight","contentElScrollWidth","contentWrapperElOffsetHeight","offsetForXScrollbar","offsetForYScrollbar","getScrollbarSize","toggleTrackVisibility","scrollbarRatio","scrollbarMinSize","scrollbarMaxSize","scrollOffset","scrollPourcent","handleOffset","visibility","scrollable","bottom","currentAxis","hover","eventOffset","clickOnTrack","scrollbarOffset","scrolled","dir","scrollSize","getContentElement","getScrollElement","removeListeners","disconnect","unMount","bbox","query","mozMatchesSelector","ariaLabel","SimpleBar","simplebar_core__WEBPACK_IMPORTED_MODULE_1__","extendStatics","instances","__","__extends","initDOMLoadedElements","removeObserver","globalObserver","initHtmlApi","handleMutations","doScroll","mutations","mutation","addedNodes","addedNode","hasAttribute","removedNodes","removedNode","WeakMap","generateID","debounce","immediate","timeout","callNow","isEqual","JSON","stringify","SlimSelect","Settings","class","isMultiple","isOpen","isFullOpen","intervalMove","disabled","alwaysOpen","searchPlaceholder","searchText","searchingText","searchHighlight","closeOnSelect","contentLocation","contentPosition","openPosition","placeholderText","allowDeselect","hideSelected","showOptionTooltips","minSelected","maxSelected","timeoutDelay","maxValuesShown","maxValuesMessage","Optgroup","optgroup","label","selectAll","closable","Option","mandatory","Store","selectType","setData","validateDataArray","dataObj","validateOption","partialToFullData","dataFinal","optOptions","setSelectedBy","getSelected","getData","getDataOptions","addOption","selectedType","selectedValues","firstOption","hasSelected","getSelectedOptions","opt","getSelectedIDs","selectedIDs","op","getOptgroupByID","getOptionByID","searchFilter","includeOptgroup","dataSearch","getSelectType","Render","store","callbacks","main","single","valueText","valueDelete","valueOut","deselect","deselectPath","arrow","arrowClose","arrowOpen","content","openAbove","openBelow","searchHighlighter","searching","addable","addablePath","optgroupLabel","optgroupLabelText","optgroupActions","optgroupSelectAll","optgroupSelectAllBox","optgroupSelectAllCheck","optgroupClosable","optionDelete","highlighted","error","mainDiv","contentDiv","updateClassStyles","updateAriaAttributes","enable","disable","moveContent","selectedId","selectedOption","ensureElementInView","cssText","role","tabIndex","onkeydown","highlight","onclick","shouldDelete","beforeChange","updateDeselectAll","deselectSvg","createElementNS","arrowPath","mainFocus","preventScroll","placeholderOption","renderValues","renderMultipleValues","renderSingleValue","selectedSingle","singleValue","innerText","outerHTML","currentNodes","removeNodes","node","hasChildNodes","shouldAdd","multipleValue","insertAdjacentElement","deleteDiv","deleteSvg","deletePath","searchDiv","listDiv","putContent","moveContentAbove","moveContentBelow","searchReturn","readOnly","oninput","ctrlKey","plus","plusPath","runFinish","oo","newOption","addableValue","then","searchFocus","notPlaceholder","notDisabled","notHidden","prevOption","prevParent","parentElement","selectOption","selectParent","renderError","errorDiv","renderSearching","searchingDiv","renderOptions","noResults","optgroupEl","allSelected","selectAllText","selectAllSvg","selectAllBox","selectAllCheck","currentSelected","newSelected","optgroupClosableSvg","optgroupClosableArrow","optionEl","dataClass","highlightText","currentTarget","elementID","shouldUpdate","completedString","regex","matchStartPosition","matchEndPosition","originalTextFoundByRegex","mainHeight","contentHeight","containerRect","cTop","cBottom","clientHeight","eTop","eBottom","mainRect","hasSelectedItems","deselectButton","hideClass","Select","listen","valueChange","passive","observeCall","changeListen","hideUI","showUI","onValueChange","getSelectedValues","classChanged","disabledChanged","optgroupOptionChanged","attributeName","onClassChange","onDisabledChange","onOptionsChange","getDataFromOptgroup","getDataFromOption","selectall","optgroupOptions","updateSelect","createOptgroup","createOption","info","optionClass","kebabCase","afterOpen","beforeClose","windowResize","windowScroll","documentClick","parentByClass","hasClassInTree","windowVisibilityChange","selectEl","ssid","debounceEvents","selectAriaLabel","selectAriaLabelledBy","slim","dataClean","runAfterChange","clearInterval","setInterval","searchResp","catch","message","isObject","src","ssrDocument","ssrWindow","getElementById","getElementsByTagName","importNode","host","hostname","origin","protocol","doc","navigator","userAgent","history","replaceState","go","back","Image","screen","win","getBreakpoint","containerEl","currentHeight","minRatio","_setBreakpoint_js__WEBPACK_IMPORTED_MODULE_0__","_getBreakpoint_js__WEBPACK_IMPORTED_MODULE_1__","setBreakpoint","_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__","isGridEnabled","swiper","rows","initialized","loopedSlides","$el","breakpointsBase","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","enabled","containerModifierClass","emitContainerClasses","fill","wasModuleEnabled","isModuleEnabled","directionChanged","needsReLoop","slidesPerView","changeDirection","isEnabled","allowTouchMove","allowSlideNext","allowSlidePrev","emit","loopDestroy","loopCreate","updateSlides","slideTo","checkOverflow","isLocked","wasLocked","slidesOffsetBefore","lastSlideIndex","slides","lastSlideRightEdge","slidesGrid","slidesSizesGrid","snapGrid","isEnd","rtl","device","support","suffixes","prefix","resultClasses","prepareClasses","touch","freeMode","autoheight","autoHeight","android","ios","cssMode","centered","centeredSlides","watchSlidesProgress","_addClasses_js__WEBPACK_IMPORTED_MODULE_0__","_removeClasses_js__WEBPACK_IMPORTED_MODULE_1__","_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__","_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__","_shared_get_support_js__WEBPACK_IMPORTED_MODULE_3__","_shared_get_device_js__WEBPACK_IMPORTED_MODULE_4__","_shared_get_browser_js__WEBPACK_IMPORTED_MODULE_5__","_modules_resize_resize_js__WEBPACK_IMPORTED_MODULE_6__","_modules_observer_observer_js__WEBPACK_IMPORTED_MODULE_7__","_events_emitter_js__WEBPACK_IMPORTED_MODULE_8__","_update_index_js__WEBPACK_IMPORTED_MODULE_9__","_translate_index_js__WEBPACK_IMPORTED_MODULE_10__","_transition_index_js__WEBPACK_IMPORTED_MODULE_11__","_slide_index_js__WEBPACK_IMPORTED_MODULE_12__","_loop_index_js__WEBPACK_IMPORTED_MODULE_13__","_grab_cursor_index_js__WEBPACK_IMPORTED_MODULE_14__","_events_index_js__WEBPACK_IMPORTED_MODULE_15__","_breakpoints_index_js__WEBPACK_IMPORTED_MODULE_16__","_classes_index_js__WEBPACK_IMPORTED_MODULE_17__","_images_index_js__WEBPACK_IMPORTED_MODULE_18__","_check_overflow_index_js__WEBPACK_IMPORTED_MODULE_19__","_defaults_js__WEBPACK_IMPORTED_MODULE_20__","_moduleExtendParams_js__WEBPACK_IMPORTED_MODULE_21__","prototypes","eventsEmitter","translate","slide","grabCursor","images","extendedDefaults","Swiper","swipers","newParams","__swiper__","getSupport","getDevice","browser","getBrowser","eventsListeners","eventsAnyListeners","__modules__","allModulesParams","mod","extendParams","swiperParams","passedParams","onAny","isHorizontal","isVertical","realIndex","isBeginning","previousTranslate","touchEvents","desktop","touchEventsTouch","move","touchEventsDesktop","simulateTouch","touchEventsData","isTouched","isMoved","allowTouchCallbacks","touchStartTime","currentTranslate","startTranslate","allowThresholdMove","focusableElements","lastClickTime","clickTimeout","velocities","allowMomentumBounce","isTouchEvent","startMoving","allowClick","touches","startY","currentY","diff","imagesToLoad","imagesLoaded","setGrabCursor","unsetGrabCursor","setProgress","minTranslate","current","maxTranslate","translateTo","updateActiveIndex","updateSlidesClasses","_emitClasses","cls","getSlideClasses","slideEl","destroyed","slideClass","emitSlidesClasses","updates","slidesPerViewDynamic","view","exact","swiperSize","spv","breakLoop","slideSize","swiperSlideSize","setTranslate","translateValue","rtlTranslate","newTranslate","translated","updateSize","updateProgress","updateAutoHeight","watchOverflow","newDirection","needUpdate","currentDirection","changeLanguageDirection","mount","mounted","getWrapperSelector","wrapperClass","$wrapperEl","shadowRoot","getWrapper","createElements","wrongRTL","preloadImages","initialSlide","runCallbacksOnInit","attachEvents","deleteInstance","cleanStyles","detachEvents","slideVisibleClass","slideActiveClass","slideNextClass","slidePrevClass","deleteProps","static","newDefaults","defaults","installModule","prototypeGroup","protoMethod","use","touchEventsTarget","updateOnWindowResize","nested","preventInteractionOnTransition","edgeSwipeDetection","edgeSwipeThreshold","setWrapperSize","virtualTranslate","effect","slidesPerGroup","slidesPerGroupSkip","slidesPerGroupAuto","centeredSlidesBounds","slidesOffsetAfter","normalizeSlideIndex","centerInsufficientSlides","roundLengths","touchRatio","touchAngle","shortSwipes","longSwipes","longSwipesRatio","longSwipesMs","followFinger","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","resistance","resistanceRatio","preventClicks","preventClicksPropagation","slideToClickedSlide","updateOnImagesReady","loopAdditionalSlides","loopedSlidesLimit","loopFillGroupWithBlank","loopPreventsSlide","rewind","swipeHandler","noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","maxBackfaceHiddenSlides","slideBlankClass","slideDuplicateActiveClass","slideDuplicateClass","slideDuplicateNextClass","slideDuplicatePrevClass","priority","method","__emitterProxy","offAny","eventHandler","_onTouchStart_js__WEBPACK_IMPORTED_MODULE_1__","_onTouchMove_js__WEBPACK_IMPORTED_MODULE_2__","_onTouchEnd_js__WEBPACK_IMPORTED_MODULE_3__","_onResize_js__WEBPACK_IMPORTED_MODULE_4__","_onClick_js__WEBPACK_IMPORTED_MODULE_5__","_onScroll_js__WEBPACK_IMPORTED_MODULE_6__","dummyEventAttached","dummyEventListener","domMethod","swiperMethod","passiveListener","onTouchStart","onTouchMove","onTouchEnd","onClick","stopImmediatePropagation","onResize","run","newProgress","translatesDiff","originalEvent","touchEndTime","timeDiff","pathTree","composedPath","updateClickedSlide","nextTick","swipeDirection","stopIndex","groupSize","increment","rewindFirstIndex","rewindLastIndex","virtual","ratio","targetTouch","targetTouches","changedTouches","preventedByNestedSwiper","diffX","diffY","loopFix","getTranslate","setTransition","disableParentSwiper","$targetEl","button","swipingClassHasValue","eventPath","isTargetShadow","__closestFrom","assignedSlot","closestElement","iOSEdgeSwipeDetection","iOSEdgeSwipeThreshold","shouldPreventDefault","_setGrabCursor_js__WEBPACK_IMPORTED_MODULE_0__","_unsetGrabCursor_js__WEBPACK_IMPORTED_MODULE_1__","moving","_loadImage_js__WEBPACK_IMPORTED_MODULE_0__","_preloadImages_js__WEBPACK_IMPORTED_MODULE_1__","loadImage","imageEl","srcset","sizes","checkForComplete","image","onReady","onload","onerror","currentSrc","_loopCreate_js__WEBPACK_IMPORTED_MODULE_0__","_loopFix_js__WEBPACK_IMPORTED_MODULE_1__","_loopDestroy_js__WEBPACK_IMPORTED_MODULE_2__","$selector","blankSlidesNum","blankNode","prependSlides","appendSlides","newIndex","moduleExtendParams","moduleParamName","moduleParams","auto","Observer","observers","attach","WebkitMutationObserver","observerUpdate","observeParents","observeSlideChildren","containerParents","Resize","animationFrame","resizeHandler","orientationChangeHandler","newWidth","newHeight","contentBoxSize","contentRect","inlineSize","blockSize","_slideTo_js__WEBPACK_IMPORTED_MODULE_0__","_slideToLoop_js__WEBPACK_IMPORTED_MODULE_1__","_slideNext_js__WEBPACK_IMPORTED_MODULE_2__","_slidePrev_js__WEBPACK_IMPORTED_MODULE_3__","_slideReset_js__WEBPACK_IMPORTED_MODULE_4__","_slideToClosest_js__WEBPACK_IMPORTED_MODULE_5__","_slideToClickedSlide_js__WEBPACK_IMPORTED_MODULE_6__","slideToLoop","slideNext","slidePrev","slideReset","slideToClosest","runCallbacks","internal","perGroup","_clientLeft","normalize","normalizedTranslate","normalizedSnapGrid","prevSnap","prevSnapIndex","snap","snapIndex","prevIndex","lastIndex","initial","indexAsNumber","isFinite","slideIndex","normalizedGrid","normalizedGridNext","isH","isVirtual","scrollSnapType","_immediateVirtual","_swiperImmediateVirtual","smoothScroll","animateCSSModeScroll","targetPosition","side","onSlideToWrapperTransitionEnd","_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__","_shared_utils_js__WEBPACK_IMPORTED_MODULE_1__","slideToIndex","clickedIndex","clickedSlide","currentSnap","_setTransition_js__WEBPACK_IMPORTED_MODULE_0__","_transitionStart_js__WEBPACK_IMPORTED_MODULE_1__","_transitionEnd_js__WEBPACK_IMPORTED_MODULE_2__","byController","transitionEmit","_transitionEmit_js__WEBPACK_IMPORTED_MODULE_0__","getSwiperTranslate","_getTranslate_js__WEBPACK_IMPORTED_MODULE_0__","_setTranslate_js__WEBPACK_IMPORTED_MODULE_1__","_minTranslate_js__WEBPACK_IMPORTED_MODULE_2__","_maxTranslate_js__WEBPACK_IMPORTED_MODULE_3__","_translateTo_js__WEBPACK_IMPORTED_MODULE_4__","translateBounds","onTranslateToWrapperTransitionEnd","_updateSize_js__WEBPACK_IMPORTED_MODULE_0__","_updateSlides_js__WEBPACK_IMPORTED_MODULE_1__","_updateAutoHeight_js__WEBPACK_IMPORTED_MODULE_2__","_updateSlidesOffset_js__WEBPACK_IMPORTED_MODULE_3__","_updateSlidesProgress_js__WEBPACK_IMPORTED_MODULE_4__","_updateProgress_js__WEBPACK_IMPORTED_MODULE_5__","_updateSlidesClasses_js__WEBPACK_IMPORTED_MODULE_6__","_updateActiveIndex_js__WEBPACK_IMPORTED_MODULE_7__","_updateClickedSlide_js__WEBPACK_IMPORTED_MODULE_8__","updateSlidesOffset","updateSlidesProgress","newActiveIndex","previousRealIndex","previousSnapIndex","activeSlides","getSlideByIndex","visibleSlides","slideFound","multiplier","wasBeginning","wasEnd","getDirectionLabel","getDirectionPropertyValue","previousSlidesLength","slidesLength","offsetBefore","offsetAfter","previousSnapGridLength","previousSlidesGridLength","slidePosition","prevSlideSize","virtualSize","marginLeft","marginBottom","marginTop","setCSSProperty","gridEnabled","initSlides","shouldResetSlideSize","updateSlide","slideStyles","currentTransform","currentWebKitTransform","webkitTransform","updateWrapperSize","newSlidesGrid","slidesGridItem","allSlidesSize","slideSizeValue","maxSnap","allSlidesOffset","addToSnapGrid","addToSlidesGrid","backFaceHiddenClass","hasClassBackfaceClassAdded","activeSlide","nextSlide","prevSlide","swiperSlideOffset","offsetCenter","visibleSlidesIndexes","slideOffset","slideProgress","originalSlideProgress","slideBefore","slideAfter","originalProgress","A11y","_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_0__","a11y","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","clicked","liveRegion","notify","notification","makeElFocusable","makeElNotFocusable","addElRole","addElRoleDescription","description","addElLabel","disableEl","enableEl","onEnterOrSpaceKey","keyCode","$nextEl","$prevEl","bulletClass","hasPagination","bullets","hasClickablePagination","clickable","initNavEl","wrapperId","controls","addElControls","handlePointerDown","handlePointerUp","handleFocus","sourceCapabilities","firesTouchEvents","$slideEl","$containerEl","getRandomNumber","live","addElLive","updateNavigation","bulletEl","$bulletEl","renderBullet","bulletActiveClass","updatePagination","Autoplay","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","waitForTransition","onTransitionEnd","onVisibilityChange","visibilityState","disableOnInteraction","pauseOnMouseEnter","Controller","LinearSpline","binarySearch","maxIndex","minIndex","guess","array","i3","interpolate","x2","removeSpline","controller","control","spline","inverse","by","_t","controlled","controlledTranslate","setControlledTranslate","getInterpolateFunction","setControlledTransition","EffectCards","_shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_0__","_shared_effect_init_js__WEBPACK_IMPORTED_MODULE_1__","_shared_effect_target_js__WEBPACK_IMPORTED_MODULE_2__","_shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_3__","cardsEffect","slideShadows","transformEl","rotate","perSlideRotate","perSlideOffset","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prevY","scaleString","$shadowEl","zIndex","perspective","overwriteParams","EffectCoverflow","coverflowEffect","stretch","depth","modifier","swiperWidth","swiperHeight","center","centerOffset","offsetMultiplier","rotateY","rotateX","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","custom","translateString","rotateString","opacityString","shadowOpacity","allSlides","EffectCube","cubeEffect","shadowOffset","shadowScale","createSlideShadows","shadowBefore","shadowAfter","$cubeShadowEl","wrapperRotate","slideAngle","tx","ty","tz","shadowAngle","scale1","scale2","zFactor","isSafari","isWebView","recreateShadows","getEffectParams","EffectFade","_shared_effect_init_js__WEBPACK_IMPORTED_MODULE_0__","_shared_effect_target_js__WEBPACK_IMPORTED_MODULE_1__","_shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_2__","fadeEffect","crossFade","slideOpacity","EffectFlip","_shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_1__","_shared_effect_init_js__WEBPACK_IMPORTED_MODULE_2__","_shared_effect_target_js__WEBPACK_IMPORTED_MODULE_3__","_shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_4__","flipEffect","limitRotation","momentum","momentumRatio","momentumBounce","momentumBounceRatio","momentumVelocityRatio","sticky","minimumVelocity","lastMoveEvent","velocityEvent","distance","momentumDuration","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","needsLoopFix","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","column","row","groupIndex","slideIndexInGroup","columnsInGroup","order","HashNavigation","hashNavigation","watchState","onHashChange","newHash","setHash","History","keepQuery","paths","slugify","getPathValues","urlOverride","pathArray","part","setHistory","currentState","scrollToSlide","setHistoryPopState","Keyboard","handle","kc","charCode","pageUpDown","keyboard","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","altKey","metaKey","onlyInViewport","inView","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","$imageEl","background","$pictureEl","sourceEl","$source","slideOriginalIndex","load","slideExist","amount","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Manipulation","_methods_appendSlide_js__WEBPACK_IMPORTED_MODULE_0__","_methods_prependSlide_js__WEBPACK_IMPORTED_MODULE_1__","_methods_addSlide_js__WEBPACK_IMPORTED_MODULE_2__","_methods_removeSlide_js__WEBPACK_IMPORTED_MODULE_3__","_methods_removeAllSlides_js__WEBPACK_IMPORTED_MODULE_4__","appendSlide","prependSlide","addSlide","removeSlide","removeAllSlides","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","slidesIndexes","indexToRemove","Mousewheel","mousewheel","releaseOnEdges","invert","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","lastEventBeforeSnap","lastScrollTime","recentWheelEvents","handleMouseEnter","handleMouseLeave","animateSlider","newEvent","delta","rtlFactor","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","positions","ignoreWheelEvents","prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","releaseScroll","_shared_create_element_if_not_defined_js__WEBPACK_IMPORTED_MODULE_0__","getEl","toggleEl","disabledClass","lockClass","onPrevClick","onNextClick","hideOnClick","hiddenClass","navigationDisabledClass","targetEl","isHidden","_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_1__","_shared_create_element_if_not_defined_js__WEBPACK_IMPORTED_MODULE_2__","pfx","bulletSize","bulletElement","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","formatFractionTotal","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","dynamicBulletIndex","isPaginationDisabled","setSideBullets","paginationType","firstIndex","midIndex","suffix","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","offsetProp","progressbarDirection","paginationHTML","numberOfBullets","Parallax","parallax","setTransform","currentOpacity","currentScale","_swiper","parallaxEl","$parallaxEl","parallaxDuration","Scrollbar","_shared_create_element_if_not_defined_js__WEBPACK_IMPORTED_MODULE_3__","dragStartPos","dragSize","divider","dragTimeout","$dragEl","newSize","newPos","getPointerPosition","setDragPosition","positionRatio","onDragMove","onDragEnd","snapOnRelease","activeListener","eventMethod","$swiperEl","dragClass","dragEl","draggable","scrollbarDisabledClass","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","currentIndex","nextIndex","thumbsParams","SwiperClass","thumbsSwiperParams","thumbsToActivate","thumbActiveClass","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","Virtual","cssModeTimeout","renderSlide","force","addSlidesBefore","addSlidesAfter","previousFrom","previousTo","previousSlidesGrid","previousOffset","slidesAfter","slidesBefore","onRendered","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","Zoom","zoom","maxRatio","containerClass","zoomedSlideClass","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","isScaling","gesture","slideWidth","slideHeight","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","y2","onGestureStart","gestures","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","zoomIn","touchX","touchY","offsetX","offsetY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","touchAction","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","in","out","classesToSelector","createElementIfNotDefined","checkProps","createShadow","_dom_js__WEBPACK_IMPORTED_MODULE_0__","shadowClass","$shadowContainer","dom7__WEBPACK_IMPORTED_MODULE_0__","Methods","methodName","effectInit","requireUpdateOnVirtual","overwriteParamsResult","effectTarget","effectParams","effectVirtualTransitionEnd","$transitionEndTarget","eventTriggered","triggerEvents","ua","calcBrowser","_get_support_js__WEBPACK_IMPORTED_MODULE_1__","deviceCached","overrides","platform","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","os","calcDevice","DocumentTouch","supportsPassive","calcSupport","currentStyle","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","MozTransform","OTransform","MsTransform","msTransform","m41","m42","noExtend","nextSource","HTMLElement","keysArray","nextKey","varName","varValue","startPosition","cssModeFrameID","isOutOfBound","currentPosition","_modules_a11y_a11y_js__WEBPACK_IMPORTED_MODULE_11__","_modules_autoplay_autoplay_js__WEBPACK_IMPORTED_MODULE_14__","_modules_controller_controller_js__WEBPACK_IMPORTED_MODULE_10__","_modules_effect_cards_effect_cards_js__WEBPACK_IMPORTED_MODULE_24__","_modules_effect_coverflow_effect_coverflow_js__WEBPACK_IMPORTED_MODULE_22__","_modules_effect_creative_effect_creative_js__WEBPACK_IMPORTED_MODULE_23__","_modules_effect_cube_effect_cube_js__WEBPACK_IMPORTED_MODULE_20__","_modules_effect_fade_effect_fade_js__WEBPACK_IMPORTED_MODULE_19__","_modules_effect_flip_effect_flip_js__WEBPACK_IMPORTED_MODULE_21__","FreeMode","_modules_free_mode_free_mode_js__WEBPACK_IMPORTED_MODULE_16__","_modules_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__","_modules_hash_navigation_hash_navigation_js__WEBPACK_IMPORTED_MODULE_13__","_modules_history_history_js__WEBPACK_IMPORTED_MODULE_12__","_modules_keyboard_keyboard_js__WEBPACK_IMPORTED_MODULE_2__","_modules_lazy_lazy_js__WEBPACK_IMPORTED_MODULE_9__","_modules_manipulation_manipulation_js__WEBPACK_IMPORTED_MODULE_18__","_modules_mousewheel_mousewheel_js__WEBPACK_IMPORTED_MODULE_3__","_modules_navigation_navigation_js__WEBPACK_IMPORTED_MODULE_4__","_modules_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_5__","_modules_parallax_parallax_js__WEBPACK_IMPORTED_MODULE_7__","_modules_scrollbar_scrollbar_js__WEBPACK_IMPORTED_MODULE_6__","_core_core_js__WEBPACK_IMPORTED_MODULE_0__","Thumbs","_modules_thumbs_thumbs_js__WEBPACK_IMPORTED_MODULE_15__","_modules_virtual_virtual_js__WEBPACK_IMPORTED_MODULE_1__","_modules_zoom_zoom_js__WEBPACK_IMPORTED_MODULE_8__","__webpack_module_cache__","moduleId","cachedModule","definition"],"sources":["bundle.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./node_modules/animejs/lib/anime.es.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/animejs/lib/anime.es.js ***!\n  \\**********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (anime);\n\n\n/***/ }),\n\n/***/ \"./node_modules/autosize/dist/autosize.esm.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/autosize/dist/autosize.esm.js ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar e,t,n=\"function\"==typeof Map?new Map:(e=[],t=[],{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event(\"test\")}catch(e){o=function(e){var t=document.createEvent(\"Event\");return t.initEvent(e,!0,!1),t}}function r(e){var t=n.get(e);t&&t.destroy()}function i(e){var t=n.get(e);t&&t.update()}var l=null;\"undefined\"==typeof window||\"function\"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){if(e&&e.nodeName&&\"TEXTAREA\"===e.nodeName&&!n.has(e)){var t,r=null,i=null,l=null,a=function(){e.clientWidth!==i&&p()},d=function(t){window.removeEventListener(\"resize\",a,!1),e.removeEventListener(\"input\",p,!1),e.removeEventListener(\"keyup\",p,!1),e.removeEventListener(\"autosize:destroy\",d,!1),e.removeEventListener(\"autosize:update\",p,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener(\"autosize:destroy\",d,!1),\"onpropertychange\"in e&&\"oninput\"in e&&e.addEventListener(\"keyup\",p,!1),window.addEventListener(\"resize\",a,!1),e.addEventListener(\"input\",p,!1),e.addEventListener(\"autosize:update\",p,!1),e.style.overflowX=\"hidden\",e.style.wordWrap=\"break-word\",n.set(e,{destroy:d,update:p}),\"vertical\"===(t=window.getComputedStyle(e,null)).resize?e.style.resize=\"none\":\"both\"===t.resize&&(e.style.resize=\"horizontal\"),r=\"content-box\"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),p()}function s(t){var n=e.style.width;e.style.width=\"0px\",e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&(e.parentNode.style.scrollBehavior=\"auto\",t.push([e.parentNode,e.parentNode.scrollTop])),e=e.parentNode;return function(){return t.forEach(function(e){var t=e[0];t.scrollTop=e[1],t.style.scrollBehavior=null})}}(e);e.style.height=\"\",e.style.height=e.scrollHeight+r+\"px\",i=e.clientWidth,t()}}function p(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?\"hidden\"===n.overflowY&&(s(\"scroll\"),u(),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):\"hidden\"!==n.overflowY&&(s(\"hidden\"),u(),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==r){l=r;var i=o(\"autosize:resized\");try{e.dispatchEvent(i)}catch(e){}}}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e});var a=l;/* harmony default export */ __webpack_exports__[\"default\"] = (a);\n\n\n/***/ }),\n\n/***/ \"./src/blocks/calculator/calculator.js\":\n/*!*********************************************!*\\\n  !*** ./src/blocks/calculator/calculator.js ***!\n  \\*********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\");\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var calculatorHost = document.querySelector(\".calculator\");\n  if (calculatorHost) {\n    var animationOptions = function animationOptions(target) {\n      return {\n        targets: target,\n        strokeDashoffset: [animejs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setDashoffset, 0],\n        easing: \"easeInOutSine\",\n        duration: 4500,\n        delay: function delay(el, i) {\n          return i * 250;\n        },\n        direction: \"normal\",\n        loop: false\n      };\n    };\n    var options = {\n      root: null,\n      rootMargin: \"0px\",\n      threshold: 0.5\n    };\n    var observer = new IntersectionObserver(function (entries, observer) {\n      entries.forEach(function (entry) {\n        if (entry.isIntersecting) {\n          var svg = entry.target;\n          var svgPath = svg.querySelector(\"path\");\n          var signAnimation = (0,animejs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(animationOptions(svgPath));\n          svg.style.opacity = 1;\n          signAnimation.play();\n          observer.unobserve(svg);\n        }\n      });\n    }, options);\n    var targets = document.querySelectorAll(\".calculator__image\");\n    targets.forEach(function (i) {\n      observer.observe(i);\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/contacts/contacts.js\":\n/*!*****************************************!*\\\n  !*** ./src/blocks/contacts/contacts.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var contactsHost = document.querySelector(\".contacts\");\n  if (contactsHost) {\n    var contactsNameField = contactsHost.querySelector(\"[name='contacts-name']\");\n    var contactsContactField = contactsHost.querySelector(\"[name='contacts-contact']\");\n    var contactsMessageField = contactsHost.querySelector(\"[name='contacts-message']\");\n    var formButton = contactsHost.querySelector(\"button\");\n    contactsNameField.addEventListener(\"input\", function () {\n      formCheck(contactsHost, formButton);\n    });\n    contactsContactField.addEventListener(\"input\", function () {\n      formCheck(contactsHost, formButton);\n    });\n    contactsMessageField.addEventListener(\"input\", function () {\n      formCheck(contactsHost, formButton);\n    });\n  }\n});\nfunction formCheck(form, submit) {\n  var contactsNameValue = form.querySelector(\"[name='contacts-name']\").value;\n  var contactsContactValue = form.querySelector(\"[name='contacts-contact']\").value;\n  var contactsPlaceValue = form.querySelector(\"[name='contacts-message']\").value;\n  var noEmptyValues = !!contactsNameValue && !!contactsContactValue && !!contactsPlaceValue;\n  noEmptyValues ? submit.removeAttribute(\"disabled\") : submit.setAttribute(\"disabled\", \"true\");\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/directions/directions.js\":\n/*!*********************************************!*\\\n  !*** ./src/blocks/directions/directions.js ***!\n  \\*********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! animejs/lib/anime.es.js */ \"./node_modules/animejs/lib/anime.es.js\");\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var directionsHost = document.querySelector(\".directions\");\n  if (directionsHost) {\n    var animationOptions = function animationOptions(target) {\n      return {\n        targets: target,\n        strokeDashoffset: [animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setDashoffset, 0],\n        easing: \"easeInOutSine\",\n        duration: 2500,\n        delay: function delay(el, i) {\n          return i * 250;\n        },\n        direction: \"normal\",\n        loop: false\n      };\n    };\n    var options = {\n      root: null,\n      rootMargin: \"0px\",\n      threshold: 0.5\n    };\n    var observer = new IntersectionObserver(function (entries, observer) {\n      entries.forEach(function (entry) {\n        if (entry.isIntersecting) {\n          var svg = entry.target;\n          var svgPath = svg.querySelector(\"path\");\n          var signAnimation = (0,animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(animationOptions(svgPath));\n          svg.style.opacity = 1;\n          signAnimation.play();\n          observer.unobserve(svg);\n        }\n      });\n    }, options);\n    var targets = document.querySelectorAll(\".directions__tile svg\");\n    targets.forEach(function (i) {\n      observer.observe(i);\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/form/form.js\":\n/*!*********************************!*\\\n  !*** ./src/blocks/form/form.js ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  // form checker\n  var form = document.querySelector(\"#registration-form\");\n  if (form) {\n    var userNameField = form.querySelector(\"[name='user-name']\");\n    var userContactField = form.querySelector(\"[name='user-contact']\");\n    var userPlaceField = form.querySelector(\"[name='user-place']\");\n    var userCategoryField = form.querySelector(\"[name='user-category']\");\n    var formButton = form.querySelector(\"button\");\n    userNameField.addEventListener(\"input\", function () {\n      formCheck(form, formButton);\n    });\n    userContactField.addEventListener(\"input\", function () {\n      formCheck(form, formButton);\n    });\n    userPlaceField.addEventListener(\"change\", function () {\n      formCheck(form, formButton);\n    });\n    userCategoryField.addEventListener(\"change\", function () {\n      formCheck(form, formButton);\n    });\n  }\n});\nfunction formCheck(form, submit) {\n  var userNameValue = form.querySelector(\"[name='user-name']\").value;\n  var userContactValue = form.querySelector(\"[name='user-contact']\").value;\n  var userPlaceValue = form.querySelector(\"[name='user-place']\").value;\n  var userCategoryValue = form.querySelector(\"[name='user-category']\").value;\n  var noEmptyValues = !!userNameValue && !!userContactValue && userPlaceValue !== \" \" && userCategoryValue !== \"  \";\n  noEmptyValues ? submit.removeAttribute(\"disabled\") : submit.setAttribute(\"disabled\", \"true\");\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/header/header.js\":\n/*!*************************************!*\\\n  !*** ./src/blocks/header/header.js ***!\n  \\*************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var _js_common_openNav_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/common/openNav.js */ \"./src/js/common/openNav.js\");\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  // mobile menu\n  var menuTrigger = document.querySelector(\".header__menu\");\n  menuTrigger.addEventListener(\"click\", _js_common_openNav_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/hero/hero.js\":\n/*!*********************************!*\\\n  !*** ./src/blocks/hero/hero.js ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! animejs/lib/anime.es.js */ \"./node_modules/animejs/lib/anime.es.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var heroHost = document.querySelector(\".hero\");\n  if (heroHost) {\n    var isAnimated = +localStorage.getItem(\"isAnimated\");\n    var pageHeader = document.querySelector(\".header\");\n    //const mainPageLogo = pageHeader.querySelector(\".header__logo\");\n    var heroText = heroHost.querySelector(\".hero__text\");\n    var heroPhrases = heroHost.querySelectorAll(\".hero__phrase\");\n    var heroTimeLine = animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeline({\n      direction: \"normal\",\n      loop: false\n    });\n    var _iterator = _createForOfIteratorHelper(heroPhrases),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var phrase = _step.value;\n        phrase.innerHTML = phrase.textContent.replace(/([A-Za-z--0-9-,'<>/]+)/g, \"<span class='word'>$&</span>\");\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    if (!isAnimated) {\n      document.documentElement.classList.add(\"animate\");\n      heroTimeLine.add({\n        targets: \".hero__logo-outline path\",\n        opacity: [{\n          value: 1,\n          easing: \"easeInOutSine\",\n          delay: 500,\n          duration: 1000\n        }, {\n          value: 0,\n          easing: \"easeInOutSine\",\n          delay: 3500,\n          duration: 1000\n        }],\n        strokeDashoffset: [{\n          value: [animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setDashoffset, 1000],\n          easing: \"easeInOutSine\",\n          duration: 5500\n        }]\n      }).add({\n        targets: \".hero__logo-solid\",\n        opacity: [0, 1],\n        easing: \"easeInOutSine\",\n        delay: 500,\n        duration: 1000\n      }, \"-=1500\").add({\n        targets: \".page__header\",\n        translateY: [{\n          value: [\"-100%\", 0],\n          easing: \"easeInOutBack\",\n          duration: 1000\n        }],\n        opacity: [{\n          value: 1,\n          easing: \"easeInOutBack\",\n          duration: 500\n        }],\n        complete: function complete() {\n          pageHeader.classList.add(\"header--blur\");\n        }\n      }).add({\n        targets: \".hero__button\",\n        opacity: [{\n          value: 1,\n          easing: \"easeInOutBack\",\n          duration: 1000\n        }],\n        complete: function complete() {\n          heroText.classList.add(\"hero__text--visible\");\n          heroPhrasesAnimation();\n          document.documentElement.classList.remove(\"animate\");\n        }\n      }, \"-=1000\").add({\n        targets: \".page__button\",\n        translateY: [{\n          value: [\"30px\", 0],\n          easing: \"linear\",\n          duration: 1000\n        }],\n        opacity: [{\n          value: [0, 1],\n          easing: \"linear\",\n          duration: 1000\n        }],\n        complete: function complete() {\n          localStorage.setItem(\"isAnimated\", 1);\n        }\n      }, \"-=1000\");\n    } else {\n      heroTimeLine.add({\n        targets: \".page__header\",\n        opacity: [{\n          value: [0, 1],\n          easing: \"easeInOutBack\",\n          duration: 250\n        }],\n        complete: function complete() {\n          pageHeader.classList.add(\"header--blur\");\n        }\n      }).add({\n        targets: \".hero__logo-solid\",\n        opacity: [0, 1],\n        easing: \"easeInOutSine\",\n        duration: 250\n      }, \"-=250\").add({\n        targets: \".hero__button\",\n        opacity: [{\n          value: [0, 1],\n          easing: \"easeInOutBack\",\n          duration: 250\n        }],\n        complete: function complete() {\n          heroText.classList.add(\"hero__text--visible\");\n          heroPhrasesAnimation();\n        }\n      }, \"-=250\").add({\n        targets: \".page__button\",\n        opacity: [{\n          value: [0, 1],\n          easing: \"linear\",\n          duration: 250\n        }]\n      }, \"-=250\");\n    }\n\n    // mainPageLogo.addEventListener(\"click\", () => {\n    //   window.scrollTo({\n    //     top: 0,\n    //     left: 0,\n    //     behavior: \"smooth\",\n    //   });\n    // });\n  }\n});\n\nfunction heroPhrasesAnimation() {\n  animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeline({\n    loop: true\n  }).add({\n    targets: \".hero__text .hero__phrase--1 .word\",\n    translateX: [40, 0],\n    translateZ: 0,\n    opacity: [0, 1],\n    easing: \"easeOutExpo\",\n    duration: 2500,\n    delay: function delay(el, i) {\n      return 500 + 30 * i;\n    }\n  }).add({\n    targets: \".hero__text .hero__phrase--1 .word\",\n    translateX: [0, -30],\n    opacity: [1, 0],\n    easing: \"easeInExpo\",\n    duration: 2000,\n    delay: function delay(el, i) {\n      return 100 + 30 * i;\n    }\n  }).add({\n    targets: \".hero__text .hero__phrase--2 .word\",\n    translateX: [40, 0],\n    translateZ: 0,\n    opacity: [0, 1],\n    easing: \"easeOutExpo\",\n    duration: 2500,\n    delay: function delay(el, i) {\n      return 500 + 30 * i;\n    }\n  }).add({\n    targets: \".hero__text .hero__phrase--2 .word\",\n    translateX: [0, -30],\n    opacity: [1, 0],\n    easing: \"easeInExpo\",\n    duration: 2000,\n    delay: function delay(el, i) {\n      return 100 + 30 * i;\n    }\n  }).add({\n    targets: \".hero__text .hero__phrase--3 .word\",\n    translateX: [40, 0],\n    translateZ: 0,\n    opacity: [0, 1],\n    easing: \"easeOutExpo\",\n    duration: 2500,\n    delay: function delay(el, i) {\n      return 500 + 30 * i;\n    }\n  }).add({\n    targets: \".hero__text .hero__phrase--3 .word\",\n    translateX: [0, -30],\n    opacity: [1, 0],\n    easing: \"easeInExpo\",\n    duration: 2000,\n    delay: function delay(el, i) {\n      return 100 + 30 * i;\n    }\n  }).add({\n    targets: \".hero__text .hero__phrase--4 .word\",\n    translateX: [40, 0],\n    translateZ: 0,\n    opacity: [0, 1],\n    easing: \"easeOutExpo\",\n    duration: 2500,\n    delay: function delay(el, i) {\n      return 500 + 30 * i;\n    }\n  }).add({\n    targets: \".hero__text .hero__phrase--4 .word\",\n    translateX: [0, -30],\n    opacity: [1, 0],\n    easing: \"easeInExpo\",\n    duration: 2000,\n    delay: function delay(el, i) {\n      return 100 + 30 * i;\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/input/input.js\":\n/*!***********************************!*\\\n  !*** ./src/blocks/input/input.js ***!\n  \\***********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var imask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! imask */ \"./node_modules/imask/esm/index.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n(0,_js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  // input\n  var inputs = document.querySelectorAll(\".input\");\n  if (inputs.length !== 0) {\n    var _iterator = _createForOfIteratorHelper(inputs),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var input = _step.value;\n        if (input.value.length !== 0) input.classList.add(\"input--has-value\");\n        input.addEventListener(\"input\", function () {\n          this.value.length !== 0 ? this.classList.add(\"input--has-value\") : this.classList.remove(\"input--has-value\");\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  // phone input\n  var phoneFields = document.querySelectorAll(\" input[type=tel]\");\n  if (phoneFields) {\n    phoneFields.forEach(function (field) {\n      (0,imask__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(field, {\n        mask: \"+{7} (000) 000-00-00\"\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/nav/nav.js\":\n/*!*******************************!*\\\n  !*** ./src/blocks/nav/nav.js ***!\n  \\*******************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var _js_common_openNav_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/common/openNav.js */ \"./src/js/common/openNav.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  // close nav\n  var navLinks = document.querySelectorAll(\".nav__link\");\n  var navHeaderLinks = document.querySelectorAll(\".header__nav-item\");\n  [].concat(_toConsumableArray(navLinks), _toConsumableArray(navHeaderLinks)).forEach(function (item) {\n    item.addEventListener(\"click\", _js_common_openNav_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    item.addEventListener(\"click\", clickHandler);\n  });\n  function clickHandler(e) {\n    var href = this.getAttribute(\"href\");\n    if (href.indexOf(\"#\") === 0) {\n      e.preventDefault();\n      var offsetTop = document.querySelector(href).offsetTop;\n      scroll({\n        top: offsetTop,\n        behavior: \"smooth\"\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/page/page.js\":\n/*!*********************************!*\\\n  !*** ./src/blocks/page/page.js ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! animejs/lib/anime.es.js */ \"./node_modules/animejs/lib/anime.es.js\");\n/* harmony import */ var _js_utils_hrefGetter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/utils/hrefGetter */ \"./src/js/utils/hrefGetter.js\");\n\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  if (localStorage.getItem(\"isAnimated\") === null) {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: \"smooth\"\n    });\n    localStorage.setItem(\"isAnimated\", 0);\n  }\n  if (_js_utils_hrefGetter__WEBPACK_IMPORTED_MODULE_2__.urlPathname !== \"/\" || _js_utils_hrefGetter__WEBPACK_IMPORTED_MODULE_2__.urlSearch !== \"\" || _js_utils_hrefGetter__WEBPACK_IMPORTED_MODULE_2__.urlHash !== \"\") {\n    localStorage.setItem(\"isAnimated\", 1);\n    var pageHeader = document.querySelector(\".header\");\n    var pageTimeLine = animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeline({\n      direction: \"normal\",\n      loop: false\n    });\n    pageTimeLine.add({\n      targets: \".page__header\",\n      opacity: [{\n        value: [0, 1],\n        easing: \"easeInOutBack\",\n        duration: 250\n      }],\n      complete: function complete() {\n        pageHeader.classList.add(\"header--blur\");\n      }\n    }).add({\n      targets: \".page__button\",\n      opacity: [{\n        value: [0, 1],\n        easing: \"linear\",\n        duration: 250\n      }]\n    }, \"-=250\");\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/popup/hystmodal.js\":\n/*!***************************************!*\\\n  !*** ./src/blocks/popup/hystmodal.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ HystModal; }\n/* harmony export */ });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-underscore-dangle */\nvar HystModal = /*#__PURE__*/function () {\n  function HystModal(props) {\n    _classCallCheck(this, HystModal);\n    var defaultConfig = {\n      backscroll: true,\n      linkAttributeName: 'data-hystmodal',\n      closeOnOverlay: true,\n      closeOnEsc: true,\n      closeOnButton: true,\n      waitTransitions: false,\n      catchFocus: true,\n      fixedSelectors: '*[data-hystfixed]',\n      beforeOpen: function beforeOpen() {},\n      afterClose: function afterClose() {}\n    };\n    this.config = Object.assign(defaultConfig, props);\n    if (this.config.linkAttributeName) {\n      this.init();\n    }\n    this._closeAfterTransition = this._closeAfterTransition.bind(this);\n  }\n  _createClass(HystModal, [{\n    key: \"init\",\n    value: function init() {\n      this.isOpened = false;\n      this.openedWindow = false;\n      this.starter = false;\n      this._nextWindows = false;\n      this._scrollPosition = 0;\n      this._reopenTrigger = false;\n      this._overlayChecker = false;\n      this._isMoved = false;\n      this._focusElements = ['a[href]', 'area[href]', 'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])', 'select:not([disabled]):not([aria-hidden])', 'textarea:not([disabled]):not([aria-hidden])', 'button:not([disabled]):not([aria-hidden])', 'iframe', 'object', 'embed', '[contenteditable]', '[tabindex]:not([tabindex^=\"-\"])'];\n      this._modalBlock = false;\n      var existingShadow = document.querySelector('.hystmodal__shadow');\n      if (existingShadow) {\n        this.shadow = existingShadow;\n      } else {\n        this.shadow = document.createElement('div');\n        this.shadow.classList.add('hystmodal__shadow');\n        document.body.appendChild(this.shadow);\n      }\n      this.eventsFeeler();\n    }\n  }, {\n    key: \"eventsFeeler\",\n    value: function eventsFeeler() {\n      var _this = this;\n      document.addEventListener('click', function (e) {\n        var clickedlink = e.target.closest(\"[\".concat(_this.config.linkAttributeName, \"]\"));\n        if (!_this._isMoved && clickedlink) {\n          e.preventDefault();\n          _this.starter = clickedlink;\n          var targetSelector = _this.starter.getAttribute(_this.config.linkAttributeName);\n          _this._nextWindows = document.querySelector(targetSelector);\n          _this.open();\n          return;\n        }\n        if (_this.config.closeOnButton && e.target.closest('[data-hystclose]')) {\n          _this.close();\n        }\n      });\n      if (this.config.closeOnOverlay) {\n        document.addEventListener('mousedown', function (e) {\n          if (!_this._isMoved && e.target instanceof Element && !e.target.classList.contains('hystmodal__wrap')) return;\n          _this._overlayChecker = true;\n        });\n        document.addEventListener('mouseup', function (e) {\n          if (!_this._isMoved && e.target instanceof Element && _this._overlayChecker && e.target.classList.contains('hystmodal__wrap')) {\n            e.preventDefault();\n            _this._overlayChecker = !_this._overlayChecker;\n            _this.close();\n            return;\n          }\n          _this._overlayChecker = false;\n        });\n      }\n      window.addEventListener('keydown', function (e) {\n        if (!_this._isMoved && _this.config.closeOnEsc && e.which === 27 && _this.isOpened) {\n          e.preventDefault();\n          _this.close();\n          return;\n        }\n        if (!_this._isMoved && _this.config.catchFocus && e.which === 9 && _this.isOpened) {\n          _this.focusCatcher(e);\n        }\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open(selector) {\n      if (selector) {\n        if (typeof selector === 'string') {\n          this._nextWindows = document.querySelector(selector);\n        } else {\n          this._nextWindows = selector;\n        }\n      }\n      if (!this._nextWindows) {\n        console.log('Warning: hystModal selector is not found');\n        return;\n      }\n      if (this.isOpened) {\n        this._reopenTrigger = true;\n        this.close();\n        return;\n      }\n      this.openedWindow = this._nextWindows;\n      this._modalBlock = this.openedWindow.querySelector('.hystmodal__window');\n      this.config.beforeOpen(this);\n      this._bodyScrollControl();\n      this.shadow.classList.add('hystmodal__shadow--show');\n      this.openedWindow.classList.add('hystmodal--active');\n      this.openedWindow.setAttribute('aria-hidden', 'false');\n      if (this.config.catchFocus) this.focusControl();\n      this.isOpened = true;\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (!this.isOpened) {\n        return;\n      }\n      if (this.config.waitTransitions) {\n        this.openedWindow.classList.add('hystmodal--moved');\n        this._isMoved = true;\n        this.openedWindow.addEventListener('transitionend', this._closeAfterTransition);\n        this.openedWindow.classList.remove('hystmodal--active');\n      } else {\n        this.openedWindow.classList.remove('hystmodal--active');\n        this._closeAfterTransition();\n      }\n    }\n  }, {\n    key: \"_closeAfterTransition\",\n    value: function _closeAfterTransition() {\n      this.openedWindow.classList.remove('hystmodal--moved');\n      this.openedWindow.removeEventListener('transitionend', this._closeAfterTransition);\n      this._isMoved = false;\n      this.shadow.classList.remove('hystmodal__shadow--show');\n      this.openedWindow.setAttribute('aria-hidden', 'true');\n      if (this.config.catchFocus) this.focusControl();\n      this._bodyScrollControl();\n      this.isOpened = false;\n      this.openedWindow.scrollTop = 0;\n      this.config.afterClose(this);\n      if (this._reopenTrigger) {\n        this._reopenTrigger = false;\n        this.open();\n      }\n    }\n  }, {\n    key: \"focusControl\",\n    value: function focusControl() {\n      var nodes = this.openedWindow.querySelectorAll(this._focusElements);\n      if (this.isOpened && this.starter) {\n        this.starter.focus();\n      } else if (nodes.length) nodes[0].focus();\n    }\n  }, {\n    key: \"focusCatcher\",\n    value: function focusCatcher(e) {\n      var nodes = this.openedWindow.querySelectorAll(this._focusElements);\n      var nodesArray = Array.prototype.slice.call(nodes);\n      if (!this.openedWindow.contains(document.activeElement)) {\n        nodesArray[0].focus();\n        e.preventDefault();\n      } else {\n        var focusedItemIndex = nodesArray.indexOf(document.activeElement);\n        if (e.shiftKey && focusedItemIndex === 0) {\n          nodesArray[nodesArray.length - 1].focus();\n          e.preventDefault();\n        }\n        if (!e.shiftKey && focusedItemIndex === nodesArray.length - 1) {\n          nodesArray[0].focus();\n          e.preventDefault();\n        }\n      }\n    }\n  }, {\n    key: \"_bodyScrollControl\",\n    value: function _bodyScrollControl() {\n      if (!this.config.backscroll) return;\n\n      // collect fixed selectors to array\n      var fixedSelectorsElems = document.querySelectorAll(this.config.fixedSelectors);\n      var fixedSelectors = Array.prototype.slice.call(fixedSelectorsElems);\n      var html = document.documentElement;\n      if (this.isOpened === true) {\n        html.classList.remove('hystmodal__opened');\n        html.style.marginRight = '';\n        fixedSelectors.forEach(function (el) {\n          el.style.marginRight = '';\n        });\n        window.scrollTo(0, this._scrollPosition);\n        html.style.top = '';\n        return;\n      }\n      this._scrollPosition = window.pageYOffset;\n      var marginSize = window.innerWidth - html.clientWidth;\n      html.style.top = \"\".concat(-this._scrollPosition, \"px\");\n      if (marginSize) {\n        html.style.marginRight = \"\".concat(marginSize, \"px\");\n        fixedSelectors.forEach(function (el) {\n          el.style.marginRight = \"\".concat(parseInt(getComputedStyle(el).marginRight, 10) + marginSize, \"px\");\n        });\n      }\n      html.classList.add('hystmodal__opened');\n    }\n  }]);\n  return HystModal;\n}();\n\n\n/***/ }),\n\n/***/ \"./src/blocks/popup/popup.js\":\n/*!***********************************!*\\\n  !*** ./src/blocks/popup/popup.js ***!\n  \\***********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var _hystmodal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hystmodal */ \"./src/blocks/popup/hystmodal.js\");\n/* harmony import */ var simplebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! simplebar */ \"./node_modules/simplebar/dist/index.mjs\");\n/* harmony import */ var slim_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! slim-select */ \"./node_modules/slim-select/dist/slimselect.es.js\");\n\n\n\n\n(0,_js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var placeSelect = document.querySelector(\"[name='user-place']\");\n  var categorySelect = document.querySelector(\"[name='user-category']\");\n  var placeSlimSelect = new slim_select__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n    //eslint-disable-line\n    select: placeSelect,\n    settings: {\n      showSearch: false\n    },\n    events: {\n      afterChange: function afterChange() {\n        var id = placeSelect.dataset.id;\n        var drop = document.querySelector(\".ss-content[id=\".concat(id, \"]\"));\n        var list = drop.querySelector(\".ss-list\");\n        new simplebar__WEBPACK_IMPORTED_MODULE_2__[\"default\"](list, {\n          autoHide: false\n        });\n      }\n    }\n  });\n  var categorySlimSelect = new slim_select__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n    select: \"[name='user-category']\",\n    settings: {\n      showSearch: false\n    },\n    events: {\n      afterChange: function afterChange() {\n        var id = categorySelect.dataset.id;\n        var drop = document.querySelector(\".ss-content[id=\".concat(id, \"]\"));\n        var list = drop.querySelector(\".ss-list\");\n        new simplebar__WEBPACK_IMPORTED_MODULE_2__[\"default\"](list, {\n          autoHide: false\n        });\n      }\n    }\n  });\n  var directionsHost = document.querySelector(\".directions\");\n  var modal = new _hystmodal__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    linkAttributeName: \"data-hystmodal\",\n    beforeOpen: function beforeOpen() {\n      Array.prototype.forEach.call(document.querySelectorAll(\".ss-list\"), function (el) {\n        return new simplebar__WEBPACK_IMPORTED_MODULE_2__[\"default\"](el, {\n          autoHide: false\n        });\n      });\n    }\n  });\n  if (directionsHost) {\n    var tiles = directionsHost.querySelectorAll(\".directions__tile\");\n    tiles.forEach(function (tile) {\n      var tileCategory = tile.dataset.cat;\n      tile.addEventListener(\"click\", function () {\n        //categorySelect.value = tileCategory;\n        categorySlimSelect.setSelected(tileCategory);\n        modal.open(\"#popup\");\n      });\n    });\n  }\n  window.thanks = function () {\n    modal.open(\"#popup-thanks\");\n  };\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/reviews/reviews.js\":\n/*!***************************************!*\\\n  !*** ./src/blocks/reviews/reviews.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var swiper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! swiper */ \"./node_modules/swiper/swiper.esm.js\");\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var reviewsHost = document.querySelector(\".reviews\");\n  if (reviewsHost) {\n    var breakpoint = window.matchMedia(\"(min-width:768px)\");\n    var reviewsSlider;\n    var breakpointChecker = function breakpointChecker() {\n      if (breakpoint.matches === true) {\n        if (reviewsSlider !== undefined) reviewsSlider.destroy(true, true);\n      } else if (breakpoint.matches === false) {\n        return enableSwiper();\n      }\n    };\n    var enableSwiper = function enableSwiper() {\n      reviewsSlider = new swiper__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\".reviews__slider\", {\n        modules: [swiper__WEBPACK_IMPORTED_MODULE_1__.Pagination],\n        loop: true,\n        pagination: {\n          el: \".reviews__slider-pagination\"\n        },\n        breakpoints: {\n          768: {\n            destroy: true\n          }\n        }\n      });\n    };\n    breakpoint.addListener(breakpointChecker);\n    breakpointChecker();\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/services/services.js\":\n/*!*****************************************!*\\\n  !*** ./src/blocks/services/services.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! animejs/lib/anime.es.js */ \"./node_modules/animejs/lib/anime.es.js\");\n/* harmony import */ var swiper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! swiper */ \"./node_modules/swiper/swiper.esm.js\");\n\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var servicesHost = document.querySelector(\".services\");\n  if (servicesHost) {\n    var animationOptions = function animationOptions(target) {\n      return {\n        targets: target,\n        strokeDashoffset: [animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setDashoffset, 0],\n        easing: \"easeInOutSine\",\n        duration: 2500,\n        delay: function delay(el, i) {\n          return i * 250;\n        },\n        direction: \"normal\",\n        loop: false\n      };\n    };\n    var options = {\n      root: null,\n      rootMargin: \"0px\",\n      threshold: 0.5\n    };\n    var observer = new IntersectionObserver(function (entries, observer) {\n      entries.forEach(function (entry) {\n        if (entry.isIntersecting) {\n          var svg = entry.target;\n          var svgPaths = svg.querySelectorAll(\"path\");\n          svg.style.opacity = 1;\n          svgPaths.forEach(function (path) {\n            var signAnimation = (0,animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(animationOptions(path));\n            signAnimation.play();\n          });\n          observer.unobserve(svg);\n        }\n      });\n    }, options);\n    var reviewsSlider = document.querySelector(\".services__slider\");\n    var reviewsSlides = reviewsSlider.querySelectorAll(\".services__slider-slide\");\n    var firstSvg = reviewsSlides[0].querySelectorAll(\"svg\");\n    firstSvg.forEach(function (i) {\n      observer.observe(i);\n    });\n    var reviewsSwiperSlider = new swiper__WEBPACK_IMPORTED_MODULE_2__[\"default\"](reviewsSlider, {\n      modules: [swiper__WEBPACK_IMPORTED_MODULE_2__.Pagination, swiper__WEBPACK_IMPORTED_MODULE_2__.Navigation],\n      spaceBetween: 30,\n      pagination: {\n        el: \".services__slider-pagination\"\n      },\n      navigation: {\n        nextEl: \".services__slider-next\",\n        prevEl: \".services__slider-prev\"\n      }\n    });\n    reviewsSwiperSlider.on(\"slideChange\", function () {\n      var currentSvg = reviewsSlides[reviewsSwiperSlider.activeIndex].querySelector(\"svg\");\n      var svgPaths = currentSvg.querySelectorAll(\"path\");\n      currentSvg.style.opacity = 1;\n      svgPaths.forEach(function (path) {\n        var signAnimation = (0,animejs_lib_anime_es_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(animationOptions(path));\n        signAnimation.play();\n      });\n    });\n    reviewsSwiperSlider.on(\"slideChange\", function () {\n      var prevSvg = reviewsSlides[reviewsSwiperSlider.previousIndex].querySelector(\"svg\");\n      prevSvg.style.opacity = 0;\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/tags/tags.js\":\n/*!*********************************!*\\\n  !*** ./src/blocks/tags/tags.js ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var tagHost = document.querySelector(\".tags\");\n  if (tagHost) {\n    var activeTag = tagHost.querySelector(\".tags__link--active\");\n    var tagScroll = tagHost.querySelector(\".tags__scroll\");\n    centerTag(tagScroll, activeTag);\n    window.addEventListener(\"resize\", function () {\n      centerTag(tagScroll, activeTag);\n    });\n    var slider = tagScroll;\n    var isDown = false;\n    var startX;\n    var scrollLeft;\n    slider.addEventListener(\"mousedown\", function (e) {\n      isDown = true;\n      slider.classList.add(\"active\");\n      startX = e.pageX - slider.offsetLeft;\n      scrollLeft = slider.scrollLeft;\n    });\n    slider.addEventListener(\"mouseleave\", function () {\n      isDown = false;\n      slider.classList.remove(\"active\");\n    });\n    slider.addEventListener(\"mouseup\", function () {\n      isDown = false;\n      slider.classList.remove(\"active\");\n    });\n    slider.addEventListener(\"mousemove\", function (e) {\n      if (!isDown) return;\n      e.preventDefault();\n      var x = e.pageX - slider.offsetLeft;\n      var walk = (x - startX) * 3; //scroll-fast\n      slider.scrollLeft = scrollLeft - walk;\n    });\n  }\n});\nfunction centerTag(scroll, active) {\n  if (active.offsetLeft > window.innerWidth / 2) {\n    scroll.scrollTo({\n      top: 0,\n      left: active.offsetLeft - window.innerWidth / 2 + active.offsetWidth / 2,\n      behavior: \"smooth\"\n    });\n  }\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/textarea/textarea.js\":\n/*!*****************************************!*\\\n  !*** ./src/blocks/textarea/textarea.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var autosize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! autosize */ \"./node_modules/autosize/dist/autosize.esm.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n(0,_js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  // textarea\n  var textareas = document.querySelectorAll(\".textarea\");\n  if (textareas.length !== 0) {\n    var _iterator = _createForOfIteratorHelper(textareas),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var textarea = _step.value;\n        if (textarea.value.length !== 0) {\n          (0,autosize__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(textarea);\n          textarea.classList.add(\"textarea--has-value\");\n        }\n        textarea.addEventListener(\"input\", function () {\n          this.value.length !== 0 ? this.classList.add(\"textarea--has-value\") : this.classList.remove(\"textarea--has-value\");\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  (0,autosize__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(textareas);\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/work/work.js\":\n/*!*********************************!*\\\n  !*** ./src/blocks/work/work.js ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\");\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var workHost = document.querySelector(\".work\");\n  if (workHost) {\n    var animationOptions = function animationOptions(target) {\n      return {\n        targets: target,\n        strokeDashoffset: [animejs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setDashoffset, 0],\n        easing: \"easeInOutSine\",\n        duration: 2500,\n        delay: function delay(el, i) {\n          return i * 250;\n        },\n        direction: \"normal\",\n        loop: false\n      };\n    };\n    var options = {\n      root: null,\n      rootMargin: \"0px\",\n      threshold: 0.5\n    };\n    var observer = new IntersectionObserver(function (entries, observer) {\n      entries.forEach(function (entry) {\n        if (entry.isIntersecting) {\n          var svg = entry.target;\n          var svgPath = svg.querySelector(\"path\");\n          var signAnimation = (0,animejs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(animationOptions(svgPath));\n          svg.style.opacity = 1;\n          signAnimation.play();\n          observer.unobserve(svg);\n        }\n      });\n    }, options);\n    var targets = document.querySelectorAll(\".work__tile svg\");\n    targets.forEach(function (i) {\n      observer.observe(i);\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/js/common/openNav.js\":\n/*!**********************************!*\\\n  !*** ./src/js/common/openNav.js ***!\n  \\**********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction openNav() {\n  var bodyState = document.documentElement.getAttribute(\"data-state\");\n  bodyState === \"mobile-menu\" ? document.documentElement.dataset.state = \"\" : document.documentElement.dataset.state = \"mobile-menu\";\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (openNav);\n\n/***/ }),\n\n/***/ \"./src/js/script.js\":\n/*!**************************!*\\\n  !*** ./src/js/script.js ***!\n  \\**************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var _js_utils_getScrollSize_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../js/utils/getScrollSize.js */ \"./src/js/utils/getScrollSize.js\");\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  // console.log(\"DOM  !\");\n  //       \n  document.documentElement.style.setProperty(\"--css-scroll-size\", \"\".concat((0,_js_utils_getScrollSize_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(), \"px\"));\n});\n\n// import $ from \"jquery\"; //     \n// $(function () {\n//   console.log(\"jQuery  !\");\n// });\n\n/***/ }),\n\n/***/ \"./src/js/utils/documentReady.js\":\n/*!***************************************!*\\\n  !*** ./src/js/utils/documentReady.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar ready = function ready(fn) {\n  if (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\n    fn();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ready);\n\n/***/ }),\n\n/***/ \"./src/js/utils/getScrollSize.js\":\n/*!***************************************!*\\\n  !*** ./src/js/utils/getScrollSize.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar getScrollSize = function getScrollSize() {\n  var outer = document.createElement(\"div\");\n  var inner = document.createElement(\"div\");\n  outer.style.overflow = \"scroll\";\n  outer.classList.add(\"scrollbar\");\n  document.body.appendChild(outer);\n  outer.appendChild(inner);\n  var scrollbarSize = outer.offsetWidth - inner.offsetWidth;\n  document.body.removeChild(outer);\n  return scrollbarSize;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (getScrollSize);\n\n/***/ }),\n\n/***/ \"./src/js/utils/hrefGetter.js\":\n/*!************************************!*\\\n  !*** ./src/js/utils/hrefGetter.js ***!\n  \\************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"urlHash\": function() { return /* binding */ urlHash; },\n/* harmony export */   \"urlPathname\": function() { return /* binding */ urlPathname; },\n/* harmony export */   \"urlSearch\": function() { return /* binding */ urlSearch; }\n/* harmony export */ });\nvar url = new URL(window.location.href);\nvar urlPathname = url.pathname;\nvar urlSearch = url.search;\nvar urlHash = url.hash;\n\n/***/ }),\n\n/***/ \"./node_modules/can-use-dom/index.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/can-use-dom/index.js ***!\n  \\*******************************************/\n/***/ (function(module) {\n\nvar canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nmodule.exports = canUseDOM;\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_\": function() { return /* binding */ _createClass; },\n/* harmony export */   \"a\": function() { return /* binding */ _classCallCheck; },\n/* harmony export */   \"b\": function() { return /* binding */ _objectWithoutProperties; },\n/* harmony export */   \"c\": function() { return /* binding */ _typeof; },\n/* harmony export */   \"d\": function() { return /* binding */ _inherits; },\n/* harmony export */   \"e\": function() { return /* binding */ _createSuper; },\n/* harmony export */   \"f\": function() { return /* binding */ _slicedToArray; },\n/* harmony export */   \"g\": function() { return /* binding */ _get; },\n/* harmony export */   \"h\": function() { return /* binding */ _getPrototypeOf; },\n/* harmony export */   \"i\": function() { return /* binding */ _set; },\n/* harmony export */   \"j\": function() { return /* binding */ _toConsumableArray; }\n/* harmony export */ });\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = _superPropBase(target, property);\n\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        _defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nfunction _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/html-contenteditable-mask-element.js\":\n/*!******************************************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/html-contenteditable-mask-element.js ***!\n  \\******************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ HTMLContenteditableMaskElement; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _html_mask_element_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n\n\n\n\n\nvar HTMLContenteditableMaskElement = /*#__PURE__*/function (_HTMLMaskElement) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(HTMLContenteditableMaskElement, _HTMLMaskElement);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(HTMLContenteditableMaskElement);\n\n  function HTMLContenteditableMaskElement() {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, HTMLContenteditableMaskElement);\n\n    return _super.apply(this, arguments);\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(HTMLContenteditableMaskElement, [{\n    key: \"_unsafeSelectionStart\",\n    get:\n    /**\n      Returns HTMLElement selection start\n      @override\n    */\n    function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      var anchorOffset = selection && selection.anchorOffset;\n      var focusOffset = selection && selection.focusOffset;\n\n      if (focusOffset == null || anchorOffset == null || anchorOffset < focusOffset) {\n        return anchorOffset;\n      }\n\n      return focusOffset;\n    }\n    /**\n      Returns HTMLElement selection end\n      @override\n    */\n\n  }, {\n    key: \"_unsafeSelectionEnd\",\n    get: function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      var anchorOffset = selection && selection.anchorOffset;\n      var focusOffset = selection && selection.focusOffset;\n\n      if (focusOffset == null || anchorOffset == null || anchorOffset > focusOffset) {\n        return anchorOffset;\n      }\n\n      return focusOffset;\n    }\n    /**\n      Sets HTMLElement selection\n      @override\n    */\n\n  }, {\n    key: \"_unsafeSelect\",\n    value: function _unsafeSelect(start, end) {\n      if (!this.rootElement.createRange) return;\n      var range = this.rootElement.createRange();\n      range.setStart(this.input.firstChild || this.input, start);\n      range.setEnd(this.input.lastChild || this.input, end);\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    }\n    /**\n      HTMLElement value\n      @override\n    */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      // $FlowFixMe\n      return this.input.textContent;\n    },\n    set: function set(value) {\n      this.input.textContent = value;\n    }\n  }]);\n\n  return HTMLContenteditableMaskElement;\n}(_html_mask_element_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n_core_holder_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/html-mask-element.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/html-mask-element.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ HTMLMaskElement; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n/** Bridge between HTMLElement and {@link Masked} */\n\nvar HTMLMaskElement = /*#__PURE__*/function (_MaskElement) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(HTMLMaskElement, _MaskElement);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(HTMLMaskElement);\n\n  /** Mapping between HTMLElement events and mask internal events */\n\n  /** HTMLElement to use mask on */\n\n  /**\n    @param {HTMLInputElement|HTMLTextAreaElement} input\n  */\n  function HTMLMaskElement(input) {\n    var _this;\n\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, HTMLMaskElement);\n\n    _this = _super.call(this);\n    _this.input = input;\n    _this._handlers = {};\n    return _this;\n  }\n  /** */\n  // $FlowFixMe https://github.com/facebook/flow/issues/2839\n\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(HTMLMaskElement, [{\n    key: \"rootElement\",\n    get: function get() {\n      var _this$input$getRootNo, _this$input$getRootNo2, _this$input;\n\n      return (_this$input$getRootNo = (_this$input$getRootNo2 = (_this$input = this.input).getRootNode) === null || _this$input$getRootNo2 === void 0 ? void 0 : _this$input$getRootNo2.call(_this$input)) !== null && _this$input$getRootNo !== void 0 ? _this$input$getRootNo : document;\n    }\n    /**\n      Is element in focus\n      @readonly\n    */\n\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      //$FlowFixMe\n      return this.input === this.rootElement.activeElement;\n    }\n    /**\n      Returns HTMLElement selection start\n      @override\n    */\n\n  }, {\n    key: \"_unsafeSelectionStart\",\n    get: function get() {\n      return this.input.selectionStart;\n    }\n    /**\n      Returns HTMLElement selection end\n      @override\n    */\n\n  }, {\n    key: \"_unsafeSelectionEnd\",\n    get: function get() {\n      return this.input.selectionEnd;\n    }\n    /**\n      Sets HTMLElement selection\n      @override\n    */\n\n  }, {\n    key: \"_unsafeSelect\",\n    value: function _unsafeSelect(start, end) {\n      this.input.setSelectionRange(start, end);\n    }\n    /**\n      HTMLElement value\n      @override\n    */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.input.value;\n    },\n    set: function set(value) {\n      this.input.value = value;\n    }\n    /**\n      Binds HTMLElement events to mask internal events\n      @override\n    */\n\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents(handlers) {\n      var _this2 = this;\n\n      Object.keys(handlers).forEach(function (event) {\n        return _this2._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[event], handlers[event]);\n      });\n    }\n    /**\n      Unbinds HTMLElement events to mask internal events\n      @override\n    */\n\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      var _this3 = this;\n\n      Object.keys(this._handlers).forEach(function (event) {\n        return _this3._toggleEventHandler(event);\n      });\n    }\n    /** */\n\n  }, {\n    key: \"_toggleEventHandler\",\n    value: function _toggleEventHandler(event, handler) {\n      if (this._handlers[event]) {\n        this.input.removeEventListener(event, this._handlers[event]);\n        delete this._handlers[event];\n      }\n\n      if (handler) {\n        this.input.addEventListener(event, handler);\n        this._handlers[event] = handler;\n      }\n    }\n  }]);\n\n  return HTMLMaskElement;\n}(_mask_element_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nHTMLMaskElement.EVENTS_MAP = {\n  selectionChange: 'keydown',\n  input: 'input',\n  drop: 'drop',\n  click: 'click',\n  focus: 'focus',\n  commit: 'blur'\n};\n_core_holder_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].HTMLMaskElement = HTMLMaskElement;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/input.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/input.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ InputMask; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_action_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/action-details.js */ \"./node_modules/imask/esm/core/action-details.js\");\n/* harmony import */ var _masked_date_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../masked/date.js */ \"./node_modules/imask/esm/masked/date.js\");\n/* harmony import */ var _masked_factory_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../masked/factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n/* harmony import */ var _html_mask_element_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n/* harmony import */ var _html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./html-contenteditable-mask-element.js */ \"./node_modules/imask/esm/controls/html-contenteditable-mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _masked_pattern_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../masked/pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _masked_base_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../masked/base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _masked_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../masked/pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _masked_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../masked/pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _masked_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../masked/pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _masked_pattern_cursor_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../masked/pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _masked_regexp_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../masked/regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n/* harmony import */ var _masked_range_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../masked/range.js */ \"./node_modules/imask/esm/masked/range.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"mask\"];\n/** Listens to element events and controls changes between element and {@link Masked} */\n\nvar InputMask = /*#__PURE__*/function () {\n  /**\n    View element\n    @readonly\n  */\n\n  /**\n    Internal {@link Masked} model\n    @readonly\n  */\n\n  /**\n    @param {MaskElement|HTMLInputElement|HTMLTextAreaElement} el\n    @param {Object} opts\n  */\n  function InputMask(el, opts) {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, InputMask);\n\n    this.el = el instanceof _mask_element_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new _html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](el) : new _html_mask_element_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](el);\n    this.masked = (0,_masked_factory_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n\n    this._bindEvents(); // refresh\n\n\n    this.updateValue();\n\n    this._onChange();\n  }\n  /** Read or update mask */\n\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(InputMask, [{\n    key: \"mask\",\n    get: function get() {\n      return this.masked.mask;\n    },\n    set: function set(mask) {\n      if (this.maskEquals(mask)) return; // $FlowFixMe No ideas ... after update\n\n      if (!(mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].Masked) && this.masked.constructor === (0,_masked_factory_js__WEBPACK_IMPORTED_MODULE_4__.maskedClass)(mask)) {\n        this.masked.updateOptions({\n          mask: mask\n        });\n        return;\n      }\n\n      var masked = (0,_masked_factory_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n        mask: mask\n      });\n      masked.unmaskedValue = this.masked.unmaskedValue;\n      this.masked = masked;\n    }\n    /** Raw value */\n\n  }, {\n    key: \"maskEquals\",\n    value: function maskEquals(mask) {\n      var _this$masked;\n\n      return mask == null || ((_this$masked = this.masked) === null || _this$masked === void 0 ? void 0 : _this$masked.maskEquals(mask));\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(str) {\n      if (this.value === str) return;\n      this.masked.value = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Unmasked value */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._unmaskedValue;\n    },\n    set: function set(str) {\n      if (this.unmaskedValue === str) return;\n      this.masked.unmaskedValue = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Typed unmasked value */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.masked.typedValue;\n    },\n    set: function set(val) {\n      if (this.masked.typedValueEquals(val)) return;\n      this.masked.typedValue = val;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /**\n      Starts listening to element events\n      @protected\n    */\n\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this.el.bindEvents({\n        selectionChange: this._saveSelection,\n        input: this._onInput,\n        drop: this._onDrop,\n        click: this._onClick,\n        focus: this._onFocus,\n        commit: this._onChange\n      });\n    }\n    /**\n      Stops listening to element events\n      @protected\n     */\n\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      if (this.el) this.el.unbindEvents();\n    }\n    /**\n      Fires custom event\n      @protected\n     */\n\n  }, {\n    key: \"_fireEvent\",\n    value: function _fireEvent(ev) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var listeners = this._listeners[ev];\n      if (!listeners) return;\n      listeners.forEach(function (l) {\n        return l.apply(void 0, args);\n      });\n    }\n    /**\n      Current selection start\n      @readonly\n    */\n\n  }, {\n    key: \"selectionStart\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n    }\n    /** Current cursor position */\n\n  }, {\n    key: \"cursorPos\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n    },\n    set: function set(pos) {\n      if (!this.el || !this.el.isActive) return;\n      this.el.select(pos, pos);\n\n      this._saveSelection();\n    }\n    /**\n      Stores current selection\n      @protected\n    */\n\n  }, {\n    key: \"_saveSelection\",\n    value: function\n      /* ev */\n    _saveSelection() {\n      if (this.value !== this.el.value) {\n        console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n      }\n\n      this._selection = {\n        start: this.selectionStart,\n        end: this.cursorPos\n      };\n    }\n    /** Syncronizes model value from view */\n\n  }, {\n    key: \"updateValue\",\n    value: function updateValue() {\n      this.masked.value = this.el.value;\n      this._value = this.masked.value;\n    }\n    /** Syncronizes view from model value, fires change events */\n\n  }, {\n    key: \"updateControl\",\n    value: function updateControl() {\n      var newUnmaskedValue = this.masked.unmaskedValue;\n      var newValue = this.masked.value;\n      var isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n      this._unmaskedValue = newUnmaskedValue;\n      this._value = newValue;\n      if (this.el.value !== newValue) this.el.value = newValue;\n      if (isChanged) this._fireChangeEvents();\n    }\n    /** Updates options with deep equal check, recreates @{link Masked} model if mask type changes */\n\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      var mask = opts.mask,\n          restOpts = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.b)(opts, _excluded);\n\n      var updateMask = !this.maskEquals(mask);\n      var updateOpts = !(0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.objectIncludes)(this.masked, restOpts);\n      if (updateMask) this.mask = mask;\n      if (updateOpts) this.masked.updateOptions(restOpts);\n      if (updateMask || updateOpts) this.updateControl();\n    }\n    /** Updates cursor */\n\n  }, {\n    key: \"updateCursor\",\n    value: function updateCursor(cursorPos) {\n      if (cursorPos == null) return;\n      this.cursorPos = cursorPos; // also queue change cursor for mobile browsers\n\n      this._delayUpdateCursor(cursorPos);\n    }\n    /**\n      Delays cursor update to support mobile browsers\n      @private\n    */\n\n  }, {\n    key: \"_delayUpdateCursor\",\n    value: function _delayUpdateCursor(cursorPos) {\n      var _this = this;\n\n      this._abortUpdateCursor();\n\n      this._changingCursorPos = cursorPos;\n      this._cursorChanging = setTimeout(function () {\n        if (!_this.el) return; // if was destroyed\n\n        _this.cursorPos = _this._changingCursorPos;\n\n        _this._abortUpdateCursor();\n      }, 10);\n    }\n    /**\n      Fires custom events\n      @protected\n    */\n\n  }, {\n    key: \"_fireChangeEvents\",\n    value: function _fireChangeEvents() {\n      this._fireEvent('accept', this._inputEvent);\n\n      if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n    }\n    /**\n      Aborts delayed cursor update\n      @private\n    */\n\n  }, {\n    key: \"_abortUpdateCursor\",\n    value: function _abortUpdateCursor() {\n      if (this._cursorChanging) {\n        clearTimeout(this._cursorChanging);\n        delete this._cursorChanging;\n      }\n    }\n    /** Aligns cursor to nearest available position */\n\n  }, {\n    key: \"alignCursor\",\n    value: function alignCursor() {\n      this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT));\n    }\n    /** Aligns cursor only if selection is empty */\n\n  }, {\n    key: \"alignCursorFriendly\",\n    value: function alignCursorFriendly() {\n      if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n\n      this.alignCursor();\n    }\n    /** Adds listener on custom event */\n\n  }, {\n    key: \"on\",\n    value: function on(ev, handler) {\n      if (!this._listeners[ev]) this._listeners[ev] = [];\n\n      this._listeners[ev].push(handler);\n\n      return this;\n    }\n    /** Removes custom event listener */\n\n  }, {\n    key: \"off\",\n    value: function off(ev, handler) {\n      if (!this._listeners[ev]) return this;\n\n      if (!handler) {\n        delete this._listeners[ev];\n        return this;\n      }\n\n      var hIndex = this._listeners[ev].indexOf(handler);\n\n      if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n      return this;\n    }\n    /** Handles view input event */\n\n  }, {\n    key: \"_onInput\",\n    value: function _onInput(e) {\n      this._inputEvent = e;\n\n      this._abortUpdateCursor(); // fix strange IE behavior\n\n\n      if (!this._selection) return this.updateValue();\n      var details = new _core_action_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]( // new state\n      this.el.value, this.cursorPos, // old state\n      this.value, this._selection);\n      var oldRawValue = this.masked.rawInputValue;\n      var offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection, {\n        input: true,\n        raw: true\n      }).offset; // force align in remove direction only if no input chars were removed\n      // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n\n      var removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE;\n      var cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n      if (removeDirection !== _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE) cursorPos = this.masked.nearestInputPos(cursorPos, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE);\n      this.updateControl();\n      this.updateCursor(cursorPos);\n      delete this._inputEvent;\n    }\n    /** Handles view change event and commits model value */\n\n  }, {\n    key: \"_onChange\",\n    value: function _onChange() {\n      if (this.value !== this.el.value) {\n        this.updateValue();\n      }\n\n      this.masked.doCommit();\n      this.updateControl();\n\n      this._saveSelection();\n    }\n    /** Handles view drop event, prevents by default */\n\n  }, {\n    key: \"_onDrop\",\n    value: function _onDrop(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onFocus\",\n    value: function _onFocus(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onClick\",\n    value: function _onClick(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Unbind view events and removes element reference */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents(); // $FlowFixMe why not do so?\n\n\n      this._listeners.length = 0; // $FlowFixMe\n\n      delete this.el;\n    }\n  }]);\n\n  return InputMask;\n}();\n_core_holder_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].InputMask = InputMask;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/mask-element.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/mask-element.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskElement; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n/**\n  Generic element API to use with mask\n  @interface\n*/\nvar MaskElement = /*#__PURE__*/function () {\n  function MaskElement() {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, MaskElement);\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(MaskElement, [{\n    key: \"selectionStart\",\n    get:\n    /** */\n\n    /** */\n\n    /** */\n\n    /** Safely returns selection start */\n    function get() {\n      var start;\n\n      try {\n        start = this._unsafeSelectionStart;\n      } catch (e) {}\n\n      return start != null ? start : this.value.length;\n    }\n    /** Safely returns selection end */\n\n  }, {\n    key: \"selectionEnd\",\n    get: function get() {\n      var end;\n\n      try {\n        end = this._unsafeSelectionEnd;\n      } catch (e) {}\n\n      return end != null ? end : this.value.length;\n    }\n    /** Safely sets element selection */\n\n  }, {\n    key: \"select\",\n    value: function select(start, end) {\n      if (start == null || end == null || start === this.selectionStart && end === this.selectionEnd) return;\n\n      try {\n        this._unsafeSelect(start, end);\n      } catch (e) {}\n    }\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"_unsafeSelect\",\n    value: function _unsafeSelect(start, end) {}\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      return false;\n    }\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents(handlers) {}\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {}\n  }]);\n\n  return MaskElement;\n}();\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskElement = MaskElement;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/action-details.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/imask/esm/core/action-details.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ActionDetails; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n\n\n\n\n/** Provides details of changing input */\n\nvar ActionDetails = /*#__PURE__*/function () {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n  function ActionDetails(value, cursorPos, oldValue, oldSelection) {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, ActionDetails);\n\n    this.value = value;\n    this.cursorPos = cursorPos;\n    this.oldValue = oldValue;\n    this.oldSelection = oldSelection; // double check if left part was changed (autofilling, other non-standard input triggers)\n\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n  }\n  /**\n    Start changing position\n    @readonly\n  */\n\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(ActionDetails, [{\n    key: \"startChangePos\",\n    get: function get() {\n      return Math.min(this.cursorPos, this.oldSelection.start);\n    }\n    /**\n      Inserted symbols count\n      @readonly\n    */\n\n  }, {\n    key: \"insertedCount\",\n    get: function get() {\n      return this.cursorPos - this.startChangePos;\n    }\n    /**\n      Inserted symbols\n      @readonly\n    */\n\n  }, {\n    key: \"inserted\",\n    get: function get() {\n      return this.value.substr(this.startChangePos, this.insertedCount);\n    }\n    /**\n      Removed symbols count\n      @readonly\n    */\n\n  }, {\n    key: \"removedCount\",\n    get: function get() {\n      // Math.max for opposite operation\n      return Math.max(this.oldSelection.end - this.startChangePos || // for Delete\n      this.oldValue.length - this.value.length, 0);\n    }\n    /**\n      Removed symbols\n      @readonly\n    */\n\n  }, {\n    key: \"removed\",\n    get: function get() {\n      return this.oldValue.substr(this.startChangePos, this.removedCount);\n    }\n    /**\n      Unchanged head symbols\n      @readonly\n    */\n\n  }, {\n    key: \"head\",\n    get: function get() {\n      return this.value.substring(0, this.startChangePos);\n    }\n    /**\n      Unchanged tail symbols\n      @readonly\n    */\n\n  }, {\n    key: \"tail\",\n    get: function get() {\n      return this.value.substring(this.startChangePos + this.insertedCount);\n    }\n    /**\n      Remove direction\n      @readonly\n    */\n\n  }, {\n    key: \"removeDirection\",\n    get: function get() {\n      if (!this.removedCount || this.insertedCount) return _utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE; // align right if delete at right\n\n      return (this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos) && // if not range removed (event with backspace)\n      this.oldSelection.end === this.oldSelection.start ? _utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.RIGHT : _utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT;\n    }\n  }]);\n\n  return ActionDetails;\n}();\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/change-details.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/imask/esm/core/change-details.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChangeDetails; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n\n\n/**\n  Provides details of changing model value\n  @param {Object} [details]\n  @param {string} [details.inserted] - Inserted symbols\n  @param {boolean} [details.skip] - Can skip chars\n  @param {number} [details.removeCount] - Removed symbols count\n  @param {number} [details.tailShift] - Additional offset if any changes occurred before tail\n*/\nvar ChangeDetails = /*#__PURE__*/function () {\n  /** Inserted symbols */\n\n  /** Can skip chars */\n\n  /** Additional offset if any changes occurred before tail */\n\n  /** Raw inserted is used by dynamic mask */\n  function ChangeDetails(details) {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, ChangeDetails);\n\n    Object.assign(this, {\n      inserted: '',\n      rawInserted: '',\n      skip: false,\n      tailShift: 0\n    }, details);\n  }\n  /**\n    Aggregate changes\n    @returns {ChangeDetails} `this`\n  */\n\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(ChangeDetails, [{\n    key: \"aggregate\",\n    value: function aggregate(details) {\n      this.rawInserted += details.rawInserted;\n      this.skip = this.skip || details.skip;\n      this.inserted += details.inserted;\n      this.tailShift += details.tailShift;\n      return this;\n    }\n    /** Total offset considering all changes */\n\n  }, {\n    key: \"offset\",\n    get: function get() {\n      return this.tailShift + this.inserted.length;\n    }\n  }]);\n\n  return ChangeDetails;\n}();\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/continuous-tail-details.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/imask/esm/core/continuous-tail-details.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ContinuousTailDetails; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n\n\n/** Provides details of continuous extracted tail */\nvar ContinuousTailDetails = /*#__PURE__*/function () {\n  /** Tail value as string */\n\n  /** Tail start position */\n\n  /** Start position */\n  function ContinuousTailDetails() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var stop = arguments.length > 2 ? arguments[2] : undefined;\n\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, ContinuousTailDetails);\n\n    this.value = value;\n    this.from = from;\n    this.stop = stop;\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(ContinuousTailDetails, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.value;\n    }\n  }, {\n    key: \"extend\",\n    value: function extend(tail) {\n      this.value += String(tail);\n    }\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(masked) {\n      return masked.append(this.toString(), {\n        tail: true\n      }).aggregate(masked._appendPlaceholder());\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        value: this.value,\n        from: this.from,\n        stop: this.stop\n      };\n    },\n    set: function set(state) {\n      Object.assign(this, state);\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(beforePos) {\n      if (!this.value.length || beforePos != null && this.from >= beforePos) return '';\n      var shiftChar = this.value[0];\n      this.value = this.value.slice(1);\n      return shiftChar;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (!this.value.length) return '';\n      var shiftChar = this.value[this.value.length - 1];\n      this.value = this.value.slice(0, -1);\n      return shiftChar;\n    }\n  }]);\n\n  return ContinuousTailDetails;\n}();\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/holder.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/core/holder.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ IMask; }\n/* harmony export */ });\n/**\n * Applies mask on element.\n * @constructor\n * @param {HTMLInputElement|HTMLTextAreaElement|MaskElement} el - Element to apply mask\n * @param {Object} opts - Custom mask options\n * @return {InputMask}\n */\nfunction IMask(el) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // currently available only for input-like elements\n  return new IMask.InputMask(el, opts);\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/utils.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/imask/esm/core/utils.js ***!\n  \\**********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DIRECTION\": function() { return /* binding */ DIRECTION; },\n/* harmony export */   \"escapeRegExp\": function() { return /* binding */ escapeRegExp; },\n/* harmony export */   \"forceDirection\": function() { return /* binding */ forceDirection; },\n/* harmony export */   \"indexInDirection\": function() { return /* binding */ indexInDirection; },\n/* harmony export */   \"isString\": function() { return /* binding */ isString; },\n/* harmony export */   \"normalizePrepare\": function() { return /* binding */ normalizePrepare; },\n/* harmony export */   \"objectIncludes\": function() { return /* binding */ objectIncludes; },\n/* harmony export */   \"posInDirection\": function() { return /* binding */ posInDirection; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n\n\n\n/** Checks if value is string */\n\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n/**\n  Direction\n  @prop {string} NONE\n  @prop {string} LEFT\n  @prop {string} FORCE_LEFT\n  @prop {string} RIGHT\n  @prop {string} FORCE_RIGHT\n*/\n\nvar DIRECTION = {\n  NONE: 'NONE',\n  LEFT: 'LEFT',\n  FORCE_LEFT: 'FORCE_LEFT',\n  RIGHT: 'RIGHT',\n  FORCE_RIGHT: 'FORCE_RIGHT'\n};\n/**\n  Direction\n  @enum {string}\n*/\n\n/** Returns next char index in direction */\nfunction indexInDirection(pos, direction) {\n  if (direction === DIRECTION.LEFT) --pos;\n  return pos;\n}\n/** Returns next char position in direction */\n\nfunction posInDirection(pos, direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n    case DIRECTION.FORCE_LEFT:\n      return --pos;\n\n    case DIRECTION.RIGHT:\n    case DIRECTION.FORCE_RIGHT:\n      return ++pos;\n\n    default:\n      return pos;\n  }\n}\n/** */\n\nfunction forceDirection(direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n      return DIRECTION.FORCE_LEFT;\n\n    case DIRECTION.RIGHT:\n      return DIRECTION.FORCE_RIGHT;\n\n    default:\n      return direction;\n  }\n}\n/** Escapes regular expression control chars */\n\nfunction escapeRegExp(str) {\n  return str.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n}\nfunction normalizePrepare(prep) {\n  return Array.isArray(prep) ? prep : [prep, new _change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]()];\n} // cloned from https://github.com/epoberezkin/fast-deep-equal with small changes\n\nfunction objectIncludes(b, a) {\n  if (a === b) return true;\n  var arrA = Array.isArray(a),\n      arrB = Array.isArray(b),\n      i;\n\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n\n    for (i = 0; i < a.length; i++) {\n      if (!objectIncludes(a[i], b[i])) return false;\n    }\n\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  if (a && b && (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.c)(a) === 'object' && (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.c)(b) === 'object') {\n    var dateA = a instanceof Date,\n        dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n    var regexpA = a instanceof RegExp,\n        regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n    var keys = Object.keys(a); // if (keys.length !== Object.keys(b).length) return false;\n\n    for (i = 0; i < keys.length; i++) {\n      // $FlowFixMe ... ???\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    for (i = 0; i < keys.length; i++) {\n      if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\n    }\n\n    return true;\n  } else if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n\n  return false;\n}\n/** Selection range */\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/index.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/imask/esm/index.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HTMLContenteditableMaskElement\": function() { return /* reexport safe */ _controls_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; },\n/* harmony export */   \"HTMLMaskElement\": function() { return /* reexport safe */ _controls_html_mask_element_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; },\n/* harmony export */   \"InputMask\": function() { return /* reexport safe */ _controls_input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   \"MaskElement\": function() { return /* reexport safe */ _controls_mask_element_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; },\n/* harmony export */   \"Masked\": function() { return /* reexport safe */ _masked_base_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   \"MaskedDate\": function() { return /* reexport safe */ _masked_date_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   \"MaskedDynamic\": function() { return /* reexport safe */ _masked_dynamic_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; },\n/* harmony export */   \"MaskedEnum\": function() { return /* reexport safe */ _masked_enum_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   \"MaskedFunction\": function() { return /* reexport safe */ _masked_function_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; },\n/* harmony export */   \"MaskedNumber\": function() { return /* reexport safe */ _masked_number_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   \"MaskedPattern\": function() { return /* reexport safe */ _masked_pattern_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; },\n/* harmony export */   \"MaskedRange\": function() { return /* reexport safe */ _masked_range_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; },\n/* harmony export */   \"MaskedRegExp\": function() { return /* reexport safe */ _masked_regexp_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; },\n/* harmony export */   \"PIPE_TYPE\": function() { return /* reexport safe */ _masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__.PIPE_TYPE; },\n/* harmony export */   \"createMask\": function() { return /* reexport safe */ _masked_factory_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; },\n/* harmony export */   \"createPipe\": function() { return /* reexport safe */ _masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__.createPipe; },\n/* harmony export */   \"default\": function() { return /* reexport safe */ _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   \"pipe\": function() { return /* reexport safe */ _masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__.pipe; }\n/* harmony export */ });\n/* harmony import */ var _controls_input_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controls/input.js */ \"./node_modules/imask/esm/controls/input.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _masked_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./masked/base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _masked_pattern_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./masked/pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _masked_enum_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./masked/enum.js */ \"./node_modules/imask/esm/masked/enum.js\");\n/* harmony import */ var _masked_range_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./masked/range.js */ \"./node_modules/imask/esm/masked/range.js\");\n/* harmony import */ var _masked_number_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./masked/number.js */ \"./node_modules/imask/esm/masked/number.js\");\n/* harmony import */ var _masked_date_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./masked/date.js */ \"./node_modules/imask/esm/masked/date.js\");\n/* harmony import */ var _masked_regexp_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./masked/regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n/* harmony import */ var _masked_function_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./masked/function.js */ \"./node_modules/imask/esm/masked/function.js\");\n/* harmony import */ var _masked_dynamic_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./masked/dynamic.js */ \"./node_modules/imask/esm/masked/dynamic.js\");\n/* harmony import */ var _masked_factory_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./masked/factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _controls_mask_element_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./controls/mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n/* harmony import */ var _controls_html_mask_element_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./controls/html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n/* harmony import */ var _controls_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./controls/html-contenteditable-mask-element.js */ \"./node_modules/imask/esm/controls/html-contenteditable-mask-element.js\");\n/* harmony import */ var _masked_pipe_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./masked/pipe.js */ \"./node_modules/imask/esm/masked/pipe.js\");\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_action_details_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./core/action-details.js */ \"./node_modules/imask/esm/core/action-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _masked_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./masked/pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _masked_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./masked/pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _masked_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./masked/pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _masked_pattern_cursor_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./masked/pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntry {\n  globalThis.IMask = _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n} catch (e) {}\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/base.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/base.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Masked; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\n\n/** Supported mask type */\n\n/** Provides common masking stuff */\nvar Masked = /*#__PURE__*/function () {\n  // $Shape<MaskedOptions>; TODO after fix https://github.com/facebook/flow/issues/4773\n\n  /** @type {Mask} */\n\n  /** */\n  // $FlowFixMe no ideas\n\n  /** Transforms value before mask processing */\n\n  /** Validates if value is acceptable */\n\n  /** Does additional processing in the end of editing */\n\n  /** Format typed value to string */\n\n  /** Parse strgin to get typed value */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n  function Masked(opts) {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, Masked);\n\n    this._value = '';\n\n    this._update(Object.assign({}, Masked.DEFAULTS, opts));\n\n    this.isInitialized = true;\n  }\n  /** Sets and applies new options */\n\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(Masked, [{\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      if (!Object.keys(opts).length) return; // $FlowFixMe\n\n      this.withValueRefresh(this._update.bind(this, opts));\n    }\n    /**\n      Sets new options\n      @protected\n    */\n\n  }, {\n    key: \"_update\",\n    value: function _update(opts) {\n      Object.assign(this, opts);\n    }\n    /** Mask state */\n\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        _value: this.value\n      };\n    },\n    set: function set(state) {\n      this._value = state._value;\n    }\n    /** Resets value */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._value = '';\n    }\n    /** */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(value) {\n      this.resolve(value);\n    }\n    /** Resolve new value */\n\n  }, {\n    key: \"resolve\",\n    value: function resolve(value) {\n      this.reset();\n      this.append(value, {\n        input: true\n      }, '');\n      this.doCommit();\n      return this.value;\n    }\n    /** */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.value;\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {}, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.doParse(this.value);\n    },\n    set: function set(value) {\n      this.value = this.doFormat(value);\n    }\n    /** Value that includes raw user input */\n\n  }, {\n    key: \"rawInputValue\",\n    get: function get() {\n      return this.extractInput(0, this.value.length, {\n        raw: true\n      });\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {\n        raw: true\n      }, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return true;\n    }\n    /** */\n\n  }, {\n    key: \"isFilled\",\n    get: function get() {\n      return this.isComplete;\n    }\n    /** Finds nearest input position in direction */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos, direction) {\n      return cursorPos;\n    }\n    /** Extracts value in range considering flags */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return this.value.slice(fromPos, toPos);\n    }\n    /** Extracts tail in range */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.extractInput(fromPos, toPos), fromPos);\n    }\n    /** Appends tail */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_3__.isString)(tail)) tail = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](String(tail));\n      return tail.appendTo(this);\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      if (!ch) return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n      this._value += ch;\n      return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n        inserted: ch,\n        rawInserted: ch\n      });\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var checkTail = arguments.length > 2 ? arguments[2] : undefined;\n      var consistentState = this.state;\n      var details;\n\n      var _normalizePrepare = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_3__.normalizePrepare)(this.doPrepare(ch, flags));\n\n      var _normalizePrepare2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_normalizePrepare, 2);\n\n      ch = _normalizePrepare2[0];\n      details = _normalizePrepare2[1];\n      details = details.aggregate(this._appendCharRaw(ch, flags));\n\n      if (details.inserted) {\n        var consistentTail;\n        var appended = this.doValidate(flags) !== false;\n\n        if (appended && checkTail != null) {\n          // validation ok, check tail\n          var beforeTailState = this.state;\n\n          if (this.overwrite === true) {\n            consistentTail = checkTail.state;\n            checkTail.unshift(this.value.length);\n          }\n\n          var tailDetails = this.appendTail(checkTail);\n          appended = tailDetails.rawInserted === checkTail.toString(); // not ok, try shift\n\n          if (!(appended && tailDetails.inserted) && this.overwrite === 'shift') {\n            this.state = beforeTailState;\n            consistentTail = checkTail.state;\n            checkTail.shift();\n            tailDetails = this.appendTail(checkTail);\n            appended = tailDetails.rawInserted === checkTail.toString();\n          } // if ok, rollback state after tail\n\n\n          if (appended && tailDetails.inserted) this.state = beforeTailState;\n        } // revert all if something went wrong\n\n\n        if (!appended) {\n          details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n          this.state = consistentState;\n          if (checkTail && consistentTail) checkTail.state = consistentTail;\n        }\n      }\n\n      return details;\n    }\n    /** Appends optional placeholder at end */\n\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    }\n    /** Appends optional eager placeholder at end */\n\n  }, {\n    key: \"_appendEager\",\n    value: function _appendEager() {\n      return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    }\n    /** Appends symbols considering flags */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"append\",\n    value: function append(str, flags, tail) {\n      if (!(0,_core_utils_js__WEBPACK_IMPORTED_MODULE_3__.isString)(str)) throw new Error('value should be string');\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n      var checkTail = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_3__.isString)(tail) ? new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](String(tail)) : tail;\n      if (flags !== null && flags !== void 0 && flags.tail) flags._beforeTailState = this.state;\n\n      for (var ci = 0; ci < str.length; ++ci) {\n        details.aggregate(this._appendChar(str[ci], flags, checkTail));\n      } // append tail but aggregate only tailShift\n\n\n      if (checkTail != null) {\n        details.tailShift += this.appendTail(checkTail).tailShift; // TODO it's a good idea to clear state after appending ends\n        // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\n        // this._resetBeforeTailState();\n      }\n\n      if (this.eager && flags !== null && flags !== void 0 && flags.input && str) {\n        details.aggregate(this._appendEager());\n      }\n\n      return details;\n    }\n    /** */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      this._value = this.value.slice(0, fromPos) + this.value.slice(toPos);\n      return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    }\n    /** Calls function and reapplies current value */\n\n  }, {\n    key: \"withValueRefresh\",\n    value: function withValueRefresh(fn) {\n      if (this._refreshing || !this.isInitialized) return fn();\n      this._refreshing = true;\n      var rawInput = this.rawInputValue;\n      var value = this.value;\n      var ret = fn();\n      this.rawInputValue = rawInput; // append lost trailing chars at end\n\n      if (this.value && this.value !== value && value.indexOf(this.value) === 0) {\n        this.append(value.slice(this.value.length), {}, '');\n      }\n\n      delete this._refreshing;\n      return ret;\n    }\n    /** */\n\n  }, {\n    key: \"runIsolated\",\n    value: function runIsolated(fn) {\n      if (this._isolated || !this.isInitialized) return fn(this);\n      this._isolated = true;\n      var state = this.state;\n      var ret = fn(this);\n      this.state = state;\n      delete this._isolated;\n      return ret;\n    }\n    /**\n      Prepares string before mask processing\n      @protected\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.prepare ? this.prepare(str, this, flags) : str;\n    }\n    /**\n      Validates if value is acceptable\n      @protected\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\n    }\n    /**\n      Does additional processing in the end of editing\n      @protected\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.commit) this.commit(this.value, this);\n    }\n    /** */\n\n  }, {\n    key: \"doFormat\",\n    value: function doFormat(value) {\n      return this.format ? this.format(value, this) : value;\n    }\n    /** */\n\n  }, {\n    key: \"doParse\",\n    value: function doParse(str) {\n      return this.parse ? this.parse(str, this) : str;\n    }\n    /** */\n\n  }, {\n    key: \"splice\",\n    value: function splice(start, deleteCount, inserted, removeDirection) {\n      var flags = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        input: true\n      };\n      var tailPos = start + deleteCount;\n      var tail = this.extractTail(tailPos);\n      var oldRawValue;\n\n      if (this.eager) {\n        removeDirection = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_3__.forceDirection)(removeDirection);\n        oldRawValue = this.extractInput(0, tailPos, {\n          raw: true\n        });\n      }\n\n      var startChangePos = this.nearestInputPos(start, deleteCount > 1 && start !== 0 && !this.eager ? _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.NONE : removeDirection);\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n        tailShift: startChangePos - start // adjust tailShift if start was aligned\n\n      }).aggregate(this.remove(startChangePos));\n\n      if (this.eager && removeDirection !== _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.NONE && oldRawValue === this.rawInputValue) {\n        if (removeDirection === _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.FORCE_LEFT) {\n          var valLength;\n\n          while (oldRawValue === this.rawInputValue && (valLength = this.value.length)) {\n            details.aggregate(new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n              tailShift: -1\n            })).aggregate(this.remove(valLength - 1));\n          }\n        } else if (removeDirection === _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.FORCE_RIGHT) {\n          tail.unshift();\n        }\n      }\n\n      return details.aggregate(this.append(inserted, flags, tail));\n    }\n  }, {\n    key: \"maskEquals\",\n    value: function maskEquals(mask) {\n      return this.mask === mask;\n    }\n  }, {\n    key: \"typedValueEquals\",\n    value: function typedValueEquals(value) {\n      var tval = this.typedValue;\n      return value === tval || Masked.EMPTY_VALUES.includes(value) && Masked.EMPTY_VALUES.includes(tval) || this.doFormat(value) === this.doFormat(this.typedValue);\n    }\n  }]);\n\n  return Masked;\n}();\nMasked.DEFAULTS = {\n  format: function format(v) {\n    return v;\n  },\n  parse: function parse(v) {\n    return v;\n  }\n};\nMasked.EMPTY_VALUES = [undefined, null, ''];\n_core_holder_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Masked = Masked;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/date.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/date.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedDate; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _pattern_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _range_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./range.js */ \"./node_modules/imask/esm/masked/range.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Date mask */\n\nvar MaskedDate = /*#__PURE__*/function (_MaskedPattern) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(MaskedDate, _MaskedPattern);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(MaskedDate);\n\n  /** Pattern mask for date according to {@link MaskedDate#format} */\n\n  /** Start date */\n\n  /** End date */\n\n  /** */\n\n  /**\n    @param {Object} opts\n  */\n  function MaskedDate(opts) {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, MaskedDate);\n\n    return _super.call(this, Object.assign({}, MaskedDate.DEFAULTS, opts));\n  }\n  /**\n    @override\n  */\n\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(MaskedDate, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      if (opts.mask === Date) delete opts.mask;\n      if (opts.pattern) opts.mask = opts.pattern;\n      var blocks = opts.blocks;\n      opts.blocks = Object.assign({}, MaskedDate.GET_DEFAULT_BLOCKS()); // adjust year block\n\n      if (opts.min) opts.blocks.Y.from = opts.min.getFullYear();\n      if (opts.max) opts.blocks.Y.to = opts.max.getFullYear();\n\n      if (opts.min && opts.max && opts.blocks.Y.from === opts.blocks.Y.to) {\n        opts.blocks.m.from = opts.min.getMonth() + 1;\n        opts.blocks.m.to = opts.max.getMonth() + 1;\n\n        if (opts.blocks.m.from === opts.blocks.m.to) {\n          opts.blocks.d.from = opts.min.getDate();\n          opts.blocks.d.to = opts.max.getDate();\n        }\n      }\n\n      Object.assign(opts.blocks, this.blocks, blocks); // add autofix\n\n      Object.keys(opts.blocks).forEach(function (bk) {\n        var b = opts.blocks[bk];\n        if (!('autofix' in b) && 'autofix' in opts) b.autofix = opts.autofix;\n      });\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDate.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2;\n\n      var date = this.date;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_get2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDate.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args)) && (!this.isComplete || this.isDateExist(this.value) && date != null && (this.min == null || this.min <= date) && (this.max == null || date <= this.max));\n    }\n    /** Checks if date is exists */\n\n  }, {\n    key: \"isDateExist\",\n    value: function isDateExist(str) {\n      return this.format(this.parse(str, this), this).indexOf(str) >= 0;\n    }\n    /** Parsed Date */\n\n  }, {\n    key: \"date\",\n    get: function get() {\n      return this.typedValue;\n    },\n    set: function set(date) {\n      this.typedValue = date;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.isComplete ? (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDate.prototype), \"typedValue\", this) : null;\n    },\n    set: function set(value) {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.i)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDate.prototype), \"typedValue\", value, this, true);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"maskEquals\",\n    value: function maskEquals(mask) {\n      return mask === Date || (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDate.prototype), \"maskEquals\", this).call(this, mask);\n    }\n  }]);\n\n  return MaskedDate;\n}(_pattern_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nMaskedDate.DEFAULTS = {\n  pattern: 'd{.}`m{.}`Y',\n  format: function format(date) {\n    if (!date) return '';\n    var day = String(date.getDate()).padStart(2, '0');\n    var month = String(date.getMonth() + 1).padStart(2, '0');\n    var year = date.getFullYear();\n    return [day, month, year].join('.');\n  },\n  parse: function parse(str) {\n    var _str$split = str.split('.'),\n        _str$split2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_str$split, 3),\n        day = _str$split2[0],\n        month = _str$split2[1],\n        year = _str$split2[2];\n\n    return new Date(year, month - 1, day);\n  }\n};\n\nMaskedDate.GET_DEFAULT_BLOCKS = function () {\n  return {\n    d: {\n      mask: _range_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n      from: 1,\n      to: 31,\n      maxLength: 2\n    },\n    m: {\n      mask: _range_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n      from: 1,\n      to: 12,\n      maxLength: 2\n    },\n    Y: {\n      mask: _range_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n      from: 1900,\n      to: 9999\n    }\n  };\n};\n\n_core_holder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].MaskedDate = MaskedDate;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/dynamic.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/dynamic.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedDynamic; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\n\n\n\nvar _excluded = [\"compiledMasks\", \"currentMaskRef\", \"currentMask\"];\n\n/** Dynamic mask for choosing apropriate mask in run-time */\nvar MaskedDynamic = /*#__PURE__*/function (_Masked) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(MaskedDynamic, _Masked);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(MaskedDynamic);\n\n  /** Currently chosen mask */\n\n  /** Compliled {@link Masked} options */\n\n  /** Chooses {@link Masked} depending on input value */\n\n  /**\n    @param {Object} opts\n  */\n  function MaskedDynamic(opts) {\n    var _this;\n\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, MaskedDynamic);\n\n    _this = _super.call(this, Object.assign({}, MaskedDynamic.DEFAULTS, opts));\n    _this.currentMask = null;\n    return _this;\n  }\n  /**\n    @override\n  */\n\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(MaskedDynamic, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"_update\", this).call(this, opts);\n\n      if ('mask' in opts) {\n        // mask could be totally dynamic with only `dispatch` option\n        this.compiledMasks = Array.isArray(opts.mask) ? opts.mask.map(function (m) {\n          return (0,_factory_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(m);\n        }) : [];\n      }\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var details = this._applyDispatch(ch, flags);\n\n      if (this.currentMask) {\n        details.aggregate(this.currentMask._appendChar(ch, this.currentMaskFlags(flags)));\n      }\n\n      return details;\n    }\n  }, {\n    key: \"_applyDispatch\",\n    value: function _applyDispatch() {\n      var appended = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var prevValueBeforeTail = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._value : this.value;\n      var inputValue = this.rawInputValue;\n      var insertValue = flags.tail && flags._beforeTailState != null ? // $FlowFixMe - tired to fight with type system\n      flags._beforeTailState._rawInputValue : inputValue;\n      var tailValue = inputValue.slice(insertValue.length);\n      var prevMask = this.currentMask;\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n      var prevMaskState = prevMask === null || prevMask === void 0 ? void 0 : prevMask.state; // clone flags to prevent overwriting `_beforeTailState`\n\n      this.currentMask = this.doDispatch(appended, Object.assign({}, flags)); // restore state after dispatch\n\n      if (this.currentMask) {\n        if (this.currentMask !== prevMask) {\n          // if mask changed reapply input\n          this.currentMask.reset();\n\n          if (insertValue) {\n            // $FlowFixMe - it's ok, we don't change current mask above\n            var d = this.currentMask.append(insertValue, {\n              raw: true\n            });\n            details.tailShift = d.inserted.length - prevValueBeforeTail.length;\n          }\n\n          if (tailValue) {\n            // $FlowFixMe - it's ok, we don't change current mask above\n            details.tailShift += this.currentMask.append(tailValue, {\n              raw: true,\n              tail: true\n            }).tailShift;\n          }\n        } else {\n          // Dispatch can do something bad with state, so\n          // restore prev mask state\n          this.currentMask.state = prevMaskState;\n        }\n      }\n\n      return details;\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = this._applyDispatch.apply(this, arguments);\n\n      if (this.currentMask) {\n        details.aggregate(this.currentMask._appendPlaceholder());\n      }\n\n      return details;\n    }\n    /**\n     @override\n    */\n\n  }, {\n    key: \"_appendEager\",\n    value: function _appendEager() {\n      var details = this._applyDispatch.apply(this, arguments);\n\n      if (this.currentMask) {\n        details.aggregate(this.currentMask._appendEager());\n      }\n\n      return details;\n    }\n  }, {\n    key: \"currentMaskFlags\",\n    value: function currentMaskFlags(flags) {\n      var _flags$_beforeTailSta, _flags$_beforeTailSta2;\n\n      return Object.assign({}, flags, {\n        _beforeTailState: ((_flags$_beforeTailSta = flags._beforeTailState) === null || _flags$_beforeTailSta === void 0 ? void 0 : _flags$_beforeTailSta.currentMaskRef) === this.currentMask && ((_flags$_beforeTailSta2 = flags._beforeTailState) === null || _flags$_beforeTailSta2 === void 0 ? void 0 : _flags$_beforeTailSta2.currentMask) || flags._beforeTailState\n      });\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doDispatch\",\n    value: function doDispatch(appended) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.dispatch(appended, this, flags);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      return (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"doValidate\", this).call(this, flags) && (!this.currentMask || this.currentMask.doValidate(this.currentMaskFlags(flags)));\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _normalizePrepare = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_4__.normalizePrepare)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"doPrepare\", this).call(this, str, flags)),\n          _normalizePrepare2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_normalizePrepare, 2),\n          s = _normalizePrepare2[0],\n          details = _normalizePrepare2[1];\n\n      if (this.currentMask) {\n        var currentDetails;\n\n        var _normalizePrepare3 = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_4__.normalizePrepare)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"doPrepare\", this).call(this, s, this.currentMaskFlags(flags)));\n\n        var _normalizePrepare4 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_normalizePrepare3, 2);\n\n        s = _normalizePrepare4[0];\n        currentDetails = _normalizePrepare4[1];\n        details = details.aggregate(currentDetails);\n      }\n\n      return [s, details];\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this$currentMask;\n\n      (_this$currentMask = this.currentMask) === null || _this$currentMask === void 0 ? void 0 : _this$currentMask.reset();\n      this.compiledMasks.forEach(function (m) {\n        return m.reset();\n      });\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.value : '';\n    },\n    set: function set(value) {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.i)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"value\", value, this, true);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.unmaskedValue : '';\n    },\n    set: function set(unmaskedValue) {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.i)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"unmaskedValue\", unmaskedValue, this, true);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.typedValue : '';\n    } // probably typedValue should not be used with dynamic\n    ,\n    set: function set(value) {\n      var unmaskedValue = String(value); // double check it\n\n      if (this.currentMask) {\n        this.currentMask.typedValue = value;\n        unmaskedValue = this.currentMask.unmaskedValue;\n      }\n\n      this.unmaskedValue = unmaskedValue;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      var _this$currentMask2;\n\n      return Boolean((_this$currentMask2 = this.currentMask) === null || _this$currentMask2 === void 0 ? void 0 : _this$currentMask2.isComplete);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"isFilled\",\n    get: function get() {\n      var _this$currentMask3;\n\n      return Boolean((_this$currentMask3 = this.currentMask) === null || _this$currentMask3 === void 0 ? void 0 : _this$currentMask3.isFilled);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n      if (this.currentMask) {\n        var _this$currentMask4;\n\n        details.aggregate((_this$currentMask4 = this.currentMask).remove.apply(_this$currentMask4, arguments)) // update with dispatch\n        .aggregate(this._applyDispatch());\n      }\n\n      return details;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"state\",\n    get: function get() {\n      var _this$currentMask5;\n\n      return Object.assign({}, (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"state\", this), {\n        _rawInputValue: this.rawInputValue,\n        compiledMasks: this.compiledMasks.map(function (m) {\n          return m.state;\n        }),\n        currentMaskRef: this.currentMask,\n        currentMask: (_this$currentMask5 = this.currentMask) === null || _this$currentMask5 === void 0 ? void 0 : _this$currentMask5.state\n      });\n    },\n    set: function set(state) {\n      var compiledMasks = state.compiledMasks,\n          currentMaskRef = state.currentMaskRef,\n          currentMask = state.currentMask,\n          maskedState = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.b)(state, _excluded);\n\n      this.compiledMasks.forEach(function (m, mi) {\n        return m.state = compiledMasks[mi];\n      });\n\n      if (currentMaskRef != null) {\n        this.currentMask = currentMaskRef;\n        this.currentMask.state = currentMask;\n      }\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.i)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"state\", maskedState, this, true);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var _this$currentMask6;\n\n      return this.currentMask ? (_this$currentMask6 = this.currentMask).extractInput.apply(_this$currentMask6, arguments) : '';\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this$currentMask7, _get2;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.currentMask ? (_this$currentMask7 = this.currentMask).extractTail.apply(_this$currentMask7, args) : (_get2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"extractTail\", this)).call.apply(_get2, [this].concat(args));\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.currentMask) this.currentMask.doCommit();\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"doCommit\", this).call(this);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos() {\n      var _this$currentMask8, _get3;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.currentMask ? (_this$currentMask8 = this.currentMask).nearestInputPos.apply(_this$currentMask8, args) : (_get3 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"nearestInputPos\", this)).call.apply(_get3, [this].concat(args));\n    }\n  }, {\n    key: \"overwrite\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.overwrite : (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"overwrite\", this);\n    },\n    set: function set(overwrite) {\n      console.warn('\"overwrite\" option is not available in dynamic mask, use this option in siblings');\n    }\n  }, {\n    key: \"eager\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.eager : (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedDynamic.prototype), \"eager\", this);\n    },\n    set: function set(eager) {\n      console.warn('\"eager\" option is not available in dynamic mask, use this option in siblings');\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"maskEquals\",\n    value: function maskEquals(mask) {\n      return Array.isArray(mask) && this.compiledMasks.every(function (m, mi) {\n        var _mask$mi;\n\n        return m.maskEquals((_mask$mi = mask[mi]) === null || _mask$mi === void 0 ? void 0 : _mask$mi.mask);\n      });\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"typedValueEquals\",\n    value: function typedValueEquals(value) {\n      var _this$currentMask9;\n\n      return Boolean((_this$currentMask9 = this.currentMask) === null || _this$currentMask9 === void 0 ? void 0 : _this$currentMask9.typedValueEquals(value));\n    }\n  }]);\n\n  return MaskedDynamic;\n}(_base_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nMaskedDynamic.DEFAULTS = {\n  dispatch: function dispatch(appended, masked, flags) {\n    if (!masked.compiledMasks.length) return;\n    var inputValue = masked.rawInputValue; // simulate input\n\n    var inputs = masked.compiledMasks.map(function (m, index) {\n      m.reset();\n      m.append(inputValue, {\n        raw: true\n      });\n      m.append(appended, masked.currentMaskFlags(flags));\n      var weight = m.rawInputValue.length;\n      return {\n        weight: weight,\n        index: index\n      };\n    }); // pop masks with longer values first\n\n    inputs.sort(function (i1, i2) {\n      return i2.weight - i1.weight;\n    });\n    return masked.compiledMasks[inputs[0].index];\n  }\n};\n_core_holder_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].MaskedDynamic = MaskedDynamic;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/enum.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/enum.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedEnum; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _pattern_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Pattern which validates enum values */\n\nvar MaskedEnum = /*#__PURE__*/function (_MaskedPattern) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(MaskedEnum, _MaskedPattern);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(MaskedEnum);\n\n  function MaskedEnum() {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, MaskedEnum);\n\n    return _super.apply(this, arguments);\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(MaskedEnum, [{\n    key: \"_update\",\n    value:\n    /**\n      @override\n      @param {Object} opts\n    */\n    function _update(opts) {\n      // TODO type\n      if (opts.enum) opts.mask = '*'.repeat(opts.enum[0].length);\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedEnum.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _this = this,\n          _get2;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.enum.some(function (e) {\n        return e.indexOf(_this.unmaskedValue) >= 0;\n      }) && (_get2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedEnum.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args));\n    }\n  }]);\n\n  return MaskedEnum;\n}(_pattern_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n_core_holder_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MaskedEnum = MaskedEnum;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/factory.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/factory.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ createMask; },\n/* harmony export */   \"maskedClass\": function() { return /* binding */ maskedClass; }\n/* harmony export */ });\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n\n\n\n\n\n/** Get Masked class by mask type */\n\nfunction maskedClass(mask) {\n  if (mask == null) {\n    throw new Error('mask property should be defined');\n  } // $FlowFixMe\n\n\n  if (mask instanceof RegExp) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedRegExp; // $FlowFixMe\n\n  if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(mask)) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedPattern; // $FlowFixMe\n\n  if (mask instanceof Date || mask === Date) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedDate; // $FlowFixMe\n\n  if (mask instanceof Number || typeof mask === 'number' || mask === Number) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedNumber; // $FlowFixMe\n\n  if (Array.isArray(mask) || mask === Array) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedDynamic; // $FlowFixMe\n\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked && mask.prototype instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return mask; // $FlowFixMe\n\n  if (mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return mask.constructor; // $FlowFixMe\n\n  if (mask instanceof Function) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedFunction;\n  console.warn('Mask not found for mask', mask); // eslint-disable-line no-console\n  // $FlowFixMe\n\n  return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked;\n}\n/** Creates new {@link Masked} depending on mask type */\n\nfunction createMask(opts) {\n  // $FlowFixMe\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked && opts instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return opts;\n  opts = Object.assign({}, opts);\n  var mask = opts.mask; // $FlowFixMe\n\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked && mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return mask;\n  var MaskedClass = maskedClass(mask);\n  if (!MaskedClass) throw new Error('Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.');\n  return new MaskedClass(opts);\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createMask = createMask;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/function.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/function.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedFunction; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n\n\n\n\n\n\n\n/** Masking by custom Function */\n\nvar MaskedFunction = /*#__PURE__*/function (_Masked) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(MaskedFunction, _Masked);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(MaskedFunction);\n\n  function MaskedFunction() {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, MaskedFunction);\n\n    return _super.apply(this, arguments);\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(MaskedFunction, [{\n    key: \"_update\",\n    value:\n    /**\n      @override\n      @param {Object} opts\n    */\n    function _update(opts) {\n      if (opts.mask) opts.validate = opts.mask;\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedFunction.prototype), \"_update\", this).call(this, opts);\n    }\n  }]);\n\n  return MaskedFunction;\n}(_base_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n_core_holder_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MaskedFunction = MaskedFunction;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/number.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/number.js ***!\n  \\*************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedNumber; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\n\n\n/**\n  Number mask\n  @param {Object} opts\n  @param {string} opts.radix - Single char\n  @param {string} opts.thousandsSeparator - Single char\n  @param {Array<string>} opts.mapToRadix - Array of single chars\n  @param {number} opts.min\n  @param {number} opts.max\n  @param {number} opts.scale - Digits after point\n  @param {boolean} opts.signed - Allow negative\n  @param {boolean} opts.normalizeZeros - Flag to remove leading and trailing zeros in the end of editing\n  @param {boolean} opts.padFractionalZeros - Flag to pad trailing zeros after point in the end of editing\n*/\nvar MaskedNumber = /*#__PURE__*/function (_Masked) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(MaskedNumber, _Masked);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(MaskedNumber);\n\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n  function MaskedNumber(opts) {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, MaskedNumber);\n\n    return _super.call(this, Object.assign({}, MaskedNumber.DEFAULTS, opts));\n  }\n  /**\n    @override\n  */\n\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(MaskedNumber, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"_update\", this).call(this, opts);\n\n      this._updateRegExps();\n    }\n    /** */\n\n  }, {\n    key: \"_updateRegExps\",\n    value: function _updateRegExps() {\n      // use different regexp to process user input (more strict, input suffix) and tail shifting\n      var start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n      var midInput = '(0|([1-9]+\\\\d*))?';\n      var mid = '\\\\d*';\n      var end = (this.scale ? '(' + (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.escapeRegExp)(this.radix) + '\\\\d{0,' + this.scale + '})?' : '') + '$';\n      this._numberRegExpInput = new RegExp(start + midInput + end);\n      this._numberRegExp = new RegExp(start + mid + end);\n      this._mapToRadixRegExp = new RegExp('[' + this.mapToRadix.map(_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.escapeRegExp).join('') + ']', 'g');\n      this._thousandsSeparatorRegExp = new RegExp((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.escapeRegExp)(this.thousandsSeparator), 'g');\n    }\n    /** */\n\n  }, {\n    key: \"_removeThousandsSeparators\",\n    value: function _removeThousandsSeparators(value) {\n      return value.replace(this._thousandsSeparatorRegExp, '');\n    }\n    /** */\n\n  }, {\n    key: \"_insertThousandsSeparators\",\n    value: function _insertThousandsSeparators(value) {\n      // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n      var parts = value.split(this.radix);\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n      return parts.join(this.radix);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(ch) {\n      var _get2;\n\n      ch = ch.replace(this._mapToRadixRegExp, this.radix);\n\n      var noSepCh = this._removeThousandsSeparators(ch);\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var _normalizePrepare = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.normalizePrepare)((_get2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"doPrepare\", this)).call.apply(_get2, [this, noSepCh].concat(args))),\n          _normalizePrepare2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_normalizePrepare, 2),\n          prepCh = _normalizePrepare2[0],\n          details = _normalizePrepare2[1];\n\n      if (ch && !noSepCh) details.skip = true;\n      return [prepCh, details];\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCount\",\n    value: function _separatorsCount(to) {\n      var extendOnSeparators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var count = 0;\n\n      for (var pos = 0; pos < to; ++pos) {\n        if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n          ++count;\n          if (extendOnSeparators) to += this.thousandsSeparator.length;\n        }\n      }\n\n      return count;\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCountFromSlice\",\n    value: function _separatorsCountFromSlice() {\n      var slice = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._value;\n      return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 ? arguments[2] : undefined;\n\n      var _this$_adjustRangeWit = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_this$_adjustRangeWit, 2);\n\n      fromPos = _this$_adjustRangeWit2[0];\n      toPos = _this$_adjustRangeWit2[1];\n      return this._removeThousandsSeparators((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"extractInput\", this).call(this, fromPos, toPos, flags));\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!this.thousandsSeparator) return (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n      var prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n\n      this._value = this._removeThousandsSeparators(this.value);\n\n      var appendDetails = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n\n      this._value = this._insertThousandsSeparators(this._value);\n      var beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n\n      appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n      appendDetails.skip = !appendDetails.rawInserted && ch === this.thousandsSeparator;\n      return appendDetails;\n    }\n    /** */\n\n  }, {\n    key: \"_findSeparatorAround\",\n    value: function _findSeparatorAround(pos) {\n      if (this.thousandsSeparator) {\n        var searchFrom = pos - this.thousandsSeparator.length + 1;\n        var separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n        if (separatorPos <= pos) return separatorPos;\n      }\n\n      return -1;\n    }\n  }, {\n    key: \"_adjustRangeWithSeparators\",\n    value: function _adjustRangeWithSeparators(from, to) {\n      var separatorAroundFromPos = this._findSeparatorAround(from);\n\n      if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n\n      var separatorAroundToPos = this._findSeparatorAround(to);\n\n      if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n      return [from, to];\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      var _this$_adjustRangeWit3 = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit4 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_this$_adjustRangeWit3, 2);\n\n      fromPos = _this$_adjustRangeWit4[0];\n      toPos = _this$_adjustRangeWit4[1];\n      var valueBeforePos = this.value.slice(0, fromPos);\n      var valueAfterPos = this.value.slice(toPos);\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n\n      this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n\n      return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n        tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n      });\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos, direction) {\n      if (!this.thousandsSeparator) return cursorPos;\n\n      switch (direction) {\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE:\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT:\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT:\n          {\n            var separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n\n            if (separatorAtLeftPos >= 0) {\n              var separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n\n              if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT) {\n                return separatorAtLeftPos;\n              }\n            }\n\n            break;\n          }\n\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.RIGHT:\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_RIGHT:\n          {\n            var separatorAtRightPos = this._findSeparatorAround(cursorPos);\n\n            if (separatorAtRightPos >= 0) {\n              return separatorAtRightPos + this.thousandsSeparator.length;\n            }\n          }\n      }\n\n      return cursorPos;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      var regexp = flags.input ? this._numberRegExpInput : this._numberRegExp; // validate as string\n\n      var valid = regexp.test(this._removeThousandsSeparators(this.value));\n\n      if (valid) {\n        // validate as number\n        var number = this.number;\n        valid = valid && !isNaN(number) && ( // check min bound for negative values\n        this.min == null || this.min >= 0 || this.min <= this.number) && ( // check max bound for positive values\n        this.max == null || this.max <= 0 || this.number <= this.max);\n      }\n\n      return valid && (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"doValidate\", this).call(this, flags);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.value) {\n        var number = this.number;\n        var validnum = number; // check bounds\n\n        if (this.min != null) validnum = Math.max(validnum, this.min);\n        if (this.max != null) validnum = Math.min(validnum, this.max);\n        if (validnum !== number) this.unmaskedValue = String(validnum);\n        var formatted = this.value;\n        if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n        if (this.padFractionalZeros && this.scale > 0) formatted = this._padFractionalZeros(formatted);\n        this._value = formatted;\n      }\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"doCommit\", this).call(this);\n    }\n    /** */\n\n  }, {\n    key: \"_normalizeZeros\",\n    value: function _normalizeZeros(value) {\n      var parts = this._removeThousandsSeparators(value).split(this.radix); // remove leading zeros\n\n\n      parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, function (match, sign, zeros, num) {\n        return sign + num;\n      }); // add leading zero\n\n      if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n\n      if (parts.length > 1) {\n        parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n\n        if (!parts[1].length) parts.length = 1; // remove fractional\n      }\n\n      return this._insertThousandsSeparators(parts.join(this.radix));\n    }\n    /** */\n\n  }, {\n    key: \"_padFractionalZeros\",\n    value: function _padFractionalZeros(value) {\n      if (!value) return value;\n      var parts = value.split(this.radix);\n      if (parts.length < 2) parts.push('');\n      parts[1] = parts[1].padEnd(this.scale, '0');\n      return parts.join(this.radix);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, '.');\n    },\n    set: function set(unmaskedValue) {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.i)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"unmaskedValue\", unmaskedValue.replace('.', this.radix), this, true);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return Number(this.unmaskedValue);\n    },\n    set: function set(n) {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.i)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"unmaskedValue\", String(n), this, true);\n    }\n    /** Parsed Number */\n\n  }, {\n    key: \"number\",\n    get: function get() {\n      return this.typedValue;\n    },\n    set: function set(number) {\n      this.typedValue = number;\n    }\n    /**\n      Is negative allowed\n      @readonly\n    */\n\n  }, {\n    key: \"allowNegative\",\n    get: function get() {\n      return this.signed || this.min != null && this.min < 0 || this.max != null && this.max < 0;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"typedValueEquals\",\n    value: function typedValueEquals(value) {\n      // handle  0 -> '' case (typed = 0 even if value = '')\n      // for details see https://github.com/uNmAnNeR/imaskjs/issues/134\n      return ((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedNumber.prototype), \"typedValueEquals\", this).call(this, value) || MaskedNumber.EMPTY_VALUES.includes(value) && MaskedNumber.EMPTY_VALUES.includes(this.typedValue)) && !(value === 0 && this.value === '');\n    }\n  }]);\n\n  return MaskedNumber;\n}(_base_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nMaskedNumber.DEFAULTS = {\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: ['.'],\n  scale: 2,\n  signed: false,\n  normalizeZeros: true,\n  padFractionalZeros: false\n};\nMaskedNumber.EMPTY_VALUES = [].concat((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.j)(_base_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].EMPTY_VALUES), [0]);\n_core_holder_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].MaskedNumber = MaskedNumber;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedPattern; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"_blocks\"];\n\n/**\n  Pattern mask\n  @param {Object} opts\n  @param {Object} opts.blocks\n  @param {Object} opts.definitions\n  @param {string} opts.placeholderChar\n  @param {boolean} opts.lazy\n*/\nvar MaskedPattern = /*#__PURE__*/function (_Masked) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(MaskedPattern, _Masked);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(MaskedPattern);\n\n  /** */\n\n  /** */\n\n  /** Single char for empty input */\n\n  /** Show placeholder only when needed */\n  function MaskedPattern() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, MaskedPattern);\n\n    // TODO type $Shape<MaskedPatternOptions>={} does not work\n    opts.definitions = Object.assign({}, _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_INPUT_DEFINITIONS, opts.definitions);\n    return _super.call(this, Object.assign({}, MaskedPattern.DEFAULTS, opts));\n  }\n  /**\n    @override\n    @param {Object} opts\n  */\n\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(MaskedPattern, [{\n    key: \"_update\",\n    value: function _update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      opts.definitions = Object.assign({}, this.definitions, opts.definitions);\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedPattern.prototype), \"_update\", this).call(this, opts);\n\n      this._rebuildMask();\n    }\n    /** */\n\n  }, {\n    key: \"_rebuildMask\",\n    value: function _rebuildMask() {\n      var _this = this;\n\n      var defs = this.definitions;\n      this._blocks = [];\n      this._stops = [];\n      this._maskedBlocks = {};\n      var pattern = this.mask;\n      if (!pattern || !defs) return;\n      var unmaskingBlock = false;\n      var optionalBlock = false;\n\n      for (var i = 0; i < pattern.length; ++i) {\n        if (this.blocks) {\n          var _ret = function () {\n            var p = pattern.slice(i);\n            var bNames = Object.keys(_this.blocks).filter(function (bName) {\n              return p.indexOf(bName) === 0;\n            }); // order by key length\n\n            bNames.sort(function (a, b) {\n              return b.length - a.length;\n            }); // use block name with max length\n\n            var bName = bNames[0];\n\n            if (bName) {\n              // $FlowFixMe no ideas\n              var maskedBlock = (0,_factory_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(Object.assign({\n                parent: _this,\n                lazy: _this.lazy,\n                eager: _this.eager,\n                placeholderChar: _this.placeholderChar,\n                overwrite: _this.overwrite\n              }, _this.blocks[bName]));\n\n              if (maskedBlock) {\n                _this._blocks.push(maskedBlock); // store block index\n\n\n                if (!_this._maskedBlocks[bName]) _this._maskedBlocks[bName] = [];\n\n                _this._maskedBlocks[bName].push(_this._blocks.length - 1);\n              }\n\n              i += bName.length - 1;\n              return \"continue\";\n            }\n          }();\n\n          if (_ret === \"continue\") continue;\n        }\n\n        var char = pattern[i];\n        var isInput = (char in defs);\n\n        if (char === MaskedPattern.STOP_CHAR) {\n          this._stops.push(this._blocks.length);\n\n          continue;\n        }\n\n        if (char === '{' || char === '}') {\n          unmaskingBlock = !unmaskingBlock;\n          continue;\n        }\n\n        if (char === '[' || char === ']') {\n          optionalBlock = !optionalBlock;\n          continue;\n        }\n\n        if (char === MaskedPattern.ESCAPE_CHAR) {\n          ++i;\n          char = pattern[i];\n          if (!char) break;\n          isInput = false;\n        }\n\n        var def = isInput ? new _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n          parent: this,\n          lazy: this.lazy,\n          eager: this.eager,\n          placeholderChar: this.placeholderChar,\n          mask: defs[char],\n          isOptional: optionalBlock\n        }) : new _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n          char: char,\n          eager: this.eager,\n          isUnmasking: unmaskingBlock\n        });\n\n        this._blocks.push(def);\n      }\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"state\",\n    get: function get() {\n      return Object.assign({}, (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedPattern.prototype), \"state\", this), {\n        _blocks: this._blocks.map(function (b) {\n          return b.state;\n        })\n      });\n    },\n    set: function set(state) {\n      var _blocks = state._blocks,\n          maskedState = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.b)(state, _excluded);\n\n      this._blocks.forEach(function (b, bi) {\n        return b.state = _blocks[bi];\n      });\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.i)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedPattern.prototype), \"state\", maskedState, this, true);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedPattern.prototype), \"reset\", this).call(this);\n\n      this._blocks.forEach(function (b) {\n        return b.reset();\n      });\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return this._blocks.every(function (b) {\n        return b.isComplete;\n      });\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"isFilled\",\n    get: function get() {\n      return this._blocks.every(function (b) {\n        return b.isFilled;\n      });\n    }\n  }, {\n    key: \"isFixed\",\n    get: function get() {\n      return this._blocks.every(function (b) {\n        return b.isFixed;\n      });\n    }\n  }, {\n    key: \"isOptional\",\n    get: function get() {\n      return this._blocks.every(function (b) {\n        return b.isOptional;\n      });\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      this._blocks.forEach(function (b) {\n        return b.doCommit();\n      });\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedPattern.prototype), \"doCommit\", this).call(this);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._blocks.reduce(function (str, b) {\n        return str += b.unmaskedValue;\n      }, '');\n    },\n    set: function set(unmaskedValue) {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.i)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedPattern.prototype), \"unmaskedValue\", unmaskedValue, this, true);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      // TODO return _value when not in change?\n      return this._blocks.reduce(function (str, b) {\n        return str += b.value;\n      }, '');\n    },\n    set: function set(value) {\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.i)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedPattern.prototype), \"value\", value, this, true);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      return (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedPattern.prototype), \"appendTail\", this).call(this, tail).aggregate(this._appendPlaceholder());\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"_appendEager\",\n    value: function _appendEager() {\n      var _this$_mapPosToBlock;\n\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      var startBlockIndex = (_this$_mapPosToBlock = this._mapPosToBlock(this.value.length)) === null || _this$_mapPosToBlock === void 0 ? void 0 : _this$_mapPosToBlock.index;\n      if (startBlockIndex == null) return details; // TODO test if it works for nested pattern masks\n\n      if (this._blocks[startBlockIndex].isFilled) ++startBlockIndex;\n\n      for (var bi = startBlockIndex; bi < this._blocks.length; ++bi) {\n        var d = this._blocks[bi]._appendEager();\n\n        if (!d.inserted) break;\n        details.aggregate(d);\n      }\n\n      return details;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var blockIter = this._mapPosToBlock(this.value.length);\n\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      if (!blockIter) return details;\n\n      for (var bi = blockIter.index;; ++bi) {\n        var _flags$_beforeTailSta, _flags$_beforeTailSta2;\n\n        var _block = this._blocks[bi];\n        if (!_block) break;\n\n        var blockDetails = _block._appendChar(ch, Object.assign({}, flags, {\n          _beforeTailState: (_flags$_beforeTailSta = flags._beforeTailState) === null || _flags$_beforeTailSta === void 0 ? void 0 : (_flags$_beforeTailSta2 = _flags$_beforeTailSta._blocks) === null || _flags$_beforeTailSta2 === void 0 ? void 0 : _flags$_beforeTailSta2[bi]\n        }));\n\n        var skip = blockDetails.skip;\n        details.aggregate(blockDetails);\n        if (skip || blockDetails.rawInserted) break; // go next char\n      }\n\n      return details;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this2 = this;\n\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var chunkTail = new _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n      if (fromPos === toPos) return chunkTail;\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, bi, bFromPos, bToPos) {\n        var blockChunk = b.extractTail(bFromPos, bToPos);\n        blockChunk.stop = _this2._findStopBefore(bi);\n        blockChunk.from = _this2._blockStartPos(bi);\n        if (blockChunk instanceof _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]) blockChunk.blockIndex = bi;\n        chunkTail.extend(blockChunk);\n      });\n\n      return chunkTail;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (fromPos === toPos) return '';\n      var input = '';\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, _, fromPos, toPos) {\n        input += b.extractInput(fromPos, toPos, flags);\n      });\n\n      return input;\n    }\n  }, {\n    key: \"_findStopBefore\",\n    value: function _findStopBefore(blockIndex) {\n      var stopBefore;\n\n      for (var si = 0; si < this._stops.length; ++si) {\n        var stop = this._stops[si];\n        if (stop <= blockIndex) stopBefore = stop;else break;\n      }\n\n      return stopBefore;\n    }\n    /** Appends placeholder depending on laziness */\n\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder(toBlockIndex) {\n      var _this3 = this;\n\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      if (this.lazy && toBlockIndex == null) return details;\n\n      var startBlockIter = this._mapPosToBlock(this.value.length);\n\n      if (!startBlockIter) return details;\n      var startBlockIndex = startBlockIter.index;\n      var endBlockIndex = toBlockIndex != null ? toBlockIndex : this._blocks.length;\n\n      this._blocks.slice(startBlockIndex, endBlockIndex).forEach(function (b) {\n        if (!b.lazy || toBlockIndex != null) {\n          // $FlowFixMe `_blocks` may not be present\n          var args = b._blocks != null ? [b._blocks.length] : [];\n\n          var bDetails = b._appendPlaceholder.apply(b, args);\n\n          _this3._value += bDetails.inserted;\n          details.aggregate(bDetails);\n        }\n      });\n\n      return details;\n    }\n    /** Finds block in pos */\n\n  }, {\n    key: \"_mapPosToBlock\",\n    value: function _mapPosToBlock(pos) {\n      var accVal = '';\n\n      for (var bi = 0; bi < this._blocks.length; ++bi) {\n        var _block2 = this._blocks[bi];\n        var blockStartPos = accVal.length;\n        accVal += _block2.value;\n\n        if (pos <= accVal.length) {\n          return {\n            index: bi,\n            offset: pos - blockStartPos\n          };\n        }\n      }\n    }\n    /** */\n\n  }, {\n    key: \"_blockStartPos\",\n    value: function _blockStartPos(blockIndex) {\n      return this._blocks.slice(0, blockIndex).reduce(function (pos, b) {\n        return pos += b.value.length;\n      }, 0);\n    }\n    /** */\n\n  }, {\n    key: \"_forEachBlocksInRange\",\n    value: function _forEachBlocksInRange(fromPos) {\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var fn = arguments.length > 2 ? arguments[2] : undefined;\n\n      var fromBlockIter = this._mapPosToBlock(fromPos);\n\n      if (fromBlockIter) {\n        var toBlockIter = this._mapPosToBlock(toPos); // process first block\n\n\n        var isSameBlock = toBlockIter && fromBlockIter.index === toBlockIter.index;\n        var fromBlockStartPos = fromBlockIter.offset;\n        var fromBlockEndPos = toBlockIter && isSameBlock ? toBlockIter.offset : this._blocks[fromBlockIter.index].value.length;\n        fn(this._blocks[fromBlockIter.index], fromBlockIter.index, fromBlockStartPos, fromBlockEndPos);\n\n        if (toBlockIter && !isSameBlock) {\n          // process intermediate blocks\n          for (var bi = fromBlockIter.index + 1; bi < toBlockIter.index; ++bi) {\n            fn(this._blocks[bi], bi, 0, this._blocks[bi].value.length);\n          } // process last block\n\n\n          fn(this._blocks[toBlockIter.index], toBlockIter.index, 0, toBlockIter.offset);\n        }\n      }\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      var removeDetails = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedPattern.prototype), \"remove\", this).call(this, fromPos, toPos);\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, _, bFromPos, bToPos) {\n        removeDetails.aggregate(b.remove(bFromPos, bToPos));\n      });\n\n      return removeDetails;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE;\n      if (!this._blocks.length) return 0;\n      var cursor = new _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this, cursorPos);\n\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE) {\n        // -------------------------------------------------\n        // NONE should only go out from fixed to the right!\n        // -------------------------------------------------\n        if (cursor.pushRightBeforeInput()) return cursor.pos;\n        cursor.popState();\n        if (cursor.pushLeftBeforeInput()) return cursor.pos;\n        return this.value.length;\n      } // FORCE is only about a|* otherwise is 0\n\n\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT || direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT) {\n        // try to break fast when *|a\n        if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT) {\n          cursor.pushRightBeforeFilled();\n          if (cursor.ok && cursor.pos === cursorPos) return cursorPos;\n          cursor.popState();\n        } // forward flow\n\n\n        cursor.pushLeftBeforeInput();\n        cursor.pushLeftBeforeRequired();\n        cursor.pushLeftBeforeFilled(); // backward flow\n\n        if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT) {\n          cursor.pushRightBeforeInput();\n          cursor.pushRightBeforeRequired();\n          if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n          cursor.popState();\n          if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n          cursor.popState();\n        }\n\n        if (cursor.ok) return cursor.pos;\n        if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT) return 0;\n        cursor.popState();\n        if (cursor.ok) return cursor.pos;\n        cursor.popState();\n        if (cursor.ok) return cursor.pos; // cursor.popState();\n        // if (\n        //   cursor.pushRightBeforeInput() &&\n        //   // TODO HACK for lazy if has aligned left inside fixed and has came to the start - use start position\n        //   (!this.lazy || this.extractInput())\n        // ) return cursor.pos;\n\n        return 0;\n      }\n\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.RIGHT || direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_RIGHT) {\n        // forward flow\n        cursor.pushRightBeforeInput();\n        cursor.pushRightBeforeRequired();\n        if (cursor.pushRightBeforeFilled()) return cursor.pos;\n        if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_RIGHT) return this.value.length; // backward flow\n\n        cursor.popState();\n        if (cursor.ok) return cursor.pos;\n        cursor.popState();\n        if (cursor.ok) return cursor.pos;\n        return this.nearestInputPos(cursorPos, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT);\n      }\n\n      return cursorPos;\n    }\n    /** Get block by name */\n\n  }, {\n    key: \"maskedBlock\",\n    value: function maskedBlock(name) {\n      return this.maskedBlocks(name)[0];\n    }\n    /** Get all blocks by name */\n\n  }, {\n    key: \"maskedBlocks\",\n    value: function maskedBlocks(name) {\n      var _this4 = this;\n\n      var indices = this._maskedBlocks[name];\n      if (!indices) return [];\n      return indices.map(function (gi) {\n        return _this4._blocks[gi];\n      });\n    }\n  }]);\n\n  return MaskedPattern;\n}(_base_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nMaskedPattern.DEFAULTS = {\n  lazy: true,\n  placeholderChar: '_'\n};\nMaskedPattern.STOP_CHAR = '`';\nMaskedPattern.ESCAPE_CHAR = '\\\\';\nMaskedPattern.InputDefinition = _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nMaskedPattern.FixedDefinition = _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\n_core_holder_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"].MaskedPattern = MaskedPattern;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/chunk-tail-details.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChunksTailDetails; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\n\nvar _excluded = [\"chunks\"];\n\nvar ChunksTailDetails = /*#__PURE__*/function () {\n  /** */\n  function ChunksTailDetails() {\n    var chunks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, ChunksTailDetails);\n\n    this.chunks = chunks;\n    this.from = from;\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(ChunksTailDetails, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.chunks.map(String).join('');\n    } // $FlowFixMe no ideas\n\n  }, {\n    key: \"extend\",\n    value: function extend(tailChunk) {\n      if (!String(tailChunk)) return;\n      if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(tailChunk)) tailChunk = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](String(tailChunk));\n      var lastChunk = this.chunks[this.chunks.length - 1];\n      var extendLast = lastChunk && ( // if stops are same or tail has no stop\n      lastChunk.stop === tailChunk.stop || tailChunk.stop == null) && // if tail chunk goes just after last chunk\n      tailChunk.from === lastChunk.from + lastChunk.toString().length;\n\n      if (tailChunk instanceof _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\n        // check the ability to extend previous chunk\n        if (extendLast) {\n          // extend previous chunk\n          lastChunk.extend(tailChunk.toString());\n        } else {\n          // append new chunk\n          this.chunks.push(tailChunk);\n        }\n      } else if (tailChunk instanceof ChunksTailDetails) {\n        if (tailChunk.stop == null) {\n          // unwrap floating chunks to parent, keeping `from` pos\n          var firstTailChunk;\n\n          while (tailChunk.chunks.length && tailChunk.chunks[0].stop == null) {\n            firstTailChunk = tailChunk.chunks.shift();\n            firstTailChunk.from += tailChunk.from;\n            this.extend(firstTailChunk);\n          }\n        } // if tail chunk still has value\n\n\n        if (tailChunk.toString()) {\n          // if chunks contains stops, then popup stop to container\n          tailChunk.stop = tailChunk.blockIndex;\n          this.chunks.push(tailChunk);\n        }\n      }\n    }\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(masked) {\n      // $FlowFixMe\n      if (!(masked instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].MaskedPattern)) {\n        var tail = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.toString());\n        return tail.appendTo(masked);\n      }\n\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n      for (var ci = 0; ci < this.chunks.length && !details.skip; ++ci) {\n        var chunk = this.chunks[ci];\n\n        var lastBlockIter = masked._mapPosToBlock(masked.value.length);\n\n        var stop = chunk.stop;\n        var chunkBlock = void 0;\n\n        if (stop != null && ( // if block not found or stop is behind lastBlock\n        !lastBlockIter || lastBlockIter.index <= stop)) {\n          if (chunk instanceof ChunksTailDetails || // for continuous block also check if stop is exist\n          masked._stops.indexOf(stop) >= 0) {\n            details.aggregate(masked._appendPlaceholder(stop));\n          }\n\n          chunkBlock = chunk instanceof ChunksTailDetails && masked._blocks[stop];\n        }\n\n        if (chunkBlock) {\n          var tailDetails = chunkBlock.appendTail(chunk);\n          tailDetails.skip = false; // always ignore skip, it will be set on last\n\n          details.aggregate(tailDetails);\n          masked._value += tailDetails.inserted; // get not inserted chars\n\n          var remainChars = chunk.toString().slice(tailDetails.rawInserted.length);\n          if (remainChars) details.aggregate(masked.append(remainChars, {\n            tail: true\n          }));\n        } else {\n          details.aggregate(masked.append(chunk.toString(), {\n            tail: true\n          }));\n        }\n      }\n      return details;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        chunks: this.chunks.map(function (c) {\n          return c.state;\n        }),\n        from: this.from,\n        stop: this.stop,\n        blockIndex: this.blockIndex\n      };\n    },\n    set: function set(state) {\n      var chunks = state.chunks,\n          props = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.b)(state, _excluded);\n\n      Object.assign(this, props);\n      this.chunks = chunks.map(function (cstate) {\n        var chunk = \"chunks\" in cstate ? new ChunksTailDetails() : new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](); // $FlowFixMe already checked above\n\n        chunk.state = cstate;\n        return chunk;\n      });\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(beforePos) {\n      if (!this.chunks.length || beforePos != null && this.from >= beforePos) return '';\n      var chunkShiftPos = beforePos != null ? beforePos - this.from : beforePos;\n      var ci = 0;\n\n      while (ci < this.chunks.length) {\n        var chunk = this.chunks[ci];\n        var shiftChar = chunk.unshift(chunkShiftPos);\n\n        if (chunk.toString()) {\n          // chunk still contains value\n          // but not shifted - means no more available chars to shift\n          if (!shiftChar) break;\n          ++ci;\n        } else {\n          // clean if chunk has no value\n          this.chunks.splice(ci, 1);\n        }\n\n        if (shiftChar) return shiftChar;\n      }\n\n      return '';\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (!this.chunks.length) return '';\n      var ci = this.chunks.length - 1;\n\n      while (0 <= ci) {\n        var chunk = this.chunks[ci];\n        var shiftChar = chunk.shift();\n\n        if (chunk.toString()) {\n          // chunk still contains value\n          // but not shifted - means no more available chars to shift\n          if (!shiftChar) break;\n          --ci;\n        } else {\n          // clean if chunk has no value\n          this.chunks.splice(ci, 1);\n        }\n\n        if (shiftChar) return shiftChar;\n      }\n\n      return '';\n    }\n  }]);\n\n  return ChunksTailDetails;\n}();\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/cursor.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/cursor.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PatternCursor; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n\n\n\n\nvar PatternCursor = /*#__PURE__*/function () {\n  function PatternCursor(masked, pos) {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, PatternCursor);\n\n    this.masked = masked;\n    this._log = [];\n\n    var _ref = masked._mapPosToBlock(pos) || (pos < 0 ? // first\n    {\n      index: 0,\n      offset: 0\n    } : // last\n    {\n      index: this.masked._blocks.length,\n      offset: 0\n    }),\n        offset = _ref.offset,\n        index = _ref.index;\n\n    this.offset = offset;\n    this.index = index;\n    this.ok = false;\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(PatternCursor, [{\n    key: \"block\",\n    get: function get() {\n      return this.masked._blocks[this.index];\n    }\n  }, {\n    key: \"pos\",\n    get: function get() {\n      return this.masked._blockStartPos(this.index) + this.offset;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        index: this.index,\n        offset: this.offset,\n        ok: this.ok\n      };\n    },\n    set: function set(s) {\n      Object.assign(this, s);\n    }\n  }, {\n    key: \"pushState\",\n    value: function pushState() {\n      this._log.push(this.state);\n    }\n  }, {\n    key: \"popState\",\n    value: function popState() {\n      var s = this._log.pop();\n\n      this.state = s;\n      return s;\n    }\n  }, {\n    key: \"bindBlock\",\n    value: function bindBlock() {\n      if (this.block) return;\n\n      if (this.index < 0) {\n        this.index = 0;\n        this.offset = 0;\n      }\n\n      if (this.index >= this.masked._blocks.length) {\n        this.index = this.masked._blocks.length - 1;\n        this.offset = this.block.value.length;\n      }\n    }\n  }, {\n    key: \"_pushLeft\",\n    value: function _pushLeft(fn) {\n      this.pushState();\n\n      for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((_this$block = this.block) === null || _this$block === void 0 ? void 0 : _this$block.value.length) || 0) {\n        var _this$block;\n\n        if (fn()) return this.ok = true;\n      }\n\n      return this.ok = false;\n    }\n  }, {\n    key: \"_pushRight\",\n    value: function _pushRight(fn) {\n      this.pushState();\n\n      for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\n        if (fn()) return this.ok = true;\n      }\n\n      return this.ok = false;\n    }\n  }, {\n    key: \"pushLeftBeforeFilled\",\n    value: function pushLeftBeforeFilled() {\n      var _this = this;\n\n      return this._pushLeft(function () {\n        if (_this.block.isFixed || !_this.block.value) return;\n        _this.offset = _this.block.nearestInputPos(_this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT);\n        if (_this.offset !== 0) return true;\n      });\n    }\n  }, {\n    key: \"pushLeftBeforeInput\",\n    value: function pushLeftBeforeInput() {\n      var _this2 = this;\n\n      // cases:\n      // filled input: 00|\n      // optional empty input: 00[]|\n      // nested block: XX<[]>|\n      return this._pushLeft(function () {\n        if (_this2.block.isFixed) return;\n        _this2.offset = _this2.block.nearestInputPos(_this2.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT);\n        return true;\n      });\n    }\n  }, {\n    key: \"pushLeftBeforeRequired\",\n    value: function pushLeftBeforeRequired() {\n      var _this3 = this;\n\n      return this._pushLeft(function () {\n        if (_this3.block.isFixed || _this3.block.isOptional && !_this3.block.value) return;\n        _this3.offset = _this3.block.nearestInputPos(_this3.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT);\n        return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeFilled\",\n    value: function pushRightBeforeFilled() {\n      var _this4 = this;\n\n      return this._pushRight(function () {\n        if (_this4.block.isFixed || !_this4.block.value) return;\n        _this4.offset = _this4.block.nearestInputPos(_this4.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_RIGHT);\n        if (_this4.offset !== _this4.block.value.length) return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeInput\",\n    value: function pushRightBeforeInput() {\n      var _this5 = this;\n\n      return this._pushRight(function () {\n        if (_this5.block.isFixed) return; // const o = this.offset;\n\n        _this5.offset = _this5.block.nearestInputPos(_this5.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE); // HACK cases like (STILL DOES NOT WORK FOR NESTED)\n        // aa|X\n        // aa<X|[]>X_    - this will not work\n        // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\n\n        return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeRequired\",\n    value: function pushRightBeforeRequired() {\n      var _this6 = this;\n\n      return this._pushRight(function () {\n        if (_this6.block.isFixed || _this6.block.isOptional && !_this6.block.value) return; // TODO check |[*]XX_\n\n        _this6.offset = _this6.block.nearestInputPos(_this6.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE);\n        return true;\n      });\n    }\n  }]);\n\n  return PatternCursor;\n}();\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/fixed-definition.js ***!\n  \\*******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PatternFixedDefinition; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\nvar PatternFixedDefinition = /*#__PURE__*/function () {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n  function PatternFixedDefinition(opts) {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, PatternFixedDefinition);\n\n    Object.assign(this, opts);\n    this._value = '';\n    this.isFixed = true;\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(PatternFixedDefinition, [{\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.isUnmasking ? this.value : '';\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._isRawInput = false;\n      this._value = '';\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n      this._value = this._value.slice(0, fromPos) + this._value.slice(toPos);\n      if (!this._value) this._isRawInput = false;\n      return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    }\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE;\n      var minPos = 0;\n      var maxPos = this._value.length;\n\n      switch (direction) {\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.LEFT:\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_LEFT:\n          return minPos;\n\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE:\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.RIGHT:\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_RIGHT:\n        default:\n          return maxPos;\n      }\n    }\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n      var flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return flags.raw && this._isRawInput && this._value.slice(fromPos, toPos) || '';\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isFilled\",\n    get: function get() {\n      return Boolean(this._value);\n    }\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n      if (this._value) return details;\n      var appended = this.char === ch;\n      var isResolved = appended && (this.isUnmasking || flags.input || flags.raw) && (!flags.raw || !this.eager) && !flags.tail;\n      if (isResolved) details.rawInserted = this.char;\n      this._value = details.inserted = this.char;\n      this._isRawInput = isResolved && (flags.raw || flags.input);\n      return details;\n    }\n  }, {\n    key: \"_appendEager\",\n    value: function _appendEager() {\n      return this._appendChar(this.char, {\n        tail: true\n      });\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n      if (this._value) return details;\n      this._value = details.inserted = this.char;\n      return details;\n    }\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('');\n    } // $FlowFixMe no ideas\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(tail)) tail = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](String(tail));\n      return tail.appendTo(this);\n    }\n  }, {\n    key: \"append\",\n    value: function append(str, flags, tail) {\n      var details = this._appendChar(str[0], flags);\n\n      if (tail != null) {\n        details.tailShift += this.appendTail(tail).tailShift;\n      }\n\n      return details;\n    }\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {}\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        _value: this._value,\n        _isRawInput: this._isRawInput\n      };\n    },\n    set: function set(state) {\n      Object.assign(this, state);\n    }\n  }]);\n\n  return PatternFixedDefinition;\n}();\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/input-definition.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/input-definition.js ***!\n  \\*******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DEFAULT_INPUT_DEFINITIONS\": function() { return /* binding */ DEFAULT_INPUT_DEFINITIONS; },\n/* harmony export */   \"default\": function() { return /* binding */ PatternInputDefinition; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\n\nvar _excluded = [\"mask\"];\nvar DEFAULT_INPUT_DEFINITIONS = {\n  '0': /\\d/,\n  'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n  // http://stackoverflow.com/a/22075070\n  '*': /./\n};\n/** */\n\nvar PatternInputDefinition = /*#__PURE__*/function () {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n  function PatternInputDefinition(opts) {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, PatternInputDefinition);\n\n    var mask = opts.mask,\n        blockOpts = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.b)(opts, _excluded);\n\n    this.masked = (0,_factory_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      mask: mask\n    });\n    Object.assign(this, blockOpts);\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(PatternInputDefinition, [{\n    key: \"reset\",\n    value: function reset() {\n      this.isFilled = false;\n      this.masked.reset();\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      if (fromPos === 0 && toPos >= 1) {\n        this.isFilled = false;\n        return this.masked.remove(fromPos, toPos);\n      }\n\n      return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.masked.value || (this.isFilled && !this.isOptional ? this.placeholderChar : '');\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.masked.unmaskedValue;\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return Boolean(this.masked.value) || this.isOptional;\n    }\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this.isFilled) return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      var state = this.masked.state; // simulate input\n\n      var details = this.masked._appendChar(ch, flags);\n\n      if (details.inserted && this.doValidate(flags) === false) {\n        details.inserted = details.rawInserted = '';\n        this.masked.state = state;\n      }\n\n      if (!details.inserted && !this.isOptional && !this.lazy && !flags.input) {\n        details.inserted = this.placeholderChar;\n      }\n\n      details.skip = !details.inserted && !this.isOptional;\n      this.isFilled = Boolean(details.inserted);\n      return details;\n    }\n  }, {\n    key: \"append\",\n    value: function append() {\n      var _this$masked;\n\n      // TODO probably should be done via _appendChar\n      return (_this$masked = this.masked).append.apply(_this$masked, arguments);\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      if (this.isFilled || this.isOptional) return details;\n      this.isFilled = true;\n      details.inserted = this.placeholderChar;\n      return details;\n    }\n  }, {\n    key: \"_appendEager\",\n    value: function _appendEager() {\n      return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    }\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this$masked2;\n\n      return (_this$masked2 = this.masked).extractTail.apply(_this$masked2, arguments);\n    }\n  }, {\n    key: \"appendTail\",\n    value: function appendTail() {\n      var _this$masked3;\n\n      return (_this$masked3 = this.masked).appendTail.apply(_this$masked3, arguments);\n    }\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 ? arguments[2] : undefined;\n      return this.masked.extractInput(fromPos, toPos, flags);\n    }\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.NONE;\n      var minPos = 0;\n      var maxPos = this.value.length;\n      var boundPos = Math.min(Math.max(cursorPos, minPos), maxPos);\n\n      switch (direction) {\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.LEFT:\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.FORCE_LEFT:\n          return this.isComplete ? boundPos : minPos;\n\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.RIGHT:\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.FORCE_RIGHT:\n          return this.isComplete ? boundPos : maxPos;\n\n        case _core_utils_js__WEBPACK_IMPORTED_MODULE_3__.DIRECTION.NONE:\n        default:\n          return boundPos;\n      }\n    }\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _this$masked4, _this$parent;\n\n      return (_this$masked4 = this.masked).doValidate.apply(_this$masked4, arguments) && (!this.parent || (_this$parent = this.parent).doValidate.apply(_this$parent, arguments));\n    }\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      this.masked.doCommit();\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        masked: this.masked.state,\n        isFilled: this.isFilled\n      };\n    },\n    set: function set(state) {\n      this.masked.state = state.masked;\n      this.isFilled = state.isFilled;\n    }\n  }]);\n\n  return PatternInputDefinition;\n}();\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pipe.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pipe.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PIPE_TYPE\": function() { return /* binding */ PIPE_TYPE; },\n/* harmony export */   \"createPipe\": function() { return /* binding */ createPipe; },\n/* harmony export */   \"pipe\": function() { return /* binding */ pipe; }\n/* harmony export */ });\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n\n\n\n\n\n\n/** Mask pipe source and destination types */\n\nvar PIPE_TYPE = {\n  MASKED: 'value',\n  UNMASKED: 'unmaskedValue',\n  TYPED: 'typedValue'\n};\n/** Creates new pipe function depending on mask type, source and destination options */\n\nfunction createPipe(mask) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : PIPE_TYPE.MASKED;\n  var to = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : PIPE_TYPE.MASKED;\n  var masked = (0,_factory_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(mask);\n  return function (value) {\n    return masked.runIsolated(function (m) {\n      m[from] = value;\n      return m[to];\n    });\n  };\n}\n/** Pipes value through mask depending on mask type, source and destination options */\n\nfunction pipe(value) {\n  for (var _len = arguments.length, pipeArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    pipeArgs[_key - 1] = arguments[_key];\n  }\n\n  return createPipe.apply(void 0, pipeArgs)(value);\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].PIPE_TYPE = PIPE_TYPE;\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createPipe = createPipe;\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pipe = pipe;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/range.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/range.js ***!\n  \\************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedRange; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _pattern_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Pattern which accepts ranges */\n\nvar MaskedRange = /*#__PURE__*/function (_MaskedPattern) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(MaskedRange, _MaskedPattern);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(MaskedRange);\n\n  function MaskedRange() {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, MaskedRange);\n\n    return _super.apply(this, arguments);\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(MaskedRange, [{\n    key: \"_matchFrom\",\n    get:\n    /**\n      Optionally sets max length of pattern.\n      Used when pattern length is longer then `to` param length. Pads zeros at start in this case.\n    */\n\n    /** Min bound */\n\n    /** Max bound */\n\n    /** */\n    function get() {\n      return this.maxLength - String(this.from).length;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"_update\",\n    value: function _update(opts) {\n      // TODO type\n      opts = Object.assign({\n        to: this.to || 0,\n        from: this.from || 0,\n        maxLength: this.maxLength || 0\n      }, opts);\n      var maxLength = String(opts.to).length;\n      if (opts.maxLength != null) maxLength = Math.max(maxLength, opts.maxLength);\n      opts.maxLength = maxLength;\n      var fromStr = String(opts.from).padStart(maxLength, '0');\n      var toStr = String(opts.to).padStart(maxLength, '0');\n      var sameCharsCount = 0;\n\n      while (sameCharsCount < toStr.length && toStr[sameCharsCount] === fromStr[sameCharsCount]) {\n        ++sameCharsCount;\n      }\n\n      opts.mask = toStr.slice(0, sameCharsCount).replace(/0/g, '\\\\0') + '0'.repeat(maxLength - sameCharsCount);\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedRange.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedRange.prototype), \"isComplete\", this) && Boolean(this.value);\n    }\n  }, {\n    key: \"boundaries\",\n    value: function boundaries(str) {\n      var minstr = '';\n      var maxstr = '';\n\n      var _ref = str.match(/^(\\D*)(\\d*)(\\D*)/) || [],\n          _ref2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_ref, 3),\n          placeholder = _ref2[1],\n          num = _ref2[2];\n\n      if (num) {\n        minstr = '0'.repeat(placeholder.length) + num;\n        maxstr = '9'.repeat(placeholder.length) + num;\n      }\n\n      minstr = minstr.padEnd(this.maxLength, '0');\n      maxstr = maxstr.padEnd(this.maxLength, '9');\n      return [minstr, maxstr];\n    } // TODO str is a single char everytime\n\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var details;\n\n      var _normalizePrepare = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.normalizePrepare)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedRange.prototype), \"doPrepare\", this).call(this, ch.replace(/\\D/g, ''), flags));\n\n      var _normalizePrepare2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_normalizePrepare, 2);\n\n      ch = _normalizePrepare2[0];\n      details = _normalizePrepare2[1];\n      if (!this.autofix || !ch) return ch;\n      var fromStr = String(this.from).padStart(this.maxLength, '0');\n      var toStr = String(this.to).padStart(this.maxLength, '0');\n      var nextVal = this.value + ch;\n      if (nextVal.length > this.maxLength) return '';\n\n      var _this$boundaries = this.boundaries(nextVal),\n          _this$boundaries2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_this$boundaries, 2),\n          minstr = _this$boundaries2[0],\n          maxstr = _this$boundaries2[1];\n\n      if (Number(maxstr) < this.from) return fromStr[nextVal.length - 1];\n\n      if (Number(minstr) > this.to) {\n        if (this.autofix === 'pad' && nextVal.length < this.maxLength) {\n          return ['', details.aggregate(this.append(fromStr[nextVal.length - 1] + ch, flags))];\n        }\n\n        return toStr[nextVal.length - 1];\n      }\n\n      return ch;\n    }\n    /**\n      @override\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2;\n\n      var str = this.value;\n      var firstNonZero = str.search(/[^0]/);\n      if (firstNonZero === -1 && str.length <= this._matchFrom) return true;\n\n      var _this$boundaries3 = this.boundaries(str),\n          _this$boundaries4 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.f)(_this$boundaries3, 2),\n          minstr = _this$boundaries4[0],\n          maxstr = _this$boundaries4[1];\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.from <= Number(maxstr) && Number(minstr) <= this.to && (_get2 = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedRange.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args));\n    }\n  }]);\n\n  return MaskedRange;\n}(_pattern_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n_core_holder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].MaskedRange = MaskedRange;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/regexp.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/regexp.js ***!\n  \\*************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedRegExp; }\n/* harmony export */ });\n/* harmony import */ var _rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_rollupPluginBabelHelpers-67bba7fb.js */ \"./node_modules/imask/esm/_rollupPluginBabelHelpers-67bba7fb.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n\n\n\n\n\n\n\n/** Masking by RegExp */\n\nvar MaskedRegExp = /*#__PURE__*/function (_Masked) {\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.d)(MaskedRegExp, _Masked);\n\n  var _super = (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.e)(MaskedRegExp);\n\n  function MaskedRegExp() {\n    (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.a)(this, MaskedRegExp);\n\n    return _super.apply(this, arguments);\n  }\n\n  (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__._)(MaskedRegExp, [{\n    key: \"_update\",\n    value:\n    /**\n      @override\n      @param {Object} opts\n    */\n    function _update(opts) {\n      if (opts.mask) opts.validate = function (value) {\n        return value.search(opts.mask) >= 0;\n      };\n\n      (0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.g)((0,_rollupPluginBabelHelpers_67bba7fb_js__WEBPACK_IMPORTED_MODULE_0__.h)(MaskedRegExp.prototype), \"_update\", this).call(this, opts);\n    }\n  }]);\n\n  return MaskedRegExp;\n}(_base_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n_core_holder_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MaskedRegExp = MaskedRegExp;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/dom7/dom7.esm.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/dom7/dom7.esm.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"$\": function() { return /* binding */ $; },\n/* harmony export */   \"add\": function() { return /* binding */ add; },\n/* harmony export */   \"addClass\": function() { return /* binding */ addClass; },\n/* harmony export */   \"animate\": function() { return /* binding */ animate; },\n/* harmony export */   \"animationEnd\": function() { return /* binding */ animationEnd; },\n/* harmony export */   \"append\": function() { return /* binding */ append; },\n/* harmony export */   \"appendTo\": function() { return /* binding */ appendTo; },\n/* harmony export */   \"attr\": function() { return /* binding */ attr; },\n/* harmony export */   \"blur\": function() { return /* binding */ blur; },\n/* harmony export */   \"change\": function() { return /* binding */ change; },\n/* harmony export */   \"children\": function() { return /* binding */ children; },\n/* harmony export */   \"click\": function() { return /* binding */ click; },\n/* harmony export */   \"closest\": function() { return /* binding */ closest; },\n/* harmony export */   \"css\": function() { return /* binding */ css; },\n/* harmony export */   \"data\": function() { return /* binding */ data; },\n/* harmony export */   \"dataset\": function() { return /* binding */ dataset; },\n/* harmony export */   \"detach\": function() { return /* binding */ detach; },\n/* harmony export */   \"each\": function() { return /* binding */ each; },\n/* harmony export */   \"empty\": function() { return /* binding */ empty; },\n/* harmony export */   \"eq\": function() { return /* binding */ eq; },\n/* harmony export */   \"filter\": function() { return /* binding */ filter; },\n/* harmony export */   \"find\": function() { return /* binding */ find; },\n/* harmony export */   \"focus\": function() { return /* binding */ focus; },\n/* harmony export */   \"focusin\": function() { return /* binding */ focusin; },\n/* harmony export */   \"focusout\": function() { return /* binding */ focusout; },\n/* harmony export */   \"hasClass\": function() { return /* binding */ hasClass; },\n/* harmony export */   \"height\": function() { return /* binding */ height; },\n/* harmony export */   \"hide\": function() { return /* binding */ hide; },\n/* harmony export */   \"html\": function() { return /* binding */ html; },\n/* harmony export */   \"index\": function() { return /* binding */ index; },\n/* harmony export */   \"insertAfter\": function() { return /* binding */ insertAfter; },\n/* harmony export */   \"insertBefore\": function() { return /* binding */ insertBefore; },\n/* harmony export */   \"is\": function() { return /* binding */ is; },\n/* harmony export */   \"keydown\": function() { return /* binding */ keydown; },\n/* harmony export */   \"keypress\": function() { return /* binding */ keypress; },\n/* harmony export */   \"keyup\": function() { return /* binding */ keyup; },\n/* harmony export */   \"mousedown\": function() { return /* binding */ mousedown; },\n/* harmony export */   \"mouseenter\": function() { return /* binding */ mouseenter; },\n/* harmony export */   \"mouseleave\": function() { return /* binding */ mouseleave; },\n/* harmony export */   \"mousemove\": function() { return /* binding */ mousemove; },\n/* harmony export */   \"mouseout\": function() { return /* binding */ mouseout; },\n/* harmony export */   \"mouseover\": function() { return /* binding */ mouseover; },\n/* harmony export */   \"mouseup\": function() { return /* binding */ mouseup; },\n/* harmony export */   \"next\": function() { return /* binding */ next; },\n/* harmony export */   \"nextAll\": function() { return /* binding */ nextAll; },\n/* harmony export */   \"off\": function() { return /* binding */ off; },\n/* harmony export */   \"offset\": function() { return /* binding */ offset; },\n/* harmony export */   \"on\": function() { return /* binding */ on; },\n/* harmony export */   \"once\": function() { return /* binding */ once; },\n/* harmony export */   \"outerHeight\": function() { return /* binding */ outerHeight; },\n/* harmony export */   \"outerWidth\": function() { return /* binding */ outerWidth; },\n/* harmony export */   \"parent\": function() { return /* binding */ parent; },\n/* harmony export */   \"parents\": function() { return /* binding */ parents; },\n/* harmony export */   \"prepend\": function() { return /* binding */ prepend; },\n/* harmony export */   \"prependTo\": function() { return /* binding */ prependTo; },\n/* harmony export */   \"prev\": function() { return /* binding */ prev; },\n/* harmony export */   \"prevAll\": function() { return /* binding */ prevAll; },\n/* harmony export */   \"prop\": function() { return /* binding */ prop; },\n/* harmony export */   \"remove\": function() { return /* binding */ remove; },\n/* harmony export */   \"removeAttr\": function() { return /* binding */ removeAttr; },\n/* harmony export */   \"removeClass\": function() { return /* binding */ removeClass; },\n/* harmony export */   \"removeData\": function() { return /* binding */ removeData; },\n/* harmony export */   \"resize\": function() { return /* binding */ resize; },\n/* harmony export */   \"scroll\": function() { return /* binding */ scroll; },\n/* harmony export */   \"scrollLeft\": function() { return /* binding */ scrollLeft; },\n/* harmony export */   \"scrollTo\": function() { return /* binding */ scrollTo; },\n/* harmony export */   \"scrollTop\": function() { return /* binding */ scrollTop; },\n/* harmony export */   \"show\": function() { return /* binding */ show; },\n/* harmony export */   \"siblings\": function() { return /* binding */ siblings; },\n/* harmony export */   \"stop\": function() { return /* binding */ stop; },\n/* harmony export */   \"styles\": function() { return /* binding */ styles; },\n/* harmony export */   \"submit\": function() { return /* binding */ submit; },\n/* harmony export */   \"text\": function() { return /* binding */ text; },\n/* harmony export */   \"toggleClass\": function() { return /* binding */ toggleClass; },\n/* harmony export */   \"touchend\": function() { return /* binding */ touchend; },\n/* harmony export */   \"touchmove\": function() { return /* binding */ touchmove; },\n/* harmony export */   \"touchstart\": function() { return /* binding */ touchstart; },\n/* harmony export */   \"transform\": function() { return /* binding */ transform; },\n/* harmony export */   \"transition\": function() { return /* binding */ transition; },\n/* harmony export */   \"transitionEnd\": function() { return /* binding */ transitionEnd; },\n/* harmony export */   \"transitionStart\": function() { return /* binding */ transitionStart; },\n/* harmony export */   \"trigger\": function() { return /* binding */ trigger; },\n/* harmony export */   \"val\": function() { return /* binding */ val; },\n/* harmony export */   \"value\": function() { return /* binding */ value; },\n/* harmony export */   \"width\": function() { return /* binding */ width; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/**\n * Dom7 4.0.6\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2023, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: February 2, 2023\n */\n\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionStart(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionstart', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionstart', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n    const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ($);\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_Symbol.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/lodash-es/_Symbol.js ***!\n  \\*******************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _root_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_root.js */ \"./node_modules/lodash-es/_root.js\");\n\n\n/** Built-in value references. */\nvar Symbol = _root_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Symbol;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Symbol);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_baseGetTag.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/lodash-es/_baseGetTag.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_Symbol.js */ \"./node_modules/lodash-es/_Symbol.js\");\n/* harmony import */ var _getRawTag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_getRawTag.js */ \"./node_modules/lodash-es/_getRawTag.js\");\n/* harmony import */ var _objectToString_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_objectToString.js */ \"./node_modules/lodash-es/_objectToString.js\");\n\n\n\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ? _Symbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? (0,_getRawTag_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)\n    : (0,_objectToString_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (baseGetTag);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_baseTrim.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/lodash-es/_baseTrim.js ***!\n  \\*********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _trimmedEndIndex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_trimmedEndIndex.js */ \"./node_modules/lodash-es/_trimmedEndIndex.js\");\n\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, (0,_trimmedEndIndex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (baseTrim);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_freeGlobal.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/lodash-es/_freeGlobal.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (freeGlobal);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_getRawTag.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/lodash-es/_getRawTag.js ***!\n  \\**********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_Symbol.js */ \"./node_modules/lodash-es/_Symbol.js\");\n\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ? _Symbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (getRawTag);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_objectToString.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/lodash-es/_objectToString.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (objectToString);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_root.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/lodash-es/_root.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _freeGlobal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_freeGlobal.js */ \"./node_modules/lodash-es/_freeGlobal.js\");\n\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] || freeSelf || Function('return this')();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (root);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_trimmedEndIndex.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/lodash-es/_trimmedEndIndex.js ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (trimmedEndIndex);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/debounce.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/debounce.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _isObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isObject.js */ \"./node_modules/lodash-es/isObject.js\");\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./now.js */ \"./node_modules/lodash-es/now.js\");\n/* harmony import */ var _toNumber_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toNumber.js */ \"./node_modules/lodash-es/toNumber.js\");\n\n\n\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = (0,_toNumber_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(wait) || 0;\n  if ((0,_isObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax((0,_toNumber_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = (0,_now_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge((0,_now_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])());\n  }\n\n  function debounced() {\n    var time = (0,_now_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (debounce);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/isObject.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/isObject.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (isObject);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/isObjectLike.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/lodash-es/isObjectLike.js ***!\n  \\************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (isObjectLike);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/isSymbol.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/isSymbol.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_baseGetTag.js */ \"./node_modules/lodash-es/_baseGetTag.js\");\n/* harmony import */ var _isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isObjectLike.js */ \"./node_modules/lodash-es/isObjectLike.js\");\n\n\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    ((0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(value) && (0,_baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value) == symbolTag);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (isSymbol);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/now.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/lodash-es/now.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _root_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_root.js */ \"./node_modules/lodash-es/_root.js\");\n\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return _root_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Date.now();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (now);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/throttle.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/throttle.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _debounce_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./debounce.js */ \"./node_modules/lodash-es/debounce.js\");\n/* harmony import */ var _isObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isObject.js */ \"./node_modules/lodash-es/isObject.js\");\n\n\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if ((0,_isObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return (0,_debounce_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (throttle);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/toNumber.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/toNumber.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _baseTrim_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_baseTrim.js */ \"./node_modules/lodash-es/_baseTrim.js\");\n/* harmony import */ var _isObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isObject.js */ \"./node_modules/lodash-es/isObject.js\");\n/* harmony import */ var _isSymbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isSymbol.js */ \"./node_modules/lodash-es/isSymbol.js\");\n\n\n\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if ((0,_isSymbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(value)) {\n    return NAN;\n  }\n  if ((0,_isObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = (0,_isObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = (0,_baseTrim_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (toNumber);\n\n\n/***/ }),\n\n/***/ \"./node_modules/simplebar-core/dist/index.mjs\":\n/*!****************************************************!*\\\n  !*** ./node_modules/simplebar-core/dist/index.mjs ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SimpleBarCore; }\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"./node_modules/lodash-es/throttle.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"./node_modules/lodash-es/debounce.js\");\n/* harmony import */ var can_use_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! can-use-dom */ \"./node_modules/can-use-dom/index.js\");\n/**\n * simplebar-core - v1.2.4\n * Scrollbars, simpler.\n * https://grsmto.github.io/simplebar/\n *\n * Made by Adrien Denat from a fork by Jonathan Nicol\n * Under MIT License\n */\n\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar cachedScrollbarWidth = null;\nvar cachedDevicePixelRatio = null;\nif (can_use_dom__WEBPACK_IMPORTED_MODULE_0__) {\n    window.addEventListener('resize', function () {\n        if (cachedDevicePixelRatio !== window.devicePixelRatio) {\n            cachedDevicePixelRatio = window.devicePixelRatio;\n            cachedScrollbarWidth = null;\n        }\n    });\n}\nfunction scrollbarWidth() {\n    if (cachedScrollbarWidth === null) {\n        if (typeof document === 'undefined') {\n            cachedScrollbarWidth = 0;\n            return cachedScrollbarWidth;\n        }\n        var body = document.body;\n        var box = document.createElement('div');\n        box.classList.add('simplebar-hide-scrollbar');\n        body.appendChild(box);\n        var width = box.getBoundingClientRect().right;\n        body.removeChild(box);\n        cachedScrollbarWidth = width;\n    }\n    return cachedScrollbarWidth;\n}\n\nfunction getElementWindow$1(element) {\n    if (!element ||\n        !element.ownerDocument ||\n        !element.ownerDocument.defaultView) {\n        return window;\n    }\n    return element.ownerDocument.defaultView;\n}\nfunction getElementDocument$1(element) {\n    if (!element || !element.ownerDocument) {\n        return document;\n    }\n    return element.ownerDocument;\n}\n// Helper function to retrieve options from element attributes\nvar getOptions$1 = function (obj) {\n    var initialObj = {};\n    var options = Array.prototype.reduce.call(obj, function (acc, attribute) {\n        var option = attribute.name.match(/data-simplebar-(.+)/);\n        if (option) {\n            var key = option[1].replace(/\\W+(.)/g, function (_, chr) { return chr.toUpperCase(); });\n            switch (attribute.value) {\n                case 'true':\n                    acc[key] = true;\n                    break;\n                case 'false':\n                    acc[key] = false;\n                    break;\n                case undefined:\n                    acc[key] = true;\n                    break;\n                default:\n                    acc[key] = attribute.value;\n            }\n        }\n        return acc;\n    }, initialObj);\n    return options;\n};\nfunction addClasses$1(el, classes) {\n    var _a;\n    if (!el)\n        return;\n    (_a = el.classList).add.apply(_a, classes.split(' '));\n}\nfunction removeClasses$1(el, classes) {\n    if (!el)\n        return;\n    classes.split(' ').forEach(function (className) {\n        el.classList.remove(className);\n    });\n}\nfunction classNamesToQuery$1(classNames) {\n    return \".\".concat(classNames.split(' ').join('.'));\n}\n\nvar helpers = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    getElementWindow: getElementWindow$1,\n    getElementDocument: getElementDocument$1,\n    getOptions: getOptions$1,\n    addClasses: addClasses$1,\n    removeClasses: removeClasses$1,\n    classNamesToQuery: classNamesToQuery$1\n});\n\nvar getElementWindow = getElementWindow$1, getElementDocument = getElementDocument$1, getOptions = getOptions$1, addClasses = addClasses$1, removeClasses = removeClasses$1, classNamesToQuery = classNamesToQuery$1;\nvar SimpleBarCore = /** @class */ (function () {\n    function SimpleBarCore(element, options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        this.removePreventClickId = null;\n        this.minScrollbarWidth = 20;\n        this.stopScrollDelay = 175;\n        this.isScrolling = false;\n        this.isMouseEntering = false;\n        this.scrollXTicking = false;\n        this.scrollYTicking = false;\n        this.wrapperEl = null;\n        this.contentWrapperEl = null;\n        this.contentEl = null;\n        this.offsetEl = null;\n        this.maskEl = null;\n        this.placeholderEl = null;\n        this.heightAutoObserverWrapperEl = null;\n        this.heightAutoObserverEl = null;\n        this.rtlHelpers = null;\n        this.scrollbarWidth = 0;\n        this.resizeObserver = null;\n        this.mutationObserver = null;\n        this.elStyles = null;\n        this.isRtl = null;\n        this.mouseX = 0;\n        this.mouseY = 0;\n        this.onMouseMove = function () { };\n        this.onWindowResize = function () { };\n        this.onStopScrolling = function () { };\n        this.onMouseEntered = function () { };\n        /**\n         * On scroll event handling\n         */\n        this.onScroll = function () {\n            var elWindow = getElementWindow(_this.el);\n            if (!_this.scrollXTicking) {\n                elWindow.requestAnimationFrame(_this.scrollX);\n                _this.scrollXTicking = true;\n            }\n            if (!_this.scrollYTicking) {\n                elWindow.requestAnimationFrame(_this.scrollY);\n                _this.scrollYTicking = true;\n            }\n            if (!_this.isScrolling) {\n                _this.isScrolling = true;\n                addClasses(_this.el, _this.classNames.scrolling);\n            }\n            _this.showScrollbar('x');\n            _this.showScrollbar('y');\n            _this.onStopScrolling();\n        };\n        this.scrollX = function () {\n            if (_this.axis.x.isOverflowing) {\n                _this.positionScrollbar('x');\n            }\n            _this.scrollXTicking = false;\n        };\n        this.scrollY = function () {\n            if (_this.axis.y.isOverflowing) {\n                _this.positionScrollbar('y');\n            }\n            _this.scrollYTicking = false;\n        };\n        this._onStopScrolling = function () {\n            removeClasses(_this.el, _this.classNames.scrolling);\n            if (_this.options.autoHide) {\n                _this.hideScrollbar('x');\n                _this.hideScrollbar('y');\n            }\n            _this.isScrolling = false;\n        };\n        this.onMouseEnter = function () {\n            if (!_this.isMouseEntering) {\n                addClasses(_this.el, _this.classNames.mouseEntered);\n                _this.showScrollbar('x');\n                _this.showScrollbar('y');\n                _this.isMouseEntering = true;\n            }\n            _this.onMouseEntered();\n        };\n        this._onMouseEntered = function () {\n            removeClasses(_this.el, _this.classNames.mouseEntered);\n            if (_this.options.autoHide) {\n                _this.hideScrollbar('x');\n                _this.hideScrollbar('y');\n            }\n            _this.isMouseEntering = false;\n        };\n        this._onMouseMove = function (e) {\n            _this.mouseX = e.clientX;\n            _this.mouseY = e.clientY;\n            if (_this.axis.x.isOverflowing || _this.axis.x.forceVisible) {\n                _this.onMouseMoveForAxis('x');\n            }\n            if (_this.axis.y.isOverflowing || _this.axis.y.forceVisible) {\n                _this.onMouseMoveForAxis('y');\n            }\n        };\n        this.onMouseLeave = function () {\n            _this.onMouseMove.cancel();\n            if (_this.axis.x.isOverflowing || _this.axis.x.forceVisible) {\n                _this.onMouseLeaveForAxis('x');\n            }\n            if (_this.axis.y.isOverflowing || _this.axis.y.forceVisible) {\n                _this.onMouseLeaveForAxis('y');\n            }\n            _this.mouseX = -1;\n            _this.mouseY = -1;\n        };\n        this._onWindowResize = function () {\n            // Recalculate scrollbarWidth in case it's a zoom\n            _this.scrollbarWidth = _this.getScrollbarWidth();\n            _this.hideNativeScrollbar();\n        };\n        this.onPointerEvent = function (e) {\n            if (!_this.axis.x.track.el ||\n                !_this.axis.y.track.el ||\n                !_this.axis.x.scrollbar.el ||\n                !_this.axis.y.scrollbar.el)\n                return;\n            var isWithinTrackXBounds, isWithinTrackYBounds;\n            _this.axis.x.track.rect = _this.axis.x.track.el.getBoundingClientRect();\n            _this.axis.y.track.rect = _this.axis.y.track.el.getBoundingClientRect();\n            if (_this.axis.x.isOverflowing || _this.axis.x.forceVisible) {\n                isWithinTrackXBounds = _this.isWithinBounds(_this.axis.x.track.rect);\n            }\n            if (_this.axis.y.isOverflowing || _this.axis.y.forceVisible) {\n                isWithinTrackYBounds = _this.isWithinBounds(_this.axis.y.track.rect);\n            }\n            // If any pointer event is called on the scrollbar\n            if (isWithinTrackXBounds || isWithinTrackYBounds) {\n                // Prevent event leaking\n                e.stopPropagation();\n                if (e.type === 'pointerdown' && e.pointerType !== 'touch') {\n                    if (isWithinTrackXBounds) {\n                        _this.axis.x.scrollbar.rect =\n                            _this.axis.x.scrollbar.el.getBoundingClientRect();\n                        if (_this.isWithinBounds(_this.axis.x.scrollbar.rect)) {\n                            _this.onDragStart(e, 'x');\n                        }\n                        else {\n                            _this.onTrackClick(e, 'x');\n                        }\n                    }\n                    if (isWithinTrackYBounds) {\n                        _this.axis.y.scrollbar.rect =\n                            _this.axis.y.scrollbar.el.getBoundingClientRect();\n                        if (_this.isWithinBounds(_this.axis.y.scrollbar.rect)) {\n                            _this.onDragStart(e, 'y');\n                        }\n                        else {\n                            _this.onTrackClick(e, 'y');\n                        }\n                    }\n                }\n            }\n        };\n        /**\n         * Drag scrollbar handle\n         */\n        this.drag = function (e) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n            if (!_this.draggedAxis || !_this.contentWrapperEl)\n                return;\n            var eventOffset;\n            var track = _this.axis[_this.draggedAxis].track;\n            var trackSize = (_b = (_a = track.rect) === null || _a === void 0 ? void 0 : _a[_this.axis[_this.draggedAxis].sizeAttr]) !== null && _b !== void 0 ? _b : 0;\n            var scrollbar = _this.axis[_this.draggedAxis].scrollbar;\n            var contentSize = (_d = (_c = _this.contentWrapperEl) === null || _c === void 0 ? void 0 : _c[_this.axis[_this.draggedAxis].scrollSizeAttr]) !== null && _d !== void 0 ? _d : 0;\n            var hostSize = parseInt((_f = (_e = _this.elStyles) === null || _e === void 0 ? void 0 : _e[_this.axis[_this.draggedAxis].sizeAttr]) !== null && _f !== void 0 ? _f : '0px', 10);\n            e.preventDefault();\n            e.stopPropagation();\n            if (_this.draggedAxis === 'y') {\n                eventOffset = e.pageY;\n            }\n            else {\n                eventOffset = e.pageX;\n            }\n            // Calculate how far the user's mouse is from the top/left of the scrollbar (minus the dragOffset).\n            var dragPos = eventOffset -\n                ((_h = (_g = track.rect) === null || _g === void 0 ? void 0 : _g[_this.axis[_this.draggedAxis].offsetAttr]) !== null && _h !== void 0 ? _h : 0) -\n                _this.axis[_this.draggedAxis].dragOffset;\n            dragPos = _this.draggedAxis === 'x' && _this.isRtl\n                ? ((_k = (_j = track.rect) === null || _j === void 0 ? void 0 : _j[_this.axis[_this.draggedAxis].sizeAttr]) !== null && _k !== void 0 ? _k : 0) -\n                    scrollbar.size -\n                    dragPos\n                : dragPos;\n            // Convert the mouse position into a percentage of the scrollbar height/width.\n            var dragPerc = dragPos / (trackSize - scrollbar.size);\n            // Scroll the content by the same percentage.\n            var scrollPos = dragPerc * (contentSize - hostSize);\n            // Fix browsers inconsistency on RTL\n            if (_this.draggedAxis === 'x' && _this.isRtl) {\n                scrollPos = ((_l = SimpleBarCore.getRtlHelpers()) === null || _l === void 0 ? void 0 : _l.isScrollingToNegative)\n                    ? -scrollPos\n                    : scrollPos;\n            }\n            _this.contentWrapperEl[_this.axis[_this.draggedAxis].scrollOffsetAttr] =\n                scrollPos;\n        };\n        /**\n         * End scroll handle drag\n         */\n        this.onEndDrag = function (e) {\n            var elDocument = getElementDocument(_this.el);\n            var elWindow = getElementWindow(_this.el);\n            e.preventDefault();\n            e.stopPropagation();\n            removeClasses(_this.el, _this.classNames.dragging);\n            elDocument.removeEventListener('mousemove', _this.drag, true);\n            elDocument.removeEventListener('mouseup', _this.onEndDrag, true);\n            _this.removePreventClickId = elWindow.setTimeout(function () {\n                // Remove these asynchronously so we still suppress click events\n                // generated simultaneously with mouseup.\n                elDocument.removeEventListener('click', _this.preventClick, true);\n                elDocument.removeEventListener('dblclick', _this.preventClick, true);\n                _this.removePreventClickId = null;\n            });\n        };\n        /**\n         * Handler to ignore click events during drag\n         */\n        this.preventClick = function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n        };\n        this.el = element;\n        this.options = __assign(__assign({}, SimpleBarCore.defaultOptions), options);\n        this.classNames = __assign(__assign({}, SimpleBarCore.defaultOptions.classNames), options.classNames);\n        this.axis = {\n            x: {\n                scrollOffsetAttr: 'scrollLeft',\n                sizeAttr: 'width',\n                scrollSizeAttr: 'scrollWidth',\n                offsetSizeAttr: 'offsetWidth',\n                offsetAttr: 'left',\n                overflowAttr: 'overflowX',\n                dragOffset: 0,\n                isOverflowing: true,\n                forceVisible: false,\n                track: { size: null, el: null, rect: null, isVisible: false },\n                scrollbar: { size: null, el: null, rect: null, isVisible: false }\n            },\n            y: {\n                scrollOffsetAttr: 'scrollTop',\n                sizeAttr: 'height',\n                scrollSizeAttr: 'scrollHeight',\n                offsetSizeAttr: 'offsetHeight',\n                offsetAttr: 'top',\n                overflowAttr: 'overflowY',\n                dragOffset: 0,\n                isOverflowing: true,\n                forceVisible: false,\n                track: { size: null, el: null, rect: null, isVisible: false },\n                scrollbar: { size: null, el: null, rect: null, isVisible: false }\n            }\n        };\n        if (typeof this.el !== 'object' || !this.el.nodeName) {\n            throw new Error(\"Argument passed to SimpleBar must be an HTML element instead of \".concat(this.el));\n        }\n        this.onMouseMove = (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this._onMouseMove, 64);\n        this.onWindowResize = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this._onWindowResize, 64, { leading: true });\n        this.onStopScrolling = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this._onStopScrolling, this.stopScrollDelay);\n        this.onMouseEntered = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this._onMouseEntered, this.stopScrollDelay);\n        this.init();\n    }\n    /**\n     * Helper to fix browsers inconsistency on RTL:\n     *  - Firefox inverts the scrollbar initial position\n     *  - IE11 inverts both scrollbar position and scrolling offset\n     * Directly inspired by @KingSora's OverlayScrollbars https://github.com/KingSora/OverlayScrollbars/blob/master/js/OverlayScrollbars.js#L1634\n     */\n    SimpleBarCore.getRtlHelpers = function () {\n        if (SimpleBarCore.rtlHelpers) {\n            return SimpleBarCore.rtlHelpers;\n        }\n        var dummyDiv = document.createElement('div');\n        dummyDiv.innerHTML =\n            '<div class=\"simplebar-dummy-scrollbar-size\"><div></div></div>';\n        var scrollbarDummyEl = dummyDiv.firstElementChild;\n        var dummyChild = scrollbarDummyEl === null || scrollbarDummyEl === void 0 ? void 0 : scrollbarDummyEl.firstElementChild;\n        if (!dummyChild)\n            return null;\n        document.body.appendChild(scrollbarDummyEl);\n        scrollbarDummyEl.scrollLeft = 0;\n        var dummyContainerOffset = SimpleBarCore.getOffset(scrollbarDummyEl);\n        var dummyChildOffset = SimpleBarCore.getOffset(dummyChild);\n        scrollbarDummyEl.scrollLeft = -999;\n        var dummyChildOffsetAfterScroll = SimpleBarCore.getOffset(dummyChild);\n        document.body.removeChild(scrollbarDummyEl);\n        SimpleBarCore.rtlHelpers = {\n            // determines if the scrolling is responding with negative values\n            isScrollOriginAtZero: dummyContainerOffset.left !== dummyChildOffset.left,\n            // determines if the origin scrollbar position is inverted or not (positioned on left or right)\n            isScrollingToNegative: dummyChildOffset.left !== dummyChildOffsetAfterScroll.left\n        };\n        return SimpleBarCore.rtlHelpers;\n    };\n    SimpleBarCore.prototype.getScrollbarWidth = function () {\n        // Try/catch for FF 56 throwing on undefined computedStyles\n        try {\n            // Detect browsers supporting CSS scrollbar styling and do not calculate\n            if ((this.contentWrapperEl &&\n                getComputedStyle(this.contentWrapperEl, '::-webkit-scrollbar')\n                    .display === 'none') ||\n                'scrollbarWidth' in document.documentElement.style ||\n                '-ms-overflow-style' in document.documentElement.style) {\n                return 0;\n            }\n            else {\n                return scrollbarWidth();\n            }\n        }\n        catch (e) {\n            return scrollbarWidth();\n        }\n    };\n    SimpleBarCore.getOffset = function (el) {\n        var rect = el.getBoundingClientRect();\n        var elDocument = getElementDocument(el);\n        var elWindow = getElementWindow(el);\n        return {\n            top: rect.top +\n                (elWindow.pageYOffset || elDocument.documentElement.scrollTop),\n            left: rect.left +\n                (elWindow.pageXOffset || elDocument.documentElement.scrollLeft)\n        };\n    };\n    SimpleBarCore.prototype.init = function () {\n        // We stop here on server-side\n        if (can_use_dom__WEBPACK_IMPORTED_MODULE_0__) {\n            this.initDOM();\n            this.rtlHelpers = SimpleBarCore.getRtlHelpers();\n            this.scrollbarWidth = this.getScrollbarWidth();\n            this.recalculate();\n            this.initListeners();\n        }\n    };\n    SimpleBarCore.prototype.initDOM = function () {\n        var _a, _b;\n        // assume that element has his DOM already initiated\n        this.wrapperEl = this.el.querySelector(classNamesToQuery(this.classNames.wrapper));\n        this.contentWrapperEl =\n            this.options.scrollableNode ||\n                this.el.querySelector(classNamesToQuery(this.classNames.contentWrapper));\n        this.contentEl =\n            this.options.contentNode ||\n                this.el.querySelector(classNamesToQuery(this.classNames.contentEl));\n        this.offsetEl = this.el.querySelector(classNamesToQuery(this.classNames.offset));\n        this.maskEl = this.el.querySelector(classNamesToQuery(this.classNames.mask));\n        this.placeholderEl = this.findChild(this.wrapperEl, classNamesToQuery(this.classNames.placeholder));\n        this.heightAutoObserverWrapperEl = this.el.querySelector(classNamesToQuery(this.classNames.heightAutoObserverWrapperEl));\n        this.heightAutoObserverEl = this.el.querySelector(classNamesToQuery(this.classNames.heightAutoObserverEl));\n        this.axis.x.track.el = this.findChild(this.el, \"\".concat(classNamesToQuery(this.classNames.track)).concat(classNamesToQuery(this.classNames.horizontal)));\n        this.axis.y.track.el = this.findChild(this.el, \"\".concat(classNamesToQuery(this.classNames.track)).concat(classNamesToQuery(this.classNames.vertical)));\n        this.axis.x.scrollbar.el =\n            ((_a = this.axis.x.track.el) === null || _a === void 0 ? void 0 : _a.querySelector(classNamesToQuery(this.classNames.scrollbar))) || null;\n        this.axis.y.scrollbar.el =\n            ((_b = this.axis.y.track.el) === null || _b === void 0 ? void 0 : _b.querySelector(classNamesToQuery(this.classNames.scrollbar))) || null;\n        if (!this.options.autoHide) {\n            addClasses(this.axis.x.scrollbar.el, this.classNames.visible);\n            addClasses(this.axis.y.scrollbar.el, this.classNames.visible);\n        }\n    };\n    SimpleBarCore.prototype.initListeners = function () {\n        var _this = this;\n        var _a;\n        var elWindow = getElementWindow(this.el);\n        // Event listeners\n        this.el.addEventListener('mouseenter', this.onMouseEnter);\n        this.el.addEventListener('pointerdown', this.onPointerEvent, true);\n        this.el.addEventListener('mousemove', this.onMouseMove);\n        this.el.addEventListener('mouseleave', this.onMouseLeave);\n        (_a = this.contentWrapperEl) === null || _a === void 0 ? void 0 : _a.addEventListener('scroll', this.onScroll);\n        // Browser zoom triggers a window resize\n        elWindow.addEventListener('resize', this.onWindowResize);\n        if (!this.contentEl)\n            return;\n        if (window.ResizeObserver) {\n            // Hack for https://github.com/WICG/ResizeObserver/issues/38\n            var resizeObserverStarted_1 = false;\n            var resizeObserver = elWindow.ResizeObserver || ResizeObserver;\n            this.resizeObserver = new resizeObserver(function () {\n                if (!resizeObserverStarted_1)\n                    return;\n                elWindow.requestAnimationFrame(function () {\n                    _this.recalculate();\n                });\n            });\n            this.resizeObserver.observe(this.el);\n            this.resizeObserver.observe(this.contentEl);\n            elWindow.requestAnimationFrame(function () {\n                resizeObserverStarted_1 = true;\n            });\n        }\n        // This is required to detect horizontal scroll. Vertical scroll only needs the resizeObserver.\n        this.mutationObserver = new elWindow.MutationObserver(function () {\n            elWindow.requestAnimationFrame(function () {\n                _this.recalculate();\n            });\n        });\n        this.mutationObserver.observe(this.contentEl, {\n            childList: true,\n            subtree: true,\n            characterData: true\n        });\n    };\n    SimpleBarCore.prototype.recalculate = function () {\n        if (!this.heightAutoObserverEl ||\n            !this.contentEl ||\n            !this.contentWrapperEl ||\n            !this.wrapperEl ||\n            !this.placeholderEl)\n            return;\n        var elWindow = getElementWindow(this.el);\n        this.elStyles = elWindow.getComputedStyle(this.el);\n        this.isRtl = this.elStyles.direction === 'rtl';\n        var contentElOffsetWidth = this.contentEl.offsetWidth;\n        var isHeightAuto = this.heightAutoObserverEl.offsetHeight <= 1;\n        var isWidthAuto = this.heightAutoObserverEl.offsetWidth <= 1 || contentElOffsetWidth > 0;\n        var contentWrapperElOffsetWidth = this.contentWrapperEl.offsetWidth;\n        var elOverflowX = this.elStyles.overflowX;\n        var elOverflowY = this.elStyles.overflowY;\n        this.contentEl.style.padding = \"\".concat(this.elStyles.paddingTop, \" \").concat(this.elStyles.paddingRight, \" \").concat(this.elStyles.paddingBottom, \" \").concat(this.elStyles.paddingLeft);\n        this.wrapperEl.style.margin = \"-\".concat(this.elStyles.paddingTop, \" -\").concat(this.elStyles.paddingRight, \" -\").concat(this.elStyles.paddingBottom, \" -\").concat(this.elStyles.paddingLeft);\n        var contentElScrollHeight = this.contentEl.scrollHeight;\n        var contentElScrollWidth = this.contentEl.scrollWidth;\n        this.contentWrapperEl.style.height = isHeightAuto ? 'auto' : '100%';\n        // Determine placeholder size\n        this.placeholderEl.style.width = isWidthAuto\n            ? \"\".concat(contentElOffsetWidth || contentElScrollWidth, \"px\")\n            : 'auto';\n        this.placeholderEl.style.height = \"\".concat(contentElScrollHeight, \"px\");\n        var contentWrapperElOffsetHeight = this.contentWrapperEl.offsetHeight;\n        this.axis.x.isOverflowing =\n            contentElOffsetWidth !== 0 && contentElScrollWidth > contentElOffsetWidth;\n        this.axis.y.isOverflowing =\n            contentElScrollHeight > contentWrapperElOffsetHeight;\n        // Set isOverflowing to false if user explicitely set hidden overflow\n        this.axis.x.isOverflowing =\n            elOverflowX === 'hidden' ? false : this.axis.x.isOverflowing;\n        this.axis.y.isOverflowing =\n            elOverflowY === 'hidden' ? false : this.axis.y.isOverflowing;\n        this.axis.x.forceVisible =\n            this.options.forceVisible === 'x' || this.options.forceVisible === true;\n        this.axis.y.forceVisible =\n            this.options.forceVisible === 'y' || this.options.forceVisible === true;\n        this.hideNativeScrollbar();\n        // Set isOverflowing to false if scrollbar is not necessary (content is shorter than offset)\n        var offsetForXScrollbar = this.axis.x.isOverflowing\n            ? this.scrollbarWidth\n            : 0;\n        var offsetForYScrollbar = this.axis.y.isOverflowing\n            ? this.scrollbarWidth\n            : 0;\n        this.axis.x.isOverflowing =\n            this.axis.x.isOverflowing &&\n                contentElScrollWidth > contentWrapperElOffsetWidth - offsetForYScrollbar;\n        this.axis.y.isOverflowing =\n            this.axis.y.isOverflowing &&\n                contentElScrollHeight >\n                    contentWrapperElOffsetHeight - offsetForXScrollbar;\n        this.axis.x.scrollbar.size = this.getScrollbarSize('x');\n        this.axis.y.scrollbar.size = this.getScrollbarSize('y');\n        if (this.axis.x.scrollbar.el)\n            this.axis.x.scrollbar.el.style.width = \"\".concat(this.axis.x.scrollbar.size, \"px\");\n        if (this.axis.y.scrollbar.el)\n            this.axis.y.scrollbar.el.style.height = \"\".concat(this.axis.y.scrollbar.size, \"px\");\n        this.positionScrollbar('x');\n        this.positionScrollbar('y');\n        this.toggleTrackVisibility('x');\n        this.toggleTrackVisibility('y');\n    };\n    /**\n     * Calculate scrollbar size\n     */\n    SimpleBarCore.prototype.getScrollbarSize = function (axis) {\n        var _a, _b;\n        if (axis === void 0) { axis = 'y'; }\n        if (!this.axis[axis].isOverflowing || !this.contentEl) {\n            return 0;\n        }\n        var contentSize = this.contentEl[this.axis[axis].scrollSizeAttr];\n        var trackSize = (_b = (_a = this.axis[axis].track.el) === null || _a === void 0 ? void 0 : _a[this.axis[axis].offsetSizeAttr]) !== null && _b !== void 0 ? _b : 0;\n        var scrollbarRatio = trackSize / contentSize;\n        var scrollbarSize;\n        // Calculate new height/position of drag handle.\n        scrollbarSize = Math.max(~~(scrollbarRatio * trackSize), this.options.scrollbarMinSize);\n        if (this.options.scrollbarMaxSize) {\n            scrollbarSize = Math.min(scrollbarSize, this.options.scrollbarMaxSize);\n        }\n        return scrollbarSize;\n    };\n    SimpleBarCore.prototype.positionScrollbar = function (axis) {\n        var _a, _b, _c;\n        if (axis === void 0) { axis = 'y'; }\n        var scrollbar = this.axis[axis].scrollbar;\n        if (!this.axis[axis].isOverflowing ||\n            !this.contentWrapperEl ||\n            !scrollbar.el ||\n            !this.elStyles) {\n            return;\n        }\n        var contentSize = this.contentWrapperEl[this.axis[axis].scrollSizeAttr];\n        var trackSize = ((_a = this.axis[axis].track.el) === null || _a === void 0 ? void 0 : _a[this.axis[axis].offsetSizeAttr]) || 0;\n        var hostSize = parseInt(this.elStyles[this.axis[axis].sizeAttr], 10);\n        var scrollOffset = this.contentWrapperEl[this.axis[axis].scrollOffsetAttr];\n        scrollOffset =\n            axis === 'x' &&\n                this.isRtl &&\n                ((_b = SimpleBarCore.getRtlHelpers()) === null || _b === void 0 ? void 0 : _b.isScrollOriginAtZero)\n                ? -scrollOffset\n                : scrollOffset;\n        if (axis === 'x' && this.isRtl) {\n            scrollOffset = ((_c = SimpleBarCore.getRtlHelpers()) === null || _c === void 0 ? void 0 : _c.isScrollingToNegative)\n                ? scrollOffset\n                : -scrollOffset;\n        }\n        var scrollPourcent = scrollOffset / (contentSize - hostSize);\n        var handleOffset = ~~((trackSize - scrollbar.size) * scrollPourcent);\n        handleOffset =\n            axis === 'x' && this.isRtl\n                ? -handleOffset + (trackSize - scrollbar.size)\n                : handleOffset;\n        scrollbar.el.style.transform =\n            axis === 'x'\n                ? \"translate3d(\".concat(handleOffset, \"px, 0, 0)\")\n                : \"translate3d(0, \".concat(handleOffset, \"px, 0)\");\n    };\n    SimpleBarCore.prototype.toggleTrackVisibility = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        var track = this.axis[axis].track.el;\n        var scrollbar = this.axis[axis].scrollbar.el;\n        if (!track || !scrollbar || !this.contentWrapperEl)\n            return;\n        if (this.axis[axis].isOverflowing || this.axis[axis].forceVisible) {\n            track.style.visibility = 'visible';\n            this.contentWrapperEl.style[this.axis[axis].overflowAttr] = 'scroll';\n            this.el.classList.add(\"\".concat(this.classNames.scrollable, \"-\").concat(axis));\n        }\n        else {\n            track.style.visibility = 'hidden';\n            this.contentWrapperEl.style[this.axis[axis].overflowAttr] = 'hidden';\n            this.el.classList.remove(\"\".concat(this.classNames.scrollable, \"-\").concat(axis));\n        }\n        // Even if forceVisible is enabled, scrollbar itself should be hidden\n        if (this.axis[axis].isOverflowing) {\n            scrollbar.style.display = 'block';\n        }\n        else {\n            scrollbar.style.display = 'none';\n        }\n    };\n    SimpleBarCore.prototype.showScrollbar = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        if (this.axis[axis].isOverflowing && !this.axis[axis].scrollbar.isVisible) {\n            addClasses(this.axis[axis].scrollbar.el, this.classNames.visible);\n            this.axis[axis].scrollbar.isVisible = true;\n        }\n    };\n    SimpleBarCore.prototype.hideScrollbar = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        if (this.axis[axis].isOverflowing && this.axis[axis].scrollbar.isVisible) {\n            removeClasses(this.axis[axis].scrollbar.el, this.classNames.visible);\n            this.axis[axis].scrollbar.isVisible = false;\n        }\n    };\n    SimpleBarCore.prototype.hideNativeScrollbar = function () {\n        if (!this.offsetEl)\n            return;\n        this.offsetEl.style[this.isRtl ? 'left' : 'right'] =\n            this.axis.y.isOverflowing || this.axis.y.forceVisible\n                ? \"-\".concat(this.scrollbarWidth, \"px\")\n                : '0px';\n        this.offsetEl.style.bottom =\n            this.axis.x.isOverflowing || this.axis.x.forceVisible\n                ? \"-\".concat(this.scrollbarWidth, \"px\")\n                : '0px';\n    };\n    SimpleBarCore.prototype.onMouseMoveForAxis = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        var currentAxis = this.axis[axis];\n        if (!currentAxis.track.el || !currentAxis.scrollbar.el)\n            return;\n        currentAxis.track.rect = currentAxis.track.el.getBoundingClientRect();\n        currentAxis.scrollbar.rect =\n            currentAxis.scrollbar.el.getBoundingClientRect();\n        if (this.isWithinBounds(currentAxis.track.rect)) {\n            this.showScrollbar(axis);\n            addClasses(currentAxis.track.el, this.classNames.hover);\n            if (this.isWithinBounds(currentAxis.scrollbar.rect)) {\n                addClasses(currentAxis.scrollbar.el, this.classNames.hover);\n            }\n            else {\n                removeClasses(currentAxis.scrollbar.el, this.classNames.hover);\n            }\n        }\n        else {\n            removeClasses(currentAxis.track.el, this.classNames.hover);\n            if (this.options.autoHide) {\n                this.hideScrollbar(axis);\n            }\n        }\n    };\n    SimpleBarCore.prototype.onMouseLeaveForAxis = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        removeClasses(this.axis[axis].track.el, this.classNames.hover);\n        removeClasses(this.axis[axis].scrollbar.el, this.classNames.hover);\n        if (this.options.autoHide) {\n            this.hideScrollbar(axis);\n        }\n    };\n    /**\n     * on scrollbar handle drag movement starts\n     */\n    SimpleBarCore.prototype.onDragStart = function (e, axis) {\n        var _a;\n        if (axis === void 0) { axis = 'y'; }\n        var elDocument = getElementDocument(this.el);\n        var elWindow = getElementWindow(this.el);\n        var scrollbar = this.axis[axis].scrollbar;\n        // Measure how far the user's mouse is from the top of the scrollbar drag handle.\n        var eventOffset = axis === 'y' ? e.pageY : e.pageX;\n        this.axis[axis].dragOffset =\n            eventOffset - (((_a = scrollbar.rect) === null || _a === void 0 ? void 0 : _a[this.axis[axis].offsetAttr]) || 0);\n        this.draggedAxis = axis;\n        addClasses(this.el, this.classNames.dragging);\n        elDocument.addEventListener('mousemove', this.drag, true);\n        elDocument.addEventListener('mouseup', this.onEndDrag, true);\n        if (this.removePreventClickId === null) {\n            elDocument.addEventListener('click', this.preventClick, true);\n            elDocument.addEventListener('dblclick', this.preventClick, true);\n        }\n        else {\n            elWindow.clearTimeout(this.removePreventClickId);\n            this.removePreventClickId = null;\n        }\n    };\n    SimpleBarCore.prototype.onTrackClick = function (e, axis) {\n        var _this = this;\n        var _a, _b, _c, _d;\n        if (axis === void 0) { axis = 'y'; }\n        var currentAxis = this.axis[axis];\n        if (!this.options.clickOnTrack ||\n            !currentAxis.scrollbar.el ||\n            !this.contentWrapperEl)\n            return;\n        // Preventing the event's default to trigger click underneath\n        e.preventDefault();\n        var elWindow = getElementWindow(this.el);\n        this.axis[axis].scrollbar.rect =\n            currentAxis.scrollbar.el.getBoundingClientRect();\n        var scrollbar = this.axis[axis].scrollbar;\n        var scrollbarOffset = (_b = (_a = scrollbar.rect) === null || _a === void 0 ? void 0 : _a[this.axis[axis].offsetAttr]) !== null && _b !== void 0 ? _b : 0;\n        var hostSize = parseInt((_d = (_c = this.elStyles) === null || _c === void 0 ? void 0 : _c[this.axis[axis].sizeAttr]) !== null && _d !== void 0 ? _d : '0px', 10);\n        var scrolled = this.contentWrapperEl[this.axis[axis].scrollOffsetAttr];\n        var t = axis === 'y'\n            ? this.mouseY - scrollbarOffset\n            : this.mouseX - scrollbarOffset;\n        var dir = t < 0 ? -1 : 1;\n        var scrollSize = dir === -1 ? scrolled - hostSize : scrolled + hostSize;\n        var speed = 40;\n        var scrollTo = function () {\n            if (!_this.contentWrapperEl)\n                return;\n            if (dir === -1) {\n                if (scrolled > scrollSize) {\n                    scrolled -= speed;\n                    _this.contentWrapperEl[_this.axis[axis].scrollOffsetAttr] = scrolled;\n                    elWindow.requestAnimationFrame(scrollTo);\n                }\n            }\n            else {\n                if (scrolled < scrollSize) {\n                    scrolled += speed;\n                    _this.contentWrapperEl[_this.axis[axis].scrollOffsetAttr] = scrolled;\n                    elWindow.requestAnimationFrame(scrollTo);\n                }\n            }\n        };\n        scrollTo();\n    };\n    /**\n     * Getter for content element\n     */\n    SimpleBarCore.prototype.getContentElement = function () {\n        return this.contentEl;\n    };\n    /**\n     * Getter for original scrolling element\n     */\n    SimpleBarCore.prototype.getScrollElement = function () {\n        return this.contentWrapperEl;\n    };\n    SimpleBarCore.prototype.removeListeners = function () {\n        var elWindow = getElementWindow(this.el);\n        // Event listeners\n        this.el.removeEventListener('mouseenter', this.onMouseEnter);\n        this.el.removeEventListener('pointerdown', this.onPointerEvent, true);\n        this.el.removeEventListener('mousemove', this.onMouseMove);\n        this.el.removeEventListener('mouseleave', this.onMouseLeave);\n        if (this.contentWrapperEl) {\n            this.contentWrapperEl.removeEventListener('scroll', this.onScroll);\n        }\n        elWindow.removeEventListener('resize', this.onWindowResize);\n        if (this.mutationObserver) {\n            this.mutationObserver.disconnect();\n        }\n        if (this.resizeObserver) {\n            this.resizeObserver.disconnect();\n        }\n        // Cancel all debounced functions\n        this.onMouseMove.cancel();\n        this.onWindowResize.cancel();\n        this.onStopScrolling.cancel();\n        this.onMouseEntered.cancel();\n    };\n    /**\n     * Remove all listeners from DOM nodes\n     */\n    SimpleBarCore.prototype.unMount = function () {\n        this.removeListeners();\n    };\n    /**\n     * Check if mouse is within bounds\n     */\n    SimpleBarCore.prototype.isWithinBounds = function (bbox) {\n        return (this.mouseX >= bbox.left &&\n            this.mouseX <= bbox.left + bbox.width &&\n            this.mouseY >= bbox.top &&\n            this.mouseY <= bbox.top + bbox.height);\n    };\n    /**\n     * Find element children matches query\n     */\n    SimpleBarCore.prototype.findChild = function (el, query) {\n        var matches = el.matches ||\n            el.webkitMatchesSelector ||\n            el.mozMatchesSelector ||\n            el.msMatchesSelector;\n        return Array.prototype.filter.call(el.children, function (child) {\n            return matches.call(child, query);\n        })[0];\n    };\n    SimpleBarCore.rtlHelpers = null;\n    SimpleBarCore.defaultOptions = {\n        forceVisible: false,\n        clickOnTrack: true,\n        scrollbarMinSize: 25,\n        scrollbarMaxSize: 0,\n        ariaLabel: 'scrollable content',\n        classNames: {\n            contentEl: 'simplebar-content',\n            contentWrapper: 'simplebar-content-wrapper',\n            offset: 'simplebar-offset',\n            mask: 'simplebar-mask',\n            wrapper: 'simplebar-wrapper',\n            placeholder: 'simplebar-placeholder',\n            scrollbar: 'simplebar-scrollbar',\n            track: 'simplebar-track',\n            heightAutoObserverWrapperEl: 'simplebar-height-auto-observer-wrapper',\n            heightAutoObserverEl: 'simplebar-height-auto-observer',\n            visible: 'simplebar-visible',\n            horizontal: 'simplebar-horizontal',\n            vertical: 'simplebar-vertical',\n            hover: 'simplebar-hover',\n            dragging: 'simplebar-dragging',\n            scrolling: 'simplebar-scrolling',\n            scrollable: 'simplebar-scrollable',\n            mouseEntered: 'simplebar-mouse-entered'\n        },\n        scrollableNode: null,\n        contentNode: null,\n        autoHide: true\n    };\n    /**\n     * Static functions\n     */\n    SimpleBarCore.getOptions = getOptions;\n    SimpleBarCore.helpers = helpers;\n    return SimpleBarCore;\n}());\n\n\n//# sourceMappingURL=index.mjs.map\n\n\n/***/ }),\n\n/***/ \"./node_modules/simplebar/dist/index.mjs\":\n/*!***********************************************!*\\\n  !*** ./node_modules/simplebar/dist/index.mjs ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SimpleBar; }\n/* harmony export */ });\n/* harmony import */ var can_use_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! can-use-dom */ \"./node_modules/can-use-dom/index.js\");\n/* harmony import */ var simplebar_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! simplebar-core */ \"./node_modules/simplebar-core/dist/index.mjs\");\n/**\n * simplebar - v6.2.5\n * Scrollbars, simpler.\n * https://grsmto.github.io/simplebar/\n *\n * Made by Adrien Denat from a fork by Jonathan Nicol\n * Under MIT License\n */\n\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\nvar _a = simplebar_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"].helpers, getOptions = _a.getOptions, addClasses = _a.addClasses;\nvar SimpleBar = /** @class */ (function (_super) {\n    __extends(SimpleBar, _super);\n    function SimpleBar() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var _this = _super.apply(this, args) || this;\n        // // Save a reference to the instance, so we know this DOM node has already been instancied\n        SimpleBar.instances.set(args[0], _this);\n        return _this;\n    }\n    SimpleBar.initDOMLoadedElements = function () {\n        document.removeEventListener('DOMContentLoaded', this.initDOMLoadedElements);\n        window.removeEventListener('load', this.initDOMLoadedElements);\n        Array.prototype.forEach.call(document.querySelectorAll('[data-simplebar]'), function (el) {\n            if (el.getAttribute('data-simplebar') !== 'init' &&\n                !SimpleBar.instances.has(el))\n                new SimpleBar(el, getOptions(el.attributes));\n        });\n    };\n    SimpleBar.removeObserver = function () {\n        var _a;\n        (_a = SimpleBar.globalObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    };\n    SimpleBar.prototype.initDOM = function () {\n        var _this = this;\n        var _a, _b, _c;\n        // make sure this element doesn't have the elements yet\n        if (!Array.prototype.filter.call(this.el.children, function (child) {\n            return child.classList.contains(_this.classNames.wrapper);\n        }).length) {\n            // Prepare DOM\n            this.wrapperEl = document.createElement('div');\n            this.contentWrapperEl = document.createElement('div');\n            this.offsetEl = document.createElement('div');\n            this.maskEl = document.createElement('div');\n            this.contentEl = document.createElement('div');\n            this.placeholderEl = document.createElement('div');\n            this.heightAutoObserverWrapperEl = document.createElement('div');\n            this.heightAutoObserverEl = document.createElement('div');\n            addClasses(this.wrapperEl, this.classNames.wrapper);\n            addClasses(this.contentWrapperEl, this.classNames.contentWrapper);\n            addClasses(this.offsetEl, this.classNames.offset);\n            addClasses(this.maskEl, this.classNames.mask);\n            addClasses(this.contentEl, this.classNames.contentEl);\n            addClasses(this.placeholderEl, this.classNames.placeholder);\n            addClasses(this.heightAutoObserverWrapperEl, this.classNames.heightAutoObserverWrapperEl);\n            addClasses(this.heightAutoObserverEl, this.classNames.heightAutoObserverEl);\n            while (this.el.firstChild) {\n                this.contentEl.appendChild(this.el.firstChild);\n            }\n            this.contentWrapperEl.appendChild(this.contentEl);\n            this.offsetEl.appendChild(this.contentWrapperEl);\n            this.maskEl.appendChild(this.offsetEl);\n            this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl);\n            this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl);\n            this.wrapperEl.appendChild(this.maskEl);\n            this.wrapperEl.appendChild(this.placeholderEl);\n            this.el.appendChild(this.wrapperEl);\n            (_a = this.contentWrapperEl) === null || _a === void 0 ? void 0 : _a.setAttribute('tabindex', '0');\n            (_b = this.contentWrapperEl) === null || _b === void 0 ? void 0 : _b.setAttribute('role', 'region');\n            (_c = this.contentWrapperEl) === null || _c === void 0 ? void 0 : _c.setAttribute('aria-label', this.options.ariaLabel);\n        }\n        if (!this.axis.x.track.el || !this.axis.y.track.el) {\n            var track = document.createElement('div');\n            var scrollbar = document.createElement('div');\n            addClasses(track, this.classNames.track);\n            addClasses(scrollbar, this.classNames.scrollbar);\n            track.appendChild(scrollbar);\n            this.axis.x.track.el = track.cloneNode(true);\n            addClasses(this.axis.x.track.el, this.classNames.horizontal);\n            this.axis.y.track.el = track.cloneNode(true);\n            addClasses(this.axis.y.track.el, this.classNames.vertical);\n            this.el.appendChild(this.axis.x.track.el);\n            this.el.appendChild(this.axis.y.track.el);\n        }\n        simplebar_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"].prototype.initDOM.call(this);\n        this.el.setAttribute('data-simplebar', 'init');\n    };\n    SimpleBar.prototype.unMount = function () {\n        simplebar_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"].prototype.unMount.call(this);\n        SimpleBar.instances[\"delete\"](this.el);\n    };\n    SimpleBar.initHtmlApi = function () {\n        this.initDOMLoadedElements = this.initDOMLoadedElements.bind(this);\n        // MutationObserver is IE11+\n        if (typeof MutationObserver !== 'undefined') {\n            // Mutation observer to observe dynamically added elements\n            this.globalObserver = new MutationObserver(SimpleBar.handleMutations);\n            this.globalObserver.observe(document, { childList: true, subtree: true });\n        }\n        // Taken from jQuery `ready` function\n        // Instantiate elements already present on the page\n        if (document.readyState === 'complete' || // @ts-ignore: IE specific\n            (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n            // Handle it asynchronously to allow scripts the opportunity to delay init\n            window.setTimeout(this.initDOMLoadedElements);\n        }\n        else {\n            document.addEventListener('DOMContentLoaded', this.initDOMLoadedElements);\n            window.addEventListener('load', this.initDOMLoadedElements);\n        }\n    };\n    SimpleBar.handleMutations = function (mutations) {\n        mutations.forEach(function (mutation) {\n            mutation.addedNodes.forEach(function (addedNode) {\n                if (addedNode.nodeType === 1) {\n                    if (addedNode.hasAttribute('data-simplebar')) {\n                        !SimpleBar.instances.has(addedNode) &&\n                            document.documentElement.contains(addedNode) &&\n                            new SimpleBar(addedNode, getOptions(addedNode.attributes));\n                    }\n                    else {\n                        addedNode\n                            .querySelectorAll('[data-simplebar]')\n                            .forEach(function (el) {\n                            if (el.getAttribute('data-simplebar') !== 'init' &&\n                                !SimpleBar.instances.has(el) &&\n                                document.documentElement.contains(el))\n                                new SimpleBar(el, getOptions(el.attributes));\n                        });\n                    }\n                }\n            });\n            mutation.removedNodes.forEach(function (removedNode) {\n                if (removedNode.nodeType === 1) {\n                    if (removedNode.getAttribute('data-simplebar') === 'init') {\n                        SimpleBar.instances.has(removedNode) &&\n                            !document.documentElement.contains(removedNode) &&\n                            SimpleBar.instances.get(removedNode).unMount();\n                    }\n                    else {\n                        Array.prototype.forEach.call(removedNode.querySelectorAll('[data-simplebar=\"init\"]'), function (el) {\n                            SimpleBar.instances.has(el) &&\n                                !document.documentElement.contains(el) &&\n                                SimpleBar.instances.get(el).unMount();\n                        });\n                    }\n                }\n            });\n        });\n    };\n    SimpleBar.instances = new WeakMap();\n    return SimpleBar;\n}(simplebar_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n/**\n * HTML API\n * Called only in a browser env.\n */\nif (can_use_dom__WEBPACK_IMPORTED_MODULE_0__) {\n    SimpleBar.initHtmlApi();\n}\n\n\n//# sourceMappingURL=index.mjs.map\n\n\n/***/ }),\n\n/***/ \"./node_modules/slim-select/dist/slimselect.es.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/slim-select/dist/slimselect.es.js ***!\n  \\********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SlimSelect; }\n/* harmony export */ });\nfunction generateID() {\n    return Math.random().toString(36).substring(2, 10);\n}\nfunction hasClassInTree(element, className) {\n    function hasClass(e, c) {\n        if (c && e && e.classList && e.classList.contains(c)) {\n            return e;\n        }\n        if (c && e && e.dataset && e.dataset.id && e.dataset.id === className) {\n            return e;\n        }\n        return null;\n    }\n    function parentByClass(e, c) {\n        if (!e || e === document) {\n            return null;\n        }\n        else if (hasClass(e, c)) {\n            return e;\n        }\n        else {\n            return parentByClass(e.parentNode, c);\n        }\n    }\n    return hasClass(element, className) || parentByClass(element, className);\n}\nfunction debounce(func, wait = 50, immediate = false) {\n    let timeout;\n    return function (...args) {\n        const context = self;\n        const later = () => {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        const callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nfunction isEqual(a, b) {\n    return JSON.stringify(a) === JSON.stringify(b);\n}\nfunction kebabCase(str) {\n    const result = str.replace(/[A-Z\\u00C0-\\u00D6\\u00D8-\\u00DE]/g, (match) => '-' + match.toLowerCase());\n    return str[0] === str[0].toUpperCase() ? result.substring(1) : result;\n}\n\nclass Settings {\n    constructor(settings) {\n        this.id = '';\n        this.style = '';\n        this.class = [];\n        this.isMultiple = false;\n        this.isOpen = false;\n        this.isFullOpen = false;\n        this.intervalMove = null;\n        if (!settings) {\n            settings = {};\n        }\n        this.id = 'ss-' + generateID();\n        this.style = settings.style || '';\n        this.class = settings.class || [];\n        this.disabled = settings.disabled !== undefined ? settings.disabled : false;\n        this.alwaysOpen = settings.alwaysOpen !== undefined ? settings.alwaysOpen : false;\n        this.showSearch = settings.showSearch !== undefined ? settings.showSearch : true;\n        this.searchPlaceholder = settings.searchPlaceholder || 'Search';\n        this.searchText = settings.searchText || 'No Results';\n        this.searchingText = settings.searchingText || 'Searching...';\n        this.searchHighlight = settings.searchHighlight !== undefined ? settings.searchHighlight : false;\n        this.closeOnSelect = settings.closeOnSelect !== undefined ? settings.closeOnSelect : true;\n        this.contentLocation = settings.contentLocation || document.body;\n        this.contentPosition = settings.contentPosition || 'absolute';\n        this.openPosition = settings.openPosition || 'auto';\n        this.placeholderText = settings.placeholderText !== undefined ? settings.placeholderText : 'Select Value';\n        this.allowDeselect = settings.allowDeselect !== undefined ? settings.allowDeselect : false;\n        this.hideSelected = settings.hideSelected !== undefined ? settings.hideSelected : false;\n        this.showOptionTooltips = settings.showOptionTooltips !== undefined ? settings.showOptionTooltips : false;\n        this.minSelected = settings.minSelected || 0;\n        this.maxSelected = settings.maxSelected || 1000;\n        this.timeoutDelay = settings.timeoutDelay || 200;\n        this.maxValuesShown = settings.maxValuesShown || 20;\n        this.maxValuesMessage = settings.maxValuesMessage || '{number} selected';\n    }\n}\n\nclass Optgroup {\n    constructor(optgroup) {\n        this.id = !optgroup.id || optgroup.id === '' ? generateID() : optgroup.id;\n        this.label = optgroup.label || '';\n        this.selectAll = optgroup.selectAll === undefined ? false : optgroup.selectAll;\n        this.closable = optgroup.closable || 'off';\n        this.options = [];\n        if (optgroup.options) {\n            for (const o of optgroup.options) {\n                this.options.push(new Option(o));\n            }\n        }\n    }\n}\nclass Option {\n    constructor(option) {\n        this.id = !option.id || option.id === '' ? generateID() : option.id;\n        this.value = option.value === undefined ? option.text : option.value;\n        this.text = option.text || '';\n        this.html = option.html || '';\n        this.selected = option.selected !== undefined ? option.selected : false;\n        this.display = option.display !== undefined ? option.display : true;\n        this.disabled = option.disabled !== undefined ? option.disabled : false;\n        this.mandatory = option.mandatory !== undefined ? option.mandatory : false;\n        this.placeholder = option.placeholder !== undefined ? option.placeholder : false;\n        this.class = option.class || '';\n        this.style = option.style || '';\n        this.data = option.data || {};\n    }\n}\nclass Store {\n    constructor(type, data) {\n        this.selectType = 'single';\n        this.data = [];\n        this.selectType = type;\n        this.setData(data);\n    }\n    validateDataArray(data) {\n        if (!Array.isArray(data)) {\n            return new Error('Data must be an array');\n        }\n        for (let dataObj of data) {\n            if (dataObj instanceof Optgroup || 'label' in dataObj) {\n                if (!('label' in dataObj)) {\n                    return new Error('Optgroup must have a label');\n                }\n                if ('options' in dataObj && dataObj.options) {\n                    for (let option of dataObj.options) {\n                        return this.validateOption(option);\n                    }\n                }\n            }\n            else if (dataObj instanceof Option || 'text' in dataObj) {\n                return this.validateOption(dataObj);\n            }\n            else {\n                return new Error('Data object must be a valid optgroup or option');\n            }\n        }\n        return null;\n    }\n    validateOption(option) {\n        if (!('text' in option)) {\n            return new Error('Option must have a text');\n        }\n        return null;\n    }\n    partialToFullData(data) {\n        let dataFinal = [];\n        data.forEach((dataObj) => {\n            if (dataObj instanceof Optgroup || 'label' in dataObj) {\n                let optOptions = [];\n                if ('options' in dataObj && dataObj.options) {\n                    dataObj.options.forEach((option) => {\n                        optOptions.push(new Option(option));\n                    });\n                }\n                if (optOptions.length > 0) {\n                    dataFinal.push(new Optgroup(dataObj));\n                }\n            }\n            if (dataObj instanceof Option || 'text' in dataObj) {\n                dataFinal.push(new Option(dataObj));\n            }\n        });\n        return dataFinal;\n    }\n    setData(data) {\n        this.data = this.partialToFullData(data);\n        if (this.selectType === 'single') {\n            this.setSelectedBy('value', this.getSelected());\n        }\n    }\n    getData() {\n        return this.filter(null, true);\n    }\n    getDataOptions() {\n        return this.filter(null, false);\n    }\n    addOption(option) {\n        this.setData(this.getData().concat(new Option(option)));\n    }\n    setSelectedBy(selectedType, selectedValues) {\n        let firstOption = null;\n        let hasSelected = false;\n        for (let dataObj of this.data) {\n            if (dataObj instanceof Optgroup) {\n                for (let option of dataObj.options) {\n                    if (!firstOption) {\n                        firstOption = option;\n                    }\n                    option.selected = hasSelected ? false : selectedValues.includes(option[selectedType]);\n                    if (option.selected && this.selectType === 'single') {\n                        hasSelected = true;\n                    }\n                }\n            }\n            if (dataObj instanceof Option) {\n                if (!firstOption) {\n                    firstOption = dataObj;\n                }\n                dataObj.selected = hasSelected ? false : selectedValues.includes(dataObj[selectedType]);\n                if (dataObj.selected && this.selectType === 'single') {\n                    hasSelected = true;\n                }\n            }\n        }\n        if (this.selectType === 'single' && firstOption && !hasSelected) {\n            firstOption.selected = true;\n        }\n    }\n    getSelected() {\n        let selectedOptions = this.getSelectedOptions();\n        let selectedValues = [];\n        selectedOptions.forEach((option) => {\n            selectedValues.push(option.value);\n        });\n        return selectedValues;\n    }\n    getSelectedOptions() {\n        return this.filter((opt) => {\n            return opt.selected;\n        }, false);\n    }\n    getSelectedIDs() {\n        let selectedOptions = this.getSelectedOptions();\n        let selectedIDs = [];\n        selectedOptions.forEach((op) => {\n            selectedIDs.push(op.id);\n        });\n        return selectedIDs;\n    }\n    getOptgroupByID(id) {\n        for (let dataObj of this.data) {\n            if (dataObj instanceof Optgroup && dataObj.id === id) {\n                return dataObj;\n            }\n        }\n        return null;\n    }\n    getOptionByID(id) {\n        let options = this.filter((opt) => {\n            return opt.id === id;\n        }, false);\n        return options.length ? options[0] : null;\n    }\n    search(search, searchFilter) {\n        search = search.trim();\n        if (search === '') {\n            return this.getData();\n        }\n        return this.filter((opt) => {\n            return searchFilter(opt, search);\n        }, true);\n    }\n    filter(filter, includeOptgroup) {\n        const dataSearch = [];\n        this.data.forEach((dataObj) => {\n            if (dataObj instanceof Optgroup) {\n                let optOptions = [];\n                dataObj.options.forEach((option) => {\n                    if (!filter || filter(option)) {\n                        if (!includeOptgroup) {\n                            dataSearch.push(new Option(option));\n                        }\n                        else {\n                            optOptions.push(new Option(option));\n                        }\n                    }\n                });\n                if (optOptions.length > 0) {\n                    let optgroup = new Optgroup(dataObj);\n                    optgroup.options = optOptions;\n                    dataSearch.push(optgroup);\n                }\n            }\n            if (dataObj instanceof Option) {\n                if (!filter || filter(dataObj)) {\n                    dataSearch.push(new Option(dataObj));\n                }\n            }\n        });\n        return dataSearch;\n    }\n    getSelectType() {\n        return this.selectType;\n    }\n}\n\nclass Render {\n    constructor(settings, store, callbacks) {\n        this.classes = {\n            main: 'ss-main',\n            placeholder: 'ss-placeholder',\n            values: 'ss-values',\n            single: 'ss-single',\n            max: 'ss-max',\n            value: 'ss-value',\n            valueText: 'ss-value-text',\n            valueDelete: 'ss-value-delete',\n            valueOut: 'ss-value-out',\n            deselect: 'ss-deselect',\n            deselectPath: 'M10,10 L90,90 M10,90 L90,10',\n            arrow: 'ss-arrow',\n            arrowClose: 'M10,30 L50,70 L90,30',\n            arrowOpen: 'M10,70 L50,30 L90,70',\n            content: 'ss-content',\n            openAbove: 'ss-open-above',\n            openBelow: 'ss-open-below',\n            search: 'ss-search',\n            searchHighlighter: 'ss-search-highlight',\n            searching: 'ss-searching',\n            addable: 'ss-addable',\n            addablePath: 'M50,10 L50,90 M10,50 L90,50',\n            list: 'ss-list',\n            optgroup: 'ss-optgroup',\n            optgroupLabel: 'ss-optgroup-label',\n            optgroupLabelText: 'ss-optgroup-label-text',\n            optgroupActions: 'ss-optgroup-actions',\n            optgroupSelectAll: 'ss-selectall',\n            optgroupSelectAllBox: 'M60,10 L10,10 L10,90 L90,90 L90,50',\n            optgroupSelectAllCheck: 'M30,45 L50,70 L90,10',\n            optgroupClosable: 'ss-closable',\n            option: 'ss-option',\n            optionDelete: 'M10,10 L90,90 M10,90 L90,10',\n            highlighted: 'ss-highlighted',\n            open: 'ss-open',\n            close: 'ss-close',\n            selected: 'ss-selected',\n            error: 'ss-error',\n            disabled: 'ss-disabled',\n            hide: 'ss-hide',\n        };\n        this.store = store;\n        this.settings = settings;\n        this.callbacks = callbacks;\n        this.main = this.mainDiv();\n        this.content = this.contentDiv();\n        this.updateClassStyles();\n        this.updateAriaAttributes();\n        this.settings.contentLocation.appendChild(this.content.main);\n    }\n    enable() {\n        this.main.main.classList.remove(this.classes.disabled);\n        this.content.search.input.disabled = false;\n    }\n    disable() {\n        this.main.main.classList.add(this.classes.disabled);\n        this.content.search.input.disabled = true;\n    }\n    open() {\n        this.main.arrow.path.setAttribute('d', this.classes.arrowOpen);\n        this.main.main.classList.add(this.settings.openPosition === 'up' ? this.classes.openAbove : this.classes.openBelow);\n        this.main.main.setAttribute('aria-expanded', 'true');\n        this.moveContent();\n        const selectedOptions = this.store.getSelectedOptions();\n        if (selectedOptions.length) {\n            const selectedId = selectedOptions[selectedOptions.length - 1].id;\n            const selectedOption = this.content.list.querySelector('[data-id=\"' + selectedId + '\"]');\n            if (selectedOption) {\n                this.ensureElementInView(this.content.list, selectedOption);\n            }\n        }\n    }\n    close() {\n        this.main.main.classList.remove(this.classes.openAbove);\n        this.main.main.classList.remove(this.classes.openBelow);\n        this.main.main.setAttribute('aria-expanded', 'false');\n        this.content.main.classList.remove(this.classes.openAbove);\n        this.content.main.classList.remove(this.classes.openBelow);\n        this.main.arrow.path.setAttribute('d', this.classes.arrowClose);\n    }\n    updateClassStyles() {\n        this.main.main.className = '';\n        this.main.main.removeAttribute('style');\n        this.content.main.className = '';\n        this.content.main.removeAttribute('style');\n        this.main.main.classList.add(this.classes.main);\n        this.content.main.classList.add(this.classes.content);\n        if (this.settings.style !== '') {\n            this.main.main.style.cssText = this.settings.style;\n            this.content.main.style.cssText = this.settings.style;\n        }\n        if (this.settings.class.length) {\n            for (const c of this.settings.class) {\n                if (c.trim() !== '') {\n                    this.main.main.classList.add(c.trim());\n                    this.content.main.classList.add(c.trim());\n                }\n            }\n        }\n        if (this.settings.contentPosition === 'relative') {\n            this.content.main.classList.add('ss-' + this.settings.contentPosition);\n        }\n    }\n    updateAriaAttributes() {\n        this.main.main.role = 'combobox';\n        this.main.main.setAttribute('aria-haspopup', 'listbox');\n        this.main.main.setAttribute('aria-controls', this.content.main.id);\n        this.main.main.setAttribute('aria-expanded', 'false');\n        this.content.main.setAttribute('role', 'listbox');\n    }\n    mainDiv() {\n        var _a;\n        const main = document.createElement('div');\n        main.dataset.id = this.settings.id;\n        main.id = this.settings.id;\n        main.tabIndex = 0;\n        main.onkeydown = (e) => {\n            switch (e.key) {\n                case 'ArrowUp':\n                case 'ArrowDown':\n                    this.callbacks.open();\n                    e.key === 'ArrowDown' ? this.highlight('down') : this.highlight('up');\n                    return false;\n                case 'Tab':\n                    this.callbacks.close();\n                    return true;\n                case 'Enter':\n                case ' ':\n                    this.callbacks.open();\n                    const highlighted = this.content.list.querySelector('.' + this.classes.highlighted);\n                    if (highlighted) {\n                        highlighted.click();\n                    }\n                    return false;\n                case 'Escape':\n                    this.callbacks.close();\n                    return false;\n            }\n        };\n        main.onclick = (e) => {\n            if (this.settings.disabled) {\n                return;\n            }\n            this.settings.isOpen ? this.callbacks.close() : this.callbacks.open();\n        };\n        const values = document.createElement('div');\n        values.classList.add(this.classes.values);\n        main.appendChild(values);\n        const deselect = document.createElement('div');\n        deselect.classList.add(this.classes.deselect);\n        const selectedOptions = (_a = this.store) === null || _a === void 0 ? void 0 : _a.getSelectedOptions();\n        if (!this.settings.allowDeselect || (this.settings.isMultiple && selectedOptions && selectedOptions.length <= 0)) {\n            deselect.classList.add(this.classes.hide);\n        }\n        else {\n            deselect.classList.remove(this.classes.hide);\n        }\n        deselect.onclick = (e) => {\n            e.stopPropagation();\n            if (this.settings.disabled) {\n                return;\n            }\n            let shouldDelete = true;\n            const before = this.store.getSelectedOptions();\n            const after = [];\n            if (this.callbacks.beforeChange) {\n                shouldDelete = this.callbacks.beforeChange(after, before) === true;\n            }\n            if (shouldDelete) {\n                if (this.settings.isMultiple) {\n                    this.callbacks.setSelected([], false);\n                    this.updateDeselectAll();\n                }\n                else {\n                    this.callbacks.setSelected([''], false);\n                }\n                if (this.settings.closeOnSelect) {\n                    this.callbacks.close();\n                }\n                if (this.callbacks.afterChange) {\n                    this.callbacks.afterChange(after);\n                }\n            }\n        };\n        const deselectSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        deselectSvg.setAttribute('viewBox', '0 0 100 100');\n        const deselectPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        deselectPath.setAttribute('d', this.classes.deselectPath);\n        deselectSvg.appendChild(deselectPath);\n        deselect.appendChild(deselectSvg);\n        main.appendChild(deselect);\n        const arrow = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        arrow.classList.add(this.classes.arrow);\n        arrow.setAttribute('viewBox', '0 0 100 100');\n        const arrowPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        arrowPath.setAttribute('d', this.classes.arrowClose);\n        if (this.settings.alwaysOpen) {\n            arrow.classList.add(this.classes.hide);\n        }\n        arrow.appendChild(arrowPath);\n        main.appendChild(arrow);\n        return {\n            main: main,\n            values: values,\n            deselect: {\n                main: deselect,\n                svg: deselectSvg,\n                path: deselectPath,\n            },\n            arrow: {\n                main: arrow,\n                path: arrowPath,\n            },\n        };\n    }\n    mainFocus(eventType) {\n        if (eventType !== 'click') {\n            this.main.main.focus({ preventScroll: true });\n        }\n    }\n    placeholder() {\n        const placeholderOption = this.store.filter((o) => o.placeholder, false);\n        let placeholderText = this.settings.placeholderText;\n        if (placeholderOption.length) {\n            if (placeholderOption[0].html !== '') {\n                placeholderText = placeholderOption[0].html;\n            }\n            else if (placeholderOption[0].text !== '') {\n                placeholderText = placeholderOption[0].text;\n            }\n        }\n        const placeholder = document.createElement('div');\n        placeholder.classList.add(this.classes.placeholder);\n        placeholder.innerHTML = placeholderText;\n        return placeholder;\n    }\n    renderValues() {\n        if (!this.settings.isMultiple) {\n            this.renderSingleValue();\n            return;\n        }\n        this.renderMultipleValues();\n    }\n    renderSingleValue() {\n        const selected = this.store.filter((o) => {\n            return o.selected && !o.placeholder;\n        }, false);\n        const selectedSingle = selected.length > 0 ? selected[0] : null;\n        if (!selectedSingle) {\n            this.main.values.innerHTML = this.placeholder().outerHTML;\n        }\n        else {\n            const singleValue = document.createElement('div');\n            singleValue.classList.add(this.classes.single);\n            if (selectedSingle.html) {\n                singleValue.innerHTML = selectedSingle.html;\n            }\n            else {\n                singleValue.innerText = selectedSingle.text;\n            }\n            this.main.values.innerHTML = singleValue.outerHTML;\n        }\n        if (!this.settings.allowDeselect || !selected.length) {\n            this.main.deselect.main.classList.add(this.classes.hide);\n        }\n        else {\n            this.main.deselect.main.classList.remove(this.classes.hide);\n        }\n    }\n    renderMultipleValues() {\n        let currentNodes = this.main.values.childNodes;\n        let selectedOptions = this.store.filter((opt) => {\n            return opt.selected && opt.display;\n        }, false);\n        if (selectedOptions.length === 0) {\n            this.main.values.innerHTML = this.placeholder().outerHTML;\n            return;\n        }\n        else {\n            const placeholder = this.main.values.querySelector('.' + this.classes.placeholder);\n            if (placeholder) {\n                placeholder.remove();\n            }\n        }\n        if (selectedOptions.length > this.settings.maxValuesShown) {\n            const singleValue = document.createElement('div');\n            singleValue.classList.add(this.classes.max);\n            singleValue.textContent = this.settings.maxValuesMessage.replace('{number}', selectedOptions.length.toString());\n            this.main.values.innerHTML = singleValue.outerHTML;\n            return;\n        }\n        else {\n            const maxValuesMessage = this.main.values.querySelector('.' + this.classes.max);\n            if (maxValuesMessage) {\n                maxValuesMessage.remove();\n            }\n        }\n        let removeNodes = [];\n        for (let i = 0; i < currentNodes.length; i++) {\n            const node = currentNodes[i];\n            const id = node.getAttribute('data-id');\n            if (id) {\n                const found = selectedOptions.filter((opt) => {\n                    return opt.id === id;\n                }, false);\n                if (!found.length) {\n                    removeNodes.push(node);\n                }\n            }\n        }\n        for (const n of removeNodes) {\n            n.classList.add(this.classes.valueOut);\n            setTimeout(() => {\n                if (this.main.values.hasChildNodes() && this.main.values.contains(n)) {\n                    this.main.values.removeChild(n);\n                }\n            }, 100);\n        }\n        currentNodes = this.main.values.childNodes;\n        for (let d = 0; d < selectedOptions.length; d++) {\n            let shouldAdd = true;\n            for (let i = 0; i < currentNodes.length; i++) {\n                if (selectedOptions[d].id === String(currentNodes[i].dataset.id)) {\n                    shouldAdd = false;\n                }\n            }\n            if (shouldAdd) {\n                if (currentNodes.length === 0) {\n                    this.main.values.appendChild(this.multipleValue(selectedOptions[d]));\n                }\n                else if (d === 0) {\n                    this.main.values.insertBefore(this.multipleValue(selectedOptions[d]), currentNodes[d]);\n                }\n                else {\n                    currentNodes[d - 1].insertAdjacentElement('afterend', this.multipleValue(selectedOptions[d]));\n                }\n            }\n        }\n        this.updateDeselectAll();\n    }\n    multipleValue(option) {\n        const value = document.createElement('div');\n        value.classList.add(this.classes.value);\n        value.dataset.id = option.id;\n        const text = document.createElement('div');\n        text.classList.add(this.classes.valueText);\n        text.innerText = option.text;\n        value.appendChild(text);\n        if (!option.mandatory) {\n            const deleteDiv = document.createElement('div');\n            deleteDiv.classList.add(this.classes.valueDelete);\n            deleteDiv.onclick = (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                if (this.settings.disabled) {\n                    return;\n                }\n                let shouldDelete = true;\n                const before = this.store.getSelectedOptions();\n                const after = before.filter((o) => {\n                    return o.selected && o.id !== option.id;\n                }, true);\n                if (this.settings.minSelected && after.length < this.settings.minSelected) {\n                    return;\n                }\n                if (this.callbacks.beforeChange) {\n                    shouldDelete = this.callbacks.beforeChange(after, before) === true;\n                }\n                if (shouldDelete) {\n                    let selectedValues = [];\n                    for (const o of after) {\n                        if (o instanceof Optgroup) {\n                            for (const c of o.options) {\n                                selectedValues.push(c.value);\n                            }\n                        }\n                        if (o instanceof Option) {\n                            selectedValues.push(o.value);\n                        }\n                    }\n                    this.callbacks.setSelected(selectedValues, false);\n                    if (this.settings.closeOnSelect) {\n                        this.callbacks.close();\n                    }\n                    if (this.callbacks.afterChange) {\n                        this.callbacks.afterChange(after);\n                    }\n                    this.updateDeselectAll();\n                }\n            };\n            const deleteSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            deleteSvg.setAttribute('viewBox', '0 0 100 100');\n            const deletePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n            deletePath.setAttribute('d', this.classes.optionDelete);\n            deleteSvg.appendChild(deletePath);\n            deleteDiv.appendChild(deleteSvg);\n            value.appendChild(deleteDiv);\n        }\n        return value;\n    }\n    contentDiv() {\n        const main = document.createElement('div');\n        main.dataset.id = this.settings.id;\n        main.id = this.settings.id;\n        const search = this.searchDiv();\n        main.appendChild(search.main);\n        const list = this.listDiv();\n        main.appendChild(list);\n        return {\n            main: main,\n            search: search,\n            list: list,\n        };\n    }\n    moveContent() {\n        if (this.settings.contentPosition === 'relative') {\n            this.moveContentBelow();\n            return;\n        }\n        if (this.settings.openPosition === 'down') {\n            this.moveContentBelow();\n            return;\n        }\n        else if (this.settings.openPosition === 'up') {\n            this.moveContentAbove();\n            return;\n        }\n        if (this.putContent() === 'up') {\n            this.moveContentAbove();\n        }\n        else {\n            this.moveContentBelow();\n        }\n    }\n    searchDiv() {\n        const main = document.createElement('div');\n        const input = document.createElement('input');\n        const addable = document.createElement('div');\n        main.classList.add(this.classes.search);\n        const searchReturn = {\n            main,\n            input,\n        };\n        if (!this.settings.showSearch) {\n            main.classList.add(this.classes.hide);\n            input.readOnly = true;\n        }\n        input.type = 'search';\n        input.placeholder = this.settings.searchPlaceholder;\n        input.tabIndex = -1;\n        input.setAttribute('aria-label', this.settings.searchPlaceholder);\n        input.setAttribute('autocapitalize', 'off');\n        input.setAttribute('autocomplete', 'off');\n        input.setAttribute('autocorrect', 'off');\n        input.oninput = debounce((e) => {\n            this.callbacks.search(e.target.value);\n        }, 100);\n        input.onkeydown = (e) => {\n            switch (e.key) {\n                case 'ArrowUp':\n                case 'ArrowDown':\n                    e.key === 'ArrowDown' ? this.highlight('down') : this.highlight('up');\n                    return false;\n                case 'Tab':\n                    this.callbacks.close();\n                    return true;\n                case 'Escape':\n                    this.callbacks.close();\n                    return false;\n                case 'Enter':\n                case ' ':\n                    if (this.callbacks.addable && e.ctrlKey) {\n                        addable.click();\n                        return false;\n                    }\n                    else {\n                        const highlighted = this.content.list.querySelector('.' + this.classes.highlighted);\n                        if (highlighted) {\n                            highlighted.click();\n                            return false;\n                        }\n                    }\n                    return true;\n            }\n        };\n        main.appendChild(input);\n        if (this.callbacks.addable) {\n            addable.classList.add(this.classes.addable);\n            const plus = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            plus.setAttribute('viewBox', '0 0 100 100');\n            const plusPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n            plusPath.setAttribute('d', this.classes.addablePath);\n            plus.appendChild(plusPath);\n            addable.appendChild(plus);\n            addable.onclick = (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                if (!this.callbacks.addable) {\n                    return;\n                }\n                const inputValue = this.content.search.input.value.trim();\n                if (inputValue === '') {\n                    this.content.search.input.focus();\n                    return;\n                }\n                const runFinish = (oo) => {\n                    let newOption = new Option(oo);\n                    this.callbacks.addOption(newOption);\n                    if (this.settings.isMultiple) {\n                        let values = this.store.getSelected();\n                        values.push(newOption.value);\n                        this.callbacks.setSelected(values, true);\n                    }\n                    else {\n                        this.callbacks.setSelected([newOption.value], true);\n                    }\n                    this.callbacks.search('');\n                    if (this.settings.closeOnSelect) {\n                        setTimeout(() => {\n                            this.callbacks.close();\n                        }, 100);\n                    }\n                };\n                const addableValue = this.callbacks.addable(inputValue);\n                if (addableValue === false || addableValue === undefined || addableValue === null) {\n                    return;\n                }\n                if (addableValue instanceof Promise) {\n                    addableValue.then((value) => {\n                        if (typeof value === 'string') {\n                            runFinish({\n                                text: value,\n                                value: value,\n                            });\n                        }\n                        else {\n                            runFinish(value);\n                        }\n                    });\n                }\n                else if (typeof addableValue === 'string') {\n                    runFinish({\n                        text: addableValue,\n                        value: addableValue,\n                    });\n                }\n                else {\n                    runFinish(addableValue);\n                }\n                return;\n            };\n            main.appendChild(addable);\n            searchReturn.addable = {\n                main: addable,\n                svg: plus,\n                path: plusPath,\n            };\n        }\n        return searchReturn;\n    }\n    searchFocus() {\n        this.content.search.input.focus();\n    }\n    getOptions(notPlaceholder = false, notDisabled = false, notHidden = false) {\n        let query = '.' + this.classes.option;\n        if (notPlaceholder) {\n            query += ':not(.' + this.classes.placeholder + ')';\n        }\n        if (notDisabled) {\n            query += ':not(.' + this.classes.disabled + ')';\n        }\n        if (notHidden) {\n            query += ':not(.' + this.classes.hide + ')';\n        }\n        return Array.from(this.content.list.querySelectorAll(query));\n    }\n    highlight(dir) {\n        const options = this.getOptions(true, true, true);\n        if (options.length === 0) {\n            return;\n        }\n        if (options.length === 1) {\n            if (!options[0].classList.contains(this.classes.highlighted)) {\n                options[0].classList.add(this.classes.highlighted);\n                return;\n            }\n        }\n        for (let i = 0; i < options.length; i++) {\n            if (options[i].classList.contains(this.classes.highlighted)) {\n                const prevOption = options[i];\n                prevOption.classList.remove(this.classes.highlighted);\n                const prevParent = prevOption.parentElement;\n                if (prevParent && prevParent.classList.contains(this.classes.open)) {\n                    const optgroupLabel = prevParent.querySelector('.' + this.classes.optgroupLabel);\n                    if (optgroupLabel) {\n                        optgroupLabel.click();\n                    }\n                }\n                let selectOption = options[dir === 'down' ? (i + 1 < options.length ? i + 1 : 0) : i - 1 >= 0 ? i - 1 : options.length - 1];\n                selectOption.classList.add(this.classes.highlighted);\n                this.ensureElementInView(this.content.list, selectOption);\n                const selectParent = selectOption.parentElement;\n                if (selectParent && selectParent.classList.contains(this.classes.close)) {\n                    const optgroupLabel = selectParent.querySelector('.' + this.classes.optgroupLabel);\n                    if (optgroupLabel) {\n                        optgroupLabel.click();\n                    }\n                }\n                return;\n            }\n        }\n        options[dir === 'down' ? 0 : options.length - 1].classList.add(this.classes.highlighted);\n        this.ensureElementInView(this.content.list, options[dir === 'down' ? 0 : options.length - 1]);\n    }\n    listDiv() {\n        const options = document.createElement('div');\n        options.classList.add(this.classes.list);\n        return options;\n    }\n    renderError(error) {\n        this.content.list.innerHTML = '';\n        const errorDiv = document.createElement('div');\n        errorDiv.classList.add(this.classes.error);\n        errorDiv.textContent = error;\n        this.content.list.appendChild(errorDiv);\n    }\n    renderSearching() {\n        this.content.list.innerHTML = '';\n        const searchingDiv = document.createElement('div');\n        searchingDiv.classList.add(this.classes.searching);\n        searchingDiv.textContent = this.settings.searchingText;\n        this.content.list.appendChild(searchingDiv);\n    }\n    renderOptions(data) {\n        this.content.list.innerHTML = '';\n        if (data.length === 0) {\n            const noResults = document.createElement('div');\n            noResults.classList.add(this.classes.search);\n            noResults.innerHTML = this.settings.searchText;\n            this.content.list.appendChild(noResults);\n            return;\n        }\n        for (const d of data) {\n            if (d instanceof Optgroup) {\n                const optgroupEl = document.createElement('div');\n                optgroupEl.classList.add(this.classes.optgroup);\n                const optgroupLabel = document.createElement('div');\n                optgroupLabel.classList.add(this.classes.optgroupLabel);\n                optgroupEl.appendChild(optgroupLabel);\n                const optgroupLabelText = document.createElement('div');\n                optgroupLabelText.classList.add(this.classes.optgroupLabelText);\n                optgroupLabelText.textContent = d.label;\n                optgroupLabel.appendChild(optgroupLabelText);\n                const optgroupActions = document.createElement('div');\n                optgroupActions.classList.add(this.classes.optgroupActions);\n                optgroupLabel.appendChild(optgroupActions);\n                if (this.settings.isMultiple && d.selectAll) {\n                    const selectAll = document.createElement('div');\n                    selectAll.classList.add(this.classes.optgroupSelectAll);\n                    let allSelected = true;\n                    for (const o of d.options) {\n                        if (!o.selected) {\n                            allSelected = false;\n                            break;\n                        }\n                    }\n                    if (allSelected) {\n                        selectAll.classList.add(this.classes.selected);\n                    }\n                    const selectAllText = document.createElement('span');\n                    selectAllText.textContent = 'Select All';\n                    selectAll.appendChild(selectAllText);\n                    const selectAllSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n                    selectAllSvg.setAttribute('viewBox', '0 0 100 100');\n                    selectAll.appendChild(selectAllSvg);\n                    const selectAllBox = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n                    selectAllBox.setAttribute('d', this.classes.optgroupSelectAllBox);\n                    selectAllSvg.appendChild(selectAllBox);\n                    const selectAllCheck = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n                    selectAllCheck.setAttribute('d', this.classes.optgroupSelectAllCheck);\n                    selectAllSvg.appendChild(selectAllCheck);\n                    selectAll.addEventListener('click', (e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        const currentSelected = this.store.getSelected();\n                        if (allSelected) {\n                            const newSelected = currentSelected.filter((s) => {\n                                for (const o of d.options) {\n                                    if (s === o.value) {\n                                        return false;\n                                    }\n                                }\n                                return true;\n                            });\n                            this.callbacks.setSelected(newSelected, true);\n                            return;\n                        }\n                        else {\n                            const newSelected = currentSelected.concat(d.options.map((o) => o.value));\n                            this.callbacks.setSelected(newSelected, true);\n                        }\n                    });\n                    optgroupActions.appendChild(selectAll);\n                }\n                if (d.closable !== 'off') {\n                    const optgroupClosable = document.createElement('div');\n                    optgroupClosable.classList.add(this.classes.optgroupClosable);\n                    const optgroupClosableSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n                    optgroupClosableSvg.setAttribute('viewBox', '0 0 100 100');\n                    optgroupClosableSvg.classList.add(this.classes.arrow);\n                    optgroupClosable.appendChild(optgroupClosableSvg);\n                    const optgroupClosableArrow = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n                    optgroupClosableSvg.appendChild(optgroupClosableArrow);\n                    if (d.options.some((o) => o.selected) || this.content.search.input.value.trim() !== '') {\n                        optgroupClosable.classList.add(this.classes.open);\n                        optgroupClosableArrow.setAttribute('d', this.classes.arrowOpen);\n                    }\n                    else if (d.closable === 'open') {\n                        optgroupEl.classList.add(this.classes.open);\n                        optgroupClosableArrow.setAttribute('d', this.classes.arrowOpen);\n                    }\n                    else if (d.closable === 'close') {\n                        optgroupEl.classList.add(this.classes.close);\n                        optgroupClosableArrow.setAttribute('d', this.classes.arrowClose);\n                    }\n                    optgroupLabel.addEventListener('click', (e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        if (optgroupEl.classList.contains(this.classes.close)) {\n                            optgroupEl.classList.remove(this.classes.close);\n                            optgroupEl.classList.add(this.classes.open);\n                            optgroupClosableArrow.setAttribute('d', this.classes.arrowOpen);\n                        }\n                        else {\n                            optgroupEl.classList.remove(this.classes.open);\n                            optgroupEl.classList.add(this.classes.close);\n                            optgroupClosableArrow.setAttribute('d', this.classes.arrowClose);\n                        }\n                    });\n                    optgroupActions.appendChild(optgroupClosable);\n                }\n                optgroupEl.appendChild(optgroupLabel);\n                for (const o of d.options) {\n                    optgroupEl.appendChild(this.option(o));\n                }\n                this.content.list.appendChild(optgroupEl);\n            }\n            if (d instanceof Option) {\n                this.content.list.appendChild(this.option(d));\n            }\n        }\n    }\n    option(option) {\n        if (option.placeholder) {\n            const placeholder = document.createElement('div');\n            placeholder.classList.add(this.classes.option);\n            placeholder.classList.add(this.classes.hide);\n            return placeholder;\n        }\n        const optionEl = document.createElement('div');\n        optionEl.dataset.id = option.id;\n        optionEl.id = option.id;\n        optionEl.classList.add(this.classes.option);\n        optionEl.setAttribute('role', 'option');\n        if (option.class) {\n            option.class.split(' ').forEach((dataClass) => {\n                optionEl.classList.add(dataClass);\n            });\n        }\n        if (option.style) {\n            optionEl.style.cssText = option.style;\n        }\n        if (this.settings.searchHighlight && this.content.search.input.value.trim() !== '') {\n            optionEl.innerHTML = this.highlightText(option.html !== '' ? option.html : option.text, this.content.search.input.value, this.classes.searchHighlighter);\n        }\n        else if (option.html !== '') {\n            optionEl.innerHTML = option.html;\n        }\n        else {\n            optionEl.textContent = option.text;\n        }\n        if (this.settings.showOptionTooltips && optionEl.textContent) {\n            optionEl.setAttribute('title', optionEl.textContent);\n        }\n        if (!option.display) {\n            optionEl.classList.add(this.classes.hide);\n        }\n        if (option.disabled) {\n            optionEl.classList.add(this.classes.disabled);\n        }\n        if (option.selected && this.settings.hideSelected) {\n            optionEl.classList.add(this.classes.hide);\n        }\n        if (option.selected) {\n            optionEl.classList.add(this.classes.selected);\n            optionEl.setAttribute('aria-selected', 'true');\n            this.main.main.setAttribute('aria-activedescendant', optionEl.id);\n        }\n        else {\n            optionEl.classList.remove(this.classes.selected);\n            optionEl.setAttribute('aria-selected', 'false');\n        }\n        optionEl.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            const selectedOptions = this.store.getSelected();\n            const element = e.currentTarget;\n            const elementID = String(element.dataset.id);\n            if (option.disabled || (option.selected && !this.settings.allowDeselect)) {\n                return;\n            }\n            if ((this.settings.isMultiple && this.settings.maxSelected <= selectedOptions.length && !option.selected) ||\n                (this.settings.isMultiple && this.settings.minSelected >= selectedOptions.length && option.selected)) {\n                return;\n            }\n            let shouldUpdate = false;\n            const before = this.store.getSelectedOptions();\n            let after = [];\n            if (this.settings.isMultiple) {\n                if (option.selected) {\n                    after = before.filter((o) => o.id !== elementID);\n                }\n                else {\n                    after = before.concat(option);\n                }\n            }\n            if (!this.settings.isMultiple) {\n                if (option.selected) {\n                    after = [];\n                }\n                else {\n                    after = [option];\n                }\n            }\n            if (!this.callbacks.beforeChange) {\n                shouldUpdate = true;\n            }\n            if (this.callbacks.beforeChange) {\n                if (this.callbacks.beforeChange(after, before) === false) {\n                    shouldUpdate = false;\n                }\n                else {\n                    shouldUpdate = true;\n                }\n            }\n            if (shouldUpdate) {\n                if (!this.store.getOptionByID(elementID)) {\n                    this.callbacks.addOption(option);\n                }\n                this.callbacks.setSelected(after.map((o) => o.value), false);\n                if (this.settings.closeOnSelect) {\n                    this.callbacks.close();\n                }\n                if (this.callbacks.afterChange) {\n                    this.callbacks.afterChange(after);\n                }\n            }\n        });\n        return optionEl;\n    }\n    destroy() {\n        this.main.main.remove();\n        this.content.main.remove();\n    }\n    highlightText(str, search, className) {\n        let completedString = str;\n        const regex = new RegExp('(' + search.trim() + ')(?![^<]*>[^<>]*</)', 'i');\n        if (!str.match(regex)) {\n            return str;\n        }\n        const matchStartPosition = str.match(regex).index;\n        const matchEndPosition = matchStartPosition + str.match(regex)[0].toString().length;\n        const originalTextFoundByRegex = str.substring(matchStartPosition, matchEndPosition);\n        completedString = completedString.replace(regex, `<mark class=\"${className}\">${originalTextFoundByRegex}</mark>`);\n        return completedString;\n    }\n    moveContentAbove() {\n        const mainHeight = this.main.main.offsetHeight;\n        const contentHeight = this.content.main.offsetHeight;\n        this.main.main.classList.remove(this.classes.openBelow);\n        this.main.main.classList.add(this.classes.openAbove);\n        this.content.main.classList.remove(this.classes.openBelow);\n        this.content.main.classList.add(this.classes.openAbove);\n        const containerRect = this.main.main.getBoundingClientRect();\n        this.content.main.style.margin = '-' + (mainHeight + contentHeight - 1) + 'px 0px 0px 0px';\n        this.content.main.style.top = containerRect.top + containerRect.height + window.scrollY + 'px';\n        this.content.main.style.left = containerRect.left + window.scrollX + 'px';\n        this.content.main.style.width = containerRect.width + 'px';\n    }\n    moveContentBelow() {\n        this.main.main.classList.remove(this.classes.openAbove);\n        this.main.main.classList.add(this.classes.openBelow);\n        this.content.main.classList.remove(this.classes.openAbove);\n        this.content.main.classList.add(this.classes.openBelow);\n        const containerRect = this.main.main.getBoundingClientRect();\n        this.content.main.style.margin = '-1px 0px 0px 0px';\n        if (this.settings.contentPosition !== 'relative') {\n            this.content.main.style.top = containerRect.top + containerRect.height + window.scrollY + 'px';\n            this.content.main.style.left = containerRect.left + window.scrollX + 'px';\n            this.content.main.style.width = containerRect.width + 'px';\n        }\n    }\n    ensureElementInView(container, element) {\n        const cTop = container.scrollTop + container.offsetTop;\n        const cBottom = cTop + container.clientHeight;\n        const eTop = element.offsetTop;\n        const eBottom = eTop + element.clientHeight;\n        if (eTop < cTop) {\n            container.scrollTop -= cTop - eTop;\n        }\n        else if (eBottom > cBottom) {\n            container.scrollTop += eBottom - cBottom;\n        }\n    }\n    putContent() {\n        const mainHeight = this.main.main.offsetHeight;\n        const mainRect = this.main.main.getBoundingClientRect();\n        const contentHeight = this.content.main.offsetHeight;\n        const spaceBelow = window.innerHeight - (mainRect.top + mainHeight);\n        if (spaceBelow <= contentHeight) {\n            if (mainRect.top > contentHeight) {\n                return 'up';\n            }\n            else {\n                return 'down';\n            }\n        }\n        return 'down';\n    }\n    updateDeselectAll() {\n        if (!this.store || !this.settings) {\n            return;\n        }\n        const selected = this.store.getSelectedOptions();\n        const hasSelectedItems = selected && selected.length > 0;\n        const isMultiple = this.settings.isMultiple;\n        const allowDeselect = this.settings.allowDeselect;\n        const deselectButton = this.main.deselect.main;\n        const hideClass = this.classes.hide;\n        if (allowDeselect && !(isMultiple && !hasSelectedItems)) {\n            deselectButton.classList.remove(hideClass);\n        }\n        else {\n            deselectButton.classList.add(hideClass);\n        }\n    }\n}\n\nclass Select {\n    constructor(select) {\n        this.listen = false;\n        this.observer = null;\n        this.select = select;\n        this.select.addEventListener('change', this.valueChange.bind(this), {\n            passive: true,\n        });\n        this.observer = new MutationObserver(this.observeCall.bind(this));\n        this.changeListen(true);\n    }\n    enable() {\n        this.select.disabled = false;\n    }\n    disable() {\n        this.select.disabled = true;\n    }\n    hideUI() {\n        this.select.tabIndex = -1;\n        this.select.style.display = 'none';\n        this.select.setAttribute('aria-hidden', 'true');\n    }\n    showUI() {\n        this.select.removeAttribute('tabindex');\n        this.select.style.display = '';\n        this.select.removeAttribute('aria-hidden');\n    }\n    changeListen(listen) {\n        this.listen = listen;\n        if (listen) {\n            if (this.observer) {\n                this.observer.observe(this.select, {\n                    subtree: true,\n                    childList: true,\n                    attributes: true,\n                });\n            }\n        }\n        if (!listen) {\n            if (this.observer) {\n                this.observer.disconnect();\n            }\n        }\n    }\n    valueChange(ev) {\n        if (this.listen && this.onValueChange) {\n            this.onValueChange(this.getSelectedValues());\n        }\n        return true;\n    }\n    observeCall(mutations) {\n        if (!this.listen) {\n            return;\n        }\n        let classChanged = false;\n        let disabledChanged = false;\n        let optgroupOptionChanged = false;\n        for (const m of mutations) {\n            if (m.target === this.select) {\n                if (m.attributeName === 'disabled') {\n                    disabledChanged = true;\n                }\n                if (m.attributeName === 'class') {\n                    classChanged = true;\n                }\n            }\n            if (m.target.nodeName === 'OPTGROUP' || m.target.nodeName === 'OPTION') {\n                optgroupOptionChanged = true;\n            }\n        }\n        if (classChanged && this.onClassChange) {\n            this.onClassChange(this.select.className.split(' '));\n        }\n        if (disabledChanged && this.onDisabledChange) {\n            this.changeListen(false);\n            this.onDisabledChange(this.select.disabled);\n            this.changeListen(true);\n        }\n        if (optgroupOptionChanged && this.onOptionsChange) {\n            this.changeListen(false);\n            this.onOptionsChange(this.getData());\n            this.changeListen(true);\n        }\n    }\n    getData() {\n        let data = [];\n        const nodes = this.select.childNodes;\n        for (const n of nodes) {\n            if (n.nodeName === 'OPTGROUP') {\n                data.push(this.getDataFromOptgroup(n));\n            }\n            if (n.nodeName === 'OPTION') {\n                data.push(this.getDataFromOption(n));\n            }\n        }\n        return data;\n    }\n    getDataFromOptgroup(optgroup) {\n        let data = {\n            id: optgroup.id,\n            label: optgroup.label,\n            selectAll: optgroup.dataset ? optgroup.dataset.selectall === 'true' : false,\n            closable: optgroup.dataset ? optgroup.dataset.closable : 'off',\n            options: [],\n        };\n        const options = optgroup.childNodes;\n        for (const o of options) {\n            if (o.nodeName === 'OPTION') {\n                data.options.push(this.getDataFromOption(o));\n            }\n        }\n        return data;\n    }\n    getDataFromOption(option) {\n        return {\n            id: option.id,\n            value: option.value,\n            text: option.text,\n            html: option.dataset && option.dataset.html ? option.dataset.html : '',\n            selected: option.selected,\n            display: option.style.display === 'none' ? false : true,\n            disabled: option.disabled,\n            mandatory: option.dataset ? option.dataset.mandatory === 'true' : false,\n            placeholder: option.dataset.placeholder === 'true',\n            class: option.className,\n            style: option.style.cssText,\n            data: option.dataset,\n        };\n    }\n    getSelectedValues() {\n        let values = [];\n        const options = this.select.childNodes;\n        for (const o of options) {\n            if (o.nodeName === 'OPTGROUP') {\n                const optgroupOptions = o.childNodes;\n                for (const oo of optgroupOptions) {\n                    if (oo.nodeName === 'OPTION') {\n                        const option = oo;\n                        if (option.selected) {\n                            values.push(option.value);\n                        }\n                    }\n                }\n            }\n            if (o.nodeName === 'OPTION') {\n                const option = o;\n                if (option.selected) {\n                    values.push(option.value);\n                }\n            }\n        }\n        return values;\n    }\n    setSelected(value) {\n        this.changeListen(false);\n        const options = this.select.childNodes;\n        for (const o of options) {\n            if (o.nodeName === 'OPTGROUP') {\n                const optgroup = o;\n                const optgroupOptions = optgroup.childNodes;\n                for (const oo of optgroupOptions) {\n                    if (oo.nodeName === 'OPTION') {\n                        const option = oo;\n                        option.selected = value.includes(option.value);\n                    }\n                }\n            }\n            if (o.nodeName === 'OPTION') {\n                const option = o;\n                option.selected = value.includes(option.value);\n            }\n        }\n        this.changeListen(true);\n    }\n    updateSelect(id, style, classes) {\n        this.changeListen(false);\n        if (id) {\n            this.select.dataset.id = id;\n        }\n        if (style) {\n            this.select.style.cssText = style;\n        }\n        if (classes) {\n            this.select.className = '';\n            classes.forEach((c) => {\n                if (c.trim() !== '') {\n                    this.select.classList.add(c.trim());\n                }\n            });\n        }\n        this.changeListen(true);\n    }\n    updateOptions(data) {\n        this.changeListen(false);\n        this.select.innerHTML = '';\n        for (const d of data) {\n            if (d instanceof Optgroup) {\n                this.select.appendChild(this.createOptgroup(d));\n            }\n            if (d instanceof Option) {\n                this.select.appendChild(this.createOption(d));\n            }\n        }\n        this.select.dispatchEvent(new Event('change'));\n        this.changeListen(true);\n    }\n    createOptgroup(optgroup) {\n        const optgroupEl = document.createElement('optgroup');\n        optgroupEl.id = optgroup.id;\n        optgroupEl.label = optgroup.label;\n        if (optgroup.selectAll) {\n            optgroupEl.dataset.selectAll = 'true';\n        }\n        if (optgroup.closable !== 'off') {\n            optgroupEl.dataset.closable = optgroup.closable;\n        }\n        if (optgroup.options) {\n            for (const o of optgroup.options) {\n                optgroupEl.appendChild(this.createOption(o));\n            }\n        }\n        return optgroupEl;\n    }\n    createOption(info) {\n        const optionEl = document.createElement('option');\n        optionEl.id = info.id;\n        optionEl.value = info.value;\n        optionEl.innerHTML = info.text;\n        if (info.html !== '') {\n            optionEl.setAttribute('data-html', info.html);\n        }\n        if (info.selected) {\n            optionEl.selected = info.selected;\n        }\n        if (info.disabled) {\n            optionEl.disabled = true;\n        }\n        if (info.display === false) {\n            optionEl.style.display = 'none';\n        }\n        if (info.placeholder) {\n            optionEl.setAttribute('data-placeholder', 'true');\n        }\n        if (info.mandatory) {\n            optionEl.setAttribute('data-mandatory', 'true');\n        }\n        if (info.class) {\n            info.class.split(' ').forEach((optionClass) => {\n                optionEl.classList.add(optionClass);\n            });\n        }\n        if (info.data && typeof info.data === 'object') {\n            Object.keys(info.data).forEach((key) => {\n                optionEl.setAttribute('data-' + kebabCase(key), info.data[key]);\n            });\n        }\n        return optionEl;\n    }\n    destroy() {\n        this.changeListen(false);\n        this.select.removeEventListener('change', this.valueChange.bind(this));\n        if (this.observer) {\n            this.observer.disconnect();\n            this.observer = null;\n        }\n        delete this.select.dataset.id;\n        this.showUI();\n    }\n}\n\nclass SlimSelect {\n    constructor(config) {\n        var _a;\n        this.events = {\n            search: undefined,\n            searchFilter: (opt, search) => {\n                return opt.text.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n            },\n            addable: undefined,\n            beforeChange: undefined,\n            afterChange: undefined,\n            beforeOpen: undefined,\n            afterOpen: undefined,\n            beforeClose: undefined,\n            afterClose: undefined,\n        };\n        this.windowResize = debounce(() => {\n            if (!this.settings.isOpen && !this.settings.isFullOpen) {\n                return;\n            }\n            this.render.moveContent();\n        });\n        this.windowScroll = debounce(() => {\n            if (!this.settings.isOpen && !this.settings.isFullOpen) {\n                return;\n            }\n            this.render.moveContent();\n        });\n        this.documentClick = (e) => {\n            if (!this.settings.isOpen) {\n                return;\n            }\n            if (e.target && !hasClassInTree(e.target, this.settings.id)) {\n                this.close(e.type);\n            }\n        };\n        this.windowVisibilityChange = () => {\n            if (document.hidden) {\n                this.close();\n            }\n        };\n        this.selectEl = (typeof config.select === 'string' ? document.querySelector(config.select) : config.select);\n        if (!this.selectEl) {\n            if (config.events && config.events.error) {\n                config.events.error(new Error('Could not find select element'));\n            }\n            return;\n        }\n        if (this.selectEl.tagName !== 'SELECT') {\n            if (config.events && config.events.error) {\n                config.events.error(new Error('Element isnt of type select'));\n            }\n            return;\n        }\n        if (this.selectEl.dataset.ssid) {\n            this.destroy();\n        }\n        this.settings = new Settings(config.settings);\n        const debounceEvents = ['afterChange', 'beforeOpen', 'afterOpen', 'beforeClose', 'afterClose'];\n        for (const key in config.events) {\n            if (!config.events.hasOwnProperty(key)) {\n                continue;\n            }\n            if (debounceEvents.indexOf(key) !== -1) {\n                this.events[key] = debounce(config.events[key], 100);\n            }\n            else {\n                this.events[key] = config.events[key];\n            }\n        }\n        this.settings.disabled = ((_a = config.settings) === null || _a === void 0 ? void 0 : _a.disabled) ? config.settings.disabled : this.selectEl.disabled;\n        this.settings.isMultiple = this.selectEl.multiple;\n        this.settings.style = this.selectEl.style.cssText;\n        this.settings.class = this.selectEl.className.split(' ');\n        this.select = new Select(this.selectEl);\n        this.select.updateSelect(this.settings.id, this.settings.style, this.settings.class);\n        this.select.hideUI();\n        this.select.onValueChange = (values) => {\n            this.setSelected(values);\n        };\n        this.select.onClassChange = (classes) => {\n            this.settings.class = classes;\n            this.render.updateClassStyles();\n        };\n        this.select.onDisabledChange = (disabled) => {\n            if (disabled) {\n                this.disable();\n            }\n            else {\n                this.enable();\n            }\n        };\n        this.select.onOptionsChange = (data) => {\n            this.setData(data);\n        };\n        this.store = new Store(this.settings.isMultiple ? 'multiple' : 'single', config.data ? config.data : this.select.getData());\n        if (config.data) {\n            this.select.updateOptions(this.store.getData());\n        }\n        const callbacks = {\n            open: this.open.bind(this),\n            close: this.close.bind(this),\n            addable: this.events.addable ? this.events.addable : undefined,\n            setSelected: this.setSelected.bind(this),\n            addOption: this.addOption.bind(this),\n            search: this.search.bind(this),\n            beforeChange: this.events.beforeChange,\n            afterChange: this.events.afterChange,\n        };\n        this.render = new Render(this.settings, this.store, callbacks);\n        this.render.renderValues();\n        this.render.renderOptions(this.store.getData());\n        const selectAriaLabel = this.selectEl.getAttribute('aria-label');\n        const selectAriaLabelledBy = this.selectEl.getAttribute('aria-labelledby');\n        if (selectAriaLabel) {\n            this.render.main.main.setAttribute('aria-label', selectAriaLabel);\n        }\n        else if (selectAriaLabelledBy) {\n            this.render.main.main.setAttribute('aria-labelledby', selectAriaLabelledBy);\n        }\n        if (this.selectEl.parentNode) {\n            this.selectEl.parentNode.insertBefore(this.render.main.main, this.selectEl.nextSibling);\n        }\n        document.addEventListener('click', this.documentClick);\n        window.addEventListener('resize', this.windowResize, false);\n        if (this.settings.openPosition === 'auto') {\n            window.addEventListener('scroll', this.windowScroll, false);\n        }\n        document.addEventListener('visibilitychange', this.windowVisibilityChange);\n        if (this.settings.disabled) {\n            this.disable();\n        }\n        if (this.settings.alwaysOpen) {\n            this.open();\n        }\n        this.selectEl.slim = this;\n    }\n    enable() {\n        this.settings.disabled = false;\n        this.select.enable();\n        this.render.enable();\n    }\n    disable() {\n        this.settings.disabled = true;\n        this.select.disable();\n        this.render.disable();\n    }\n    getData() {\n        return this.store.getData();\n    }\n    setData(data) {\n        const selected = this.store.getSelected();\n        const err = this.store.validateDataArray(data);\n        if (err) {\n            if (this.events.error) {\n                this.events.error(err);\n            }\n            return;\n        }\n        this.store.setData(data);\n        const dataClean = this.store.getData();\n        this.select.updateOptions(dataClean);\n        this.render.renderValues();\n        this.render.renderOptions(dataClean);\n        if (this.events.afterChange && !isEqual(selected, this.store.getSelected())) {\n            this.events.afterChange(this.store.getSelectedOptions());\n        }\n    }\n    getSelected() {\n        return this.store.getSelected();\n    }\n    setSelected(value, runAfterChange = true) {\n        const selected = this.store.getSelected();\n        this.store.setSelectedBy('value', Array.isArray(value) ? value : [value]);\n        const data = this.store.getData();\n        this.select.updateOptions(data);\n        this.render.renderValues();\n        if (this.render.content.search.input.value !== '') {\n            this.search(this.render.content.search.input.value);\n        }\n        else {\n            this.render.renderOptions(data);\n        }\n        if (runAfterChange && this.events.afterChange && !isEqual(selected, this.store.getSelected())) {\n            this.events.afterChange(this.store.getSelectedOptions());\n        }\n    }\n    addOption(option) {\n        const selected = this.store.getSelected();\n        if (!this.store.getDataOptions().some((o) => { var _a; return o.value === ((_a = option.value) !== null && _a !== void 0 ? _a : option.text); })) {\n            this.store.addOption(option);\n        }\n        const data = this.store.getData();\n        this.select.updateOptions(data);\n        this.render.renderValues();\n        this.render.renderOptions(data);\n        if (this.events.afterChange && !isEqual(selected, this.store.getSelected())) {\n            this.events.afterChange(this.store.getSelectedOptions());\n        }\n    }\n    open() {\n        if (this.settings.disabled || this.settings.isOpen) {\n            return;\n        }\n        if (this.events.beforeOpen) {\n            this.events.beforeOpen();\n        }\n        this.render.open();\n        if (this.settings.showSearch) {\n            this.render.searchFocus();\n        }\n        this.settings.isOpen = true;\n        setTimeout(() => {\n            if (this.events.afterOpen) {\n                this.events.afterOpen();\n            }\n            if (this.settings.isOpen) {\n                this.settings.isFullOpen = true;\n            }\n        }, this.settings.timeoutDelay);\n        if (this.settings.contentPosition === 'absolute') {\n            if (this.settings.intervalMove) {\n                clearInterval(this.settings.intervalMove);\n            }\n            this.settings.intervalMove = setInterval(this.render.moveContent.bind(this.render), 500);\n        }\n    }\n    close(eventType = null) {\n        if (!this.settings.isOpen || this.settings.alwaysOpen) {\n            return;\n        }\n        if (this.events.beforeClose) {\n            this.events.beforeClose();\n        }\n        this.render.close();\n        if (this.render.content.search.input.value !== '') {\n            this.search('');\n        }\n        this.render.mainFocus(eventType);\n        this.settings.isOpen = false;\n        this.settings.isFullOpen = false;\n        setTimeout(() => {\n            if (this.events.afterClose) {\n                this.events.afterClose();\n            }\n        }, this.settings.timeoutDelay);\n        if (this.settings.intervalMove) {\n            clearInterval(this.settings.intervalMove);\n        }\n    }\n    search(value) {\n        if (this.render.content.search.input.value !== value) {\n            this.render.content.search.input.value = value;\n        }\n        if (!this.events.search) {\n            this.render.renderOptions(value === '' ? this.store.getData() : this.store.search(value, this.events.searchFilter));\n            return;\n        }\n        this.render.renderSearching();\n        const searchResp = this.events.search(value, this.store.getSelectedOptions());\n        if (searchResp instanceof Promise) {\n            searchResp\n                .then((data) => {\n                this.render.renderOptions(this.store.partialToFullData(data));\n            })\n                .catch((err) => {\n                this.render.renderError(typeof err === 'string' ? err : err.message);\n            });\n            return;\n        }\n        else if (Array.isArray(searchResp)) {\n            this.render.renderOptions(this.store.partialToFullData(searchResp));\n        }\n        else {\n            this.render.renderError('Search event must return a promise or an array of data');\n        }\n    }\n    destroy() {\n        document.removeEventListener('click', this.documentClick);\n        window.removeEventListener('resize', this.windowResize, false);\n        if (this.settings.openPosition === 'auto') {\n            window.removeEventListener('scroll', this.windowScroll, false);\n        }\n        document.removeEventListener('visibilitychange', this.windowVisibilityChange);\n        this.store.setData([]);\n        this.render.destroy();\n        this.select.destroy();\n    }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/ssr-window/ssr-window.esm.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/ssr-window/ssr-window.esm.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"extend\": function() { return /* binding */ extend; },\n/* harmony export */   \"getDocument\": function() { return /* binding */ getDocument; },\n/* harmony export */   \"getWindow\": function() { return /* binding */ getWindow; },\n/* harmony export */   \"ssrDocument\": function() { return /* binding */ ssrDocument; },\n/* harmony export */   \"ssrWindow\": function() { return /* binding */ ssrWindow; }\n/* harmony export */ });\n/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/breakpoints/getBreakpoint.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/swiper/core/breakpoints/getBreakpoint.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getBreakpoint; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n\nfunction getBreakpoint(breakpoints, base = 'window', containerEl) {\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/breakpoints/index.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/swiper/core/breakpoints/index.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _setBreakpoint_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setBreakpoint.js */ \"./node_modules/swiper/core/breakpoints/setBreakpoint.js\");\n/* harmony import */ var _getBreakpoint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getBreakpoint.js */ \"./node_modules/swiper/core/breakpoints/getBreakpoint.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  setBreakpoint: _setBreakpoint_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  getBreakpoint: _getBreakpoint_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/breakpoints/setBreakpoint.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/swiper/core/breakpoints/setBreakpoint.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ setBreakpoint; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nfunction setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/check-overflow/index.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/swiper/core/check-overflow/index.js ***!\n  \\**********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  checkOverflow\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/classes/addClasses.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/swiper/core/classes/addClasses.js ***!\n  \\********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ addClasses; }\n/* harmony export */ });\nfunction prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nfunction addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/classes/index.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/swiper/core/classes/index.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _addClasses_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./addClasses.js */ \"./node_modules/swiper/core/classes/addClasses.js\");\n/* harmony import */ var _removeClasses_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./removeClasses.js */ \"./node_modules/swiper/core/classes/removeClasses.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  addClasses: _addClasses_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  removeClasses: _removeClasses_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/classes/removeClasses.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/swiper/core/classes/removeClasses.js ***!\n  \\***********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ removeClasses; }\n/* harmony export */ });\nfunction removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/core.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/swiper/core/core.js ***!\n  \\******************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n/* harmony import */ var _shared_get_support_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shared/get-support.js */ \"./node_modules/swiper/shared/get-support.js\");\n/* harmony import */ var _shared_get_device_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shared/get-device.js */ \"./node_modules/swiper/shared/get-device.js\");\n/* harmony import */ var _shared_get_browser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shared/get-browser.js */ \"./node_modules/swiper/shared/get-browser.js\");\n/* harmony import */ var _modules_resize_resize_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/resize/resize.js */ \"./node_modules/swiper/core/modules/resize/resize.js\");\n/* harmony import */ var _modules_observer_observer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/observer/observer.js */ \"./node_modules/swiper/core/modules/observer/observer.js\");\n/* harmony import */ var _events_emitter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./events-emitter.js */ \"./node_modules/swiper/core/events-emitter.js\");\n/* harmony import */ var _update_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./update/index.js */ \"./node_modules/swiper/core/update/index.js\");\n/* harmony import */ var _translate_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./translate/index.js */ \"./node_modules/swiper/core/translate/index.js\");\n/* harmony import */ var _transition_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./transition/index.js */ \"./node_modules/swiper/core/transition/index.js\");\n/* harmony import */ var _slide_index_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./slide/index.js */ \"./node_modules/swiper/core/slide/index.js\");\n/* harmony import */ var _loop_index_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./loop/index.js */ \"./node_modules/swiper/core/loop/index.js\");\n/* harmony import */ var _grab_cursor_index_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./grab-cursor/index.js */ \"./node_modules/swiper/core/grab-cursor/index.js\");\n/* harmony import */ var _events_index_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./events/index.js */ \"./node_modules/swiper/core/events/index.js\");\n/* harmony import */ var _breakpoints_index_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./breakpoints/index.js */ \"./node_modules/swiper/core/breakpoints/index.js\");\n/* harmony import */ var _classes_index_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./classes/index.js */ \"./node_modules/swiper/core/classes/index.js\");\n/* harmony import */ var _images_index_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./images/index.js */ \"./node_modules/swiper/core/images/index.js\");\n/* harmony import */ var _check_overflow_index_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./check-overflow/index.js */ \"./node_modules/swiper/core/check-overflow/index.js\");\n/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./defaults.js */ \"./node_modules/swiper/core/defaults.js\");\n/* harmony import */ var _moduleExtendParams_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./moduleExtendParams.js */ \"./node_modules/swiper/core/moduleExtendParams.js\");\n/* eslint no-param-reassign: \"off\" */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst prototypes = {\n  eventsEmitter: _events_emitter_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  update: _update_index_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  translate: _translate_index_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  transition: _transition_index_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n  slide: _slide_index_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n  loop: _loop_index_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n  grabCursor: _grab_cursor_index_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n  events: _events_index_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n  breakpoints: _breakpoints_index_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n  checkOverflow: _check_overflow_index_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n  classes: _classes_index_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n  images: _images_index_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"]\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor(...args) {\n    let el;\n    let params;\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.extend)({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params.el).length > 1) {\n      const swipers = [];\n      (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params.el).each(containerEl => {\n        const newParams = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.extend)({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      }); // eslint-disable-next-line no-constructor-return\n\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = (0,_shared_get_support_js__WEBPACK_IMPORTED_MODULE_3__.getSupport)();\n    swiper.device = (0,_shared_get_device_js__WEBPACK_IMPORTED_MODULE_4__.getDevice)({\n      userAgent: params.userAgent\n    });\n    swiper.browser = (0,_shared_get_browser_js__WEBPACK_IMPORTED_MODULE_5__.getBrowser)();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: (0,_moduleExtendParams_js__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.extend)({}, _defaults_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"], allModulesParams); // Extend defaults with passed params\n\n    swiper.params = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.extend)({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.extend)({}, swiper.params);\n    swiper.passedParams = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.extend)({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.now)(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n    // eslint-disable-next-line no-constructor-return\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view = 'current', exact = false) {\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate = true) {\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n      const wrapper = document.createElement('div');\n      $wrapperEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.deleteProps)(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.extend)(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return _defaults_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"];\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([_modules_resize_resize_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"], _modules_observer_observer_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Swiper);\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/defaults.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/swiper/core/defaults.js ***!\n  \\**********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopedSlidesLimit: true,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/events-emitter.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/swiper/core/events-emitter.js ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* eslint-disable no-underscore-dangle */\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/events/index.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/swiper/core/events/index.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _onTouchStart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./onTouchStart.js */ \"./node_modules/swiper/core/events/onTouchStart.js\");\n/* harmony import */ var _onTouchMove_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./onTouchMove.js */ \"./node_modules/swiper/core/events/onTouchMove.js\");\n/* harmony import */ var _onTouchEnd_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./onTouchEnd.js */ \"./node_modules/swiper/core/events/onTouchEnd.js\");\n/* harmony import */ var _onResize_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./onResize.js */ \"./node_modules/swiper/core/events/onResize.js\");\n/* harmony import */ var _onClick_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./onClick.js */ \"./node_modules/swiper/core/events/onClick.js\");\n/* harmony import */ var _onScroll_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./onScroll.js */ \"./node_modules/swiper/core/events/onScroll.js\");\n\n\n\n\n\n\n\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', _onResize_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', _onResize_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = _onTouchStart_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bind(swiper);\n  swiper.onTouchMove = _onTouchMove_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].bind(swiper);\n  swiper.onTouchEnd = _onTouchEnd_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = _onScroll_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].bind(swiper);\n  }\n\n  swiper.onClick = _onClick_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  attachEvents,\n  detachEvents\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/events/onClick.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/swiper/core/events/onClick.js ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ onClick; }\n/* harmony export */ });\nfunction onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/events/onResize.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/swiper/core/events/onResize.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ onResize; }\n/* harmony export */ });\nfunction onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/events/onScroll.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/swiper/core/events/onScroll.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ onScroll; }\n/* harmony export */ });\nfunction onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/events/onTouchEnd.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/swiper/core/events/onTouchEnd.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ onTouchEnd; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\nfunction onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.now)();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.now)();\n  (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.nextTick)(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/events/onTouchMove.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/swiper/core/events/onTouchMove.js ***!\n  \\********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ onTouchMove; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\n\n\nfunction onTouchMove(event) {\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!(0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.now)();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/events/onTouchStart.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/swiper/core/events/onTouchStart.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ onTouchStart; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\n\n // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base = this) {\n  function __closestFrom(el) {\n    if (!el || el === (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)() || el === (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nfunction onTouchStart(event) {\n  const swiper = this;\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== ''; // eslint-disable-next-line\n\n  const eventPath = event.composedPath ? event.composedPath() : event.path;\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) {\n    $targetEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(eventPath[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.now)();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/grab-cursor/index.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/swiper/core/grab-cursor/index.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _setGrabCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setGrabCursor.js */ \"./node_modules/swiper/core/grab-cursor/setGrabCursor.js\");\n/* harmony import */ var _unsetGrabCursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unsetGrabCursor.js */ \"./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  setGrabCursor: _setGrabCursor_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  unsetGrabCursor: _unsetGrabCursor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/grab-cursor/setGrabCursor.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/swiper/core/grab-cursor/setGrabCursor.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ setGrabCursor; }\n/* harmony export */ });\nfunction setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js ***!\n  \\*****************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ unsetGrabCursor; }\n/* harmony export */ });\nfunction unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/images/index.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/swiper/core/images/index.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _loadImage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loadImage.js */ \"./node_modules/swiper/core/images/loadImage.js\");\n/* harmony import */ var _preloadImages_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./preloadImages.js */ \"./node_modules/swiper/core/images/preloadImages.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  loadImage: _loadImage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  preloadImages: _preloadImages_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/images/loadImage.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/swiper/core/images/loadImage.js ***!\n  \\******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ loadImage; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\n\nfunction loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/images/preloadImages.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/swiper/core/images/preloadImages.js ***!\n  \\**********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ preloadImages; }\n/* harmony export */ });\nfunction preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/loop/index.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/swiper/core/loop/index.js ***!\n  \\************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _loopCreate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loopCreate.js */ \"./node_modules/swiper/core/loop/loopCreate.js\");\n/* harmony import */ var _loopFix_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loopFix.js */ \"./node_modules/swiper/core/loop/loopFix.js\");\n/* harmony import */ var _loopDestroy_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loopDestroy.js */ \"./node_modules/swiper/core/loop/loopDestroy.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  loopCreate: _loopCreate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  loopFix: _loopFix_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  loopDestroy: _loopDestroy_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/loop/loopCreate.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/swiper/core/loop/loopCreate.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ loopCreate; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\n\nfunction loopCreate() {\n  const swiper = this;\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length && swiper.params.loopedSlidesLimit) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(el);\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < swiper.loopedSlides; i += 1) {\n    const index = i - Math.floor(i / slides.length) * slides.length;\n    appendSlides.push(slides.eq(index)[0]);\n    prependSlides.unshift(slides.eq(slides.length - index - 1)[0]);\n  }\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append((0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend((0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/loop/loopDestroy.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/swiper/core/loop/loopDestroy.js ***!\n  \\******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ loopDestroy; }\n/* harmony export */ });\nfunction loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/loop/loopFix.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/swiper/core/loop/loopFix.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ loopFix; }\n/* harmony export */ });\nfunction loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/moduleExtendParams.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/swiper/core/moduleExtendParams.js ***!\n  \\********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ moduleExtendParams; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\nfunction moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj = {}) {\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(allModulesParams, obj);\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/modules/observer/observer.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/swiper/core/modules/observer/observer.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Observer; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n\nfunction Observer({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const observers = [];\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n\n  const attach = (target, options = {}) => {\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/modules/resize/resize.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/swiper/core/modules/resize/resize.js ***!\n  \\***********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Resize; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n\nfunction Resize({\n  swiper,\n  on,\n  emit\n}) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(({\n          contentBoxSize,\n          contentRect,\n          target\n        }) => {\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/slide/index.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/swiper/core/slide/index.js ***!\n  \\*************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _slideTo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./slideTo.js */ \"./node_modules/swiper/core/slide/slideTo.js\");\n/* harmony import */ var _slideToLoop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./slideToLoop.js */ \"./node_modules/swiper/core/slide/slideToLoop.js\");\n/* harmony import */ var _slideNext_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./slideNext.js */ \"./node_modules/swiper/core/slide/slideNext.js\");\n/* harmony import */ var _slidePrev_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./slidePrev.js */ \"./node_modules/swiper/core/slide/slidePrev.js\");\n/* harmony import */ var _slideReset_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./slideReset.js */ \"./node_modules/swiper/core/slide/slideReset.js\");\n/* harmony import */ var _slideToClosest_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./slideToClosest.js */ \"./node_modules/swiper/core/slide/slideToClosest.js\");\n/* harmony import */ var _slideToClickedSlide_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./slideToClickedSlide.js */ \"./node_modules/swiper/core/slide/slideToClickedSlide.js\");\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  slideTo: _slideTo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  slideToLoop: _slideToLoop_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  slideNext: _slideNext_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  slidePrev: _slidePrev_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  slideReset: _slideReset_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  slideToClosest: _slideToClosest_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  slideToClickedSlide: _slideToClickedSlide_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/slide/slideNext.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/swiper/core/slide/slideNext.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ slideNext; }\n/* harmony export */ });\n/* eslint no-unused-vars: \"off\" */\nfunction slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/slide/slidePrev.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/swiper/core/slide/slidePrev.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ slidePrev; }\n/* harmony export */ });\n/* eslint no-unused-vars: \"off\" */\nfunction slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/slide/slideReset.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/swiper/core/slide/slideReset.js ***!\n  \\******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ slideReset; }\n/* harmony export */ });\n/* eslint no-unused-vars: \"off\" */\nfunction slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/slide/slideTo.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/swiper/core/slide/slideTo.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ slideTo; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\nfunction slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  const translate = -snapGrid[snapIndex]; // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  if (slideIndex !== (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  } // Update progress\n\n\n  swiper.updateProgress(translate);\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.animateCSSModeScroll)({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/slide/slideToClickedSlide.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/swiper/core/slide/slideToClickedSlide.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ slideToClickedSlide; }\n/* harmony export */ });\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\n\nfunction slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt((0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_1__.nextTick)(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_1__.nextTick)(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/slide/slideToClosest.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/swiper/core/slide/slideToClosest.js ***!\n  \\**********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ slideToClosest; }\n/* harmony export */ });\n/* eslint no-unused-vars: \"off\" */\nfunction slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/slide/slideToLoop.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/swiper/core/slide/slideToLoop.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ slideToLoop; }\n/* harmony export */ });\nfunction slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/transition/index.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/swiper/core/transition/index.js ***!\n  \\******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _setTransition_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setTransition.js */ \"./node_modules/swiper/core/transition/setTransition.js\");\n/* harmony import */ var _transitionStart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transitionStart.js */ \"./node_modules/swiper/core/transition/transitionStart.js\");\n/* harmony import */ var _transitionEnd_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transitionEnd.js */ \"./node_modules/swiper/core/transition/transitionEnd.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  setTransition: _setTransition_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  transitionStart: _transitionStart_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  transitionEnd: _transitionEnd_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/transition/setTransition.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/swiper/core/transition/setTransition.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ setTransition; }\n/* harmony export */ });\nfunction setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/transition/transitionEmit.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/swiper/core/transition/transitionEmit.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ transitionEmit; }\n/* harmony export */ });\nfunction transitionEmit({\n  swiper,\n  runCallbacks,\n  direction,\n  step\n}) {\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/transition/transitionEnd.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/swiper/core/transition/transitionEnd.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ transitionEnd; }\n/* harmony export */ });\n/* harmony import */ var _transitionEmit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transitionEmit.js */ \"./node_modules/swiper/core/transition/transitionEmit.js\");\n\nfunction transitionEnd(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  (0,_transitionEmit_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/transition/transitionStart.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/swiper/core/transition/transitionStart.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ transitionStart; }\n/* harmony export */ });\n/* harmony import */ var _transitionEmit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transitionEmit.js */ \"./node_modules/swiper/core/transition/transitionEmit.js\");\n\nfunction transitionStart(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  (0,_transitionEmit_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/translate/getTranslate.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/swiper/core/translate/getTranslate.js ***!\n  \\************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getSwiperTranslate; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\nfunction getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.getTranslate)($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/translate/index.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/swiper/core/translate/index.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _getTranslate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getTranslate.js */ \"./node_modules/swiper/core/translate/getTranslate.js\");\n/* harmony import */ var _setTranslate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setTranslate.js */ \"./node_modules/swiper/core/translate/setTranslate.js\");\n/* harmony import */ var _minTranslate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./minTranslate.js */ \"./node_modules/swiper/core/translate/minTranslate.js\");\n/* harmony import */ var _maxTranslate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./maxTranslate.js */ \"./node_modules/swiper/core/translate/maxTranslate.js\");\n/* harmony import */ var _translateTo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./translateTo.js */ \"./node_modules/swiper/core/translate/translateTo.js\");\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  getTranslate: _getTranslate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  setTranslate: _setTranslate_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  minTranslate: _minTranslate_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  maxTranslate: _maxTranslate_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  translateTo: _translateTo_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/translate/maxTranslate.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/swiper/core/translate/maxTranslate.js ***!\n  \\************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ maxTranslate; }\n/* harmony export */ });\nfunction maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/translate/minTranslate.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/swiper/core/translate/minTranslate.js ***!\n  \\************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ minTranslate; }\n/* harmony export */ });\nfunction minTranslate() {\n  return -this.snapGrid[0];\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/translate/setTranslate.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/swiper/core/translate/setTranslate.js ***!\n  \\************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ setTranslate; }\n/* harmony export */ });\nfunction setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/translate/translateTo.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/swiper/core/translate/translateTo.js ***!\n  \\***********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ translateTo; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\nfunction translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.animateCSSModeScroll)({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/index.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/swiper/core/update/index.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _updateSize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./updateSize.js */ \"./node_modules/swiper/core/update/updateSize.js\");\n/* harmony import */ var _updateSlides_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./updateSlides.js */ \"./node_modules/swiper/core/update/updateSlides.js\");\n/* harmony import */ var _updateAutoHeight_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./updateAutoHeight.js */ \"./node_modules/swiper/core/update/updateAutoHeight.js\");\n/* harmony import */ var _updateSlidesOffset_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./updateSlidesOffset.js */ \"./node_modules/swiper/core/update/updateSlidesOffset.js\");\n/* harmony import */ var _updateSlidesProgress_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./updateSlidesProgress.js */ \"./node_modules/swiper/core/update/updateSlidesProgress.js\");\n/* harmony import */ var _updateProgress_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./updateProgress.js */ \"./node_modules/swiper/core/update/updateProgress.js\");\n/* harmony import */ var _updateSlidesClasses_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./updateSlidesClasses.js */ \"./node_modules/swiper/core/update/updateSlidesClasses.js\");\n/* harmony import */ var _updateActiveIndex_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./updateActiveIndex.js */ \"./node_modules/swiper/core/update/updateActiveIndex.js\");\n/* harmony import */ var _updateClickedSlide_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./updateClickedSlide.js */ \"./node_modules/swiper/core/update/updateClickedSlide.js\");\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  updateSize: _updateSize_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  updateSlides: _updateSlides_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  updateAutoHeight: _updateAutoHeight_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  updateSlidesOffset: _updateSlidesOffset_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  updateSlidesProgress: _updateSlidesProgress_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  updateProgress: _updateProgress_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  updateSlidesClasses: _updateSlidesClasses_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  updateActiveIndex: _updateActiveIndex_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  updateClickedSlide: _updateClickedSlide_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/updateActiveIndex.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/swiper/core/update/updateActiveIndex.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ updateActiveIndex; }\n/* harmony export */ });\nfunction updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/updateAutoHeight.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/swiper/core/update/updateAutoHeight.js ***!\n  \\*************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ updateAutoHeight; }\n/* harmony export */ });\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\nfunction updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/updateClickedSlide.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/swiper/core/update/updateClickedSlide.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ updateClickedSlide; }\n/* harmony export */ });\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\nfunction updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt((0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/updateProgress.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/swiper/core/update/updateProgress.js ***!\n  \\***********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ updateProgress; }\n/* harmony export */ });\nfunction updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/updateSize.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/swiper/core/update/updateSize.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ updateSize; }\n/* harmony export */ });\nfunction updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/updateSlides.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/swiper/core/update/updateSlides.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ updateSlides; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\nfunction updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCSSProperty)(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCSSProperty)(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCSSProperty)(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCSSProperty)(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/updateSlidesClasses.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/swiper/core/update/updateSlidesClasses.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ updateSlidesClasses; }\n/* harmony export */ });\nfunction updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/updateSlidesOffset.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/swiper/core/update/updateSlidesOffset.js ***!\n  \\***************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ updateSlidesOffset; }\n/* harmony export */ });\nfunction updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/core/update/updateSlidesProgress.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/swiper/core/update/updateSlidesProgress.js ***!\n  \\*****************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ updateSlidesProgress; }\n/* harmony export */ });\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\nfunction updateSlidesProgress(translate = this && this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(swiper.visibleSlides);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/a11y/a11y.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/swiper/modules/a11y/a11y.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ A11y; }\n/* harmony export */ });\n/* harmony import */ var _shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/classes-to-selector.js */ \"./node_modules/swiper/shared/classes-to-selector.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\n\nfunction A11y({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  swiper.a11y = {\n    clicked: false\n  };\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size = 16) {\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is((0,_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handlePointerDown = () => {\n    swiper.a11y.clicked = true;\n  };\n\n  const handlePointerUp = () => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        if (!swiper.destroyed) {\n          swiper.a11y.clicked = false;\n        }\n      });\n    });\n  };\n\n  const handleFocus = e => {\n    if (swiper.a11y.clicked) return;\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;\n\n    if (swiper.isHorizontal()) {\n      swiper.el.scrollLeft = 0;\n    } else {\n      swiper.el.scrollTop = 0;\n    }\n\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription((0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole((0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', (0,_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n    swiper.$el.on('pointerdown', handlePointerDown, true);\n    swiper.$el.on('pointerup', handlePointerUp, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', (0,_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n    swiper.$el.off('pointerdown', handlePointerDown, true);\n    swiper.$el.off('pointerup', handlePointerUp, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/autoplay/autoplay.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/swiper/modules/autoplay/autoplay.js ***!\n  \\**********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Autoplay; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\n\n\nfunction Autoplay({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    if (!swiper.size) {\n      swiper.autoplay.running = false;\n      swiper.autoplay.paused = false;\n      return;\n    }\n\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_1__.nextTick)(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/controller/controller.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/swiper/modules/controller/controller.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Controller; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\n\nfunction Controller({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.nextTick)(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/effect-cards/effect-cards.js\":\n/*!******************************************************************!*\\\n  !*** ./node_modules/swiper/modules/effect-cards/effect-cards.js ***!\n  \\******************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ EffectCards; }\n/* harmony export */ });\n/* harmony import */ var _shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/create-shadow.js */ \"./node_modules/swiper/shared/create-shadow.js\");\n/* harmony import */ var _shared_effect_init_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/effect-init.js */ \"./node_modules/swiper/shared/effect-init.js\");\n/* harmony import */ var _shared_effect_target_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/effect-target.js */ \"./node_modules/swiper/shared/effect-target.js\");\n/* harmony import */ var _shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/effect-virtual-transition-end.js */ \"./node_modules/swiper/shared/effect-virtual-transition-end.js\");\n\n\n\n\nfunction EffectCards({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true,\n      perSlideRotate: 2,\n      perSlideOffset: 8\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -params.perSlideRotate * progress;\n      let tXAdd = params.perSlideOffset - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = (0,_shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = (0,_shared_effect_target_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    (0,_shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  (0,_shared_effect_init_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/effect-coverflow/effect-coverflow.js\":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/swiper/modules/effect-coverflow/effect-coverflow.js ***!\n  \\**************************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ EffectCoverflow; }\n/* harmony export */ });\n/* harmony import */ var _shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/create-shadow.js */ \"./node_modules/swiper/shared/create-shadow.js\");\n/* harmony import */ var _shared_effect_init_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/effect-init.js */ \"./node_modules/swiper/shared/effect-init.js\");\n/* harmony import */ var _shared_effect_target_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/effect-target.js */ \"./node_modules/swiper/shared/effect-target.js\");\n\n\n\nfunction EffectCoverflow({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = (0,_shared_effect_target_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = (0,_shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = (0,_shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  (0,_shared_effect_init_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/effect-creative/effect-creative.js\":\n/*!************************************************************************!*\\\n  !*** ./node_modules/swiper/modules/effect-creative/effect-creative.js ***!\n  \\************************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ EffectCreative; }\n/* harmony export */ });\n/* harmony import */ var _shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/create-shadow.js */ \"./node_modules/swiper/shared/create-shadow.js\");\n/* harmony import */ var _shared_effect_init_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/effect-init.js */ \"./node_modules/swiper/shared/effect-init.js\");\n/* harmony import */ var _shared_effect_target_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/effect-target.js */ \"./node_modules/swiper/shared/effect-target.js\");\n/* harmony import */ var _shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/effect-virtual-transition-end.js */ \"./node_modules/swiper/shared/effect-virtual-transition-end.js\");\n\n\n\n\nfunction EffectCreative({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = (0,_shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = (0,_shared_effect_target_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    (0,_shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  (0,_shared_effect_init_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/effect-cube/effect-cube.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/swiper/modules/effect-cube/effect-cube.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ EffectCube; }\n/* harmony export */ });\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_effect_init_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/effect-init.js */ \"./node_modules/swiper/shared/effect-init.js\");\n\n\nfunction EffectCube({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows((0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  (0,_shared_effect_init_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/effect-fade/effect-fade.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/swiper/modules/effect-fade/effect-fade.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ EffectFade; }\n/* harmony export */ });\n/* harmony import */ var _shared_effect_init_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/effect-init.js */ \"./node_modules/swiper/shared/effect-init.js\");\n/* harmony import */ var _shared_effect_target_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/effect-target.js */ \"./node_modules/swiper/shared/effect-target.js\");\n/* harmony import */ var _shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/effect-virtual-transition-end.js */ \"./node_modules/swiper/shared/effect-virtual-transition-end.js\");\n\n\n\nfunction EffectFade({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = (0,_shared_effect_target_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    (0,_shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  (0,_shared_effect_init_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/effect-flip/effect-flip.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/swiper/modules/effect-flip/effect-flip.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ EffectFlip; }\n/* harmony export */ });\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/create-shadow.js */ \"./node_modules/swiper/shared/create-shadow.js\");\n/* harmony import */ var _shared_effect_init_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/effect-init.js */ \"./node_modules/swiper/shared/effect-init.js\");\n/* harmony import */ var _shared_effect_target_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/effect-target.js */ \"./node_modules/swiper/shared/effect-target.js\");\n/* harmony import */ var _shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/effect-virtual-transition-end.js */ \"./node_modules/swiper/shared/effect-virtual-transition-end.js\");\n\n\n\n\n\nfunction EffectFlip({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = (0,_shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = (0,_shared_create_shadow_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = (0,_shared_effect_target_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    (0,_shared_effect_virtual_transition_end_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  (0,_shared_effect_init_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/free-mode/free-mode.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/swiper/modules/free-mode/free-mode.js ***!\n  \\************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ freeMode; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\nfunction freeMode({\n  swiper,\n  extendParams,\n  emit,\n  once\n}) {\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.now)()\n    });\n  }\n\n  function onTouchEnd({\n    currentPos\n  }) {\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.now)();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.now)() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/grid/grid.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/swiper/modules/grid/grid.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Grid; }\n/* harmony export */ });\nfunction Grid({\n  swiper,\n  extendParams\n}) {\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/hash-navigation/hash-navigation.js\":\n/*!************************************************************************!*\\\n  !*** ./node_modules/swiper/modules/hash-navigation/hash-navigation.js ***!\n  \\************************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ HashNavigation; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\n\nfunction HashNavigation({\n  swiper,\n  extendParams,\n  emit,\n  on\n}) {\n  let initialized = false;\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/history/history.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/swiper/modules/history/history.js ***!\n  \\********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ History; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n\nfunction History({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/keyboard/keyboard.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/swiper/modules/keyboard/keyboard.js ***!\n  \\**********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Keyboard; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* eslint-disable consistent-return */\n\n\nfunction Keyboard({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/lazy/lazy.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/swiper/modules/lazy/lazy.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Lazy; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\n\nfunction Lazy({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate = true) {\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(slideEl).attr('data-swiper-slide-index') : (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(swiper.params.lazy.scrollingElement) : (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/manipulation/manipulation.js\":\n/*!******************************************************************!*\\\n  !*** ./node_modules/swiper/modules/manipulation/manipulation.js ***!\n  \\******************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Manipulation; }\n/* harmony export */ });\n/* harmony import */ var _methods_appendSlide_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./methods/appendSlide.js */ \"./node_modules/swiper/modules/manipulation/methods/appendSlide.js\");\n/* harmony import */ var _methods_prependSlide_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./methods/prependSlide.js */ \"./node_modules/swiper/modules/manipulation/methods/prependSlide.js\");\n/* harmony import */ var _methods_addSlide_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./methods/addSlide.js */ \"./node_modules/swiper/modules/manipulation/methods/addSlide.js\");\n/* harmony import */ var _methods_removeSlide_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./methods/removeSlide.js */ \"./node_modules/swiper/modules/manipulation/methods/removeSlide.js\");\n/* harmony import */ var _methods_removeAllSlides_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./methods/removeAllSlides.js */ \"./node_modules/swiper/modules/manipulation/methods/removeAllSlides.js\");\n\n\n\n\n\nfunction Manipulation({\n  swiper\n}) {\n  Object.assign(swiper, {\n    appendSlide: _methods_appendSlide_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bind(swiper),\n    prependSlide: _methods_prependSlide_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bind(swiper),\n    addSlide: _methods_addSlide_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].bind(swiper),\n    removeSlide: _methods_removeSlide_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].bind(swiper),\n    removeAllSlides: _methods_removeAllSlides_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].bind(swiper)\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/manipulation/methods/addSlide.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/swiper/modules/manipulation/methods/addSlide.js ***!\n  \\**********************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ addSlide; }\n/* harmony export */ });\nfunction addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/manipulation/methods/appendSlide.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/swiper/modules/manipulation/methods/appendSlide.js ***!\n  \\*************************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ appendSlide; }\n/* harmony export */ });\nfunction appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/manipulation/methods/prependSlide.js\":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/swiper/modules/manipulation/methods/prependSlide.js ***!\n  \\**************************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ prependSlide; }\n/* harmony export */ });\nfunction prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/manipulation/methods/removeAllSlides.js\":\n/*!*****************************************************************************!*\\\n  !*** ./node_modules/swiper/modules/manipulation/methods/removeAllSlides.js ***!\n  \\*****************************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ removeAllSlides; }\n/* harmony export */ });\nfunction removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/manipulation/methods/removeSlide.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/swiper/modules/manipulation/methods/removeSlide.js ***!\n  \\*************************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ removeSlide; }\n/* harmony export */ });\nfunction removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/mousewheel/mousewheel.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/swiper/modules/mousewheel/mousewheel.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Mousewheel; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n/* eslint-disable consistent-return */\n\n\n\nfunction Mousewheel({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.now)();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.now)() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.now)() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.now)(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.now)(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.nextTick)(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.nextTick)(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/navigation/navigation.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/swiper/modules/navigation/navigation.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Navigation; }\n/* harmony export */ });\n/* harmony import */ var _shared_create_element_if_not_defined_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/create-element-if-not-defined.js */ \"./node_modules/swiper/shared/create-element-if-not-defined.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\n\nfunction Navigation({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = (0,_shared_create_element_if_not_defined_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !(0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(targetEl).is($prevEl) && !(0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/pagination/pagination.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/swiper/modules/pagination/pagination.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Pagination; }\n/* harmony export */ });\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/classes-to-selector.js */ \"./node_modules/swiper/shared/classes-to-selector.js\");\n/* harmony import */ var _shared_create_element_if_not_defined_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/create-element-if-not-defined.js */ \"./node_modules/swiper/shared/create-element-if-not-defined.js\");\n\n\n\nfunction Pagination({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find((0,_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find((0,_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find((0,_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find((0,_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = (0,_shared_create_element_if_not_defined_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ((0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', (0,_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', (0,_shared_classes_to_selector_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !(0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/parallax/parallax.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/swiper/modules/parallax/parallax.js ***!\n  \\**********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Parallax; }\n/* harmony export */ });\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\nfunction Parallax({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = (duration = swiper.params.speed) => {\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/scrollbar/scrollbar.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/swiper/modules/scrollbar/scrollbar.js ***!\n  \\************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Scrollbar; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n/* harmony import */ var _shared_create_element_if_not_defined_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/create-element-if-not-defined.js */ \"./node_modules/swiper/shared/create-element-if-not-defined.js\");\n\n\n\n\nfunction Scrollbar({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.nextTick)(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = (0,_shared_create_element_if_not_defined_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/thumbs/thumbs.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/swiper/modules/thumbs/thumbs.js ***!\n  \\******************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Thumb; }\n/* harmony export */ });\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\n\nfunction Thumb({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt((0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if ((0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_0__.isObject)(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/virtual/virtual.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/swiper/modules/virtual/virtual.js ***!\n  \\********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Virtual; }\n/* harmony export */ });\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\n\nfunction Virtual({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(params.renderSlide.call(swiper, slide, index)) : (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_1__.setCSSProperty)(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/modules/zoom/zoom.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/swiper/modules/zoom/zoom.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Zoom; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _shared_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/dom.js */ \"./node_modules/swiper/shared/dom.js\");\n/* harmony import */ var _shared_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/utils.js */ \"./node_modules/swiper/shared/utils.js\");\n\n\n\nfunction Zoom({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.getTranslate)(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = (0,_shared_utils_js__WEBPACK_IMPORTED_MODULE_2__.getTranslate)(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = (0,_shared_dom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/classes-to-selector.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/swiper/shared/classes-to-selector.js ***!\n  \\***********************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ classesToSelector; }\n/* harmony export */ });\nfunction classesToSelector(classes = '') {\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/create-element-if-not-defined.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/swiper/shared/create-element-if-not-defined.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ createElementIfNotDefined; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n\nfunction createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/create-shadow.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/swiper/shared/create-shadow.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ createShadow; }\n/* harmony export */ });\n/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom.js */ \"./node_modules/swiper/shared/dom.js\");\n\nfunction createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/dom.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/swiper/shared/dom.js ***!\n  \\*******************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var dom7__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dom7 */ \"./node_modules/dom7/dom7.esm.js\");\n\nconst Methods = {\n  addClass: dom7__WEBPACK_IMPORTED_MODULE_0__.addClass,\n  removeClass: dom7__WEBPACK_IMPORTED_MODULE_0__.removeClass,\n  hasClass: dom7__WEBPACK_IMPORTED_MODULE_0__.hasClass,\n  toggleClass: dom7__WEBPACK_IMPORTED_MODULE_0__.toggleClass,\n  attr: dom7__WEBPACK_IMPORTED_MODULE_0__.attr,\n  removeAttr: dom7__WEBPACK_IMPORTED_MODULE_0__.removeAttr,\n  transform: dom7__WEBPACK_IMPORTED_MODULE_0__.transform,\n  transition: dom7__WEBPACK_IMPORTED_MODULE_0__.transition,\n  on: dom7__WEBPACK_IMPORTED_MODULE_0__.on,\n  off: dom7__WEBPACK_IMPORTED_MODULE_0__.off,\n  trigger: dom7__WEBPACK_IMPORTED_MODULE_0__.trigger,\n  transitionEnd: dom7__WEBPACK_IMPORTED_MODULE_0__.transitionEnd,\n  outerWidth: dom7__WEBPACK_IMPORTED_MODULE_0__.outerWidth,\n  outerHeight: dom7__WEBPACK_IMPORTED_MODULE_0__.outerHeight,\n  styles: dom7__WEBPACK_IMPORTED_MODULE_0__.styles,\n  offset: dom7__WEBPACK_IMPORTED_MODULE_0__.offset,\n  css: dom7__WEBPACK_IMPORTED_MODULE_0__.css,\n  each: dom7__WEBPACK_IMPORTED_MODULE_0__.each,\n  html: dom7__WEBPACK_IMPORTED_MODULE_0__.html,\n  text: dom7__WEBPACK_IMPORTED_MODULE_0__.text,\n  is: dom7__WEBPACK_IMPORTED_MODULE_0__.is,\n  index: dom7__WEBPACK_IMPORTED_MODULE_0__.index,\n  eq: dom7__WEBPACK_IMPORTED_MODULE_0__.eq,\n  append: dom7__WEBPACK_IMPORTED_MODULE_0__.append,\n  prepend: dom7__WEBPACK_IMPORTED_MODULE_0__.prepend,\n  next: dom7__WEBPACK_IMPORTED_MODULE_0__.next,\n  nextAll: dom7__WEBPACK_IMPORTED_MODULE_0__.nextAll,\n  prev: dom7__WEBPACK_IMPORTED_MODULE_0__.prev,\n  prevAll: dom7__WEBPACK_IMPORTED_MODULE_0__.prevAll,\n  parent: dom7__WEBPACK_IMPORTED_MODULE_0__.parent,\n  parents: dom7__WEBPACK_IMPORTED_MODULE_0__.parents,\n  closest: dom7__WEBPACK_IMPORTED_MODULE_0__.closest,\n  find: dom7__WEBPACK_IMPORTED_MODULE_0__.find,\n  children: dom7__WEBPACK_IMPORTED_MODULE_0__.children,\n  filter: dom7__WEBPACK_IMPORTED_MODULE_0__.filter,\n  remove: dom7__WEBPACK_IMPORTED_MODULE_0__.remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty(dom7__WEBPACK_IMPORTED_MODULE_0__.$.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (dom7__WEBPACK_IMPORTED_MODULE_0__.$);\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/effect-init.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/swiper/shared/effect-init.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ effectInit; }\n/* harmony export */ });\nfunction effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/effect-target.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/swiper/shared/effect-target.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ effectTarget; }\n/* harmony export */ });\nfunction effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/effect-virtual-transition-end.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/swiper/shared/effect-virtual-transition-end.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ effectVirtualTransitionEnd; }\n/* harmony export */ });\nfunction effectVirtualTransitionEnd({\n  swiper,\n  duration,\n  transformEl,\n  allSlides\n}) {\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/get-browser.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/swiper/shared/get-browser.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getBrowser\": function() { return /* binding */ getBrowser; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n\nlet browser;\n\nfunction calcBrowser() {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/get-device.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/swiper/shared/get-device.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getDevice\": function() { return /* binding */ getDevice; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n/* harmony import */ var _get_support_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./get-support.js */ \"./node_modules/swiper/shared/get-support.js\");\n\n\nlet deviceCached;\n\nfunction calcDevice({\n  userAgent\n} = {}) {\n  const support = (0,_get_support_js__WEBPACK_IMPORTED_MODULE_1__.getSupport)();\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides = {}) {\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/get-support.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/swiper/shared/get-support.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getSupport\": function() { return /* binding */ getSupport; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n\nlet support;\n\nfunction calcSupport() {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  const document = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getDocument)();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/shared/utils.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/swiper/shared/utils.js ***!\n  \\*********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"animateCSSModeScroll\": function() { return /* binding */ animateCSSModeScroll; },\n/* harmony export */   \"deleteProps\": function() { return /* binding */ deleteProps; },\n/* harmony export */   \"extend\": function() { return /* binding */ extend; },\n/* harmony export */   \"getComputedStyle\": function() { return /* binding */ getComputedStyle; },\n/* harmony export */   \"getTranslate\": function() { return /* binding */ getTranslate; },\n/* harmony export */   \"isObject\": function() { return /* binding */ isObject; },\n/* harmony export */   \"nextTick\": function() { return /* binding */ nextTick; },\n/* harmony export */   \"now\": function() { return /* binding */ now; },\n/* harmony export */   \"setCSSProperty\": function() { return /* binding */ setCSSProperty; }\n/* harmony export */ });\n/* harmony import */ var ssr_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ssr-window */ \"./node_modules/ssr-window/ssr-window.esm.js\");\n\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis = 'x') {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend(...args) {\n  const to = Object(args[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll({\n  swiper,\n  targetPosition,\n  side\n}) {\n  const window = (0,ssr_window__WEBPACK_IMPORTED_MODULE_0__.getWindow)();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/swiper/swiper.esm.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/swiper/swiper.esm.js ***!\n  \\*******************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"A11y\": function() { return /* reexport safe */ _modules_a11y_a11y_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; },\n/* harmony export */   \"Autoplay\": function() { return /* reexport safe */ _modules_autoplay_autoplay_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; },\n/* harmony export */   \"Controller\": function() { return /* reexport safe */ _modules_controller_controller_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; },\n/* harmony export */   \"EffectCards\": function() { return /* reexport safe */ _modules_effect_cards_effect_cards_js__WEBPACK_IMPORTED_MODULE_24__[\"default\"]; },\n/* harmony export */   \"EffectCoverflow\": function() { return /* reexport safe */ _modules_effect_coverflow_effect_coverflow_js__WEBPACK_IMPORTED_MODULE_22__[\"default\"]; },\n/* harmony export */   \"EffectCreative\": function() { return /* reexport safe */ _modules_effect_creative_effect_creative_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"]; },\n/* harmony export */   \"EffectCube\": function() { return /* reexport safe */ _modules_effect_cube_effect_cube_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"]; },\n/* harmony export */   \"EffectFade\": function() { return /* reexport safe */ _modules_effect_fade_effect_fade_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"]; },\n/* harmony export */   \"EffectFlip\": function() { return /* reexport safe */ _modules_effect_flip_effect_flip_js__WEBPACK_IMPORTED_MODULE_21__[\"default\"]; },\n/* harmony export */   \"FreeMode\": function() { return /* reexport safe */ _modules_free_mode_free_mode_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]; },\n/* harmony export */   \"Grid\": function() { return /* reexport safe */ _modules_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"]; },\n/* harmony export */   \"HashNavigation\": function() { return /* reexport safe */ _modules_hash_navigation_hash_navigation_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; },\n/* harmony export */   \"History\": function() { return /* reexport safe */ _modules_history_history_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; },\n/* harmony export */   \"Keyboard\": function() { return /* reexport safe */ _modules_keyboard_keyboard_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   \"Lazy\": function() { return /* reexport safe */ _modules_lazy_lazy_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; },\n/* harmony export */   \"Manipulation\": function() { return /* reexport safe */ _modules_manipulation_manipulation_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"]; },\n/* harmony export */   \"Mousewheel\": function() { return /* reexport safe */ _modules_mousewheel_mousewheel_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; },\n/* harmony export */   \"Navigation\": function() { return /* reexport safe */ _modules_navigation_navigation_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   \"Pagination\": function() { return /* reexport safe */ _modules_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; },\n/* harmony export */   \"Parallax\": function() { return /* reexport safe */ _modules_parallax_parallax_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   \"Scrollbar\": function() { return /* reexport safe */ _modules_scrollbar_scrollbar_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   \"Swiper\": function() { return /* reexport safe */ _core_core_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   \"Thumbs\": function() { return /* reexport safe */ _modules_thumbs_thumbs_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"]; },\n/* harmony export */   \"Virtual\": function() { return /* reexport safe */ _modules_virtual_virtual_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   \"Zoom\": function() { return /* reexport safe */ _modules_zoom_zoom_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; },\n/* harmony export */   \"default\": function() { return /* reexport safe */ _core_core_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _core_core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/core.js */ \"./node_modules/swiper/core/core.js\");\n/* harmony import */ var _modules_virtual_virtual_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/virtual/virtual.js */ \"./node_modules/swiper/modules/virtual/virtual.js\");\n/* harmony import */ var _modules_keyboard_keyboard_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/keyboard/keyboard.js */ \"./node_modules/swiper/modules/keyboard/keyboard.js\");\n/* harmony import */ var _modules_mousewheel_mousewheel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/mousewheel/mousewheel.js */ \"./node_modules/swiper/modules/mousewheel/mousewheel.js\");\n/* harmony import */ var _modules_navigation_navigation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/navigation/navigation.js */ \"./node_modules/swiper/modules/navigation/navigation.js\");\n/* harmony import */ var _modules_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/pagination/pagination.js */ \"./node_modules/swiper/modules/pagination/pagination.js\");\n/* harmony import */ var _modules_scrollbar_scrollbar_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/scrollbar/scrollbar.js */ \"./node_modules/swiper/modules/scrollbar/scrollbar.js\");\n/* harmony import */ var _modules_parallax_parallax_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/parallax/parallax.js */ \"./node_modules/swiper/modules/parallax/parallax.js\");\n/* harmony import */ var _modules_zoom_zoom_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/zoom/zoom.js */ \"./node_modules/swiper/modules/zoom/zoom.js\");\n/* harmony import */ var _modules_lazy_lazy_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/lazy/lazy.js */ \"./node_modules/swiper/modules/lazy/lazy.js\");\n/* harmony import */ var _modules_controller_controller_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/controller/controller.js */ \"./node_modules/swiper/modules/controller/controller.js\");\n/* harmony import */ var _modules_a11y_a11y_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/a11y/a11y.js */ \"./node_modules/swiper/modules/a11y/a11y.js\");\n/* harmony import */ var _modules_history_history_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/history/history.js */ \"./node_modules/swiper/modules/history/history.js\");\n/* harmony import */ var _modules_hash_navigation_hash_navigation_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modules/hash-navigation/hash-navigation.js */ \"./node_modules/swiper/modules/hash-navigation/hash-navigation.js\");\n/* harmony import */ var _modules_autoplay_autoplay_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./modules/autoplay/autoplay.js */ \"./node_modules/swiper/modules/autoplay/autoplay.js\");\n/* harmony import */ var _modules_thumbs_thumbs_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./modules/thumbs/thumbs.js */ \"./node_modules/swiper/modules/thumbs/thumbs.js\");\n/* harmony import */ var _modules_free_mode_free_mode_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./modules/free-mode/free-mode.js */ \"./node_modules/swiper/modules/free-mode/free-mode.js\");\n/* harmony import */ var _modules_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./modules/grid/grid.js */ \"./node_modules/swiper/modules/grid/grid.js\");\n/* harmony import */ var _modules_manipulation_manipulation_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./modules/manipulation/manipulation.js */ \"./node_modules/swiper/modules/manipulation/manipulation.js\");\n/* harmony import */ var _modules_effect_fade_effect_fade_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./modules/effect-fade/effect-fade.js */ \"./node_modules/swiper/modules/effect-fade/effect-fade.js\");\n/* harmony import */ var _modules_effect_cube_effect_cube_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./modules/effect-cube/effect-cube.js */ \"./node_modules/swiper/modules/effect-cube/effect-cube.js\");\n/* harmony import */ var _modules_effect_flip_effect_flip_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./modules/effect-flip/effect-flip.js */ \"./node_modules/swiper/modules/effect-flip/effect-flip.js\");\n/* harmony import */ var _modules_effect_coverflow_effect_coverflow_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./modules/effect-coverflow/effect-coverflow.js */ \"./node_modules/swiper/modules/effect-coverflow/effect-coverflow.js\");\n/* harmony import */ var _modules_effect_creative_effect_creative_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./modules/effect-creative/effect-creative.js */ \"./node_modules/swiper/modules/effect-creative/effect-creative.js\");\n/* harmony import */ var _modules_effect_cards_effect_cards_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./modules/effect-cards/effect-cards.js */ \"./node_modules/swiper/modules/effect-cards/effect-cards.js\");\n/**\n * Swiper 8.4.7\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2023 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: January 30, 2023\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\n/*!*************************!*\\\n  !*** ./src/js/entry.js ***!\n  \\*************************/\n/*!*\n * !    .\n *         .\n *           2-5 .\n */\n\n/* global require */\n\n__webpack_require__(/*! ../blocks/calculator/calculator.js */ \"./src/blocks/calculator/calculator.js\");\n__webpack_require__(/*! ../blocks/contacts/contacts.js */ \"./src/blocks/contacts/contacts.js\");\n__webpack_require__(/*! ../blocks/directions/directions.js */ \"./src/blocks/directions/directions.js\");\n__webpack_require__(/*! ../blocks/form/form.js */ \"./src/blocks/form/form.js\");\n__webpack_require__(/*! ../blocks/header/header.js */ \"./src/blocks/header/header.js\");\n__webpack_require__(/*! ../blocks/hero/hero.js */ \"./src/blocks/hero/hero.js\");\n__webpack_require__(/*! ../blocks/input/input.js */ \"./src/blocks/input/input.js\");\n__webpack_require__(/*! ../blocks/nav/nav.js */ \"./src/blocks/nav/nav.js\");\n__webpack_require__(/*! ../blocks/page/page.js */ \"./src/blocks/page/page.js\");\n__webpack_require__(/*! ../blocks/popup/popup.js */ \"./src/blocks/popup/popup.js\");\n__webpack_require__(/*! ../blocks/reviews/reviews.js */ \"./src/blocks/reviews/reviews.js\");\n__webpack_require__(/*! ../blocks/services/services.js */ \"./src/blocks/services/services.js\");\n__webpack_require__(/*! ../blocks/tags/tags.js */ \"./src/blocks/tags/tags.js\");\n__webpack_require__(/*! ../blocks/textarea/textarea.js */ \"./src/blocks/textarea/textarea.js\");\n__webpack_require__(/*! ../blocks/work/work.js */ \"./src/blocks/work/work.js\");\n__webpack_require__(/*! ./script.js */ \"./src/js/script.js\");\n\n/*!*\n * !    .\n *         .\n *           2-5 .\n */\n}();\n/******/ })()\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7O0FBRWxEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFNk47Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcFV2RjtBQUNqRjtBQUNmO0FBQ1g7O0FBRTNCO0FBQ0EsRUFBRSx3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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSwyREFBMkQscURBQWMsRUFBRTs7QUFFM0U7QUFDQSwwREFBMEQsc0RBQWUsR0FBRyxxREFBYztBQUMxRjtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVtQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNySCtEOztBQUVuRztBQUNBO0FBQ0EsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQixVQUFVLFNBQVM7QUFDbkIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUksd0VBQWU7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsY0FBYyxlQUFlO0FBQzdCOzs7QUFHQSxFQUFFLHdFQUFZO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVtQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2RCtEOztBQUVuRztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7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O0FBQ0Esc0JBQXNCLDBCQUEwQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGlCQUFpQixxREFBUztBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7O0FBRW5CLG9CQUFvQjs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNILEVBQUU7OztBQUdGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGlCQUFpQixxREFBUztBQUMxQjtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCOztBQUUxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsMEJBQTBCOztBQUUxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0JBQWtCLHVCQUF1QjtBQUN6QztBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtEQUFlLENBQUMsRUFBQztBQUNxdUI7Ozs7Ozs7Ozs7Ozs7O0FDejlDeHRCOztBQUU5QjtBQUNBLGFBQWEsdURBQVc7O0FBRXhCLCtEQUFlLE1BQU0sRUFBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ0xZO0FBQ007QUFDVTs7QUFFbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLGtEQUFNLEdBQUcsOERBQWtCOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHlEQUFTO0FBQ2YsTUFBTSw4REFBYztBQUNwQjs7QUFFQSwrREFBZSxVQUFVLEVBQUM7Ozs7Ozs7Ozs7Ozs7O0FDM0IwQjs7QUFFcEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtEQUFlO0FBQ3JDO0FBQ0E7O0FBRUEsK0RBQWUsUUFBUSxFQUFDOzs7Ozs7Ozs7Ozs7O0FDbEJ4QjtBQUNBOztBQUVBLCtEQUFlLFVBQVUsRUFBQzs7Ozs7Ozs7Ozs7Ozs7QUNIUTs7QUFFbEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixrREFBTSxHQUFHLDhEQUFrQjs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtEQUFlLFNBQVMsRUFBQzs7Ozs7Ozs7Ozs7OztBQzdDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0RBQWUsY0FBYyxFQUFDOzs7Ozs7Ozs7Ozs7OztBQ3JCWTs7QUFFMUM7QUFDQTs7QUFFQTtBQUNBLFdBQVcsc0RBQVU7O0FBRXJCLCtEQUFlLElBQUksRUFBQzs7Ozs7Ozs7Ozs7OztBQ1JwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsK0RBQWUsZUFBZSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDbEJNO0FBQ1Y7QUFDVTs7QUFFckM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSxXQUFXO0FBQzlCLFdBQVcsU0FBUztBQUNwQjtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLCtDQUErQyxpQkFBaUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdEQUFRO0FBQ2pCLE1BQU0sd0RBQVE7QUFDZDtBQUNBO0FBQ0EsaUNBQWlDLHdEQUFRO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxtREFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseURBQXlELG1EQUFHO0FBQzVEOztBQUVBO0FBQ0EsZUFBZSxtREFBRztBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrREFBZSxRQUFRLEVBQUM7Ozs7Ozs7Ozs7Ozs7QUM5THhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrREFBZSxRQUFRLEVBQUM7Ozs7Ozs7Ozs7Ozs7QUM5QnhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtEQUFlLFlBQVksRUFBQzs7Ozs7Ozs7Ozs7Ozs7O0FDNUJjO0FBQ0c7O0FBRTdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDREQUFZLFdBQVcsMERBQVU7QUFDdEM7O0FBRUEsK0RBQWUsUUFBUSxFQUFDOzs7Ozs7Ozs7Ozs7OztBQzVCTTs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlEQUFhO0FBQ3RCOztBQUVBLCtEQUFlLEdBQUcsRUFBQzs7Ozs7Ozs7Ozs7Ozs7O0FDdEJrQjtBQUNBOztBQUVyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRLFdBQVc7QUFDOUIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxtQkFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHdEQUFRO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3REFBUTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEsK0RBQWUsUUFBUSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDcEVjO0FBQ0Q7QUFDQTs7QUFFckM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sd0RBQVE7QUFDZDtBQUNBO0FBQ0EsTUFBTSx3REFBUTtBQUNkO0FBQ0EsWUFBWSx3REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0RBQVE7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrREFBZSxRQUFRLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvRHhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRStDO0FBQ1g7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSx3Q0FBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLDJCQUEyQjtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFvRDtBQUM3RSw2QkFBNkI7QUFDN0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFvRDtBQUM3RSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxREFBUTtBQUNuQyw4QkFBOEIscURBQVEsNkJBQTZCLGVBQWU7QUFDbEYsK0JBQStCLHFEQUFRO0FBQ3ZDLDhCQUE4QixxREFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVtQztBQUNwQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcjVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVvQztBQUNPOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ25GLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBOztBQUVBLFNBQVMsOERBQXFCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVCQUF1QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2RUFBb0M7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2RUFBb0M7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxnQ0FBZ0M7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQyxzREFBYTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx3Q0FBUztBQUNiO0FBQ0E7O0FBRWdDO0FBQ2hDOzs7Ozs7Ozs7Ozs7Ozs7O0FDdk1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxRQUFRO0FBQ3ZFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHFCQUFxQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLE9BQU87QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esd0JBQXdCLDRCQUE0QjtBQUNwRDtBQUNBLDRCQUE0Qix5QkFBeUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsVUFBVSxJQUFJLHlCQUF5QjtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7O0FDM0hEO0FBQ0EsK0RBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakh3QztBQUNJO0FBQ0Y7QUFDRjtBQUNKO0FBQ0Y7QUFDRTtBQUNyQzs7QUFFQTs7QUFFQTtBQUNBLG1CQUFtQix1REFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsK0JBQStCOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBLDZIQUE2SCxvREFBUTtBQUNySSxJQUFJO0FBQ0osMkNBQTJDLG9EQUFRO0FBQ25EO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQix1REFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osd0JBQXdCLDZEQUFpQjtBQUN6Qyx1QkFBdUIsNERBQWdCO0FBQ3ZDLHNCQUFzQiwyREFBZTs7QUFFckM7QUFDQSxzQkFBc0IseURBQWE7QUFDbkM7O0FBRUEsbUJBQW1CLHdEQUFZOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtEQUFlO0FBQ2Y7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ2hHYztBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ1plO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osMENBQTBDOztBQUUxQztBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFVBQVU7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQzFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsQ3NEO0FBQ3ZDO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSix1QkFBdUIscURBQUc7QUFDMUIsdURBQXVEOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIscURBQUc7QUFDMUIsRUFBRSwwREFBUTtBQUNWO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJOzs7QUFHSjtBQUNBOztBQUVBLGtCQUFrQix1QkFBdUI7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvSUFBb0k7QUFDcEk7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaEt5QztBQUNMO0FBQ1E7QUFDN0I7QUFDZixtQkFBbUIsdURBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsMERBQUM7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCw0QkFBNEIscURBQUc7QUFDL0I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQywwREFBQztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNDQUFzQzs7QUFFdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNEQUFzRDs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7OztBQUdKLGdEQUFnRDs7QUFFaEQ7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOU5vRDtBQUNoQjtBQUNRLENBQUM7O0FBRTdDO0FBQ0E7QUFDQSxzQkFBc0IsdURBQVcsYUFBYSxxREFBUztBQUN2RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRWU7QUFDZjtBQUNBLG1CQUFtQix1REFBVztBQUM5QixpQkFBaUIscURBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsMERBQUM7O0FBRW5CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7O0FBRTlDLHdGQUF3Rjs7QUFFeEY7O0FBRUE7QUFDQSxnQkFBZ0IsMERBQUM7QUFDakI7O0FBRUEsc0ZBQXNGLHNCQUFzQjtBQUM1Ryw4REFBOEQ7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdCQUF3QixxREFBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLDBEQUFDO0FBQ25DO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDbkkrQztBQUNJO0FBQ25ELCtEQUFlO0FBQ2YsZUFBZTtBQUNmLGlCQUFpQjtBQUNqQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNMYztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDTmU7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUNSdUM7QUFDUTtBQUMvQywrREFBZTtBQUNmLFdBQVc7QUFDWCxlQUFlO0FBQ2YsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNMc0M7QUFDSDtBQUNyQjtBQUNmLGlCQUFpQixxREFBUztBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLDBEQUFDOztBQUVyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ3BDZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGdDQUFnQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDbEJ5QztBQUNOO0FBQ1E7QUFDM0MsK0RBQWU7QUFDZixZQUFZO0FBQ1osU0FBUztBQUNULGFBQWE7QUFDYixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1B3QztBQUNMO0FBQ3JCO0FBQ2Y7QUFDQSxtQkFBbUIsdURBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsSUFBSSxVQUFVOztBQUVkLHVEQUF1RCwwREFBQztBQUN4RCx5QkFBeUIsa0JBQWtCLEdBQUcsMkJBQTJCO0FBQ3pFLHNDQUFzQyxrQkFBa0I7O0FBRXhEO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDLDBCQUEwQiwwREFBQyw0Q0FBNEMsbUJBQW1CLEVBQUUsdUJBQXVCO0FBQ25IO0FBQ0E7O0FBRUEsc0NBQXNDLGtCQUFrQjtBQUN4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBEQUFDO0FBQ25CO0FBQ0EsR0FBRzs7QUFFSCxrQkFBa0IseUJBQXlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQix5QkFBeUI7QUFDM0MscUJBQXFCLDBEQUFDO0FBQ3RCOztBQUVBLHlDQUF5QyxRQUFRO0FBQ2pELHNCQUFzQiwwREFBQztBQUN2QjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUN2RGU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLDBCQUEwQixrQkFBa0IsR0FBRywyQkFBMkIsSUFBSSxrQkFBa0IsR0FBRyx1QkFBdUI7QUFDMUg7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDVGU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDeEM0QztBQUM3QjtBQUNmLHVDQUF1QztBQUN2QztBQUNBOztBQUVBO0FBQ0EsTUFBTSx3REFBTTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU0sd0RBQU07QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUksd0RBQU07QUFDVjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDckN1QztBQUN4QjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsaUJBQWlCLHFEQUFTOztBQUUxQixzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsc0JBQXNCLDZCQUE2QjtBQUNuRDtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBLEtBQUssR0FBRzs7QUFFUjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQzFFdUM7QUFDeEI7QUFDZjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCLHFEQUFTO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxRW1DO0FBQ1E7QUFDSjtBQUNBO0FBQ0U7QUFDUTtBQUNVO0FBQzNELCtEQUFlO0FBQ2YsU0FBUztBQUNULGFBQWE7QUFDYixXQUFXO0FBQ1gsV0FBVztBQUNYLFlBQVk7QUFDWixnQkFBZ0I7QUFDaEIscUJBQXFCO0FBQ3JCLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ2ZEO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQzdCQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCOztBQUV0QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDL0RBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKNkQ7QUFDOUM7QUFDZjtBQUNBLCtGQUErRixhQUFhO0FBQzVHOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkOztBQUVBOztBQUVBO0FBQ0EsNEZBQTRGLE1BQU07QUFDbEcsTUFBTTtBQUNOOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQzs7QUFFMUM7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBLG1EQUFtRCxzREFBc0QsMEJBQTBCOztBQUVuSTtBQUNBLDBDQUEwQzs7QUFFMUM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsUUFBUSxzRUFBb0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuTG9DO0FBQ2E7QUFDbEM7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QiwwREFBQzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGtCQUFrQiw0QkFBNEIsVUFBVSxVQUFVLDJCQUEyQjtBQUM1SSxRQUFRLDBEQUFRO0FBQ2hCO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsNkNBQTZDLGtCQUFrQiw0QkFBNEIsVUFBVSxVQUFVLDJCQUEyQjtBQUMxSSxNQUFNLDBEQUFRO0FBQ2Q7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUN0Q0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQy9CZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkOztBQUVBOztBQUVBO0FBQ0EsNEZBQTRGLE1BQU07QUFDbEcsTUFBTTtBQUNOOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ2hDK0M7QUFDSTtBQUNKO0FBQy9DLCtEQUFlO0FBQ2YsZUFBZTtBQUNmLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2YsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDUGM7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDUmU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxrREFBa0QsbURBQW1EO0FBQ3JHOztBQUVBLDJCQUEyQixLQUFLOztBQUVoQztBQUNBO0FBQ0EseUNBQXlDLEtBQUs7QUFDOUM7QUFDQTs7QUFFQSx3Q0FBd0MsS0FBSzs7QUFFN0M7QUFDQSx3Q0FBd0MsS0FBSztBQUM3QyxNQUFNO0FBQ04sd0NBQXdDLEtBQUs7QUFDN0M7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDaENpRDtBQUNsQztBQUNmO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxFQUFFLDhEQUFjO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7Ozs7Ozs7Ozs7Ozs7O0FDZmlEO0FBQ2xDO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLDhEQUFjO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7Ozs7Ozs7Ozs7Ozs7O0FDbEJxRDtBQUN0QztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsOERBQVk7QUFDckM7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3JCNkM7QUFDQTtBQUNBO0FBQ0E7QUFDRjtBQUMzQywrREFBZTtBQUNmLGNBQWM7QUFDZCxjQUFjO0FBQ2QsY0FBYztBQUNkLGNBQWM7QUFDZCxhQUFhO0FBQ2IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDWGM7QUFDZjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUNGZTtBQUNmO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ0ZlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdDQUF3QyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDMUQ7O0FBRUE7QUFDQSxvREFBb0Q7O0FBRXBEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDL0M2RDtBQUM5QztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGtGQUFrRiwrQkFBK0I7O0FBRWhNOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLFFBQVEsc0VBQW9CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3BGeUM7QUFDSTtBQUNRO0FBQ0k7QUFDSTtBQUNaO0FBQ1U7QUFDSjtBQUNFO0FBQ3pELCtEQUFlO0FBQ2YsWUFBWTtBQUNaLGNBQWM7QUFDZCxrQkFBa0I7QUFDbEIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixnQkFBZ0I7QUFDaEIscUJBQXFCO0FBQ3JCLG1CQUFtQjtBQUNuQixvQkFBb0I7QUFDcEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDbkJjO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDckVvQztBQUNyQjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBLCtCQUErQiwwREFBQztBQUNoQztBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ04sa0JBQWtCLDRDQUE0QztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTs7O0FBR0osY0FBYyx5QkFBeUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSix1RUFBdUUsVUFBVTtBQUNqRjs7Ozs7Ozs7Ozs7Ozs7OztBQ2pEb0M7QUFDckI7QUFDZjtBQUNBO0FBQ0EsZ0JBQWdCLDBEQUFDLGdCQUFnQixrQkFBa0I7QUFDbkQ7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiwwQkFBMEI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQywwREFBQztBQUN0QyxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDbkNlO0FBQ2Y7O0FBRUE7QUFDQSxxREFBcUQ7O0FBRXJEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDakRlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7Ozs7OztBQ2hDdUQ7QUFDeEM7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EseUNBQXlDLHlCQUF5QjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRTtBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRzs7QUFFTjtBQUNBLElBQUksZ0VBQWM7QUFDbEIsSUFBSSxnRUFBYztBQUNsQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1EQUFtRDs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EseURBQXlELFVBQVU7QUFDbkU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQXlDO0FBQ3pELEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsdUNBQXVDLHlDQUF5QztBQUNoRixLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7O0FBRUEsb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxnQkFBZ0IsYUFBYTtBQUM3QixLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLElBQUksZ0VBQWMseURBQXlELGFBQWE7QUFDeEYsSUFBSSxnRUFBYyx3REFBd0Qsa0VBQWtFO0FBQzVJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUMsOEJBQThCO0FBQ2pFOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQy9UZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esd0JBQXdCLHlCQUF5QixFQUFFLHVCQUF1QixFQUFFLHVCQUF1QixFQUFFLGtDQUFrQyxFQUFFLGdDQUFnQyxFQUFFLCtCQUErQjtBQUMxTTs7QUFFQTtBQUNBLDZDQUE2QyxrQkFBa0IsNEJBQTRCLFlBQVk7QUFDdkcsSUFBSTtBQUNKO0FBQ0EsSUFBSTs7O0FBR0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtCQUFrQixRQUFRLDJCQUEyQiw2QkFBNkIsVUFBVTtBQUMxSCxNQUFNO0FBQ04sOEJBQThCLGtCQUFrQixHQUFHLDJCQUEyQiw0QkFBNEIsVUFBVTtBQUNwSDtBQUNBLElBQUk7OztBQUdKLDBDQUEwQyxrQkFBa0I7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKLDBDQUEwQyxrQkFBa0I7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrQkFBa0IsUUFBUSwyQkFBMkIsNkJBQTZCLDBDQUEwQztBQUMxSixNQUFNO0FBQ04sOEJBQThCLGtCQUFrQixHQUFHLDJCQUEyQiw0QkFBNEIsMENBQTBDO0FBQ3BKOztBQUVBO0FBQ0EsOEJBQThCLGtCQUFrQixRQUFRLDJCQUEyQiw2QkFBNkIsMENBQTBDO0FBQzFKLE1BQU07QUFDTiw4QkFBOEIsa0JBQWtCLEdBQUcsMkJBQTJCLDRCQUE0QiwwQ0FBMEM7QUFDcEo7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUMvRGU7QUFDZjtBQUNBOztBQUVBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDUG9DO0FBQ3JCO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsMERBQUM7QUFDMUI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0NvRTtBQUNoQztBQUNyQjtBQUNmO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLE9BQU87QUFDckQsNEJBQTRCLFFBQVEsSUFBSSxjQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQUM7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBLDBDQUEwQywwRUFBaUI7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwREFBQzs7QUFFekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMEVBQTBFLEVBQUUsT0FBTyxFQUFFO0FBQ3JGO0FBQ0E7O0FBRUEsMkJBQTJCLDJDQUEyQztBQUN0RTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMseUJBQXlCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQiwwREFBQztBQUM1Qjs7QUFFQTtBQUNBLGdCQUFnQiwwREFBQztBQUNqQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUFDO0FBQzFCO0FBQ0EscUVBQXFFLEVBQUUsT0FBTyxFQUFFLDhCQUE4QixFQUFFLGNBQWMsRUFBRTtBQUNoSTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUM7O0FBRW5DOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQSw4RUFBOEUsb0JBQW9CO0FBQ2xHO0FBQ0E7QUFDQSxpQ0FBaUM7O0FBRWpDLGtCQUFrQjs7QUFFbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQSwwQ0FBMEMsMEVBQWlCO0FBQzNELE1BQU07OztBQUdOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBLDJDQUEyQywwRUFBaUI7QUFDNUQsTUFBTTs7O0FBR047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsMERBQUMsaUJBQWlCLHFDQUFxQztBQUN4RSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5VkE7O0FBRUE7QUFDeUM7QUFDUTtBQUNsQztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYywwREFBUTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsdURBQVc7O0FBRWhDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdURBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLHVEQUFXO0FBQ2hDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyT0Esa0NBQWtDLGlCQUFpQjtBQUNGO0FBQ2xDO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQSxtQkFBbUI7QUFDbkI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUM7QUFDbkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFVBQVUsMERBQVE7QUFDbEI7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQix1QkFBdUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOUx5RDtBQUNKO0FBQ0k7QUFDOEI7QUFDeEU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUEsb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtEQUFrRCxzQkFBc0I7QUFDeEU7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVDQUF1QztBQUN2RDs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLEdBQUcsUUFBUSwyQkFBMkI7QUFDM0QsUUFBUTtBQUNSO0FBQ0EscUJBQXFCLEdBQUcsU0FBUywyQkFBMkI7QUFDNUQsUUFBUTtBQUNSLGdCQUFnQixHQUFHO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNENBQTRDLDJCQUEyQixPQUFPLDJCQUEyQjtBQUN6RztBQUNBLHNCQUFzQixHQUFHLElBQUksR0FBRyxJQUFJLEdBQUc7QUFDdkMsa0JBQWtCLDJCQUEyQjtBQUM3QyxnQkFBZ0IsWUFBWTtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0Isb0VBQVk7QUFDbEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixvRUFBWTtBQUNwQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJLG9GQUEwQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsRUFBRSxrRUFBVTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hJeUQ7QUFDSjtBQUNJO0FBQzFDO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQzs7QUFFcEMsNENBQTRDLFlBQVk7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFOztBQUVsRTtBQUNBLG9DQUFvQzs7QUFFcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1RUFBdUU7O0FBRXZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxXQUFXLEtBQUssV0FBVyxLQUFLLFdBQVcsZUFBZSxRQUFRLGVBQWUsUUFBUSxhQUFhLE1BQU07QUFDeEosd0JBQXdCLG9FQUFZO0FBQ3BDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsb0VBQVk7QUFDeEM7O0FBRUE7QUFDQSwyQkFBMkIsb0VBQVk7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBLEVBQUUsa0VBQVU7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZHeUQ7QUFDSjtBQUNJO0FBQzhCO0FBQ3hFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0Esb0RBQW9ELE9BQU87QUFDM0Q7O0FBRUEsb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTs7O0FBR1I7QUFDQSwyQkFBMkIsTUFBTSxRQUFRLDBDQUEwQyxJQUFJLGdDQUFnQztBQUN2SCxPQUFPLEdBQUc7O0FBRVY7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0Esc0NBQXNDLEtBQUssZUFBZSxLQUFLLGVBQWUsS0FBSztBQUNuRiwwREFBMEQscURBQXFELGNBQWMscURBQXFEO0FBQ2xMO0FBQ0EsdUNBQXVDLGdCQUFnQixJQUFJLGNBQWMsRUFBRSxZQUFZLEdBQUc7O0FBRTFGO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0Isb0VBQVk7QUFDbEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0Isb0VBQVk7QUFDcEM7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUksb0ZBQTBCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLEVBQUUsa0VBQVU7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3pKb0M7QUFDaUI7QUFDdEM7QUFDZjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQiwwREFBQyxvQ0FBb0MsOEJBQThCO0FBQ3hGO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsMERBQUMsb0NBQW9DLGtDQUFrQztBQUMzRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUFDO0FBQzFCLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQiwwREFBQztBQUMzQjtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLFlBQVk7QUFDakMsU0FBUztBQUNULFFBQVE7QUFDUjs7QUFFQTtBQUNBLDBCQUEwQiwwREFBQztBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQywrQkFBK0IsZUFBZSw4QkFBOEIsbUJBQW1CLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRzs7QUFFdko7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4Q0FBOEMsZUFBZTtBQUM3RCxzQ0FBc0MsZUFBZTtBQUNyRCxLQUFLOztBQUVMO0FBQ0E7QUFDQSxvREFBb0Qsc0NBQXNDLE1BQU0saUJBQWlCLHlDQUF5QyxtQkFBbUI7QUFDN0ssUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsT0FBTyxPQUFPLE9BQU8scUJBQXFCLDBCQUEwQixNQUFNLDJCQUEyQjtBQUNoSjtBQUNBOztBQUVBO0FBQ0EsOENBQThDLFFBQVEsY0FBYywwQ0FBMEMsZUFBZSwyQ0FBMkM7QUFDeEssb0VBQW9FLFFBQVE7QUFDNUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxrRUFBVTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbE1xRDtBQUNJO0FBQzhCO0FBQ3hFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0Isb0VBQVk7QUFDcEM7QUFDQTtBQUNBLE9BQU8sMkJBQTJCLEdBQUcsTUFBTSxHQUFHO0FBQzlDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJLG9GQUEwQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxFQUFFLGtFQUFVO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDckVvQztBQUNxQjtBQUNKO0FBQ0k7QUFDOEI7QUFDeEU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsb0VBQVk7QUFDakM7O0FBRUE7QUFDQSxvQkFBb0Isb0VBQVk7QUFDaEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBEQUFDO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHVDQUF1QyxHQUFHLE1BQU0sR0FBRyxtQkFBbUIsUUFBUSxlQUFlLFFBQVE7QUFDckcsd0JBQXdCLG9FQUFZO0FBQ3BDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUksb0ZBQTBCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxFQUFFLGtFQUFVO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxSDRDO0FBQzdCO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFVBQVU7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxZQUFZLHFEQUFHO0FBQ2YsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxVQUFVOztBQUVoQix5QkFBeUIscURBQUc7QUFDNUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7OztBQUdBLDBCQUEwQixxREFBRztBQUM3QjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjs7QUFFQSx3QkFBd0IscUJBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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QkFBaUIscURBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxREFBRztBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjs7QUFFaEI7QUFDQSxnQkFBZ0I7QUFDaEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0RBQWtELHFEQUFHO0FBQ3JEO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7O0FBR0EsK0JBQStCLHFEQUFHO0FBQ2xDO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTs7O0FBR04sa0RBQWtEOztBQUVsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGVBQWUsMERBQUM7QUFDaEI7O0FBRUE7QUFDQSw4Q0FBOEM7O0FBRTlDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEZBQTRGO0FBQzVGLFFBQVEsNkVBQTZFO0FBQ3JGLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsdUNBQXVDOztBQUV2QztBQUNBO0FBQ0EsK0VBQStFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscURBQUc7QUFDakI7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBLG1DQUFtQztBQUNuQzs7QUFFQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBRztBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVDQUF1QztBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwREFBUTtBQUM5QjtBQUNBLGFBQWEsTUFBTSxhQUFhO0FBQ2hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBEQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsVUFBVTs7O0FBR1YsbURBQW1EOztBQUVuRCwwR0FBMEc7O0FBRTFHO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkM7QUFDN0M7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSwwREFBQztBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyYXNGO0FBQ2xEO0FBQ3JCO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLDBEQUFDOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQixvRkFBeUI7QUFDeEQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUEsaURBQWlELDBEQUFDLDJCQUEyQiwwREFBQztBQUM5RTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOU1vQztBQUNnQztBQUNrQjtBQUN2RTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixJQUFJO0FBQzFCLDRCQUE0QixJQUFJO0FBQ2hDLHdCQUF3QixJQUFJO0FBQzVCLHVCQUF1QixJQUFJO0FBQzNCLHFCQUFxQixJQUFJO0FBQ3pCLHNCQUFzQixJQUFJO0FBQzFCLCtCQUErQixJQUFJO0FBQ25DLG1DQUFtQyxJQUFJO0FBQ3ZDLHlCQUF5QixJQUFJO0FBQzdCLG9CQUFvQixJQUFJO0FBQ3hCLDBCQUEwQixJQUFJO0FBQzlCLHdCQUF3QixJQUFJO0FBQzVCLGtDQUFrQyxJQUFJO0FBQ3RDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sc0NBQXNDLGtCQUFrQixHQUFHLFNBQVMsMkJBQTJCLGtCQUFrQixHQUFHLFNBQVMsR0FBRyxTQUFTO0FBQ3pJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qzs7QUFFdkM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0RBQStELDZDQUE2Qzs7QUFFNUc7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1R0FBdUcseUJBQXlCLEVBQUUsT0FBTzs7QUFFekk7QUFDQTtBQUNBLDBCQUEwQiwwREFBQztBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQyx5QkFBeUI7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyxnQkFBZ0I7QUFDbkQsc0NBQXNDLHlCQUF5QjtBQUMvRDs7QUFFQTtBQUNBO0FBQ0Esc0RBQXNELFFBQVE7QUFDOUQsMkRBQTJELHlCQUF5QjtBQUNwRjs7QUFFQSxxRkFBcUYseUJBQXlCO0FBQzlHLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxjQUFjO0FBQ2pGO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLDBFQUFpQjtBQUNoQyxlQUFlLDBFQUFpQjtBQUNoQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBLGVBQWUsMEVBQWlCLHNFQUFzRSxPQUFPLFdBQVcsT0FBTztBQUMvSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IscUJBQXFCO0FBQzNDO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsZ0NBQWdDLHNCQUFzQixTQUFTLG1CQUFtQixNQUFNLHFCQUFxQjtBQUM3RztBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLDBFQUFpQjtBQUM1RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IseUNBQXlDLG9CQUFvQixxQ0FBcUMsa0JBQWtCO0FBQ3BIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHlDQUF5Qyw0QkFBNEI7QUFDckU7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtCQUErQixvRkFBeUI7QUFDeEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsMERBQUM7QUFDZjs7QUFFQTtBQUNBLHdDQUF3Qzs7QUFFeEM7QUFDQTtBQUNBLGNBQWMsMERBQUM7QUFDZjtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLHFCQUFxQixFQUFFLFlBQVk7QUFDekQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLDBFQUFpQjtBQUN2QztBQUNBLG9CQUFvQiwwREFBQztBQUNyQjtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QiwwRUFBaUI7QUFDeEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTix5R0FBeUcsMERBQUM7QUFDMUc7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7Ozs7OztBQ3hib0M7QUFDckI7QUFDZjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixnQkFBZ0IsMERBQUM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsdUNBQXVDO0FBQ3BELE1BQU07QUFDTixhQUFhLHlCQUF5QjtBQUN0Qzs7QUFFQTtBQUNBLGFBQWEsMkJBQTJCO0FBQ3hDLE1BQU07QUFDTixhQUFhLGFBQWE7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUMsRUFBRSxJQUFJLEVBQUU7QUFDM0MsTUFBTTtBQUNOO0FBQ0EsbUNBQW1DLEVBQUUsSUFBSSxFQUFFLGVBQWUsYUFBYTtBQUN2RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSwwREFBQztBQUNQO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSwwQkFBMEIsMERBQUM7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakh5QztBQUNMO0FBQ2E7QUFDcUM7QUFDdkU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxtQkFBbUIsdURBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBdUMsT0FBTztBQUM5QyxrQ0FBa0MsUUFBUTtBQUMxQyxNQUFNO0FBQ04sNENBQTRDLE9BQU87QUFDbkQsbUNBQW1DLFFBQVE7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBLGtDQUFrQyxTQUFTO0FBQzNDLE1BQU07QUFDTixtQ0FBbUMsU0FBUztBQUM1Qzs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtB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QTs7VUFFQTtVQUNBO1VBQ0E7Ozs7O1dDdEJBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEEsOENBQThDOzs7OztXQ0E5QztXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7Ozs7Ozs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBQyxtQkFBTyxDQUFDLGlGQUFvQyxDQUFDO0FBQzdDQSxtQkFBTyxDQUFDLHlFQUFnQyxDQUFDO0FBQ3pDQSxtQkFBTyxDQUFDLGlGQUFvQyxDQUFDO0FBQzdDQSxtQkFBTyxDQUFDLHlEQUF3QixDQUFDO0FBQ2pDQSxtQkFBTyxDQUFDLGlFQUE0QixDQUFDO0FBQ3JDQSxtQkFBTyxDQUFDLHlEQUF3QixDQUFDO0FBQ2pDQSxtQkFBTyxDQUFDLDZEQUEwQixDQUFDO0FBQ25DQSxtQkFBTyxDQUFDLHFEQUFzQixDQUFDO0FBQy9CQSxtQkFBTyxDQUFDLHlEQUF3QixDQUFDO0FBQ2pDQSxtQkFBTyxDQUFDLDZEQUEwQixDQUFDO0FBQ25DQSxtQkFBTyxDQUFDLHFFQUE4QixDQUFDO0FBQ3ZDQSxtQkFBTyxDQUFDLHlFQUFnQyxDQUFDO0FBQ3pDQSxtQkFBTyxDQUFDLHlEQUF3QixDQUFDO0FBQ2pDQSxtQkFBTyxDQUFDLHlFQUFnQyxDQUFDO0FBQ3pDQSxtQkFBTyxDQUFDLHlEQUF3QixDQUFDO0FBQ2pDQSxtQkFBTyxDQUFDLHVDQUFhLENBQUM7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9hbmltZWpzL2xpYi9hbmltZS5lcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXV0b3NpemUvZGlzdC9hdXRvc2l6ZS5lc20uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9jYWxjdWxhdG9yL2NhbGN1bGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9jb250YWN0cy9jb250YWN0cy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL2RpcmVjdGlvbnMvZGlyZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL2Zvcm0vZm9ybS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL2hlYWRlci9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9oZXJvL2hlcm8uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9pbnB1dC9pbnB1dC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL25hdi9uYXYuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9wYWdlL3BhZ2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9wb3B1cC9oeXN0bW9kYWwuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9wb3B1cC9wb3B1cC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL3Jldmlld3MvcmV2aWV3cy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL3NlcnZpY2VzL3NlcnZpY2VzLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9ibG9ja3MvdGFncy90YWdzLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9ibG9ja3MvdGV4dGFyZWEvdGV4dGFyZWEuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy93b3JrL3dvcmsuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2pzL2NvbW1vbi9vcGVuTmF2LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9qcy9zY3JpcHQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2pzL3V0aWxzL2RvY3VtZW50UmVhZHkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2pzL3V0aWxzL2dldFNjcm9sbFNpemUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2pzL3V0aWxzL2hyZWZHZXR0ZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2Nhbi11c2UtZG9tL2luZGV4LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02N2JiYTdmYi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvbnRyb2xzL2h0bWwtY29udGVudGVkaXRhYmxlLW1hc2stZWxlbWVudC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvbnRyb2xzL2h0bWwtbWFzay1lbGVtZW50LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vY29udHJvbHMvaW5wdXQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb250cm9scy9tYXNrLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb3JlL2FjdGlvbi1kZXRhaWxzLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb3JlL2hvbGRlci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvcmUvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9iYXNlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL2RhdGUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvZHluYW1pYy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9lbnVtLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL2ZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvbnVtYmVyLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL3BhdHRlcm4uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcGF0dGVybi9jaHVuay10YWlsLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcGF0dGVybi9jdXJzb3IuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcGF0dGVybi9maXhlZC1kZWZpbml0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9waXBlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL3JhbmdlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL3JlZ2V4cC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvZG9tNy9kb203LmVzbS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19TeW1ib2wuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZUdldFRhZy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlVHJpbS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19mcmVlR2xvYmFsLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2dldFJhd1RhZy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19vYmplY3RUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19yb290LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX3RyaW1tZWRFbmRJbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2RlYm91bmNlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc09iamVjdExpa2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc1N5bWJvbC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL25vdy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL3Rocm90dGxlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvdG9OdW1iZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci1jb3JlL2Rpc3QvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvZGlzdC9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3NsaW0tc2VsZWN0L2Rpc3Qvc2xpbXNlbGVjdC5lcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3NyLXdpbmRvdy9zc3Itd2luZG93LmVzbS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvYnJlYWtwb2ludHMvZ2V0QnJlYWtwb2ludC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvYnJlYWtwb2ludHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2JyZWFrcG9pbnRzL3NldEJyZWFrcG9pbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2NoZWNrLW92ZXJmbG93L2luZGV4LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9jbGFzc2VzL2FkZENsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2NsYXNzZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2NsYXNzZXMvcmVtb3ZlQ2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvY29yZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2V2ZW50cy1lbWl0dGVyLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9ldmVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2V2ZW50cy9vbkNsaWNrLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9ldmVudHMvb25SZXNpemUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2V2ZW50cy9vblNjcm9sbC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvZXZlbnRzL29uVG91Y2hFbmQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2V2ZW50cy9vblRvdWNoTW92ZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvZXZlbnRzL29uVG91Y2hTdGFydC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvZ3JhYi1jdXJzb3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2dyYWItY3Vyc29yL3NldEdyYWJDdXJzb3IuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL2dyYWItY3Vyc29yL3Vuc2V0R3JhYkN1cnNvci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvaW1hZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9pbWFnZXMvbG9hZEltYWdlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9pbWFnZXMvcHJlbG9hZEltYWdlcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvbG9vcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvbG9vcC9sb29wQ3JlYXRlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9sb29wL2xvb3BEZXN0cm95LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9sb29wL2xvb3BGaXguanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL21vZHVsZUV4dGVuZFBhcmFtcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvbW9kdWxlcy9vYnNlcnZlci9vYnNlcnZlci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvbW9kdWxlcy9yZXNpemUvcmVzaXplLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9zbGlkZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvc2xpZGUvc2xpZGVOZXh0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9zbGlkZS9zbGlkZVByZXYuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3NsaWRlL3NsaWRlUmVzZXQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3NsaWRlL3NsaWRlVG8uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3NsaWRlL3NsaWRlVG9DbGlja2VkU2xpZGUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3NsaWRlL3NsaWRlVG9DbG9zZXN0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS9zbGlkZS9zbGlkZVRvTG9vcC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvdHJhbnNpdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvdHJhbnNpdGlvbi9zZXRUcmFuc2l0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS90cmFuc2l0aW9uL3RyYW5zaXRpb25FbWl0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS90cmFuc2l0aW9uL3RyYW5zaXRpb25FbmQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3RyYW5zaXRpb24vdHJhbnNpdGlvblN0YXJ0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS90cmFuc2xhdGUvZ2V0VHJhbnNsYXRlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS90cmFuc2xhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3RyYW5zbGF0ZS9tYXhUcmFuc2xhdGUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3RyYW5zbGF0ZS9taW5UcmFuc2xhdGUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3RyYW5zbGF0ZS9zZXRUcmFuc2xhdGUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3RyYW5zbGF0ZS90cmFuc2xhdGVUby5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvdXBkYXRlL2luZGV4LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS91cGRhdGUvdXBkYXRlQWN0aXZlSW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3VwZGF0ZS91cGRhdGVBdXRvSGVpZ2h0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS91cGRhdGUvdXBkYXRlQ2xpY2tlZFNsaWRlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS91cGRhdGUvdXBkYXRlUHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9jb3JlL3VwZGF0ZS91cGRhdGVTaXplLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS91cGRhdGUvdXBkYXRlU2xpZGVzLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvY29yZS91cGRhdGUvdXBkYXRlU2xpZGVzQ2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvdXBkYXRlL3VwZGF0ZVNsaWRlc09mZnNldC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL2NvcmUvdXBkYXRlL3VwZGF0ZVNsaWRlc1Byb2dyZXNzLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9hMTF5L2ExMXkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2F1dG9wbGF5L2F1dG9wbGF5LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9jb250cm9sbGVyL2NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1jYXJkcy9lZmZlY3QtY2FyZHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1jb3ZlcmZsb3cvZWZmZWN0LWNvdmVyZmxvdy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZWZmZWN0LWNyZWF0aXZlL2VmZmVjdC1jcmVhdGl2ZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZWZmZWN0LWN1YmUvZWZmZWN0LWN1YmUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1mYWRlL2VmZmVjdC1mYWRlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9lZmZlY3QtZmxpcC9lZmZlY3QtZmxpcC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZnJlZS1tb2RlL2ZyZWUtbW9kZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZ3JpZC9ncmlkLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9oYXNoLW5hdmlnYXRpb24vaGFzaC1uYXZpZ2F0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9oaXN0b3J5L2hpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2tleWJvYXJkL2tleWJvYXJkLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9sYXp5L2xhenkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL21hbmlwdWxhdGlvbi9tYW5pcHVsYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL21hbmlwdWxhdGlvbi9tZXRob2RzL2FkZFNsaWRlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9tYW5pcHVsYXRpb24vbWV0aG9kcy9hcHBlbmRTbGlkZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvbWFuaXB1bGF0aW9uL21ldGhvZHMvcHJlcGVuZFNsaWRlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9tYW5pcHVsYXRpb24vbWV0aG9kcy9yZW1vdmVBbGxTbGlkZXMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL21hbmlwdWxhdGlvbi9tZXRob2RzL3JlbW92ZVNsaWRlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9tb3VzZXdoZWVsL21vdXNld2hlZWwuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL25hdmlnYXRpb24vbmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9wYXJhbGxheC9wYXJhbGxheC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvc2Nyb2xsYmFyL3Njcm9sbGJhci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvdGh1bWJzL3RodW1icy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvdmlydHVhbC92aXJ0dWFsLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy96b29tL3pvb20uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY2xhc3Nlcy10by1zZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9jcmVhdGUtZWxlbWVudC1pZi1ub3QtZGVmaW5lZC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9jcmVhdGUtc2hhZG93LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2RvbS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9lZmZlY3QtaW5pdC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9lZmZlY3QtdGFyZ2V0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2dldC1icm93c2VyLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2dldC1kZXZpY2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZ2V0LXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9zd2lwZXIuZXNtLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9qcy9lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogYW5pbWUuanMgdjMuMi4xXG4gKiAoYykgMjAyMCBKdWxpYW4gR2FybmllclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBhbmltZWpzLmNvbVxuICovXG5cbi8vIERlZmF1bHRzXG5cbnZhciBkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncyA9IHtcbiAgdXBkYXRlOiBudWxsLFxuICBiZWdpbjogbnVsbCxcbiAgbG9vcEJlZ2luOiBudWxsLFxuICBjaGFuZ2VCZWdpbjogbnVsbCxcbiAgY2hhbmdlOiBudWxsLFxuICBjaGFuZ2VDb21wbGV0ZTogbnVsbCxcbiAgbG9vcENvbXBsZXRlOiBudWxsLFxuICBjb21wbGV0ZTogbnVsbCxcbiAgbG9vcDogMSxcbiAgZGlyZWN0aW9uOiAnbm9ybWFsJyxcbiAgYXV0b3BsYXk6IHRydWUsXG4gIHRpbWVsaW5lT2Zmc2V0OiAwXG59O1xuXG52YXIgZGVmYXVsdFR3ZWVuU2V0dGluZ3MgPSB7XG4gIGR1cmF0aW9uOiAxMDAwLFxuICBkZWxheTogMCxcbiAgZW5kRGVsYXk6IDAsXG4gIGVhc2luZzogJ2Vhc2VPdXRFbGFzdGljKDEsIC41KScsXG4gIHJvdW5kOiAwXG59O1xuXG52YXIgdmFsaWRUcmFuc2Zvcm1zID0gWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAndHJhbnNsYXRlWicsICdyb3RhdGUnLCAncm90YXRlWCcsICdyb3RhdGVZJywgJ3JvdGF0ZVonLCAnc2NhbGUnLCAnc2NhbGVYJywgJ3NjYWxlWScsICdzY2FsZVonLCAnc2tldycsICdza2V3WCcsICdza2V3WScsICdwZXJzcGVjdGl2ZScsICdtYXRyaXgnLCAnbWF0cml4M2QnXTtcblxuLy8gQ2FjaGluZ1xuXG52YXIgY2FjaGUgPSB7XG4gIENTUzoge30sXG4gIHNwcmluZ3M6IHt9XG59O1xuXG4vLyBVdGlsc1xuXG5mdW5jdGlvbiBtaW5NYXgodmFsLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdDb250YWlucyhzdHIsIHRleHQpIHtcbiAgcmV0dXJuIHN0ci5pbmRleE9mKHRleHQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGFwcGx5QXJndW1lbnRzKGZ1bmMsIGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XG59XG5cbnZhciBpcyA9IHtcbiAgYXJyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShhKTsgfSxcbiAgb2JqOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gc3RyaW5nQ29udGFpbnMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpLCAnT2JqZWN0Jyk7IH0sXG4gIHB0aDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLm9iaihhKSAmJiBhLmhhc093blByb3BlcnR5KCd0b3RhbExlbmd0aCcpOyB9LFxuICBzdmc6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhIGluc3RhbmNlb2YgU1ZHRWxlbWVudDsgfSxcbiAgaW5wOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQ7IH0sXG4gIGRvbTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubm9kZVR5cGUgfHwgaXMuc3ZnKGEpOyB9LFxuICBzdHI6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3N0cmluZyc7IH0sXG4gIGZuYzogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnZnVuY3Rpb24nOyB9LFxuICB1bmQ6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCc7IH0sXG4gIG5pbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLnVuZChhKSB8fCBhID09PSBudWxsOyB9LFxuICBoZXg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChhKTsgfSxcbiAgcmdiOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15yZ2IvLnRlc3QoYSk7IH0sXG4gIGhzbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9eaHNsLy50ZXN0KGEpOyB9LFxuICBjb2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAoaXMuaGV4KGEpIHx8IGlzLnJnYihhKSB8fCBpcy5oc2woYSkpOyB9LFxuICBrZXk6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAhZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgIWRlZmF1bHRUd2VlblNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmIGEgIT09ICd0YXJnZXRzJyAmJiBhICE9PSAna2V5ZnJhbWVzJzsgfSxcbn07XG5cbi8vIEVhc2luZ3NcblxuZnVuY3Rpb24gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZykge1xuICB2YXIgbWF0Y2ggPSAvXFwoKFteKV0rKVxcKS8uZXhlYyhzdHJpbmcpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcGFyc2VGbG9hdChwKTsgfSkgOiBbXTtcbn1cblxuLy8gU3ByaW5nIHNvbHZlciBpbnNwaXJlZCBieSBXZWJraXQgQ29weXJpZ2h0IMKpIDIwMTYgQXBwbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBodHRwczovL3dlYmtpdC5vcmcvZGVtb3Mvc3ByaW5nL3NwcmluZy5qc1xuXG5mdW5jdGlvbiBzcHJpbmcoc3RyaW5nLCBkdXJhdGlvbikge1xuXG4gIHZhciBwYXJhbXMgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoc3RyaW5nKTtcbiAgdmFyIG1hc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1swXSkgPyAxIDogcGFyYW1zWzBdLCAuMSwgMTAwKTtcbiAgdmFyIHN0aWZmbmVzcyA9IG1pbk1heChpcy51bmQocGFyYW1zWzFdKSA/IDEwMCA6IHBhcmFtc1sxXSwgLjEsIDEwMCk7XG4gIHZhciBkYW1waW5nID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMl0pID8gMTAgOiBwYXJhbXNbMl0sIC4xLCAxMDApO1xuICB2YXIgdmVsb2NpdHkgPSAgbWluTWF4KGlzLnVuZChwYXJhbXNbM10pID8gMCA6IHBhcmFtc1szXSwgLjEsIDEwMCk7XG4gIHZhciB3MCA9IE1hdGguc3FydChzdGlmZm5lc3MgLyBtYXNzKTtcbiAgdmFyIHpldGEgPSBkYW1waW5nIC8gKDIgKiBNYXRoLnNxcnQoc3RpZmZuZXNzICogbWFzcykpO1xuICB2YXIgd2QgPSB6ZXRhIDwgMSA/IHcwICogTWF0aC5zcXJ0KDEgLSB6ZXRhICogemV0YSkgOiAwO1xuICB2YXIgYSA9IDE7XG4gIHZhciBiID0gemV0YSA8IDEgPyAoemV0YSAqIHcwICsgLXZlbG9jaXR5KSAvIHdkIDogLXZlbG9jaXR5ICsgdzA7XG5cbiAgZnVuY3Rpb24gc29sdmVyKHQpIHtcbiAgICB2YXIgcHJvZ3Jlc3MgPSBkdXJhdGlvbiA/IChkdXJhdGlvbiAqIHQpIC8gMTAwMCA6IHQ7XG4gICAgaWYgKHpldGEgPCAxKSB7XG4gICAgICBwcm9ncmVzcyA9IE1hdGguZXhwKC1wcm9ncmVzcyAqIHpldGEgKiB3MCkgKiAoYSAqIE1hdGguY29zKHdkICogcHJvZ3Jlc3MpICsgYiAqIE1hdGguc2luKHdkICogcHJvZ3Jlc3MpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZ3Jlc3MgPSAoYSArIGIgKiBwcm9ncmVzcykgKiBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB3MCk7XG4gICAgfVxuICAgIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICByZXR1cm4gMSAtIHByb2dyZXNzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7XG4gICAgdmFyIGNhY2hlZCA9IGNhY2hlLnNwcmluZ3Nbc3RyaW5nXTtcbiAgICBpZiAoY2FjaGVkKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgICB2YXIgZnJhbWUgPSAxLzY7XG4gICAgdmFyIGVsYXBzZWQgPSAwO1xuICAgIHZhciByZXN0ID0gMDtcbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICBlbGFwc2VkICs9IGZyYW1lO1xuICAgICAgaWYgKHNvbHZlcihlbGFwc2VkKSA9PT0gMSkge1xuICAgICAgICByZXN0Kys7XG4gICAgICAgIGlmIChyZXN0ID49IDE2KSB7IGJyZWFrOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGR1cmF0aW9uID0gZWxhcHNlZCAqIGZyYW1lICogMTAwMDtcbiAgICBjYWNoZS5zcHJpbmdzW3N0cmluZ10gPSBkdXJhdGlvbjtcbiAgICByZXR1cm4gZHVyYXRpb247XG4gIH1cblxuICByZXR1cm4gZHVyYXRpb24gPyBzb2x2ZXIgOiBnZXREdXJhdGlvbjtcblxufVxuXG4vLyBCYXNpYyBzdGVwcyBlYXNpbmcgaW1wbGVtZW50YXRpb24gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZnIvZG9jcy9XZWIvQ1NTL3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXG5cbmZ1bmN0aW9uIHN0ZXBzKHN0ZXBzKSB7XG4gIGlmICggc3RlcHMgPT09IHZvaWQgMCApIHN0ZXBzID0gMTA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBNYXRoLmNlaWwoKG1pbk1heCh0LCAwLjAwMDAwMSwgMSkpICogc3RlcHMpICogKDEgLyBzdGVwcyk7IH07XG59XG5cbi8vIEJlemllckVhc2luZyBodHRwczovL2dpdGh1Yi5jb20vZ3JlL2Jlemllci1lYXNpbmdcblxudmFyIGJlemllciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIGtTcGxpbmVUYWJsZVNpemUgPSAxMTtcbiAgdmFyIGtTYW1wbGVTdGVwU2l6ZSA9IDEuMCAvIChrU3BsaW5lVGFibGVTaXplIC0gMS4wKTtcblxuICBmdW5jdGlvbiBBKGFBMSwgYUEyKSB7IHJldHVybiAxLjAgLSAzLjAgKiBhQTIgKyAzLjAgKiBhQTEgfVxuICBmdW5jdGlvbiBCKGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBhQTIgLSA2LjAgKiBhQTEgfVxuICBmdW5jdGlvbiBDKGFBMSkgICAgICB7IHJldHVybiAzLjAgKiBhQTEgfVxuXG4gIGZ1bmN0aW9uIGNhbGNCZXppZXIoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAoKEEoYUExLCBhQTIpICogYVQgKyBCKGFBMSwgYUEyKSkgKiBhVCArIEMoYUExKSkgKiBhVCB9XG4gIGZ1bmN0aW9uIGdldFNsb3BlKGFULCBhQTEsIGFBMikgeyByZXR1cm4gMy4wICogQShhQTEsIGFBMikgKiBhVCAqIGFUICsgMi4wICogQihhQTEsIGFBMikgKiBhVCArIEMoYUExKSB9XG5cbiAgZnVuY3Rpb24gYmluYXJ5U3ViZGl2aWRlKGFYLCBhQSwgYUIsIG1YMSwgbVgyKSB7XG4gICAgdmFyIGN1cnJlbnRYLCBjdXJyZW50VCwgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgY3VycmVudFQgPSBhQSArIChhQiAtIGFBKSAvIDIuMDtcbiAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBpZiAoY3VycmVudFggPiAwLjApIHsgYUIgPSBjdXJyZW50VDsgfSBlbHNlIHsgYUEgPSBjdXJyZW50VDsgfVxuICAgIH0gd2hpbGUgKE1hdGguYWJzKGN1cnJlbnRYKSA+IDAuMDAwMDAwMSAmJiArK2kgPCAxMCk7XG4gICAgcmV0dXJuIGN1cnJlbnRUO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGFHdWVzc1QsIG1YMSwgbVgyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgIHZhciBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHsgcmV0dXJuIGFHdWVzc1Q7IH1cbiAgICAgIHZhciBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBhR3Vlc3NUIC09IGN1cnJlbnRYIC8gY3VycmVudFNsb3BlO1xuICAgIH1cbiAgICByZXR1cm4gYUd1ZXNzVDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlemllcihtWDEsIG1ZMSwgbVgyLCBtWTIpIHtcblxuICAgIGlmICghKDAgPD0gbVgxICYmIG1YMSA8PSAxICYmIDAgPD0gbVgyICYmIG1YMiA8PSAxKSkgeyByZXR1cm47IH1cbiAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShrU3BsaW5lVGFibGVTaXplKTtcblxuICAgIGlmIChtWDEgIT09IG1ZMSB8fCBtWDIgIT09IG1ZMikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrU3BsaW5lVGFibGVTaXplOyArK2kpIHtcbiAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gY2FsY0JlemllcihpICoga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VEZvclgoYVgpIHtcblxuICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwO1xuICAgICAgdmFyIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgdmFyIGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcblxuICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT09IGxhc3RTYW1wbGUgJiYgc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgaW50ZXJ2YWxTdGFydCArPSBrU2FtcGxlU3RlcFNpemU7XG4gICAgICB9XG5cbiAgICAgIC0tY3VycmVudFNhbXBsZTtcblxuICAgICAgdmFyIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgdmFyIGd1ZXNzRm9yVCA9IGludGVydmFsU3RhcnQgKyBkaXN0ICoga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgdmFyIGluaXRpYWxTbG9wZSA9IGdldFNsb3BlKGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuXG4gICAgICBpZiAoaW5pdGlhbFNsb3BlID49IDAuMDAxKSB7XG4gICAgICAgIHJldHVybiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHgpIHtcbiAgICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMikgeyByZXR1cm4geDsgfVxuICAgICAgaWYgKHggPT09IDAgfHwgeCA9PT0gMSkgeyByZXR1cm4geDsgfVxuICAgICAgcmV0dXJuIGNhbGNCZXppZXIoZ2V0VEZvclgoeCksIG1ZMSwgbVkyKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBiZXppZXI7XG5cbn0pKCk7XG5cbnZhciBwZW5uZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIC8vIEJhc2VkIG9uIGpRdWVyeSBVSSdzIGltcGxlbWVuYXRpb24gb2YgZWFzaW5nIGVxdWF0aW9ucyBmcm9tIFJvYmVydCBQZW5uZXIgKGh0dHA6Ly93d3cucm9iZXJ0cGVubmVyLmNvbS9lYXNpbmcpXG5cbiAgdmFyIGVhc2VzID0geyBsaW5lYXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9OyB9IH07XG5cbiAgdmFyIGZ1bmN0aW9uRWFzaW5ncyA9IHtcbiAgICBTaW5lOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIE1hdGguY29zKHQgKiBNYXRoLlBJIC8gMik7IH07IH0sXG4gICAgQ2lyYzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KTsgfTsgfSxcbiAgICBCYWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCAqIHQgKiAoMyAqIHQgLSAyKTsgfTsgfSxcbiAgICBCb3VuY2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICB2YXIgcG93MiwgYiA9IDQ7XG4gICAgICB3aGlsZSAodCA8ICgoIHBvdzIgPSBNYXRoLnBvdygyLCAtLWIpKSAtIDEpIC8gMTEpIHt9XG4gICAgICByZXR1cm4gMSAvIE1hdGgucG93KDQsIDMgLSBiKSAtIDcuNTYyNSAqIE1hdGgucG93KCggcG93MiAqIDMgLSAyICkgLyAyMiAtIHQsIDIpXG4gICAgfTsgfSxcbiAgICBFbGFzdGljOiBmdW5jdGlvbiAoYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICAgIGlmICggYW1wbGl0dWRlID09PSB2b2lkIDAgKSBhbXBsaXR1ZGUgPSAxO1xuICAgICAgaWYgKCBwZXJpb2QgPT09IHZvaWQgMCApIHBlcmlvZCA9IC41O1xuXG4gICAgICB2YXIgYSA9IG1pbk1heChhbXBsaXR1ZGUsIDEsIDEwKTtcbiAgICAgIHZhciBwID0gbWluTWF4KHBlcmlvZCwgLjEsIDIpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PT0gMCB8fCB0ID09PSAxKSA/IHQgOiBcbiAgICAgICAgICAtYSAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKiBNYXRoLnNpbigoKCh0IC0gMSkgLSAocCAvIChNYXRoLlBJICogMikgKiBNYXRoLmFzaW4oMSAvIGEpKSkgKiAoTWF0aC5QSSAqIDIpKSAvIHApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgYmFzZUVhc2luZ3MgPSBbJ1F1YWQnLCAnQ3ViaWMnLCAnUXVhcnQnLCAnUXVpbnQnLCAnRXhwbyddO1xuXG4gIGJhc2VFYXNpbmdzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUsIGkpIHtcbiAgICBmdW5jdGlvbkVhc2luZ3NbbmFtZV0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5wb3codCwgaSArIDIpOyB9OyB9O1xuICB9KTtcblxuICBPYmplY3Qua2V5cyhmdW5jdGlvbkVhc2luZ3MpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZWFzZUluID0gZnVuY3Rpb25FYXNpbmdzW25hbWVdO1xuICAgIGVhc2VzWydlYXNlSW4nICsgbmFtZV0gPSBlYXNlSW47XG4gICAgZWFzZXNbJ2Vhc2VPdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBlYXNlSW4oYSwgYikoMSAtIHQpOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlSW5PdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyBlYXNlSW4oYSwgYikodCAqIDIpIC8gMiA6IFxuICAgICAgMSAtIGVhc2VJbihhLCBiKSh0ICogLTIgKyAyKSAvIDI7IH07IH07XG4gICAgZWFzZXNbJ2Vhc2VPdXRJbicgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA8IDAuNSA/ICgxIC0gZWFzZUluKGEsIGIpKDEgLSB0ICogMikpIC8gMiA6IFxuICAgICAgKGVhc2VJbihhLCBiKSh0ICogMiAtIDEpICsgMSkgLyAyOyB9OyB9O1xuICB9KTtcblxuICByZXR1cm4gZWFzZXM7XG5cbn0pKCk7XG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5ncyhlYXNpbmcsIGR1cmF0aW9uKSB7XG4gIGlmIChpcy5mbmMoZWFzaW5nKSkgeyByZXR1cm4gZWFzaW5nOyB9XG4gIHZhciBuYW1lID0gZWFzaW5nLnNwbGl0KCcoJylbMF07XG4gIHZhciBlYXNlID0gcGVubmVyW25hbWVdO1xuICB2YXIgYXJncyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhlYXNpbmcpO1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdzcHJpbmcnIDogcmV0dXJuIHNwcmluZyhlYXNpbmcsIGR1cmF0aW9uKTtcbiAgICBjYXNlICdjdWJpY0JlemllcicgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoYmV6aWVyLCBhcmdzKTtcbiAgICBjYXNlICdzdGVwcycgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoc3RlcHMsIGFyZ3MpO1xuICAgIGRlZmF1bHQgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoZWFzZSwgYXJncyk7XG4gIH1cbn1cblxuLy8gU3RyaW5nc1xuXG5mdW5jdGlvbiBzZWxlY3RTdHJpbmcoc3RyKSB7XG4gIHRyeSB7XG4gICAgdmFyIG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzdHIpO1xuICAgIHJldHVybiBub2RlcztcbiAgfSBjYXRjaChlKSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8vIEFycmF5c1xuXG5mdW5jdGlvbiBmaWx0ZXJBcnJheShhcnIsIGNhbGxiYWNrKSB7XG4gIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyKSB7XG4gICAgICB2YXIgdmFsID0gYXJyW2ldO1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsLCBpLCBhcnIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShhcnIpIHtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGlzLmFycihiKSA/IGZsYXR0ZW5BcnJheShiKSA6IGIpOyB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkobykge1xuICBpZiAoaXMuYXJyKG8pKSB7IHJldHVybiBvOyB9XG4gIGlmIChpcy5zdHIobykpIHsgbyA9IHNlbGVjdFN0cmluZyhvKSB8fCBvOyB9XG4gIGlmIChvIGluc3RhbmNlb2YgTm9kZUxpc3QgfHwgbyBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uKSB7IHJldHVybiBbXS5zbGljZS5jYWxsKG8pOyB9XG4gIHJldHVybiBbb107XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnMoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5zb21lKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhID09PSB2YWw7IH0pO1xufVxuXG4vLyBPYmplY3RzXG5cbmZ1bmN0aW9uIGNsb25lT2JqZWN0KG8pIHtcbiAgdmFyIGNsb25lID0ge307XG4gIGZvciAodmFyIHAgaW4gbykgeyBjbG9uZVtwXSA9IG9bcF07IH1cbiAgcmV0dXJuIGNsb25lO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlT2JqZWN0UHJvcHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8xKSB7IG9bcF0gPSBvMi5oYXNPd25Qcm9wZXJ0eShwKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzIpIHsgb1twXSA9IGlzLnVuZChvMVtwXSkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG4vLyBDb2xvcnNcblxuZnVuY3Rpb24gcmdiVG9SZ2JhKHJnYlZhbHVlKSB7XG4gIHZhciByZ2IgPSAvcmdiXFwoKFxcZCssXFxzKltcXGRdKyxcXHMqW1xcZF0rKVxcKS9nLmV4ZWMocmdiVmFsdWUpO1xuICByZXR1cm4gcmdiID8gKFwicmdiYShcIiArIChyZ2JbMV0pICsgXCIsMSlcIikgOiByZ2JWYWx1ZTtcbn1cblxuZnVuY3Rpb24gaGV4VG9SZ2JhKGhleFZhbHVlKSB7XG4gIHZhciByZ3ggPSAvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO1xuICB2YXIgaGV4ID0gaGV4VmFsdWUucmVwbGFjZShyZ3gsIGZ1bmN0aW9uIChtLCByLCBnLCBiKSB7IHJldHVybiByICsgciArIGcgKyBnICsgYiArIGI7IH0gKTtcbiAgdmFyIHJnYiA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICB2YXIgciA9IHBhcnNlSW50KHJnYlsxXSwgMTYpO1xuICB2YXIgZyA9IHBhcnNlSW50KHJnYlsyXSwgMTYpO1xuICB2YXIgYiA9IHBhcnNlSW50KHJnYlszXSwgMTYpO1xuICByZXR1cm4gKFwicmdiYShcIiArIHIgKyBcIixcIiArIGcgKyBcIixcIiArIGIgKyBcIiwxKVwiKTtcbn1cblxuZnVuY3Rpb24gaHNsVG9SZ2JhKGhzbFZhbHVlKSB7XG4gIHZhciBoc2wgPSAvaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cuZXhlYyhoc2xWYWx1ZSkgfHwgL2hzbGFcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKVxcKS9nLmV4ZWMoaHNsVmFsdWUpO1xuICB2YXIgaCA9IHBhcnNlSW50KGhzbFsxXSwgMTApIC8gMzYwO1xuICB2YXIgcyA9IHBhcnNlSW50KGhzbFsyXSwgMTApIC8gMTAwO1xuICB2YXIgbCA9IHBhcnNlSW50KGhzbFszXSwgMTApIC8gMTAwO1xuICB2YXIgYSA9IGhzbFs0XSB8fCAxO1xuICBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApIHsgdCArPSAxOyB9XG4gICAgaWYgKHQgPiAxKSB7IHQgLT0gMTsgfVxuICAgIGlmICh0IDwgMS82KSB7IHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0OyB9XG4gICAgaWYgKHQgPCAxLzIpIHsgcmV0dXJuIHE7IH1cbiAgICBpZiAodCA8IDIvMykgeyByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2OyB9XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgdmFyIHIsIGcsIGI7XG4gIGlmIChzID09IDApIHtcbiAgICByID0gZyA9IGIgPSBsO1xuICB9IGVsc2Uge1xuICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMS8zKTtcbiAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMS8zKTtcbiAgfVxuICByZXR1cm4gKFwicmdiYShcIiArIChyICogMjU1KSArIFwiLFwiICsgKGcgKiAyNTUpICsgXCIsXCIgKyAoYiAqIDI1NSkgKyBcIixcIiArIGEgKyBcIilcIik7XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9SZ2IodmFsKSB7XG4gIGlmIChpcy5yZ2IodmFsKSkgeyByZXR1cm4gcmdiVG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhleCh2YWwpKSB7IHJldHVybiBoZXhUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaHNsKHZhbCkpIHsgcmV0dXJuIGhzbFRvUmdiYSh2YWwpOyB9XG59XG5cbi8vIFVuaXRzXG5cbmZ1bmN0aW9uIGdldFVuaXQodmFsKSB7XG4gIHZhciBzcGxpdCA9IC9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPyglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKHZhbCk7XG4gIGlmIChzcGxpdCkgeyByZXR1cm4gc3BsaXRbMV07IH1cbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSkge1xuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICd0cmFuc2xhdGUnKSB8fCBwcm9wTmFtZSA9PT0gJ3BlcnNwZWN0aXZlJykgeyByZXR1cm4gJ3B4JzsgfVxuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdyb3RhdGUnKSB8fCBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NrZXcnKSkgeyByZXR1cm4gJ2RlZyc7IH1cbn1cblxuLy8gVmFsdWVzXG5cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uVmFsdWUodmFsLCBhbmltYXRhYmxlKSB7XG4gIGlmICghaXMuZm5jKHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICByZXR1cm4gdmFsKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltYXRhYmxlLmlkLCBhbmltYXRhYmxlLnRvdGFsKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIHtcbiAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICBpZiAoYXJyYXlDb250YWlucyhbdW5pdCwgJ2RlZycsICdyYWQnLCAndHVybiddLCB2YWx1ZVVuaXQpKSB7IHJldHVybiB2YWx1ZTsgfVxuICB2YXIgY2FjaGVkID0gY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF07XG4gIGlmICghaXMudW5kKGNhY2hlZCkpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICB2YXIgYmFzZWxpbmUgPSAxMDA7XG4gIHZhciB0ZW1wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsLnRhZ05hbWUpO1xuICB2YXIgcGFyZW50RWwgPSAoZWwucGFyZW50Tm9kZSAmJiAoZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQpKSA/IGVsLnBhcmVudE5vZGUgOiBkb2N1bWVudC5ib2R5O1xuICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0ZW1wRWwpO1xuICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0ZW1wRWwuc3R5bGUud2lkdGggPSBiYXNlbGluZSArIHVuaXQ7XG4gIHZhciBmYWN0b3IgPSBiYXNlbGluZSAvIHRlbXBFbC5vZmZzZXRXaWR0aDtcbiAgcGFyZW50RWwucmVtb3ZlQ2hpbGQodGVtcEVsKTtcbiAgdmFyIGNvbnZlcnRlZFVuaXQgPSBmYWN0b3IgKiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF0gPSBjb252ZXJ0ZWRVbml0O1xuICByZXR1cm4gY29udmVydGVkVW5pdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q1NTVmFsdWUoZWwsIHByb3AsIHVuaXQpIHtcbiAgaWYgKHByb3AgaW4gZWwuc3R5bGUpIHtcbiAgICB2YXIgdXBwZXJjYXNlUHJvcE5hbWUgPSBwcm9wLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHZhbHVlID0gZWwuc3R5bGVbcHJvcF0gfHwgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh1cHBlcmNhc2VQcm9wTmFtZSkgfHwgJzAnO1xuICAgIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25UeXBlKGVsLCBwcm9wKSB7XG4gIGlmIChpcy5kb20oZWwpICYmICFpcy5pbnAoZWwpICYmICghaXMubmlsKGdldEF0dHJpYnV0ZShlbCwgcHJvcCkpIHx8IChpcy5zdmcoZWwpICYmIGVsW3Byb3BdKSkpIHsgcmV0dXJuICdhdHRyaWJ1dGUnOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIGFycmF5Q29udGFpbnModmFsaWRUcmFuc2Zvcm1zLCBwcm9wKSkgeyByZXR1cm4gJ3RyYW5zZm9ybSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgKHByb3AgIT09ICd0cmFuc2Zvcm0nICYmIGdldENTU1ZhbHVlKGVsLCBwcm9wKSkpIHsgcmV0dXJuICdjc3MnOyB9XG4gIGlmIChlbFtwcm9wXSAhPSBudWxsKSB7IHJldHVybiAnb2JqZWN0JzsgfVxufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkge1xuICBpZiAoIWlzLmRvbShlbCkpIHsgcmV0dXJuOyB9XG4gIHZhciBzdHIgPSBlbC5zdHlsZS50cmFuc2Zvcm0gfHwgJyc7XG4gIHZhciByZWcgID0gLyhcXHcrKVxcKChbXildKilcXCkvZztcbiAgdmFyIHRyYW5zZm9ybXMgPSBuZXcgTWFwKCk7XG4gIHZhciBtOyB3aGlsZSAobSA9IHJlZy5leGVjKHN0cikpIHsgdHJhbnNmb3Jtcy5zZXQobVsxXSwgbVsyXSk7IH1cbiAgcmV0dXJuIHRyYW5zZm9ybXM7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVZhbHVlKGVsLCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCkge1xuICB2YXIgZGVmYXVsdFZhbCA9IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2NhbGUnKSA/IDEgOiAwICsgZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSk7XG4gIHZhciB2YWx1ZSA9IGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKS5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRWYWw7XG4gIGlmIChhbmltYXRhYmxlKSB7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLmxpc3Quc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zWydsYXN0J10gPSBwcm9wTmFtZTtcbiAgfVxuICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCwgYW5pbWF0YWJsZSkge1xuICBzd2l0Y2ggKGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wTmFtZSkpIHtcbiAgICBjYXNlICd0cmFuc2Zvcm0nOiByZXR1cm4gZ2V0VHJhbnNmb3JtVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCk7XG4gICAgY2FzZSAnY3NzJzogcmV0dXJuIGdldENTU1ZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQpO1xuICAgIGNhc2UgJ2F0dHJpYnV0ZSc6IHJldHVybiBnZXRBdHRyaWJ1dGUodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgZGVmYXVsdDogcmV0dXJuIHRhcmdldFtwcm9wTmFtZV0gfHwgMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSB7XG4gIHZhciBvcGVyYXRvciA9IC9eKFxcKj18XFwrPXwtPSkvLmV4ZWModG8pO1xuICBpZiAoIW9wZXJhdG9yKSB7IHJldHVybiB0bzsgfVxuICB2YXIgdSA9IGdldFVuaXQodG8pIHx8IDA7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChmcm9tKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KHRvLnJlcGxhY2Uob3BlcmF0b3JbMF0sICcnKSk7XG4gIHN3aXRjaCAob3BlcmF0b3JbMF1bMF0pIHtcbiAgICBjYXNlICcrJzogcmV0dXJuIHggKyB5ICsgdTtcbiAgICBjYXNlICctJzogcmV0dXJuIHggLSB5ICsgdTtcbiAgICBjYXNlICcqJzogcmV0dXJuIHggKiB5ICsgdTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVZhbHVlKHZhbCwgdW5pdCkge1xuICBpZiAoaXMuY29sKHZhbCkpIHsgcmV0dXJuIGNvbG9yVG9SZ2IodmFsKTsgfVxuICBpZiAoL1xccy9nLnRlc3QodmFsKSkgeyByZXR1cm4gdmFsOyB9XG4gIHZhciBvcmlnaW5hbFVuaXQgPSBnZXRVbml0KHZhbCk7XG4gIHZhciB1bml0TGVzcyA9IG9yaWdpbmFsVW5pdCA/IHZhbC5zdWJzdHIoMCwgdmFsLmxlbmd0aCAtIG9yaWdpbmFsVW5pdC5sZW5ndGgpIDogdmFsO1xuICBpZiAodW5pdCkgeyByZXR1cm4gdW5pdExlc3MgKyB1bml0OyB9XG4gIHJldHVybiB1bml0TGVzcztcbn1cblxuLy8gZ2V0VG90YWxMZW5ndGgoKSBlcXVpdmFsZW50IGZvciBjaXJjbGUsIHJlY3QsIHBvbHlsaW5lLCBwb2x5Z29uIGFuZCBsaW5lIHNoYXBlc1xuLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1NlYkxhbWJsYS8zZTA1NTBjNDk2YzIzNjcwOTc0NFxuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikpO1xufVxuXG5mdW5jdGlvbiBnZXRDaXJjbGVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIE1hdGguUEkgKiAyICogZ2V0QXR0cmlidXRlKGVsLCAncicpO1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0TGVuZ3RoKGVsKSB7XG4gIHJldHVybiAoZ2V0QXR0cmlidXRlKGVsLCAnd2lkdGgnKSAqIDIpICsgKGdldEF0dHJpYnV0ZShlbCwgJ2hlaWdodCcpICogMik7XG59XG5cbmZ1bmN0aW9uIGdldExpbmVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIGdldERpc3RhbmNlKFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MScpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MScpfSwgXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gyJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kyJyl9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHZhciB0b3RhbExlbmd0aCA9IDA7XG4gIHZhciBwcmV2aW91c1BvcztcbiAgZm9yICh2YXIgaSA9IDAgOyBpIDwgcG9pbnRzLm51bWJlck9mSXRlbXM7IGkrKykge1xuICAgIHZhciBjdXJyZW50UG9zID0gcG9pbnRzLmdldEl0ZW0oaSk7XG4gICAgaWYgKGkgPiAwKSB7IHRvdGFsTGVuZ3RoICs9IGdldERpc3RhbmNlKHByZXZpb3VzUG9zLCBjdXJyZW50UG9zKTsgfVxuICAgIHByZXZpb3VzUG9zID0gY3VycmVudFBvcztcbiAgfVxuICByZXR1cm4gdG90YWxMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlnb25MZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSArIGdldERpc3RhbmNlKHBvaW50cy5nZXRJdGVtKHBvaW50cy5udW1iZXJPZkl0ZW1zIC0gMSksIHBvaW50cy5nZXRJdGVtKDApKTtcbn1cblxuLy8gUGF0aCBhbmltYXRpb25cblxuZnVuY3Rpb24gZ2V0VG90YWxMZW5ndGgoZWwpIHtcbiAgaWYgKGVsLmdldFRvdGFsTGVuZ3RoKSB7IHJldHVybiBlbC5nZXRUb3RhbExlbmd0aCgpOyB9XG4gIHN3aXRjaChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdjaXJjbGUnOiByZXR1cm4gZ2V0Q2lyY2xlTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdyZWN0JzogcmV0dXJuIGdldFJlY3RMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ2xpbmUnOiByZXR1cm4gZ2V0TGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWxpbmUnOiByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlnb24nOiByZXR1cm4gZ2V0UG9seWdvbkxlbmd0aChlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RGFzaG9mZnNldChlbCkge1xuICB2YXIgcGF0aExlbmd0aCA9IGdldFRvdGFsTGVuZ3RoKGVsKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5JywgcGF0aExlbmd0aCk7XG4gIHJldHVybiBwYXRoTGVuZ3RoO1xufVxuXG4vLyBNb3Rpb24gcGF0aFxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmdFbChlbCkge1xuICB2YXIgcGFyZW50RWwgPSBlbC5wYXJlbnROb2RlO1xuICB3aGlsZSAoaXMuc3ZnKHBhcmVudEVsKSkge1xuICAgIGlmICghaXMuc3ZnKHBhcmVudEVsLnBhcmVudE5vZGUpKSB7IGJyZWFrOyB9XG4gICAgcGFyZW50RWwgPSBwYXJlbnRFbC5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBwYXJlbnRFbDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnKHBhdGhFbCwgc3ZnRGF0YSkge1xuICB2YXIgc3ZnID0gc3ZnRGF0YSB8fCB7fTtcbiAgdmFyIHBhcmVudFN2Z0VsID0gc3ZnLmVsIHx8IGdldFBhcmVudFN2Z0VsKHBhdGhFbCk7XG4gIHZhciByZWN0ID0gcGFyZW50U3ZnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciB2aWV3Qm94QXR0ciA9IGdldEF0dHJpYnV0ZShwYXJlbnRTdmdFbCwgJ3ZpZXdCb3gnKTtcbiAgdmFyIHdpZHRoID0gcmVjdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICB2YXIgdmlld0JveCA9IHN2Zy52aWV3Qm94IHx8ICh2aWV3Qm94QXR0ciA/IHZpZXdCb3hBdHRyLnNwbGl0KCcgJykgOiBbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuICByZXR1cm4ge1xuICAgIGVsOiBwYXJlbnRTdmdFbCxcbiAgICB2aWV3Qm94OiB2aWV3Qm94LFxuICAgIHg6IHZpZXdCb3hbMF0gLyAxLFxuICAgIHk6IHZpZXdCb3hbMV0gLyAxLFxuICAgIHc6IHdpZHRoLFxuICAgIGg6IGhlaWdodCxcbiAgICB2Vzogdmlld0JveFsyXSxcbiAgICB2SDogdmlld0JveFszXVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGgocGF0aCwgcGVyY2VudCkge1xuICB2YXIgcGF0aEVsID0gaXMuc3RyKHBhdGgpID8gc2VsZWN0U3RyaW5nKHBhdGgpWzBdIDogcGF0aDtcbiAgdmFyIHAgPSBwZXJjZW50IHx8IDEwMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgIGVsOiBwYXRoRWwsXG4gICAgICBzdmc6IGdldFBhcmVudFN2ZyhwYXRoRWwpLFxuICAgICAgdG90YWxMZW5ndGg6IGdldFRvdGFsTGVuZ3RoKHBhdGhFbCkgKiAocCAvIDEwMClcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aFByb2dyZXNzKHBhdGgsIHByb2dyZXNzLCBpc1BhdGhUYXJnZXRJbnNpZGVTVkcpIHtcbiAgZnVuY3Rpb24gcG9pbnQob2Zmc2V0KSB7XG4gICAgaWYgKCBvZmZzZXQgPT09IHZvaWQgMCApIG9mZnNldCA9IDA7XG5cbiAgICB2YXIgbCA9IHByb2dyZXNzICsgb2Zmc2V0ID49IDEgPyBwcm9ncmVzcyArIG9mZnNldCA6IDA7XG4gICAgcmV0dXJuIHBhdGguZWwuZ2V0UG9pbnRBdExlbmd0aChsKTtcbiAgfVxuICB2YXIgc3ZnID0gZ2V0UGFyZW50U3ZnKHBhdGguZWwsIHBhdGguc3ZnKTtcbiAgdmFyIHAgPSBwb2ludCgpO1xuICB2YXIgcDAgPSBwb2ludCgtMSk7XG4gIHZhciBwMSA9IHBvaW50KCsxKTtcbiAgdmFyIHNjYWxlWCA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcudyAvIHN2Zy52VztcbiAgdmFyIHNjYWxlWSA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcuaCAvIHN2Zy52SDtcbiAgc3dpdGNoIChwYXRoLnByb3BlcnR5KSB7XG4gICAgY2FzZSAneCc6IHJldHVybiAocC54IC0gc3ZnLngpICogc2NhbGVYO1xuICAgIGNhc2UgJ3knOiByZXR1cm4gKHAueSAtIHN2Zy55KSAqIHNjYWxlWTtcbiAgICBjYXNlICdhbmdsZSc6IHJldHVybiBNYXRoLmF0YW4yKHAxLnkgLSBwMC55LCBwMS54IC0gcDAueCkgKiAxODAgLyBNYXRoLlBJO1xuICB9XG59XG5cbi8vIERlY29tcG9zZSB2YWx1ZVxuXG5mdW5jdGlvbiBkZWNvbXBvc2VWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgLy8gY29uc3Qgcmd4ID0gLy0/XFxkKlxcLj9cXGQrL2c7IC8vIGhhbmRsZXMgYmFzaWMgbnVtYmVyc1xuICAvLyBjb25zdCByZ3ggPSAvWystXT9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciByZ3ggPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8vZzsgLy8gaGFuZGxlcyBleHBvbmVudHMgbm90YXRpb25cbiAgdmFyIHZhbHVlID0gdmFsaWRhdGVWYWx1ZSgoaXMucHRoKHZhbCkgPyB2YWwudG90YWxMZW5ndGggOiB2YWwpLCB1bml0KSArICcnO1xuICByZXR1cm4ge1xuICAgIG9yaWdpbmFsOiB2YWx1ZSxcbiAgICBudW1iZXJzOiB2YWx1ZS5tYXRjaChyZ3gpID8gdmFsdWUubWF0Y2gocmd4KS5tYXAoTnVtYmVyKSA6IFswXSxcbiAgICBzdHJpbmdzOiAoaXMuc3RyKHZhbCkgfHwgdW5pdCkgPyB2YWx1ZS5zcGxpdChyZ3gpIDogW11cbiAgfVxufVxuXG4vLyBBbmltYXRhYmxlc1xuXG5mdW5jdGlvbiBwYXJzZVRhcmdldHModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gdGFyZ2V0cyA/IChmbGF0dGVuQXJyYXkoaXMuYXJyKHRhcmdldHMpID8gdGFyZ2V0cy5tYXAodG9BcnJheSkgOiB0b0FycmF5KHRhcmdldHMpKSkgOiBbXTtcbiAgcmV0dXJuIGZpbHRlckFycmF5KHRhcmdldHNBcnJheSwgZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikgeyByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09PSBwb3M7IH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlcyh0YXJnZXRzKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIHJldHVybiBwYXJzZWQubWFwKGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgcmV0dXJuIHt0YXJnZXQ6IHQsIGlkOiBpLCB0b3RhbDogcGFyc2VkLmxlbmd0aCwgdHJhbnNmb3JtczogeyBsaXN0OiBnZXRFbGVtZW50VHJhbnNmb3Jtcyh0KSB9IH07XG4gIH0pO1xufVxuXG4vLyBQcm9wZXJ0aWVzXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHByb3AsIHR3ZWVuU2V0dGluZ3MpIHtcbiAgdmFyIHNldHRpbmdzID0gY2xvbmVPYmplY3QodHdlZW5TZXR0aW5ncyk7XG4gIC8vIE92ZXJyaWRlIGR1cmF0aW9uIGlmIGVhc2luZyBpcyBhIHNwcmluZ1xuICBpZiAoL15zcHJpbmcvLnRlc3Qoc2V0dGluZ3MuZWFzaW5nKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHNwcmluZyhzZXR0aW5ncy5lYXNpbmcpOyB9XG4gIGlmIChpcy5hcnIocHJvcCkpIHtcbiAgICB2YXIgbCA9IHByb3AubGVuZ3RoO1xuICAgIHZhciBpc0Zyb21UbyA9IChsID09PSAyICYmICFpcy5vYmoocHJvcFswXSkpO1xuICAgIGlmICghaXNGcm9tVG8pIHtcbiAgICAgIC8vIER1cmF0aW9uIGRpdmlkZWQgYnkgdGhlIG51bWJlciBvZiB0d2VlbnNcbiAgICAgIGlmICghaXMuZm5jKHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24pKSB7IHNldHRpbmdzLmR1cmF0aW9uID0gdHdlZW5TZXR0aW5ncy5kdXJhdGlvbiAvIGw7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJhbnNmb3JtIFtmcm9tLCB0b10gdmFsdWVzIHNob3J0aGFuZCB0byBhIHZhbGlkIHR3ZWVuIHZhbHVlXG4gICAgICBwcm9wID0ge3ZhbHVlOiBwcm9wfTtcbiAgICB9XG4gIH1cbiAgdmFyIHByb3BBcnJheSA9IGlzLmFycihwcm9wKSA/IHByb3AgOiBbcHJvcF07XG4gIHJldHVybiBwcm9wQXJyYXkubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgdmFyIG9iaiA9IChpcy5vYmoodikgJiYgIWlzLnB0aCh2KSkgPyB2IDoge3ZhbHVlOiB2fTtcbiAgICAvLyBEZWZhdWx0IGRlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGZpcnN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZGVsYXkpKSB7IG9iai5kZWxheSA9ICFpID8gdHdlZW5TZXR0aW5ncy5kZWxheSA6IDA7IH1cbiAgICAvLyBEZWZhdWx0IGVuZERlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGxhc3QgdHdlZW5cbiAgICBpZiAoaXMudW5kKG9iai5lbmREZWxheSkpIHsgb2JqLmVuZERlbGF5ID0gaSA9PT0gcHJvcEFycmF5Lmxlbmd0aCAtIDEgPyB0d2VlblNldHRpbmdzLmVuZERlbGF5IDogMDsgfVxuICAgIHJldHVybiBvYmo7XG4gIH0pLm1hcChmdW5jdGlvbiAoaykgeyByZXR1cm4gbWVyZ2VPYmplY3RzKGssIHNldHRpbmdzKTsgfSk7XG59XG5cblxuZnVuY3Rpb24gZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpIHtcbiAgdmFyIHByb3BlcnR5TmFtZXMgPSBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoa2V5ZnJhbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBPYmplY3Qua2V5cyhrZXkpOyB9KSksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBpcy5rZXkocCk7IH0pXG4gIC5yZWR1Y2UoZnVuY3Rpb24gKGEsYikgeyBpZiAoYS5pbmRleE9mKGIpIDwgMCkgeyBhLnB1c2goYik7IH0gcmV0dXJuIGE7IH0sIFtdKTtcbiAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG4gICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlOYW1lc1tpXTtcbiAgICBwcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIG5ld0tleSA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBrZXkpIHtcbiAgICAgICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgICAgIGlmIChwID09IHByb3BOYW1lKSB7IG5ld0tleS52YWx1ZSA9IGtleVtwXTsgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0tleVtwXSA9IGtleVtwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BlcnRpZXModHdlZW5TZXR0aW5ncywgcGFyYW1zKSB7XG4gIHZhciBwcm9wZXJ0aWVzID0gW107XG4gIHZhciBrZXlmcmFtZXMgPSBwYXJhbXMua2V5ZnJhbWVzO1xuICBpZiAoa2V5ZnJhbWVzKSB7IHBhcmFtcyA9IG1lcmdlT2JqZWN0cyhmbGF0dGVuS2V5ZnJhbWVzKGtleWZyYW1lcyksIHBhcmFtcyk7IH1cbiAgZm9yICh2YXIgcCBpbiBwYXJhbXMpIHtcbiAgICBpZiAoaXMua2V5KHApKSB7XG4gICAgICBwcm9wZXJ0aWVzLnB1c2goe1xuICAgICAgICBuYW1lOiBwLFxuICAgICAgICB0d2VlbnM6IG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHBhcmFtc1twXSwgdHdlZW5TZXR0aW5ncylcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuLy8gVHdlZW5zXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHR3ZWVuLCBhbmltYXRhYmxlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gdHdlZW4pIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHR3ZWVuW3BdLCBhbmltYXRhYmxlKTtcbiAgICBpZiAoaXMuYXJyKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGdldEZ1bmN0aW9uVmFsdWUodiwgYW5pbWF0YWJsZSk7IH0pO1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkgeyB2YWx1ZSA9IHZhbHVlWzBdOyB9XG4gICAgfVxuICAgIHRbcF0gPSB2YWx1ZTtcbiAgfVxuICB0LmR1cmF0aW9uID0gcGFyc2VGbG9hdCh0LmR1cmF0aW9uKTtcbiAgdC5kZWxheSA9IHBhcnNlRmxvYXQodC5kZWxheSk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSkge1xuICB2YXIgcHJldmlvdXNUd2VlbjtcbiAgcmV0dXJuIHByb3AudHdlZW5zLm1hcChmdW5jdGlvbiAodCkge1xuICAgIHZhciB0d2VlbiA9IG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHQsIGFuaW1hdGFibGUpO1xuICAgIHZhciB0d2VlblZhbHVlID0gdHdlZW4udmFsdWU7XG4gICAgdmFyIHRvID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVsxXSA6IHR3ZWVuVmFsdWU7XG4gICAgdmFyIHRvVW5pdCA9IGdldFVuaXQodG8pO1xuICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lLCB0b1VuaXQsIGFuaW1hdGFibGUpO1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJldmlvdXNUd2VlbiA/IHByZXZpb3VzVHdlZW4udG8ub3JpZ2luYWwgOiBvcmlnaW5hbFZhbHVlO1xuICAgIHZhciBmcm9tID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVswXSA6IHByZXZpb3VzVmFsdWU7XG4gICAgdmFyIGZyb21Vbml0ID0gZ2V0VW5pdChmcm9tKSB8fCBnZXRVbml0KG9yaWdpbmFsVmFsdWUpO1xuICAgIHZhciB1bml0ID0gdG9Vbml0IHx8IGZyb21Vbml0O1xuICAgIGlmIChpcy51bmQodG8pKSB7IHRvID0gcHJldmlvdXNWYWx1ZTsgfVxuICAgIHR3ZWVuLmZyb20gPSBkZWNvbXBvc2VWYWx1ZShmcm9tLCB1bml0KTtcbiAgICB0d2Vlbi50byA9IGRlY29tcG9zZVZhbHVlKGdldFJlbGF0aXZlVmFsdWUodG8sIGZyb20pLCB1bml0KTtcbiAgICB0d2Vlbi5zdGFydCA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLmVuZCA6IDA7XG4gICAgdHdlZW4uZW5kID0gdHdlZW4uc3RhcnQgKyB0d2Vlbi5kZWxheSArIHR3ZWVuLmR1cmF0aW9uICsgdHdlZW4uZW5kRGVsYXk7XG4gICAgdHdlZW4uZWFzaW5nID0gcGFyc2VFYXNpbmdzKHR3ZWVuLmVhc2luZywgdHdlZW4uZHVyYXRpb24pO1xuICAgIHR3ZWVuLmlzUGF0aCA9IGlzLnB0aCh0d2VlblZhbHVlKTtcbiAgICB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcgPSB0d2Vlbi5pc1BhdGggJiYgaXMuc3ZnKGFuaW1hdGFibGUudGFyZ2V0KTtcbiAgICB0d2Vlbi5pc0NvbG9yID0gaXMuY29sKHR3ZWVuLmZyb20ub3JpZ2luYWwpO1xuICAgIGlmICh0d2Vlbi5pc0NvbG9yKSB7IHR3ZWVuLnJvdW5kID0gMTsgfVxuICAgIHByZXZpb3VzVHdlZW4gPSB0d2VlbjtcbiAgICByZXR1cm4gdHdlZW47XG4gIH0pO1xufVxuXG4vLyBUd2VlbiBwcm9ncmVzc1xuXG52YXIgc2V0UHJvZ3Jlc3NWYWx1ZSA9IHtcbiAgY3NzOiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdC5zdHlsZVtwXSA9IHY7IH0sXG4gIGF0dHJpYnV0ZTogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc2V0QXR0cmlidXRlKHAsIHYpOyB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0W3BdID0gdjsgfSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbiAodCwgcCwgdiwgdHJhbnNmb3JtcywgbWFudWFsKSB7XG4gICAgdHJhbnNmb3Jtcy5saXN0LnNldChwLCB2KTtcbiAgICBpZiAocCA9PT0gdHJhbnNmb3Jtcy5sYXN0IHx8IG1hbnVhbCkge1xuICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgdHJhbnNmb3Jtcy5saXN0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBwcm9wKSB7IHN0ciArPSBwcm9wICsgXCIoXCIgKyB2YWx1ZSArIFwiKSBcIjsgfSk7XG4gICAgICB0LnN0eWxlLnRyYW5zZm9ybSA9IHN0cjtcbiAgICB9XG4gIH1cbn07XG5cbi8vIFNldCBWYWx1ZSBoZWxwZXJcblxuZnVuY3Rpb24gc2V0VGFyZ2V0c1ZhbHVlKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgdmFyIGFuaW1hdGFibGVzID0gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cyk7XG4gIGFuaW1hdGFibGVzLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGFibGUpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHByb3BlcnRpZXNbcHJvcGVydHldLCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB0YXJnZXQgPSBhbmltYXRhYmxlLnRhcmdldDtcbiAgICAgIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZVVuaXQsIGFuaW1hdGFibGUpO1xuICAgICAgdmFyIHVuaXQgPSB2YWx1ZVVuaXQgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciB0byA9IGdldFJlbGF0aXZlVmFsdWUodmFsaWRhdGVWYWx1ZSh2YWx1ZSwgdW5pdCksIG9yaWdpbmFsVmFsdWUpO1xuICAgICAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbVR5cGVdKHRhcmdldCwgcHJvcGVydHksIHRvLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMsIHRydWUpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIEFuaW1hdGlvbnNcblxuZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApIHtcbiAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lKTtcbiAgaWYgKGFuaW1UeXBlKSB7XG4gICAgdmFyIHR3ZWVucyA9IG5vcm1hbGl6ZVR3ZWVucyhwcm9wLCBhbmltYXRhYmxlKTtcbiAgICB2YXIgbGFzdFR3ZWVuID0gdHdlZW5zW3R3ZWVucy5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogYW5pbVR5cGUsXG4gICAgICBwcm9wZXJ0eTogcHJvcC5uYW1lLFxuICAgICAgYW5pbWF0YWJsZTogYW5pbWF0YWJsZSxcbiAgICAgIHR3ZWVuczogdHdlZW5zLFxuICAgICAgZHVyYXRpb246IGxhc3RUd2Vlbi5lbmQsXG4gICAgICBkZWxheTogdHdlZW5zWzBdLmRlbGF5LFxuICAgICAgZW5kRGVsYXk6IGxhc3RUd2Vlbi5lbmREZWxheVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoYW5pbWF0YWJsZXMubWFwKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgcmV0dXJuIHByb3BlcnRpZXMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApO1xuICAgIH0pO1xuICB9KSksIGZ1bmN0aW9uIChhKSB7IHJldHVybiAhaXMudW5kKGEpOyB9KTtcbn1cblxuLy8gQ3JlYXRlIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGdldEluc3RhbmNlVGltaW5ncyhhbmltYXRpb25zLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBhbmltTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gIHZhciBnZXRUbE9mZnNldCA9IGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBhbmltLnRpbWVsaW5lT2Zmc2V0ID8gYW5pbS50aW1lbGluZU9mZnNldCA6IDA7IH07XG4gIHZhciB0aW1pbmdzID0ge307XG4gIHRpbWluZ3MuZHVyYXRpb24gPSBhbmltTGVuZ3RoID8gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbjsgfSkpIDogdHdlZW5TZXR0aW5ncy5kdXJhdGlvbjtcbiAgdGltaW5ncy5kZWxheSA9IGFuaW1MZW5ndGggPyBNYXRoLm1pbi5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmRlbGF5OyB9KSkgOiB0d2VlblNldHRpbmdzLmRlbGF5O1xuICB0aW1pbmdzLmVuZERlbGF5ID0gYW5pbUxlbmd0aCA/IHRpbWluZ3MuZHVyYXRpb24gLSBNYXRoLm1heC5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmR1cmF0aW9uIC0gYW5pbS5lbmREZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5lbmREZWxheTtcbiAgcmV0dXJuIHRpbWluZ3M7XG59XG5cbnZhciBpbnN0YW5jZUlEID0gMDtcblxuZnVuY3Rpb24gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKSB7XG4gIHZhciBpbnN0YW5jZVNldHRpbmdzID0gcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgdHdlZW5TZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHByb3BlcnRpZXMgPSBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHBhcmFtcy50YXJnZXRzKTtcbiAgdmFyIGFuaW1hdGlvbnMgPSBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKTtcbiAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncyk7XG4gIHZhciBpZCA9IGluc3RhbmNlSUQ7XG4gIGluc3RhbmNlSUQrKztcbiAgcmV0dXJuIG1lcmdlT2JqZWN0cyhpbnN0YW5jZVNldHRpbmdzLCB7XG4gICAgaWQ6IGlkLFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBhbmltYXRhYmxlczogYW5pbWF0YWJsZXMsXG4gICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICBkdXJhdGlvbjogdGltaW5ncy5kdXJhdGlvbixcbiAgICBkZWxheTogdGltaW5ncy5kZWxheSxcbiAgICBlbmREZWxheTogdGltaW5ncy5lbmREZWxheVxuICB9KTtcbn1cblxuLy8gQ29yZVxuXG52YXIgYWN0aXZlSW5zdGFuY2VzID0gW107XG5cbnZhciBlbmdpbmUgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcmFmO1xuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKCFyYWYgJiYgKCFpc0RvY3VtZW50SGlkZGVuKCkgfHwgIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pICYmIGFjdGl2ZUluc3RhbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN0ZXAodCkge1xuICAgIC8vIG1lbW8gb24gYWxnb3JpdGhtIGlzc3VlOlxuICAgIC8vIGRhbmdlcm91cyBpdGVyYXRpb24gb3ZlciBtdXRhYmxlIGBhY3RpdmVJbnN0YW5jZXNgXG4gICAgLy8gKHRoYXQgY29sbGVjdGlvbiBtYXkgYmUgdXBkYXRlZCBmcm9tIHdpdGhpbiBjYWxsYmFja3Mgb2YgYHRpY2tgLWVkIGFuaW1hdGlvbiBpbnN0YW5jZXMpXG4gICAgdmFyIGFjdGl2ZUluc3RhbmNlc0xlbmd0aCA9IGFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoKSB7XG4gICAgICB2YXIgYWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgICBpZiAoIWFjdGl2ZUluc3RhbmNlLnBhdXNlZCkge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZS50aWNrKHQpO1xuICAgICAgICBpKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXNMZW5ndGgtLTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmFmID0gaSA+IDAgPyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCkgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgIGlmICghYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbikgeyByZXR1cm47IH1cblxuICAgIGlmIChpc0RvY3VtZW50SGlkZGVuKCkpIHtcbiAgICAgIC8vIHN1c3BlbmQgdGlja3NcbiAgICAgIHJhZiA9IGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgfSBlbHNlIHsgLy8gaXMgYmFjayB0byBhY3RpdmUgdGFiXG4gICAgICAvLyBmaXJzdCBhZGp1c3QgYW5pbWF0aW9ucyB0byBjb25zaWRlciB0aGUgdGltZSB0aGF0IHRpY2tzIHdlcmUgc3VzcGVuZGVkXG4gICAgICBhY3RpdmVJbnN0YW5jZXMuZm9yRWFjaChcbiAgICAgICAgZnVuY3Rpb24gKGluc3RhbmNlKSB7IHJldHVybiBpbnN0YW5jZSAuX29uRG9jdW1lbnRWaXNpYmlsaXR5KCk7IH1cbiAgICAgICk7XG4gICAgICBlbmdpbmUoKTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH1cblxuICByZXR1cm4gcGxheTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGlzRG9jdW1lbnRIaWRkZW4oKSB7XG4gIHJldHVybiAhIWRvY3VtZW50ICYmIGRvY3VtZW50LmhpZGRlbjtcbn1cblxuLy8gUHVibGljIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGFuaW1lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cblxuICB2YXIgc3RhcnRUaW1lID0gMCwgbGFzdFRpbWUgPSAwLCBub3cgPSAwO1xuICB2YXIgY2hpbGRyZW4sIGNoaWxkcmVuTGVuZ3RoID0gMDtcbiAgdmFyIHJlc29sdmUgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIG1ha2VQcm9taXNlKGluc3RhbmNlKSB7XG4gICAgdmFyIHByb21pc2UgPSB3aW5kb3cuUHJvbWlzZSAmJiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoX3Jlc29sdmUpIHsgcmV0dXJuIHJlc29sdmUgPSBfcmVzb2x2ZTsgfSk7XG4gICAgaW5zdGFuY2UuZmluaXNoZWQgPSBwcm9taXNlO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGluc3RhbmNlID0gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKTtcbiAgdmFyIHByb21pc2UgPSBtYWtlUHJvbWlzZShpbnN0YW5jZSk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpZiAoZGlyZWN0aW9uICE9PSAnYWx0ZXJuYXRlJykge1xuICAgICAgaW5zdGFuY2UuZGlyZWN0aW9uID0gZGlyZWN0aW9uICE9PSAnbm9ybWFsJyA/ICdub3JtYWwnIDogJ3JldmVyc2UnO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9ICFpbnN0YW5jZS5yZXZlcnNlZDtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2hpbGQucmV2ZXJzZWQgPSBpbnN0YW5jZS5yZXZlcnNlZDsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RUaW1lKHRpbWUpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiAtIHRpbWUgOiB0aW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lKCkge1xuICAgIHN0YXJ0VGltZSA9IDA7XG4gICAgbGFzdFRpbWUgPSBhZGp1c3RUaW1lKGluc3RhbmNlLmN1cnJlbnRUaW1lKSAqICgxIC8gYW5pbWUuc3BlZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2Vla0NoaWxkKHRpbWUsIGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkKSB7IGNoaWxkLnNlZWsodGltZSAtIGNoaWxkLnRpbWVsaW5lT2Zmc2V0KTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3luY0luc3RhbmNlQ2hpbGRyZW4odGltZSkge1xuICAgIGlmICghaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHsgc2Vla0NoaWxkKHRpbWUsIGNoaWxkcmVuW2ldKTsgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSBjaGlsZHJlbkxlbmd0aDsgaSQxLS07KSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpJDFdKTsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNUaW1lKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgICB2YXIgYW5pbWF0aW9uc0xlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICAgIHdoaWxlIChpIDwgYW5pbWF0aW9uc0xlbmd0aCkge1xuICAgICAgdmFyIGFuaW0gPSBhbmltYXRpb25zW2ldO1xuICAgICAgdmFyIGFuaW1hdGFibGUgPSBhbmltLmFuaW1hdGFibGU7XG4gICAgICB2YXIgdHdlZW5zID0gYW5pbS50d2VlbnM7XG4gICAgICB2YXIgdHdlZW5MZW5ndGggPSB0d2VlbnMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1t0d2Vlbkxlbmd0aF07XG4gICAgICAvLyBPbmx5IGNoZWNrIGZvciBrZXlmcmFtZXMgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSB0d2VlblxuICAgICAgaWYgKHR3ZWVuTGVuZ3RoKSB7IHR3ZWVuID0gZmlsdGVyQXJyYXkodHdlZW5zLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gKGluc1RpbWUgPCB0LmVuZCk7IH0pWzBdIHx8IHR3ZWVuOyB9XG4gICAgICB2YXIgZWxhcHNlZCA9IG1pbk1heChpbnNUaW1lIC0gdHdlZW4uc3RhcnQgLSB0d2Vlbi5kZWxheSwgMCwgdHdlZW4uZHVyYXRpb24pIC8gdHdlZW4uZHVyYXRpb247XG4gICAgICB2YXIgZWFzZWQgPSBpc05hTihlbGFwc2VkKSA/IDEgOiB0d2Vlbi5lYXNpbmcoZWxhcHNlZCk7XG4gICAgICB2YXIgc3RyaW5ncyA9IHR3ZWVuLnRvLnN0cmluZ3M7XG4gICAgICB2YXIgcm91bmQgPSB0d2Vlbi5yb3VuZDtcbiAgICAgIHZhciBudW1iZXJzID0gW107XG4gICAgICB2YXIgdG9OdW1iZXJzTGVuZ3RoID0gdHdlZW4udG8ubnVtYmVycy5sZW5ndGg7XG4gICAgICB2YXIgcHJvZ3Jlc3MgPSAodm9pZCAwKTtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdG9OdW1iZXJzTGVuZ3RoOyBuKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gKHZvaWQgMCk7XG4gICAgICAgIHZhciB0b051bWJlciA9IHR3ZWVuLnRvLm51bWJlcnNbbl07XG4gICAgICAgIHZhciBmcm9tTnVtYmVyID0gdHdlZW4uZnJvbS5udW1iZXJzW25dIHx8IDA7XG4gICAgICAgIGlmICghdHdlZW4uaXNQYXRoKSB7XG4gICAgICAgICAgdmFsdWUgPSBmcm9tTnVtYmVyICsgKGVhc2VkICogKHRvTnVtYmVyIC0gZnJvbU51bWJlcikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gZ2V0UGF0aFByb2dyZXNzKHR3ZWVuLnZhbHVlLCBlYXNlZCAqIHRvTnVtYmVyLCB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3VuZCkge1xuICAgICAgICAgIGlmICghKHR3ZWVuLmlzQ29sb3IgJiYgbiA+IDIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgKiByb3VuZCkgLyByb3VuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVycy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1hbnVhbCBBcnJheS5yZWR1Y2UgZm9yIGJldHRlciBwZXJmb3JtYW5jZXNcbiAgICAgIHZhciBzdHJpbmdzTGVuZ3RoID0gc3RyaW5ncy5sZW5ndGg7XG4gICAgICBpZiAoIXN0cmluZ3NMZW5ndGgpIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBudW1iZXJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBzdHJpbmdzWzBdO1xuICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHN0cmluZ3NMZW5ndGg7IHMrKykge1xuICAgICAgICAgIHZhciBhID0gc3RyaW5nc1tzXTtcbiAgICAgICAgICB2YXIgYiA9IHN0cmluZ3NbcyArIDFdO1xuICAgICAgICAgIHZhciBuJDEgPSBudW1iZXJzW3NdO1xuICAgICAgICAgIGlmICghaXNOYU4obiQxKSkge1xuICAgICAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArICcgJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW0udHlwZV0oYW5pbWF0YWJsZS50YXJnZXQsIGFuaW0ucHJvcGVydHksIHByb2dyZXNzLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMpO1xuICAgICAgYW5pbS5jdXJyZW50VmFsdWUgPSBwcm9ncmVzcztcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDYWxsYmFjayhjYikge1xuICAgIGlmIChpbnN0YW5jZVtjYl0gJiYgIWluc3RhbmNlLnBhc3NUaHJvdWdoKSB7IGluc3RhbmNlW2NiXShpbnN0YW5jZSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvdW50SXRlcmF0aW9uKCkge1xuICAgIGlmIChpbnN0YW5jZS5yZW1haW5pbmcgJiYgaW5zdGFuY2UucmVtYWluaW5nICE9PSB0cnVlKSB7XG4gICAgICBpbnN0YW5jZS5yZW1haW5pbmctLTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJbnN0YW5jZVByb2dyZXNzKGVuZ2luZVRpbWUpIHtcbiAgICB2YXIgaW5zRHVyYXRpb24gPSBpbnN0YW5jZS5kdXJhdGlvbjtcbiAgICB2YXIgaW5zRGVsYXkgPSBpbnN0YW5jZS5kZWxheTtcbiAgICB2YXIgaW5zRW5kRGVsYXkgPSBpbnNEdXJhdGlvbiAtIGluc3RhbmNlLmVuZERlbGF5O1xuICAgIHZhciBpbnNUaW1lID0gYWRqdXN0VGltZShlbmdpbmVUaW1lKTtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IG1pbk1heCgoaW5zVGltZSAvIGluc0R1cmF0aW9uKSAqIDEwMCwgMCwgMTAwKTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBpbnNUaW1lIDwgaW5zdGFuY2UuY3VycmVudFRpbWU7XG4gICAgaWYgKGNoaWxkcmVuKSB7IHN5bmNJbnN0YW5jZUNoaWxkcmVuKGluc1RpbWUpOyB9XG4gICAgaWYgKCFpbnN0YW5jZS5iZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdiZWdpbicpO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlLmxvb3BCZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnbG9vcEJlZ2luJyk7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lIDw9IGluc0RlbGF5ICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lICE9PSAwKSB7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoMCk7XG4gICAgfVxuICAgIGlmICgoaW5zVGltZSA+PSBpbnNFbmREZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gaW5zRHVyYXRpb24pIHx8ICFpbnNEdXJhdGlvbikge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc0R1cmF0aW9uKTtcbiAgICB9XG4gICAgaWYgKGluc1RpbWUgPiBpbnNEZWxheSAmJiBpbnNUaW1lIDwgaW5zRW5kRGVsYXkpIHtcbiAgICAgIGlmICghaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUJlZ2luJyk7XG4gICAgICB9XG4gICAgICBzZXRDYWxsYmFjaygnY2hhbmdlJyk7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnN0YW5jZS5jaGFuZ2VCZWdhbikge1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgICAgICBzZXRDYWxsYmFjaygnY2hhbmdlQ29tcGxldGUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSBtaW5NYXgoaW5zVGltZSwgMCwgaW5zRHVyYXRpb24pO1xuICAgIGlmIChpbnN0YW5jZS5iZWdhbikgeyBzZXRDYWxsYmFjaygndXBkYXRlJyk7IH1cbiAgICBpZiAoZW5naW5lVGltZSA+PSBpbnNEdXJhdGlvbikge1xuICAgICAgbGFzdFRpbWUgPSAwO1xuICAgICAgY291bnRJdGVyYXRpb24oKTtcbiAgICAgIGlmICghaW5zdGFuY2UucmVtYWluaW5nKSB7XG4gICAgICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIGlmICghaW5zdGFuY2UuY29tcGxldGVkKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgaWYgKCFpbnN0YW5jZS5wYXNzVGhyb3VnaCAmJiAnUHJvbWlzZScgaW4gd2luZG93KSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnRUaW1lID0gbm93O1xuICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5zdGFuY2UuZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJykge1xuICAgICAgICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbnN0YW5jZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaW5zdGFuY2UucGFzc1Rocm91Z2ggPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jdXJyZW50VGltZSA9IDA7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSAwO1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgaW5zdGFuY2UuYmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VQbGF5YmFjayA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VkID0gZGlyZWN0aW9uID09PSAncmV2ZXJzZSc7XG4gICAgaW5zdGFuY2UucmVtYWluaW5nID0gaW5zdGFuY2UubG9vcDtcbiAgICBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICAgIGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbkxlbmd0aDsgaS0tOykgeyBpbnN0YW5jZS5jaGlsZHJlbltpXS5yZXNldCgpOyB9XG4gICAgaWYgKGluc3RhbmNlLnJldmVyc2VkICYmIGluc3RhbmNlLmxvb3AgIT09IHRydWUgfHwgKGRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScgJiYgaW5zdGFuY2UubG9vcCA9PT0gMSkpIHsgaW5zdGFuY2UucmVtYWluaW5nKys7IH1cbiAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiA6IDApO1xuICB9O1xuXG4gIC8vIGludGVybmFsIG1ldGhvZCAoZm9yIGVuZ2luZSkgdG8gYWRqdXN0IGFuaW1hdGlvbiB0aW1pbmdzIGJlZm9yZSByZXN0b3JpbmcgZW5naW5lIHRpY2tzIChyQUYpXG4gIGluc3RhbmNlLl9vbkRvY3VtZW50VmlzaWJpbGl0eSA9IHJlc2V0VGltZTtcblxuICAvLyBTZXQgVmFsdWUgaGVscGVyXG5cbiAgaW5zdGFuY2Uuc2V0ID0gZnVuY3Rpb24odGFyZ2V0cywgcHJvcGVydGllcykge1xuICAgIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgaW5zdGFuY2UudGljayA9IGZ1bmN0aW9uKHQpIHtcbiAgICBub3cgPSB0O1xuICAgIGlmICghc3RhcnRUaW1lKSB7IHN0YXJ0VGltZSA9IG5vdzsgfVxuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoKG5vdyArIChsYXN0VGltZSAtIHN0YXJ0VGltZSkpICogYW5pbWUuc3BlZWQpO1xuICB9O1xuXG4gIGluc3RhbmNlLnNlZWsgPSBmdW5jdGlvbih0aW1lKSB7XG4gICAgc2V0SW5zdGFuY2VQcm9ncmVzcyhhZGp1c3RUaW1lKHRpbWUpKTtcbiAgfTtcblxuICBpbnN0YW5jZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaW5zdGFuY2UucGF1c2VkKSB7IHJldHVybjsgfVxuICAgIGlmIChpbnN0YW5jZS5jb21wbGV0ZWQpIHsgaW5zdGFuY2UucmVzZXQoKTsgfVxuICAgIGluc3RhbmNlLnBhdXNlZCA9IGZhbHNlO1xuICAgIGFjdGl2ZUluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICByZXNldFRpbWUoKTtcbiAgICBlbmdpbmUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBpbnN0YW5jZS5yZXZlcnNlZCA/IGZhbHNlIDogdHJ1ZTtcbiAgICByZXNldFRpbWUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaW5zdGFuY2UucmVzZXQoKTtcbiAgICBpbnN0YW5jZS5wbGF5KCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVtb3ZlID0gZnVuY3Rpb24odGFyZ2V0cykge1xuICAgIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXNldCgpO1xuXG4gIGlmIChpbnN0YW5jZS5hdXRvcGxheSkgeyBpbnN0YW5jZS5wbGF5KCk7IH1cblxuICByZXR1cm4gaW5zdGFuY2U7XG5cbn1cblxuLy8gUmVtb3ZlIHRhcmdldHMgZnJvbSBhbmltYXRpb25cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucykge1xuICBmb3IgKHZhciBhID0gYW5pbWF0aW9ucy5sZW5ndGg7IGEtLTspIHtcbiAgICBpZiAoYXJyYXlDb250YWlucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnNbYV0uYW5pbWF0YWJsZS50YXJnZXQpKSB7XG4gICAgICBhbmltYXRpb25zLnNwbGljZShhLCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKSB7XG4gIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgdmFyIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpO1xuICBmb3IgKHZhciBjID0gY2hpbGRyZW4ubGVuZ3RoOyBjLS07KSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bY107XG4gICAgdmFyIGNoaWxkQW5pbWF0aW9ucyA9IGNoaWxkLmFuaW1hdGlvbnM7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgY2hpbGRBbmltYXRpb25zKTtcbiAgICBpZiAoIWNoaWxkQW5pbWF0aW9ucy5sZW5ndGggJiYgIWNoaWxkLmNoaWxkcmVuLmxlbmd0aCkgeyBjaGlsZHJlbi5zcGxpY2UoYywgMSk7IH1cbiAgfVxuICBpZiAoIWFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZHJlbi5sZW5ndGgpIHsgaW5zdGFuY2UucGF1c2UoKTsgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUFjdGl2ZUluc3RhbmNlcyh0YXJnZXRzKSB7XG4gIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIGZvciAodmFyIGkgPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgdmFyIGluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH1cbn1cblxuLy8gU3RhZ2dlciBoZWxwZXJzXG5cbmZ1bmN0aW9uIHN0YWdnZXIodmFsLCBwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciBkaXJlY3Rpb24gPSBwYXJhbXMuZGlyZWN0aW9uIHx8ICdub3JtYWwnO1xuICB2YXIgZWFzaW5nID0gcGFyYW1zLmVhc2luZyA/IHBhcnNlRWFzaW5ncyhwYXJhbXMuZWFzaW5nKSA6IG51bGw7XG4gIHZhciBncmlkID0gcGFyYW1zLmdyaWQ7XG4gIHZhciBheGlzID0gcGFyYW1zLmF4aXM7XG4gIHZhciBmcm9tSW5kZXggPSBwYXJhbXMuZnJvbSB8fCAwO1xuICB2YXIgZnJvbUZpcnN0ID0gZnJvbUluZGV4ID09PSAnZmlyc3QnO1xuICB2YXIgZnJvbUNlbnRlciA9IGZyb21JbmRleCA9PT0gJ2NlbnRlcic7XG4gIHZhciBmcm9tTGFzdCA9IGZyb21JbmRleCA9PT0gJ2xhc3QnO1xuICB2YXIgaXNSYW5nZSA9IGlzLmFycih2YWwpO1xuICB2YXIgdmFsMSA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFswXSkgOiBwYXJzZUZsb2F0KHZhbCk7XG4gIHZhciB2YWwyID0gaXNSYW5nZSA/IHBhcnNlRmxvYXQodmFsWzFdKSA6IDA7XG4gIHZhciB1bml0ID0gZ2V0VW5pdChpc1JhbmdlID8gdmFsWzFdIDogdmFsKSB8fCAwO1xuICB2YXIgc3RhcnQgPSBwYXJhbXMuc3RhcnQgfHwgMCArIChpc1JhbmdlID8gdmFsMSA6IDApO1xuICB2YXIgdmFsdWVzID0gW107XG4gIHZhciBtYXhWYWx1ZSA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiAoZWwsIGksIHQpIHtcbiAgICBpZiAoZnJvbUZpcnN0KSB7IGZyb21JbmRleCA9IDA7IH1cbiAgICBpZiAoZnJvbUNlbnRlcikgeyBmcm9tSW5kZXggPSAodCAtIDEpIC8gMjsgfVxuICAgIGlmIChmcm9tTGFzdCkgeyBmcm9tSW5kZXggPSB0IC0gMTsgfVxuICAgIGlmICghdmFsdWVzLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHQ7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKCFncmlkKSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goTWF0aC5hYnMoZnJvbUluZGV4IC0gaW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZnJvbVggPSAhZnJvbUNlbnRlciA/IGZyb21JbmRleCVncmlkWzBdIDogKGdyaWRbMF0tMSkvMjtcbiAgICAgICAgICB2YXIgZnJvbVkgPSAhZnJvbUNlbnRlciA/IE1hdGguZmxvb3IoZnJvbUluZGV4L2dyaWRbMF0pIDogKGdyaWRbMV0tMSkvMjtcbiAgICAgICAgICB2YXIgdG9YID0gaW5kZXglZ3JpZFswXTtcbiAgICAgICAgICB2YXIgdG9ZID0gTWF0aC5mbG9vcihpbmRleC9ncmlkWzBdKTtcbiAgICAgICAgICB2YXIgZGlzdGFuY2VYID0gZnJvbVggLSB0b1g7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWSA9IGZyb21ZIC0gdG9ZO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IE1hdGguc3FydChkaXN0YW5jZVggKiBkaXN0YW5jZVggKyBkaXN0YW5jZVkgKiBkaXN0YW5jZVkpO1xuICAgICAgICAgIGlmIChheGlzID09PSAneCcpIHsgdmFsdWUgPSAtZGlzdGFuY2VYOyB9XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd5JykgeyB2YWx1ZSA9IC1kaXN0YW5jZVk7IH1cbiAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4VmFsdWUgPSBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGVhc2luZykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGVhc2luZyh2YWwgLyBtYXhWYWx1ZSkgKiBtYXhWYWx1ZTsgfSk7IH1cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdyZXZlcnNlJykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGF4aXMgPyAodmFsIDwgMCkgPyB2YWwgKiAtMSA6IC12YWwgOiBNYXRoLmFicyhtYXhWYWx1ZSAtIHZhbCk7IH0pOyB9XG4gICAgfVxuICAgIHZhciBzcGFjaW5nID0gaXNSYW5nZSA/ICh2YWwyIC0gdmFsMSkgLyBtYXhWYWx1ZSA6IHZhbDE7XG4gICAgcmV0dXJuIHN0YXJ0ICsgKHNwYWNpbmcgKiAoTWF0aC5yb3VuZCh2YWx1ZXNbaV0gKiAxMDApIC8gMTAwKSkgKyB1bml0O1xuICB9XG59XG5cbi8vIFRpbWVsaW5lXG5cbmZ1bmN0aW9uIHRpbWVsaW5lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cbiAgdmFyIHRsID0gYW5pbWUocGFyYW1zKTtcbiAgdGwuZHVyYXRpb24gPSAwO1xuICB0bC5hZGQgPSBmdW5jdGlvbihpbnN0YW5jZVBhcmFtcywgdGltZWxpbmVPZmZzZXQpIHtcbiAgICB2YXIgdGxJbmRleCA9IGFjdGl2ZUluc3RhbmNlcy5pbmRleE9mKHRsKTtcbiAgICB2YXIgY2hpbGRyZW4gPSB0bC5jaGlsZHJlbjtcbiAgICBpZiAodGxJbmRleCA+IC0xKSB7IGFjdGl2ZUluc3RhbmNlcy5zcGxpY2UodGxJbmRleCwgMSk7IH1cbiAgICBmdW5jdGlvbiBwYXNzVGhyb3VnaChpbnMpIHsgaW5zLnBhc3NUaHJvdWdoID0gdHJ1ZTsgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsgcGFzc1Rocm91Z2goY2hpbGRyZW5baV0pOyB9XG4gICAgdmFyIGluc1BhcmFtcyA9IG1lcmdlT2JqZWN0cyhpbnN0YW5jZVBhcmFtcywgcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRUd2VlblNldHRpbmdzLCBwYXJhbXMpKTtcbiAgICBpbnNQYXJhbXMudGFyZ2V0cyA9IGluc1BhcmFtcy50YXJnZXRzIHx8IHBhcmFtcy50YXJnZXRzO1xuICAgIHZhciB0bER1cmF0aW9uID0gdGwuZHVyYXRpb247XG4gICAgaW5zUGFyYW1zLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgaW5zUGFyYW1zLmRpcmVjdGlvbiA9IHRsLmRpcmVjdGlvbjtcbiAgICBpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQgPSBpcy51bmQodGltZWxpbmVPZmZzZXQpID8gdGxEdXJhdGlvbiA6IGdldFJlbGF0aXZlVmFsdWUodGltZWxpbmVPZmZzZXQsIHRsRHVyYXRpb24pO1xuICAgIHBhc3NUaHJvdWdoKHRsKTtcbiAgICB0bC5zZWVrKGluc1BhcmFtcy50aW1lbGluZU9mZnNldCk7XG4gICAgdmFyIGlucyA9IGFuaW1lKGluc1BhcmFtcyk7XG4gICAgcGFzc1Rocm91Z2goaW5zKTtcbiAgICBjaGlsZHJlbi5wdXNoKGlucyk7XG4gICAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoY2hpbGRyZW4sIHBhcmFtcyk7XG4gICAgdGwuZGVsYXkgPSB0aW1pbmdzLmRlbGF5O1xuICAgIHRsLmVuZERlbGF5ID0gdGltaW5ncy5lbmREZWxheTtcbiAgICB0bC5kdXJhdGlvbiA9IHRpbWluZ3MuZHVyYXRpb247XG4gICAgdGwuc2VlaygwKTtcbiAgICB0bC5yZXNldCgpO1xuICAgIGlmICh0bC5hdXRvcGxheSkgeyB0bC5wbGF5KCk7IH1cbiAgICByZXR1cm4gdGw7XG4gIH07XG4gIHJldHVybiB0bDtcbn1cblxuYW5pbWUudmVyc2lvbiA9ICczLjIuMSc7XG5hbmltZS5zcGVlZCA9IDE7XG4vLyBUT0RPOiNyZXZpZXc6IG5hbWluZywgZG9jdW1lbnRhdGlvblxuYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiA9IHRydWU7XG5hbmltZS5ydW5uaW5nID0gYWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUucmVtb3ZlID0gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXM7XG5hbmltZS5nZXQgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlO1xuYW5pbWUuc2V0ID0gc2V0VGFyZ2V0c1ZhbHVlO1xuYW5pbWUuY29udmVydFB4ID0gY29udmVydFB4VG9Vbml0O1xuYW5pbWUucGF0aCA9IGdldFBhdGg7XG5hbmltZS5zZXREYXNob2Zmc2V0ID0gc2V0RGFzaG9mZnNldDtcbmFuaW1lLnN0YWdnZXIgPSBzdGFnZ2VyO1xuYW5pbWUudGltZWxpbmUgPSB0aW1lbGluZTtcbmFuaW1lLmVhc2luZyA9IHBhcnNlRWFzaW5ncztcbmFuaW1lLnBlbm5lciA9IHBlbm5lcjtcbmFuaW1lLnJhbmRvbSA9IGZ1bmN0aW9uIChtaW4sIG1heCkgeyByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgfTtcblxuZXhwb3J0IGRlZmF1bHQgYW5pbWU7XG4iLCJ2YXIgZSx0LG49XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwP25ldyBNYXA6KGU9W10sdD1bXSx7aGFzOmZ1bmN0aW9uKHQpe3JldHVybiBlLmluZGV4T2YodCk+LTF9LGdldDpmdW5jdGlvbihuKXtyZXR1cm4gdFtlLmluZGV4T2YobildfSxzZXQ6ZnVuY3Rpb24obixvKXstMT09PWUuaW5kZXhPZihuKSYmKGUucHVzaChuKSx0LnB1c2gobykpfSxkZWxldGU6ZnVuY3Rpb24obil7dmFyIG89ZS5pbmRleE9mKG4pO28+LTEmJihlLnNwbGljZShvLDEpLHQuc3BsaWNlKG8sMSkpfX0pLG89ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBFdmVudChlLHtidWJibGVzOiEwfSl9O3RyeXtuZXcgRXZlbnQoXCJ0ZXN0XCIpfWNhdGNoKGUpe289ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtyZXR1cm4gdC5pbml0RXZlbnQoZSwhMCwhMSksdH19ZnVuY3Rpb24gcihlKXt2YXIgdD1uLmdldChlKTt0JiZ0LmRlc3Ryb3koKX1mdW5jdGlvbiBpKGUpe3ZhciB0PW4uZ2V0KGUpO3QmJnQudXBkYXRlKCl9dmFyIGw9bnVsbDtcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT8oKGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KS5kZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiBlfSxsLnVwZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0pOigobD1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUubGVuZ3RoP2U6W2VdLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihlJiZlLm5vZGVOYW1lJiZcIlRFWFRBUkVBXCI9PT1lLm5vZGVOYW1lJiYhbi5oYXMoZSkpe3ZhciB0LHI9bnVsbCxpPW51bGwsbD1udWxsLGE9ZnVuY3Rpb24oKXtlLmNsaWVudFdpZHRoIT09aSYmcCgpfSxkPWZ1bmN0aW9uKHQpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsYSwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIixwLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHAsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImF1dG9zaXplOmRlc3Ryb3lcIixkLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhdXRvc2l6ZTp1cGRhdGVcIixwLCExKSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Uuc3R5bGVbbl09dFtuXX0pLG4uZGVsZXRlKGUpfS5iaW5kKGUse2hlaWdodDplLnN0eWxlLmhlaWdodCxyZXNpemU6ZS5zdHlsZS5yZXNpemUsb3ZlcmZsb3dZOmUuc3R5bGUub3ZlcmZsb3dZLG92ZXJmbG93WDplLnN0eWxlLm92ZXJmbG93WCx3b3JkV3JhcDplLnN0eWxlLndvcmRXcmFwfSk7ZS5hZGRFdmVudExpc3RlbmVyKFwiYXV0b3NpemU6ZGVzdHJveVwiLGQsITEpLFwib25wcm9wZXJ0eWNoYW5nZVwiaW4gZSYmXCJvbmlucHV0XCJpbiBlJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHAsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsYSwhMSksZS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIixwLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJhdXRvc2l6ZTp1cGRhdGVcIixwLCExKSxlLnN0eWxlLm92ZXJmbG93WD1cImhpZGRlblwiLGUuc3R5bGUud29yZFdyYXA9XCJicmVhay13b3JkXCIsbi5zZXQoZSx7ZGVzdHJveTpkLHVwZGF0ZTpwfSksXCJ2ZXJ0aWNhbFwiPT09KHQ9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKSkucmVzaXplP2Uuc3R5bGUucmVzaXplPVwibm9uZVwiOlwiYm90aFwiPT09dC5yZXNpemUmJihlLnN0eWxlLnJlc2l6ZT1cImhvcml6b250YWxcIikscj1cImNvbnRlbnQtYm94XCI9PT10LmJveFNpemluZz8tKHBhcnNlRmxvYXQodC5wYWRkaW5nVG9wKStwYXJzZUZsb2F0KHQucGFkZGluZ0JvdHRvbSkpOnBhcnNlRmxvYXQodC5ib3JkZXJUb3BXaWR0aCkrcGFyc2VGbG9hdCh0LmJvcmRlckJvdHRvbVdpZHRoKSxpc05hTihyKSYmKHI9MCkscCgpfWZ1bmN0aW9uIHModCl7dmFyIG49ZS5zdHlsZS53aWR0aDtlLnN0eWxlLndpZHRoPVwiMHB4XCIsZS5zdHlsZS53aWR0aD1uLGUuc3R5bGUub3ZlcmZsb3dZPXR9ZnVuY3Rpb24gdSgpe2lmKDAhPT1lLnNjcm9sbEhlaWdodCl7dmFyIHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdO2UmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlIGluc3RhbmNlb2YgRWxlbWVudDspZS5wYXJlbnROb2RlLnNjcm9sbFRvcCYmKGUucGFyZW50Tm9kZS5zdHlsZS5zY3JvbGxCZWhhdmlvcj1cImF1dG9cIix0LnB1c2goW2UucGFyZW50Tm9kZSxlLnBhcmVudE5vZGUuc2Nyb2xsVG9wXSkpLGU9ZS5wYXJlbnROb2RlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXTt0LnNjcm9sbFRvcD1lWzFdLHQuc3R5bGUuc2Nyb2xsQmVoYXZpb3I9bnVsbH0pfX0oZSk7ZS5zdHlsZS5oZWlnaHQ9XCJcIixlLnN0eWxlLmhlaWdodD1lLnNjcm9sbEhlaWdodCtyK1wicHhcIixpPWUuY2xpZW50V2lkdGgsdCgpfX1mdW5jdGlvbiBwKCl7dSgpO3ZhciB0PU1hdGgucm91bmQocGFyc2VGbG9hdChlLnN0eWxlLmhlaWdodCkpLG49d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKSxyPVwiY29udGVudC1ib3hcIj09PW4uYm94U2l6aW5nP01hdGgucm91bmQocGFyc2VGbG9hdChuLmhlaWdodCkpOmUub2Zmc2V0SGVpZ2h0O2lmKHI8dD9cImhpZGRlblwiPT09bi5vdmVyZmxvd1kmJihzKFwic2Nyb2xsXCIpLHUoKSxyPVwiY29udGVudC1ib3hcIj09PW4uYm94U2l6aW5nP01hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmhlaWdodCkpOmUub2Zmc2V0SGVpZ2h0KTpcImhpZGRlblwiIT09bi5vdmVyZmxvd1kmJihzKFwiaGlkZGVuXCIpLHUoKSxyPVwiY29udGVudC1ib3hcIj09PW4uYm94U2l6aW5nP01hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmhlaWdodCkpOmUub2Zmc2V0SGVpZ2h0KSxsIT09cil7bD1yO3ZhciBpPW8oXCJhdXRvc2l6ZTpyZXNpemVkXCIpO3RyeXtlLmRpc3BhdGNoRXZlbnQoaSl9Y2F0Y2goZSl7fX19fShlKX0pLGV9KS5kZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUubGVuZ3RoP2U6W2VdLHIpLGV9LGwudXBkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUubGVuZ3RoP2U6W2VdLGkpLGV9KTt2YXIgYT1sO2V4cG9ydCBkZWZhdWx0IGE7XG4iLCJpbXBvcnQgcmVhZHkgZnJvbSBcIi4uLy4uL2pzL3V0aWxzL2RvY3VtZW50UmVhZHkuanNcIjtcbmltcG9ydCBhbmltZSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGNhbGN1bGF0b3JIb3N0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxjdWxhdG9yXCIpO1xuXG4gIGlmIChjYWxjdWxhdG9ySG9zdCkge1xuICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSAodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXRzOiB0YXJnZXQsXG4gICAgICAgIHN0cm9rZURhc2hvZmZzZXQ6IFthbmltZS5zZXREYXNob2Zmc2V0LCAwXSxcbiAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFNpbmVcIixcbiAgICAgICAgZHVyYXRpb246IDQ1MDAsXG4gICAgICAgIGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgICByZXR1cm4gaSAqIDI1MDtcbiAgICAgICAgfSxcbiAgICAgICAgZGlyZWN0aW9uOiBcIm5vcm1hbFwiLFxuICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290OiBudWxsLFxuICAgICAgcm9vdE1hcmdpbjogXCIwcHhcIixcbiAgICAgIHRocmVzaG9sZDogMC41LFxuICAgIH07XG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgY29uc3Qgc3ZnID0gZW50cnkudGFyZ2V0O1xuICAgICAgICAgIGNvbnN0IHN2Z1BhdGggPSBzdmcucXVlcnlTZWxlY3RvcihcInBhdGhcIik7XG4gICAgICAgICAgY29uc3Qgc2lnbkFuaW1hdGlvbiA9IGFuaW1lKGFuaW1hdGlvbk9wdGlvbnMoc3ZnUGF0aCkpO1xuICAgICAgICAgIHN2Zy5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICBzaWduQW5pbWF0aW9uLnBsYXkoKTtcbiAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoc3ZnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICBjb25zdCB0YXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYWxjdWxhdG9yX19pbWFnZVwiKTtcbiAgICB0YXJnZXRzLmZvckVhY2goKGkpID0+IHtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoaSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgY29udGFjdHNIb3N0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0c1wiKTtcblxuICBpZiAoY29udGFjdHNIb3N0KSB7XG4gICAgY29uc3QgY29udGFjdHNOYW1lRmllbGQgPSBjb250YWN0c0hvc3QucXVlcnlTZWxlY3RvcihcIltuYW1lPSdjb250YWN0cy1uYW1lJ11cIik7XG4gICAgY29uc3QgY29udGFjdHNDb250YWN0RmllbGQgPSBjb250YWN0c0hvc3QucXVlcnlTZWxlY3RvcihcIltuYW1lPSdjb250YWN0cy1jb250YWN0J11cIik7XG4gICAgY29uc3QgY29udGFjdHNNZXNzYWdlRmllbGQgPSBjb250YWN0c0hvc3QucXVlcnlTZWxlY3RvcihcIltuYW1lPSdjb250YWN0cy1tZXNzYWdlJ11cIik7XG4gICAgY29uc3QgZm9ybUJ1dHRvbiA9IGNvbnRhY3RzSG9zdC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpO1xuXG4gICAgY29udGFjdHNOYW1lRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIGZvcm1DaGVjayhjb250YWN0c0hvc3QsIGZvcm1CdXR0b24pO1xuICAgIH0pO1xuXG4gICAgY29udGFjdHNDb250YWN0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIGZvcm1DaGVjayhjb250YWN0c0hvc3QsIGZvcm1CdXR0b24pO1xuICAgIH0pO1xuXG4gICAgY29udGFjdHNNZXNzYWdlRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIGZvcm1DaGVjayhjb250YWN0c0hvc3QsIGZvcm1CdXR0b24pO1xuICAgIH0pO1xuICB9XG59KTtcblxuZnVuY3Rpb24gZm9ybUNoZWNrKGZvcm0sIHN1Ym1pdCkge1xuICBjb25zdCBjb250YWN0c05hbWVWYWx1ZSA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIltuYW1lPSdjb250YWN0cy1uYW1lJ11cIikudmFsdWU7XG4gIGNvbnN0IGNvbnRhY3RzQ29udGFjdFZhbHVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2NvbnRhY3RzLWNvbnRhY3QnXVwiKS52YWx1ZTtcbiAgY29uc3QgY29udGFjdHNQbGFjZVZhbHVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2NvbnRhY3RzLW1lc3NhZ2UnXVwiKS52YWx1ZTtcblxuICBjb25zdCBub0VtcHR5VmFsdWVzID0gISFjb250YWN0c05hbWVWYWx1ZSAmJiAhIWNvbnRhY3RzQ29udGFjdFZhbHVlICYmICEhY29udGFjdHNQbGFjZVZhbHVlO1xuICBub0VtcHR5VmFsdWVzID8gc3VibWl0LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpIDogc3VibWl0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbn1cbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuaW1wb3J0IGFuaW1lIGZyb20gXCJhbmltZWpzL2xpYi9hbmltZS5lcy5qc1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGRpcmVjdGlvbnNIb3N0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kaXJlY3Rpb25zXCIpO1xuXG4gIGlmIChkaXJlY3Rpb25zSG9zdCkge1xuICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSAodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXRzOiB0YXJnZXQsXG4gICAgICAgIHN0cm9rZURhc2hvZmZzZXQ6IFthbmltZS5zZXREYXNob2Zmc2V0LCAwXSxcbiAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFNpbmVcIixcbiAgICAgICAgZHVyYXRpb246IDI1MDAsXG4gICAgICAgIGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgICByZXR1cm4gaSAqIDI1MDtcbiAgICAgICAgfSxcbiAgICAgICAgZGlyZWN0aW9uOiBcIm5vcm1hbFwiLFxuICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290OiBudWxsLFxuICAgICAgcm9vdE1hcmdpbjogXCIwcHhcIixcbiAgICAgIHRocmVzaG9sZDogMC41LFxuICAgIH07XG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgY29uc3Qgc3ZnID0gZW50cnkudGFyZ2V0O1xuICAgICAgICAgIGNvbnN0IHN2Z1BhdGggPSBzdmcucXVlcnlTZWxlY3RvcihcInBhdGhcIik7XG4gICAgICAgICAgY29uc3Qgc2lnbkFuaW1hdGlvbiA9IGFuaW1lKGFuaW1hdGlvbk9wdGlvbnMoc3ZnUGF0aCkpO1xuICAgICAgICAgIHN2Zy5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICBzaWduQW5pbWF0aW9uLnBsYXkoKTtcbiAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoc3ZnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICBjb25zdCB0YXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kaXJlY3Rpb25zX190aWxlIHN2Z1wiKTtcbiAgICB0YXJnZXRzLmZvckVhY2goKGkpID0+IHtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoaSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgLy8gZm9ybSBjaGVja2VyXG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3JlZ2lzdHJhdGlvbi1mb3JtXCIpO1xuXG4gIGlmIChmb3JtKSB7XG4gICAgY29uc3QgdXNlck5hbWVGaWVsZCA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIltuYW1lPSd1c2VyLW5hbWUnXVwiKTtcbiAgICBjb25zdCB1c2VyQ29udGFjdEZpZWxkID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3VzZXItY29udGFjdCddXCIpO1xuICAgIGNvbnN0IHVzZXJQbGFjZUZpZWxkID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3VzZXItcGxhY2UnXVwiKTtcbiAgICBjb25zdCB1c2VyQ2F0ZWdvcnlGaWVsZCA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIltuYW1lPSd1c2VyLWNhdGVnb3J5J11cIik7XG4gICAgY29uc3QgZm9ybUJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKTtcblxuICAgIHVzZXJOYW1lRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIGZvcm1DaGVjayhmb3JtLCBmb3JtQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIHVzZXJDb250YWN0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIGZvcm1DaGVjayhmb3JtLCBmb3JtQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIHVzZXJQbGFjZUZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgZm9ybUNoZWNrKGZvcm0sIGZvcm1CdXR0b24pO1xuICAgIH0pO1xuXG4gICAgdXNlckNhdGVnb3J5RmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBmb3JtQ2hlY2soZm9ybSwgZm9ybUJ1dHRvbik7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBmb3JtQ2hlY2soZm9ybSwgc3VibWl0KSB7XG4gIGNvbnN0IHVzZXJOYW1lVmFsdWUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0ndXNlci1uYW1lJ11cIikudmFsdWU7XG4gIGNvbnN0IHVzZXJDb250YWN0VmFsdWUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0ndXNlci1jb250YWN0J11cIikudmFsdWU7XG4gIGNvbnN0IHVzZXJQbGFjZVZhbHVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3VzZXItcGxhY2UnXVwiKS52YWx1ZTtcbiAgY29uc3QgdXNlckNhdGVnb3J5VmFsdWUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0ndXNlci1jYXRlZ29yeSddXCIpLnZhbHVlO1xuXG4gIGNvbnN0IG5vRW1wdHlWYWx1ZXMgPVxuICAgICEhdXNlck5hbWVWYWx1ZSAmJlxuICAgICEhdXNlckNvbnRhY3RWYWx1ZSAmJlxuICAgIHVzZXJQbGFjZVZhbHVlICE9PSBcItCS0YvQsdC10YDQuNGC0LUg0LTQvtC70LbQvdC+0YHRgtGMXCIgJiZcbiAgICB1c2VyQ2F0ZWdvcnlWYWx1ZSAhPT0gXCLQktGL0LHQtdGA0LjRgtC1INC60LDRgtC10LPQvtGA0LjRjiDQsdC40LfQvdC10YHQsFwiO1xuXG4gIG5vRW1wdHlWYWx1ZXMgPyBzdWJtaXQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikgOiBzdWJtaXQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xufVxuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5pbXBvcnQgb3Blbk5hdiBmcm9tIFwiLi4vLi4vanMvY29tbW9uL29wZW5OYXYuanNcIjtcblxucmVhZHkoZnVuY3Rpb24gKCkge1xuICAvLyBtb2JpbGUgbWVudVxuICBjb25zdCBtZW51VHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19tZW51XCIpO1xuICBtZW51VHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3Blbk5hdik7XG59KTtcbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuaW1wb3J0IGFuaW1lIGZyb20gXCJhbmltZWpzL2xpYi9hbmltZS5lcy5qc1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGhlcm9Ib3N0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZXJvXCIpO1xuXG4gIGlmIChoZXJvSG9zdCkge1xuICAgIGNvbnN0IGlzQW5pbWF0ZWQgPSArbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJpc0FuaW1hdGVkXCIpO1xuICAgIGNvbnN0IHBhZ2VIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcbiAgICAvL2NvbnN0IG1haW5QYWdlTG9nbyA9IHBhZ2VIZWFkZXIucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2xvZ29cIik7XG4gICAgY29uc3QgaGVyb1RleHQgPSBoZXJvSG9zdC5xdWVyeVNlbGVjdG9yKFwiLmhlcm9fX3RleHRcIik7XG4gICAgY29uc3QgaGVyb1BocmFzZXMgPSBoZXJvSG9zdC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlcm9fX3BocmFzZVwiKTtcbiAgICBjb25zdCBoZXJvVGltZUxpbmUgPSBhbmltZS50aW1lbGluZSh7XG4gICAgICBkaXJlY3Rpb246IFwibm9ybWFsXCIsXG4gICAgICBsb29wOiBmYWxzZSxcbiAgICB9KTtcblxuICAgIGZvciAobGV0IHBocmFzZSBvZiBoZXJvUGhyYXNlcykge1xuICAgICAgcGhyYXNlLmlubmVySFRNTCA9IHBocmFzZS50ZXh0Q29udGVudC5yZXBsYWNlKFxuICAgICAgICAvKFtBLVphLXrQkC3Qr9CwLdGP0ZEwLTktLCc8Pi9dKykvZyxcbiAgICAgICAgXCI8c3BhbiBjbGFzcz0nd29yZCc+JCY8L3NwYW4+XCIsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghaXNBbmltYXRlZCkge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhbmltYXRlXCIpO1xuICAgICAgaGVyb1RpbWVMaW5lXG4gICAgICAgIC5hZGQoe1xuICAgICAgICAgIHRhcmdldHM6IFwiLmhlcm9fX2xvZ28tb3V0bGluZSBwYXRoXCIsXG4gICAgICAgICAgb3BhY2l0eTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFNpbmVcIixcbiAgICAgICAgICAgICAgZGVsYXk6IDUwMCxcbiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFNpbmVcIixcbiAgICAgICAgICAgICAgZGVsYXk6IDM1MDAsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHN0cm9rZURhc2hvZmZzZXQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFsdWU6IFthbmltZS5zZXREYXNob2Zmc2V0LCAxMDAwXSxcbiAgICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFNpbmVcIixcbiAgICAgICAgICAgICAgZHVyYXRpb246IDU1MDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICAgIC5hZGQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFyZ2V0czogXCIuaGVyb19fbG9nby1zb2xpZFwiLFxuICAgICAgICAgICAgb3BhY2l0eTogWzAsIDFdLFxuICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFNpbmVcIixcbiAgICAgICAgICAgIGRlbGF5OiA1MDAsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiLT0xNTAwXCIsXG4gICAgICAgIClcbiAgICAgICAgLmFkZCh7XG4gICAgICAgICAgdGFyZ2V0czogXCIucGFnZV9faGVhZGVyXCIsXG4gICAgICAgICAgdHJhbnNsYXRlWTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2YWx1ZTogW1wiLTEwMCVcIiwgMF0sXG4gICAgICAgICAgICAgIGVhc2luZzogXCJlYXNlSW5PdXRCYWNrXCIsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIG9wYWNpdHk6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgICAgICAgIGVhc2luZzogXCJlYXNlSW5PdXRCYWNrXCIsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIHBhZ2VIZWFkZXIuY2xhc3NMaXN0LmFkZChcImhlYWRlci0tYmx1clwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgICAuYWRkKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhcmdldHM6IFwiLmhlcm9fX2J1dHRvblwiLFxuICAgICAgICAgICAgb3BhY2l0eTogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dEJhY2tcIixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICBoZXJvVGV4dC5jbGFzc0xpc3QuYWRkKFwiaGVyb19fdGV4dC0tdmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgaGVyb1BocmFzZXNBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhbmltYXRlXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiLT0xMDAwXCIsXG4gICAgICAgIClcbiAgICAgICAgLmFkZChcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YXJnZXRzOiBcIi5wYWdlX19idXR0b25cIixcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBbXCIzMHB4XCIsIDBdLFxuICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBvcGFjaXR5OiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzAsIDFdLFxuICAgICAgICAgICAgICAgIGVhc2luZzogXCJsaW5lYXJcIixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImlzQW5pbWF0ZWRcIiwgMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCItPTEwMDBcIixcbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVyb1RpbWVMaW5lXG4gICAgICAgIC5hZGQoe1xuICAgICAgICAgIHRhcmdldHM6IFwiLnBhZ2VfX2hlYWRlclwiLFxuICAgICAgICAgIG9wYWNpdHk6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFsdWU6IFswLCAxXSxcbiAgICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dEJhY2tcIixcbiAgICAgICAgICAgICAgZHVyYXRpb246IDI1MCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgcGFnZUhlYWRlci5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyLS1ibHVyXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICAgIC5hZGQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFyZ2V0czogXCIuaGVyb19fbG9nby1zb2xpZFwiLFxuICAgICAgICAgICAgb3BhY2l0eTogWzAsIDFdLFxuICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFNpbmVcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyNTAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIi09MjUwXCIsXG4gICAgICAgIClcbiAgICAgICAgLmFkZChcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YXJnZXRzOiBcIi5oZXJvX19idXR0b25cIixcbiAgICAgICAgICAgIG9wYWNpdHk6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBbMCwgMV0sXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dEJhY2tcIixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgIGhlcm9UZXh0LmNsYXNzTGlzdC5hZGQoXCJoZXJvX190ZXh0LS12aXNpYmxlXCIpO1xuICAgICAgICAgICAgICBoZXJvUGhyYXNlc0FuaW1hdGlvbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiLT0yNTBcIixcbiAgICAgICAgKVxuICAgICAgICAuYWRkKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhcmdldHM6IFwiLnBhZ2VfX2J1dHRvblwiLFxuICAgICAgICAgICAgb3BhY2l0eTogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IFswLCAxXSxcbiAgICAgICAgICAgICAgICBlYXNpbmc6IFwibGluZWFyXCIsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIi09MjUwXCIsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gbWFpblBhZ2VMb2dvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgLy8gICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgIC8vICAgICB0b3A6IDAsXG4gICAgLy8gICAgIGxlZnQ6IDAsXG4gICAgLy8gICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxuICAgIC8vICAgfSk7XG4gICAgLy8gfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBoZXJvUGhyYXNlc0FuaW1hdGlvbigpIHtcbiAgYW5pbWVcbiAgICAudGltZWxpbmUoeyBsb29wOiB0cnVlIH0pXG4gICAgLmFkZCh7XG4gICAgICB0YXJnZXRzOiBcIi5oZXJvX190ZXh0IC5oZXJvX19waHJhc2UtLTEgLndvcmRcIixcbiAgICAgIHRyYW5zbGF0ZVg6IFs0MCwgMF0sXG4gICAgICB0cmFuc2xhdGVaOiAwLFxuICAgICAgb3BhY2l0eTogWzAsIDFdLFxuICAgICAgZWFzaW5nOiBcImVhc2VPdXRFeHBvXCIsXG4gICAgICBkdXJhdGlvbjogMjUwMCxcbiAgICAgIGRlbGF5OiAoZWwsIGkpID0+IDUwMCArIDMwICogaSxcbiAgICB9KVxuICAgIC5hZGQoe1xuICAgICAgdGFyZ2V0czogXCIuaGVyb19fdGV4dCAuaGVyb19fcGhyYXNlLS0xIC53b3JkXCIsXG4gICAgICB0cmFuc2xhdGVYOiBbMCwgLTMwXSxcbiAgICAgIG9wYWNpdHk6IFsxLCAwXSxcbiAgICAgIGVhc2luZzogXCJlYXNlSW5FeHBvXCIsXG4gICAgICBkdXJhdGlvbjogMjAwMCxcbiAgICAgIGRlbGF5OiAoZWwsIGkpID0+IDEwMCArIDMwICogaSxcbiAgICB9KVxuICAgIC5hZGQoe1xuICAgICAgdGFyZ2V0czogXCIuaGVyb19fdGV4dCAuaGVyb19fcGhyYXNlLS0yIC53b3JkXCIsXG4gICAgICB0cmFuc2xhdGVYOiBbNDAsIDBdLFxuICAgICAgdHJhbnNsYXRlWjogMCxcbiAgICAgIG9wYWNpdHk6IFswLCAxXSxcbiAgICAgIGVhc2luZzogXCJlYXNlT3V0RXhwb1wiLFxuICAgICAgZHVyYXRpb246IDI1MDAsXG4gICAgICBkZWxheTogKGVsLCBpKSA9PiA1MDAgKyAzMCAqIGksXG4gICAgfSlcbiAgICAuYWRkKHtcbiAgICAgIHRhcmdldHM6IFwiLmhlcm9fX3RleHQgLmhlcm9fX3BocmFzZS0tMiAud29yZFwiLFxuICAgICAgdHJhbnNsYXRlWDogWzAsIC0zMF0sXG4gICAgICBvcGFjaXR5OiBbMSwgMF0sXG4gICAgICBlYXNpbmc6IFwiZWFzZUluRXhwb1wiLFxuICAgICAgZHVyYXRpb246IDIwMDAsXG4gICAgICBkZWxheTogKGVsLCBpKSA9PiAxMDAgKyAzMCAqIGksXG4gICAgfSlcbiAgICAuYWRkKHtcbiAgICAgIHRhcmdldHM6IFwiLmhlcm9fX3RleHQgLmhlcm9fX3BocmFzZS0tMyAud29yZFwiLFxuICAgICAgdHJhbnNsYXRlWDogWzQwLCAwXSxcbiAgICAgIHRyYW5zbGF0ZVo6IDAsXG4gICAgICBvcGFjaXR5OiBbMCwgMV0sXG4gICAgICBlYXNpbmc6IFwiZWFzZU91dEV4cG9cIixcbiAgICAgIGR1cmF0aW9uOiAyNTAwLFxuICAgICAgZGVsYXk6IChlbCwgaSkgPT4gNTAwICsgMzAgKiBpLFxuICAgIH0pXG4gICAgLmFkZCh7XG4gICAgICB0YXJnZXRzOiBcIi5oZXJvX190ZXh0IC5oZXJvX19waHJhc2UtLTMgLndvcmRcIixcbiAgICAgIHRyYW5zbGF0ZVg6IFswLCAtMzBdLFxuICAgICAgb3BhY2l0eTogWzEsIDBdLFxuICAgICAgZWFzaW5nOiBcImVhc2VJbkV4cG9cIixcbiAgICAgIGR1cmF0aW9uOiAyMDAwLFxuICAgICAgZGVsYXk6IChlbCwgaSkgPT4gMTAwICsgMzAgKiBpLFxuICAgIH0pXG4gICAgLmFkZCh7XG4gICAgICB0YXJnZXRzOiBcIi5oZXJvX190ZXh0IC5oZXJvX19waHJhc2UtLTQgLndvcmRcIixcbiAgICAgIHRyYW5zbGF0ZVg6IFs0MCwgMF0sXG4gICAgICB0cmFuc2xhdGVaOiAwLFxuICAgICAgb3BhY2l0eTogWzAsIDFdLFxuICAgICAgZWFzaW5nOiBcImVhc2VPdXRFeHBvXCIsXG4gICAgICBkdXJhdGlvbjogMjUwMCxcbiAgICAgIGRlbGF5OiAoZWwsIGkpID0+IDUwMCArIDMwICogaSxcbiAgICB9KVxuICAgIC5hZGQoe1xuICAgICAgdGFyZ2V0czogXCIuaGVyb19fdGV4dCAuaGVyb19fcGhyYXNlLS00IC53b3JkXCIsXG4gICAgICB0cmFuc2xhdGVYOiBbMCwgLTMwXSxcbiAgICAgIG9wYWNpdHk6IFsxLCAwXSxcbiAgICAgIGVhc2luZzogXCJlYXNlSW5FeHBvXCIsXG4gICAgICBkdXJhdGlvbjogMjAwMCxcbiAgICAgIGRlbGF5OiAoZWwsIGkpID0+IDEwMCArIDMwICogaSxcbiAgICB9KTtcbn1cbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeVwiO1xuaW1wb3J0IElNYXNrIGZyb20gXCJpbWFza1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIC8vIGlucHV0XG4gIGNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW5wdXRcIik7XG5cbiAgaWYgKGlucHV0cy5sZW5ndGggIT09IDApIHtcbiAgICBmb3IgKGxldCBpbnB1dCBvZiBpbnB1dHMpIHtcbiAgICAgIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggIT09IDApIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJpbnB1dC0taGFzLXZhbHVlXCIpO1xuXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhbHVlLmxlbmd0aCAhPT0gMFxuICAgICAgICAgID8gdGhpcy5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtLWhhcy12YWx1ZVwiKVxuICAgICAgICAgIDogdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXQtLWhhcy12YWx1ZVwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIHBob25lIGlucHV0XG4gIGNvbnN0IHBob25lRmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiBpbnB1dFt0eXBlPXRlbF1cIik7XG5cbiAgaWYgKHBob25lRmllbGRzKSB7XG4gICAgcGhvbmVGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgIElNYXNrKGZpZWxkLCB7XG4gICAgICAgIG1hc2s6IFwiK3s3fSAoMDAwKSAwMDAtMDAtMDBcIixcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KTtcbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuaW1wb3J0IG9wZW5OYXYgZnJvbSBcIi4uLy4uL2pzL2NvbW1vbi9vcGVuTmF2LmpzXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgLy8gY2xvc2UgbmF2XG4gIGNvbnN0IG5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpbmtcIik7XG4gIGNvbnN0IG5hdkhlYWRlckxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXJfX25hdi1pdGVtXCIpO1xuXG4gIFsuLi5uYXZMaW5rcywgLi4ubmF2SGVhZGVyTGlua3NdLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuTmF2KTtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0hhbmRsZXIpO1xuICB9KTtcblxuICBmdW5jdGlvbiBjbGlja0hhbmRsZXIoZSkge1xuICAgIGNvbnN0IGhyZWYgPSB0aGlzLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgaWYgKGhyZWYuaW5kZXhPZihcIiNcIikgPT09IDApIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IG9mZnNldFRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaHJlZikub2Zmc2V0VG9wO1xuICAgICAgc2Nyb2xsKHtcbiAgICAgICAgdG9wOiBvZmZzZXRUb3AsXG4gICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuaW1wb3J0IGFuaW1lIGZyb20gXCJhbmltZWpzL2xpYi9hbmltZS5lcy5qc1wiO1xuaW1wb3J0IHsgdXJsUGF0aG5hbWUsIHVybFNlYXJjaCwgdXJsSGFzaCB9IGZyb20gXCIuLi8uLi9qcy91dGlscy9ocmVmR2V0dGVyXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaXNBbmltYXRlZFwiKSA9PT0gbnVsbCkge1xuICAgIHdpbmRvdy5zY3JvbGxUbyh7XG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXG4gICAgfSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJpc0FuaW1hdGVkXCIsIDApO1xuICB9XG4gIGlmICh1cmxQYXRobmFtZSAhPT0gXCIvXCIgfHwgdXJsU2VhcmNoICE9PSBcIlwiIHx8IHVybEhhc2ggIT09IFwiXCIpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImlzQW5pbWF0ZWRcIiwgMSk7XG5cbiAgICBjb25zdCBwYWdlSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XG4gICAgY29uc3QgcGFnZVRpbWVMaW5lID0gYW5pbWUudGltZWxpbmUoe1xuICAgICAgZGlyZWN0aW9uOiBcIm5vcm1hbFwiLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgfSk7XG5cbiAgICBwYWdlVGltZUxpbmVcbiAgICAgIC5hZGQoe1xuICAgICAgICB0YXJnZXRzOiBcIi5wYWdlX19oZWFkZXJcIixcbiAgICAgICAgb3BhY2l0eTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlOiBbMCwgMV0sXG4gICAgICAgICAgICBlYXNpbmc6IFwiZWFzZUluT3V0QmFja1wiLFxuICAgICAgICAgICAgZHVyYXRpb246IDI1MCxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIHBhZ2VIZWFkZXIuY2xhc3NMaXN0LmFkZChcImhlYWRlci0tYmx1clwiKTtcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICAuYWRkKFxuICAgICAgICB7XG4gICAgICAgICAgdGFyZ2V0czogXCIucGFnZV9fYnV0dG9uXCIsXG4gICAgICAgICAgb3BhY2l0eTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2YWx1ZTogWzAsIDFdLFxuICAgICAgICAgICAgICBlYXNpbmc6IFwibGluZWFyXCIsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIFwiLT0yNTBcIixcbiAgICAgICk7XG4gIH1cbn0pO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIeXN0TW9kYWwge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gICAgICBiYWNrc2Nyb2xsOiB0cnVlLFxuICAgICAgbGlua0F0dHJpYnV0ZU5hbWU6ICdkYXRhLWh5c3Rtb2RhbCcsXG4gICAgICBjbG9zZU9uT3ZlcmxheTogdHJ1ZSxcbiAgICAgIGNsb3NlT25Fc2M6IHRydWUsXG4gICAgICBjbG9zZU9uQnV0dG9uOiB0cnVlLFxuICAgICAgd2FpdFRyYW5zaXRpb25zOiBmYWxzZSxcbiAgICAgIGNhdGNoRm9jdXM6IHRydWUsXG4gICAgICBmaXhlZFNlbGVjdG9yczogJypbZGF0YS1oeXN0Zml4ZWRdJyxcbiAgICAgIGJlZm9yZU9wZW46ICgpID0+IHsgfSxcbiAgICAgIGFmdGVyQ2xvc2U6ICgpID0+IHsgfSxcbiAgICB9O1xuICAgIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0Q29uZmlnLCBwcm9wcyk7XG4gICAgaWYgKHRoaXMuY29uZmlnLmxpbmtBdHRyaWJ1dGVOYW1lKSB7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgdGhpcy5fY2xvc2VBZnRlclRyYW5zaXRpb24gPSB0aGlzLl9jbG9zZUFmdGVyVHJhbnNpdGlvbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmlzT3BlbmVkID0gZmFsc2U7XG4gICAgdGhpcy5vcGVuZWRXaW5kb3cgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXJ0ZXIgPSBmYWxzZTtcbiAgICB0aGlzLl9uZXh0V2luZG93cyA9IGZhbHNlO1xuICAgIHRoaXMuX3Njcm9sbFBvc2l0aW9uID0gMDtcbiAgICB0aGlzLl9yZW9wZW5UcmlnZ2VyID0gZmFsc2U7XG4gICAgdGhpcy5fb3ZlcmxheUNoZWNrZXIgPSBmYWxzZTtcbiAgICB0aGlzLl9pc01vdmVkID0gZmFsc2U7XG4gICAgdGhpcy5fZm9jdXNFbGVtZW50cyA9IFtcbiAgICAgICdhW2hyZWZdJyxcbiAgICAgICdhcmVhW2hyZWZdJyxcbiAgICAgICdpbnB1dDpub3QoW2Rpc2FibGVkXSk6bm90KFt0eXBlPVwiaGlkZGVuXCJdKTpub3QoW2FyaWEtaGlkZGVuXSknLFxuICAgICAgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pJyxcbiAgICAgICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pJyxcbiAgICAgICdidXR0b246bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKScsXG4gICAgICAnaWZyYW1lJyxcbiAgICAgICdvYmplY3QnLFxuICAgICAgJ2VtYmVkJyxcbiAgICAgICdbY29udGVudGVkaXRhYmxlXScsXG4gICAgICAnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pJyxcbiAgICBdO1xuICAgIHRoaXMuX21vZGFsQmxvY2sgPSBmYWxzZTtcblxuICAgIGNvbnN0IGV4aXN0aW5nU2hhZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh5c3Rtb2RhbF9fc2hhZG93Jyk7XG4gICAgaWYgKGV4aXN0aW5nU2hhZG93KSB7XG4gICAgICB0aGlzLnNoYWRvdyA9IGV4aXN0aW5nU2hhZG93O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNoYWRvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy5zaGFkb3cuY2xhc3NMaXN0LmFkZCgnaHlzdG1vZGFsX19zaGFkb3cnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5zaGFkb3cpO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50c0ZlZWxlcigpO1xuICB9XG5cbiAgZXZlbnRzRmVlbGVyKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNsaWNrZWRsaW5rID0gZS50YXJnZXQuY2xvc2VzdChgWyR7dGhpcy5jb25maWcubGlua0F0dHJpYnV0ZU5hbWV9XWApO1xuICAgICAgaWYgKCF0aGlzLl9pc01vdmVkICYmIGNsaWNrZWRsaW5rKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zdGFydGVyID0gY2xpY2tlZGxpbms7XG4gICAgICAgIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gdGhpcy5zdGFydGVyLmdldEF0dHJpYnV0ZSh0aGlzLmNvbmZpZy5saW5rQXR0cmlidXRlTmFtZSk7XG4gICAgICAgIHRoaXMuX25leHRXaW5kb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb25maWcuY2xvc2VPbkJ1dHRvbiAmJiBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1oeXN0Y2xvc2VdJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuY29uZmlnLmNsb3NlT25PdmVybGF5KSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2lzTW92ZWQgJiYgKGUudGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkgJiYgIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaHlzdG1vZGFsX193cmFwJykpIHJldHVybjtcbiAgICAgICAgdGhpcy5fb3ZlcmxheUNoZWNrZXIgPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZSkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2lzTW92ZWQgJiYgKGUudGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkgJiYgdGhpcy5fb3ZlcmxheUNoZWNrZXIgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoeXN0bW9kYWxfX3dyYXAnKSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLl9vdmVybGF5Q2hlY2tlciA9ICF0aGlzLl9vdmVybGF5Q2hlY2tlcjtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX292ZXJsYXlDaGVja2VyID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX2lzTW92ZWQgJiYgdGhpcy5jb25maWcuY2xvc2VPbkVzYyAmJiBlLndoaWNoID09PSAyNyAmJiB0aGlzLmlzT3BlbmVkKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX2lzTW92ZWQgJiYgdGhpcy5jb25maWcuY2F0Y2hGb2N1cyAmJiBlLndoaWNoID09PSA5ICYmIHRoaXMuaXNPcGVuZWQpIHtcbiAgICAgICAgdGhpcy5mb2N1c0NhdGNoZXIoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvcGVuKHNlbGVjdG9yKSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAodHlwZW9mIChzZWxlY3RvcikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX25leHRXaW5kb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9uZXh0V2luZG93cyA9IHNlbGVjdG9yO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuX25leHRXaW5kb3dzKSB7XG4gICAgICBjb25zb2xlLmxvZygnV2FybmluZzogaHlzdE1vZGFsIHNlbGVjdG9yIGlzIG5vdCBmb3VuZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc09wZW5lZCkge1xuICAgICAgdGhpcy5fcmVvcGVuVHJpZ2dlciA9IHRydWU7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMub3BlbmVkV2luZG93ID0gdGhpcy5fbmV4dFdpbmRvd3M7XG4gICAgdGhpcy5fbW9kYWxCbG9jayA9IHRoaXMub3BlbmVkV2luZG93LnF1ZXJ5U2VsZWN0b3IoJy5oeXN0bW9kYWxfX3dpbmRvdycpO1xuICAgIHRoaXMuY29uZmlnLmJlZm9yZU9wZW4odGhpcyk7XG4gICAgdGhpcy5fYm9keVNjcm9sbENvbnRyb2woKTtcbiAgICB0aGlzLnNoYWRvdy5jbGFzc0xpc3QuYWRkKCdoeXN0bW9kYWxfX3NoYWRvdy0tc2hvdycpO1xuICAgIHRoaXMub3BlbmVkV2luZG93LmNsYXNzTGlzdC5hZGQoJ2h5c3Rtb2RhbC0tYWN0aXZlJyk7XG4gICAgdGhpcy5vcGVuZWRXaW5kb3cuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIGlmICh0aGlzLmNvbmZpZy5jYXRjaEZvY3VzKSB0aGlzLmZvY3VzQ29udHJvbCgpO1xuICAgIHRoaXMuaXNPcGVuZWQgPSB0cnVlO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbmZpZy53YWl0VHJhbnNpdGlvbnMpIHtcbiAgICAgIHRoaXMub3BlbmVkV2luZG93LmNsYXNzTGlzdC5hZGQoJ2h5c3Rtb2RhbC0tbW92ZWQnKTtcbiAgICAgIHRoaXMuX2lzTW92ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5vcGVuZWRXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMuX2Nsb3NlQWZ0ZXJUcmFuc2l0aW9uKTtcbiAgICAgIHRoaXMub3BlbmVkV2luZG93LmNsYXNzTGlzdC5yZW1vdmUoJ2h5c3Rtb2RhbC0tYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3BlbmVkV2luZG93LmNsYXNzTGlzdC5yZW1vdmUoJ2h5c3Rtb2RhbC0tYWN0aXZlJyk7XG4gICAgICB0aGlzLl9jbG9zZUFmdGVyVHJhbnNpdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZUFmdGVyVHJhbnNpdGlvbigpIHtcbiAgICB0aGlzLm9wZW5lZFdpbmRvdy5jbGFzc0xpc3QucmVtb3ZlKCdoeXN0bW9kYWwtLW1vdmVkJyk7XG4gICAgdGhpcy5vcGVuZWRXaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMuX2Nsb3NlQWZ0ZXJUcmFuc2l0aW9uKTtcbiAgICB0aGlzLl9pc01vdmVkID0gZmFsc2U7XG4gICAgdGhpcy5zaGFkb3cuY2xhc3NMaXN0LnJlbW92ZSgnaHlzdG1vZGFsX19zaGFkb3ctLXNob3cnKTtcbiAgICB0aGlzLm9wZW5lZFdpbmRvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5jYXRjaEZvY3VzKSB0aGlzLmZvY3VzQ29udHJvbCgpO1xuICAgIHRoaXMuX2JvZHlTY3JvbGxDb250cm9sKCk7XG4gICAgdGhpcy5pc09wZW5lZCA9IGZhbHNlO1xuICAgIHRoaXMub3BlbmVkV2luZG93LnNjcm9sbFRvcCA9IDA7XG4gICAgdGhpcy5jb25maWcuYWZ0ZXJDbG9zZSh0aGlzKTtcblxuICAgIGlmICh0aGlzLl9yZW9wZW5UcmlnZ2VyKSB7XG4gICAgICB0aGlzLl9yZW9wZW5UcmlnZ2VyID0gZmFsc2U7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gIH1cblxuICBmb2N1c0NvbnRyb2woKSB7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLm9wZW5lZFdpbmRvdy5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2ZvY3VzRWxlbWVudHMpO1xuICAgIGlmICh0aGlzLmlzT3BlbmVkICYmIHRoaXMuc3RhcnRlcikge1xuICAgICAgdGhpcy5zdGFydGVyLmZvY3VzKCk7XG4gICAgfSBlbHNlIGlmIChub2Rlcy5sZW5ndGgpIG5vZGVzWzBdLmZvY3VzKCk7XG4gIH1cblxuICBmb2N1c0NhdGNoZXIoZSkge1xuICAgIGNvbnN0IG5vZGVzID0gdGhpcy5vcGVuZWRXaW5kb3cucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9mb2N1c0VsZW1lbnRzKTtcbiAgICBjb25zdCBub2Rlc0FycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobm9kZXMpO1xuICAgIGlmICghdGhpcy5vcGVuZWRXaW5kb3cuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgIG5vZGVzQXJyYXlbMF0uZm9jdXMoKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZm9jdXNlZEl0ZW1JbmRleCA9IG5vZGVzQXJyYXkuaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICAgIGlmIChlLnNoaWZ0S2V5ICYmIGZvY3VzZWRJdGVtSW5kZXggPT09IDApIHtcbiAgICAgICAgbm9kZXNBcnJheVtub2Rlc0FycmF5Lmxlbmd0aCAtIDFdLmZvY3VzKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICghZS5zaGlmdEtleSAmJiBmb2N1c2VkSXRlbUluZGV4ID09PSBub2Rlc0FycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgbm9kZXNBcnJheVswXS5mb2N1cygpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2JvZHlTY3JvbGxDb250cm9sKCkge1xuICAgIGlmICghdGhpcy5jb25maWcuYmFja3Njcm9sbCkgcmV0dXJuO1xuXG4gICAgLy8gY29sbGVjdCBmaXhlZCBzZWxlY3RvcnMgdG8gYXJyYXlcbiAgICBjb25zdCBmaXhlZFNlbGVjdG9yc0VsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLmNvbmZpZy5maXhlZFNlbGVjdG9ycyk7XG4gICAgY29uc3QgZml4ZWRTZWxlY3RvcnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmaXhlZFNlbGVjdG9yc0VsZW1zKTtcblxuICAgIGNvbnN0IGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgaWYgKHRoaXMuaXNPcGVuZWQgPT09IHRydWUpIHtcbiAgICAgIGh0bWwuY2xhc3NMaXN0LnJlbW92ZSgnaHlzdG1vZGFsX19vcGVuZWQnKTtcbiAgICAgIGh0bWwuc3R5bGUubWFyZ2luUmlnaHQgPSAnJztcbiAgICAgIGZpeGVkU2VsZWN0b3JzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLnN0eWxlLm1hcmdpblJpZ2h0ID0gJyc7XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCB0aGlzLl9zY3JvbGxQb3NpdGlvbik7XG4gICAgICBodG1sLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICBjb25zdCBtYXJnaW5TaXplID0gd2luZG93LmlubmVyV2lkdGggLSBodG1sLmNsaWVudFdpZHRoO1xuICAgIGh0bWwuc3R5bGUudG9wID0gYCR7LXRoaXMuX3Njcm9sbFBvc2l0aW9ufXB4YDtcblxuICAgIGlmIChtYXJnaW5TaXplKSB7XG4gICAgICBodG1sLnN0eWxlLm1hcmdpblJpZ2h0ID0gYCR7bWFyZ2luU2l6ZX1weGA7XG4gICAgICBmaXhlZFNlbGVjdG9ycy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5zdHlsZS5tYXJnaW5SaWdodCA9IGAke3BhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZWwpLm1hcmdpblJpZ2h0LCAxMCkgKyBtYXJnaW5TaXplfXB4YDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBodG1sLmNsYXNzTGlzdC5hZGQoJ2h5c3Rtb2RhbF9fb3BlbmVkJyk7XG4gIH1cbn1cbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeVwiO1xuaW1wb3J0IEh5c3RNb2RhbCBmcm9tIFwiLi9oeXN0bW9kYWxcIjtcbmltcG9ydCBTaW1wbGVCYXIgZnJvbSBcInNpbXBsZWJhclwiO1xuaW1wb3J0IFNsaW1TZWxlY3QgZnJvbSBcInNsaW0tc2VsZWN0XCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgcGxhY2VTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3VzZXItcGxhY2UnXVwiKTtcbiAgY29uc3QgY2F0ZWdvcnlTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3VzZXItY2F0ZWdvcnknXVwiKTtcblxuICBjb25zdCBwbGFjZVNsaW1TZWxlY3QgPSBuZXcgU2xpbVNlbGVjdCh7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuICAgIHNlbGVjdDogcGxhY2VTZWxlY3QsXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgIHNob3dTZWFyY2g6IGZhbHNlLFxuICAgIH0sXG4gICAgZXZlbnRzOiB7XG4gICAgICBhZnRlckNoYW5nZTogKCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IHBsYWNlU2VsZWN0LmRhdGFzZXQuaWQ7XG4gICAgICAgIGNvbnN0IGRyb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuc3MtY29udGVudFtpZD0ke2lkfV1gKTtcbiAgICAgICAgY29uc3QgbGlzdCA9IGRyb3AucXVlcnlTZWxlY3RvcihcIi5zcy1saXN0XCIpO1xuICAgICAgICBuZXcgU2ltcGxlQmFyKGxpc3QsIHsgYXV0b0hpZGU6IGZhbHNlIH0pO1xuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgY2F0ZWdvcnlTbGltU2VsZWN0ID0gbmV3IFNsaW1TZWxlY3Qoe1xuICAgIHNlbGVjdDogXCJbbmFtZT0ndXNlci1jYXRlZ29yeSddXCIsXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgIHNob3dTZWFyY2g6IGZhbHNlLFxuICAgIH0sXG4gICAgZXZlbnRzOiB7XG4gICAgICBhZnRlckNoYW5nZTogKCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGNhdGVnb3J5U2VsZWN0LmRhdGFzZXQuaWQ7XG4gICAgICAgIGNvbnN0IGRyb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuc3MtY29udGVudFtpZD0ke2lkfV1gKTtcbiAgICAgICAgY29uc3QgbGlzdCA9IGRyb3AucXVlcnlTZWxlY3RvcihcIi5zcy1saXN0XCIpO1xuICAgICAgICBuZXcgU2ltcGxlQmFyKGxpc3QsIHsgYXV0b0hpZGU6IGZhbHNlIH0pO1xuICAgICAgfSxcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBkaXJlY3Rpb25zSG9zdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGlyZWN0aW9uc1wiKTtcbiAgY29uc3QgbW9kYWwgPSBuZXcgSHlzdE1vZGFsKHtcbiAgICBsaW5rQXR0cmlidXRlTmFtZTogXCJkYXRhLWh5c3Rtb2RhbFwiLFxuICAgIGJlZm9yZU9wZW46ICgpID0+IHtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3MtbGlzdFwiKSxcbiAgICAgICAgKGVsKSA9PiBuZXcgU2ltcGxlQmFyKGVsLCB7IGF1dG9IaWRlOiBmYWxzZSB9KSxcbiAgICAgICk7XG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKGRpcmVjdGlvbnNIb3N0KSB7XG4gICAgY29uc3QgdGlsZXMgPSBkaXJlY3Rpb25zSG9zdC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRpcmVjdGlvbnNfX3RpbGVcIik7XG5cbiAgICB0aWxlcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgICBjb25zdCB0aWxlQ2F0ZWdvcnkgPSB0aWxlLmRhdGFzZXQuY2F0O1xuXG4gICAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIC8vY2F0ZWdvcnlTZWxlY3QudmFsdWUgPSB0aWxlQ2F0ZWdvcnk7XG4gICAgICAgIGNhdGVnb3J5U2xpbVNlbGVjdC5zZXRTZWxlY3RlZCh0aWxlQ2F0ZWdvcnkpO1xuXG4gICAgICAgIG1vZGFsLm9wZW4oXCIjcG9wdXBcIik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHdpbmRvdy50aGFua3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgbW9kYWwub3BlbihcIiNwb3B1cC10aGFua3NcIik7XG4gIH07XG59KTtcbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuaW1wb3J0IFN3aXBlciwgeyBQYWdpbmF0aW9uIH0gZnJvbSBcInN3aXBlclwiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHJldmlld3NIb3N0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXZpZXdzXCIpO1xuXG4gIGlmIChyZXZpZXdzSG9zdCkge1xuICAgIGNvbnN0IGJyZWFrcG9pbnQgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6NzY4cHgpXCIpO1xuXG4gICAgbGV0IHJldmlld3NTbGlkZXI7XG5cbiAgICBjb25zdCBicmVha3BvaW50Q2hlY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChicmVha3BvaW50Lm1hdGNoZXMgPT09IHRydWUpIHtcbiAgICAgICAgaWYgKHJldmlld3NTbGlkZXIgIT09IHVuZGVmaW5lZCkgcmV2aWV3c1NsaWRlci5kZXN0cm95KHRydWUsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChicmVha3BvaW50Lm1hdGNoZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBlbmFibGVTd2lwZXIoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZW5hYmxlU3dpcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV2aWV3c1NsaWRlciA9IG5ldyBTd2lwZXIoXCIucmV2aWV3c19fc2xpZGVyXCIsIHtcbiAgICAgICAgbW9kdWxlczogW1BhZ2luYXRpb25dLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6IFwiLnJldmlld3NfX3NsaWRlci1wYWdpbmF0aW9uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgICAgNzY4OiB7XG4gICAgICAgICAgICBkZXN0cm95OiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgYnJlYWtwb2ludC5hZGRMaXN0ZW5lcihicmVha3BvaW50Q2hlY2tlcik7XG5cbiAgICBicmVha3BvaW50Q2hlY2tlcigpO1xuICB9XG59KTtcbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuaW1wb3J0IGFuaW1lIGZyb20gXCJhbmltZWpzL2xpYi9hbmltZS5lcy5qc1wiO1xuaW1wb3J0IFN3aXBlciwgeyBQYWdpbmF0aW9uLCBOYXZpZ2F0aW9uIH0gZnJvbSBcInN3aXBlclwiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlcnZpY2VzSG9zdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZXNcIik7XG5cbiAgaWYgKHNlcnZpY2VzSG9zdCkge1xuICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSAodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXRzOiB0YXJnZXQsXG4gICAgICAgIHN0cm9rZURhc2hvZmZzZXQ6IFthbmltZS5zZXREYXNob2Zmc2V0LCAwXSxcbiAgICAgICAgZWFzaW5nOiBcImVhc2VJbk91dFNpbmVcIixcbiAgICAgICAgZHVyYXRpb246IDI1MDAsXG4gICAgICAgIGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgICByZXR1cm4gaSAqIDI1MDtcbiAgICAgICAgfSxcbiAgICAgICAgZGlyZWN0aW9uOiBcIm5vcm1hbFwiLFxuICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290OiBudWxsLFxuICAgICAgcm9vdE1hcmdpbjogXCIwcHhcIixcbiAgICAgIHRocmVzaG9sZDogMC41LFxuICAgIH07XG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgY29uc3Qgc3ZnID0gZW50cnkudGFyZ2V0O1xuICAgICAgICAgIGNvbnN0IHN2Z1BhdGhzID0gc3ZnLnF1ZXJ5U2VsZWN0b3JBbGwoXCJwYXRoXCIpO1xuICAgICAgICAgIHN2Zy5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICBzdmdQYXRocy5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzaWduQW5pbWF0aW9uID0gYW5pbWUoYW5pbWF0aW9uT3B0aW9ucyhwYXRoKSk7XG4gICAgICAgICAgICBzaWduQW5pbWF0aW9uLnBsYXkoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoc3ZnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICBjb25zdCByZXZpZXdzU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZXJ2aWNlc19fc2xpZGVyXCIpO1xuICAgIGNvbnN0IHJldmlld3NTbGlkZXMgPSByZXZpZXdzU2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VydmljZXNfX3NsaWRlci1zbGlkZVwiKTtcbiAgICBjb25zdCBmaXJzdFN2ZyA9IHJldmlld3NTbGlkZXNbMF0ucXVlcnlTZWxlY3RvckFsbChcInN2Z1wiKTtcbiAgICBmaXJzdFN2Zy5mb3JFYWNoKChpKSA9PiB7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGkpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmV2aWV3c1N3aXBlclNsaWRlciA9IG5ldyBTd2lwZXIocmV2aWV3c1NsaWRlciwge1xuICAgICAgbW9kdWxlczogW1BhZ2luYXRpb24sIE5hdmlnYXRpb25dLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgZWw6IFwiLnNlcnZpY2VzX19zbGlkZXItcGFnaW5hdGlvblwiLFxuICAgICAgfSxcbiAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgbmV4dEVsOiBcIi5zZXJ2aWNlc19fc2xpZGVyLW5leHRcIixcbiAgICAgICAgcHJldkVsOiBcIi5zZXJ2aWNlc19fc2xpZGVyLXByZXZcIixcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV2aWV3c1N3aXBlclNsaWRlci5vbihcInNsaWRlQ2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTdmcgPSByZXZpZXdzU2xpZGVzW3Jldmlld3NTd2lwZXJTbGlkZXIuYWN0aXZlSW5kZXhdLnF1ZXJ5U2VsZWN0b3IoXCJzdmdcIik7XG4gICAgICBjb25zdCBzdmdQYXRocyA9IGN1cnJlbnRTdmcucXVlcnlTZWxlY3RvckFsbChcInBhdGhcIik7XG4gICAgICBjdXJyZW50U3ZnLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgc3ZnUGF0aHMuZm9yRWFjaCgocGF0aCkgPT4ge1xuICAgICAgICBjb25zdCBzaWduQW5pbWF0aW9uID0gYW5pbWUoYW5pbWF0aW9uT3B0aW9ucyhwYXRoKSk7XG4gICAgICAgIHNpZ25BbmltYXRpb24ucGxheSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV2aWV3c1N3aXBlclNsaWRlci5vbihcInNsaWRlQ2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZTdmcgPSByZXZpZXdzU2xpZGVzW3Jldmlld3NTd2lwZXJTbGlkZXIucHJldmlvdXNJbmRleF0ucXVlcnlTZWxlY3RvcihcInN2Z1wiKTtcbiAgICAgIHByZXZTdmcuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgdGFnSG9zdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFnc1wiKTtcblxuICBpZiAodGFnSG9zdCkge1xuICAgIGNvbnN0IGFjdGl2ZVRhZyA9IHRhZ0hvc3QucXVlcnlTZWxlY3RvcihcIi50YWdzX19saW5rLS1hY3RpdmVcIik7XG4gICAgY29uc3QgdGFnU2Nyb2xsID0gdGFnSG9zdC5xdWVyeVNlbGVjdG9yKFwiLnRhZ3NfX3Njcm9sbFwiKTtcblxuICAgIGNlbnRlclRhZyh0YWdTY3JvbGwsIGFjdGl2ZVRhZyk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XG4gICAgICBjZW50ZXJUYWcodGFnU2Nyb2xsLCBhY3RpdmVUYWcpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc2xpZGVyID0gdGFnU2Nyb2xsO1xuICAgIGxldCBpc0Rvd24gPSBmYWxzZTtcbiAgICBsZXQgc3RhcnRYO1xuICAgIGxldCBzY3JvbGxMZWZ0O1xuICAgIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICBpc0Rvd24gPSB0cnVlO1xuICAgICAgc2xpZGVyLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICBzdGFydFggPSBlLnBhZ2VYIC0gc2xpZGVyLm9mZnNldExlZnQ7XG4gICAgICBzY3JvbGxMZWZ0ID0gc2xpZGVyLnNjcm9sbExlZnQ7XG4gICAgfSk7XG4gICAgc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcbiAgICAgIGlzRG93biA9IGZhbHNlO1xuICAgICAgc2xpZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgfSk7XG4gICAgc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsICgpID0+IHtcbiAgICAgIGlzRG93biA9IGZhbHNlO1xuICAgICAgc2xpZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgfSk7XG4gICAgc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGUpID0+IHtcbiAgICAgIGlmICghaXNEb3duKSByZXR1cm47XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB4ID0gZS5wYWdlWCAtIHNsaWRlci5vZmZzZXRMZWZ0O1xuICAgICAgY29uc3Qgd2FsayA9ICh4IC0gc3RhcnRYKSAqIDM7IC8vc2Nyb2xsLWZhc3RcbiAgICAgIHNsaWRlci5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdCAtIHdhbGs7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjZW50ZXJUYWcoc2Nyb2xsLCBhY3RpdmUpIHtcbiAgaWYgKGFjdGl2ZS5vZmZzZXRMZWZ0ID4gd2luZG93LmlubmVyV2lkdGggLyAyKSB7XG4gICAgc2Nyb2xsLnNjcm9sbFRvKHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IGFjdGl2ZS5vZmZzZXRMZWZ0IC0gd2luZG93LmlubmVyV2lkdGggLyAyICsgYWN0aXZlLm9mZnNldFdpZHRoIC8gMixcbiAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgcmVhZHkgZnJvbSBcIi4uLy4uL2pzL3V0aWxzL2RvY3VtZW50UmVhZHlcIjtcbmltcG9ydCBhdXRvc2l6ZSBmcm9tIFwiYXV0b3NpemVcIjtcblxucmVhZHkoZnVuY3Rpb24gKCkge1xuICAvLyB0ZXh0YXJlYVxuICBjb25zdCB0ZXh0YXJlYXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRleHRhcmVhXCIpO1xuXG4gIGlmICh0ZXh0YXJlYXMubGVuZ3RoICE9PSAwKSB7XG4gICAgZm9yIChsZXQgdGV4dGFyZWEgb2YgdGV4dGFyZWFzKSB7XG4gICAgICBpZiAodGV4dGFyZWEudmFsdWUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGF1dG9zaXplKHRleHRhcmVhKTtcbiAgICAgICAgdGV4dGFyZWEuY2xhc3NMaXN0LmFkZChcInRleHRhcmVhLS1oYXMtdmFsdWVcIik7XG4gICAgICB9XG5cbiAgICAgIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsdWUubGVuZ3RoICE9PSAwXG4gICAgICAgICAgPyB0aGlzLmNsYXNzTGlzdC5hZGQoXCJ0ZXh0YXJlYS0taGFzLXZhbHVlXCIpXG4gICAgICAgICAgOiB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJ0ZXh0YXJlYS0taGFzLXZhbHVlXCIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgYXV0b3NpemUodGV4dGFyZWFzKTtcbn0pO1xuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5pbXBvcnQgYW5pbWUgZnJvbSBcImFuaW1lanNcIjtcblxucmVhZHkoZnVuY3Rpb24gKCkge1xuICBjb25zdCB3b3JrSG9zdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud29ya1wiKTtcblxuICBpZiAod29ya0hvc3QpIHtcbiAgICBjb25zdCBhbmltYXRpb25PcHRpb25zID0gKHRhcmdldCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGFyZ2V0czogdGFyZ2V0LFxuICAgICAgICBzdHJva2VEYXNob2Zmc2V0OiBbYW5pbWUuc2V0RGFzaG9mZnNldCwgMF0sXG4gICAgICAgIGVhc2luZzogXCJlYXNlSW5PdXRTaW5lXCIsXG4gICAgICAgIGR1cmF0aW9uOiAyNTAwLFxuICAgICAgICBkZWxheTogZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIGkgKiAyNTA7XG4gICAgICAgIH0sXG4gICAgICAgIGRpcmVjdGlvbjogXCJub3JtYWxcIixcbiAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgcm9vdDogbnVsbCxcbiAgICAgIHJvb3RNYXJnaW46IFwiMHB4XCIsXG4gICAgICB0aHJlc2hvbGQ6IDAuNSxcbiAgICB9O1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgIGNvbnN0IHN2ZyA9IGVudHJ5LnRhcmdldDtcbiAgICAgICAgICBjb25zdCBzdmdQYXRoID0gc3ZnLnF1ZXJ5U2VsZWN0b3IoXCJwYXRoXCIpO1xuICAgICAgICAgIGNvbnN0IHNpZ25BbmltYXRpb24gPSBhbmltZShhbmltYXRpb25PcHRpb25zKHN2Z1BhdGgpKTtcbiAgICAgICAgICBzdmcuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgc2lnbkFuaW1hdGlvbi5wbGF5KCk7XG4gICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHN2Zyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgY29uc3QgdGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIud29ya19fdGlsZSBzdmdcIik7XG4gICAgdGFyZ2V0cy5mb3JFYWNoKChpKSA9PiB7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGkpO1xuICAgIH0pO1xuICB9XG59KTtcbiIsImZ1bmN0aW9uIG9wZW5OYXYoKSB7XG4gIGxldCBib2R5U3RhdGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zdGF0ZVwiKTtcbiAgYm9keVN0YXRlID09PSBcIm1vYmlsZS1tZW51XCJcbiAgICA/IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5zdGF0ZSA9IFwiXCIpXG4gICAgOiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQuc3RhdGUgPSBcIm1vYmlsZS1tZW51XCIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBvcGVuTmF2O1xuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5pbXBvcnQgZ2V0U2Nyb2xsU2l6ZSBmcm9tIFwiLi4vanMvdXRpbHMvZ2V0U2Nyb2xsU2l6ZS5qc1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIC8vIGNvbnNvbGUubG9nKFwiRE9NINCz0LXRgNC+0LjRh9C10YHQutC4INC/0L7RgdGC0YDQvtC10L0hXCIpO1xuICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YHRgtC+0LzQvdC+0LPQviDRgdCy0L7QudGB0YLQstCwINGBINGB0LjRgdGC0LXQvNC90L7QuSDRiNC40YDQuNC90L7QuSDRgdC60YDQvtC70LvQsFxuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWNzcy1zY3JvbGwtc2l6ZVwiLCBgJHtnZXRTY3JvbGxTaXplKCl9cHhgKTtcbn0pO1xuXG4vLyBpbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7IC8vINCf0LXRgNC10LQg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40LXQvCDRg9GB0YLQsNC90L7QstC40YLRjCDQutCw0Log0LfQsNCy0LjRgdC40LzQvtGB0YLRjFxuLy8gJChmdW5jdGlvbiAoKSB7XG4vLyAgIGNvbnNvbGUubG9nKFwialF1ZXJ5INCz0LXRgNC+0LjRh9C10YHQutC4INGB0YDQsNCx0L7RgtCw0LshXCIpO1xuLy8gfSk7XG4iLCJjb25zdCByZWFkeSA9IGZ1bmN0aW9uIChmbikge1xuICBpZiAoXG4gICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQgPyBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgOiBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIlxuICApIHtcbiAgICBmbigpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZuKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVhZHk7XG4iLCJjb25zdCBnZXRTY3JvbGxTaXplID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbnN0IGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xuICBvdXRlci5jbGFzc0xpc3QuYWRkKFwic2Nyb2xsYmFyXCIpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG91dGVyKTtcbiAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuICBjb25zdCBzY3JvbGxiYXJTaXplID0gb3V0ZXIub2Zmc2V0V2lkdGggLSBpbm5lci5vZmZzZXRXaWR0aDtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdXRlcik7XG4gIHJldHVybiBzY3JvbGxiYXJTaXplO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0U2Nyb2xsU2l6ZTtcbiIsImNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG5leHBvcnQgY29uc3QgdXJsUGF0aG5hbWUgPSB1cmwucGF0aG5hbWU7XG5leHBvcnQgY29uc3QgdXJsU2VhcmNoID0gdXJsLnNlYXJjaDtcbmV4cG9ydCBjb25zdCB1cmxIYXNoID0gdXJsLmhhc2g7XG4iLCJ2YXIgY2FuVXNlRE9NID0gISEoXG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gIHdpbmRvdy5kb2N1bWVudCAmJlxuICB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudFxuKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjYW5Vc2VET007IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gIHRyeSB7XG4gICAgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcblxuICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XG5cbiAgdmFyIGtleSwgaTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICByZXR1cm4gY2FsbDtcbiAgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7XG4gIH1cblxuICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHtcbiAgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkge1xuICAgIHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSxcbiAgICAgICAgcmVzdWx0O1xuXG4gICAgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHtcbiAgICAgIHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7XG5cbiAgICAgIHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgd2hpbGUgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHtcbiAgICBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmZ1bmN0aW9uIF9nZXQoKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkge1xuICAgIF9nZXQgPSBSZWZsZWN0LmdldC5iaW5kKCk7XG4gIH0gZWxzZSB7XG4gICAgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICAgIHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7XG5cbiAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGggPCAzID8gdGFyZ2V0IDogcmVjZWl2ZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF9nZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIgJiYgUmVmbGVjdC5zZXQpIHtcbiAgICBzZXQgPSBSZWZsZWN0LnNldDtcbiAgfSBlbHNlIHtcbiAgICBzZXQgPSBmdW5jdGlvbiBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgICB2YXIgZGVzYztcblxuICAgICAgaWYgKGJhc2UpIHtcbiAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpO1xuXG4gICAgICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgICAgIGRlc2Muc2V0LmNhbGwocmVjZWl2ZXIsIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyZWNlaXZlciwgcHJvcGVydHkpO1xuXG4gICAgICBpZiAoZGVzYykge1xuICAgICAgICBpZiAoIWRlc2Mud3JpdGFibGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBkZXNjLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWNlaXZlciwgcHJvcGVydHksIGRlc2MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHJlY2VpdmVyLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xufVxuXG5mdW5jdGlvbiBfc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlciwgaXNTdHJpY3QpIHtcbiAgdmFyIHMgPSBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyIHx8IHRhcmdldCk7XG5cbiAgaWYgKCFzICYmIGlzU3RyaWN0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gc2V0IHByb3BlcnR5Jyk7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5leHBvcnQgeyBfY3JlYXRlQ2xhc3MgYXMgXywgX2NsYXNzQ2FsbENoZWNrIGFzIGEsIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBhcyBiLCBfdHlwZW9mIGFzIGMsIF9pbmhlcml0cyBhcyBkLCBfY3JlYXRlU3VwZXIgYXMgZSwgX3NsaWNlZFRvQXJyYXkgYXMgZiwgX2dldCBhcyBnLCBfZ2V0UHJvdG90eXBlT2YgYXMgaCwgX3NldCBhcyBpLCBfdG9Db25zdW1hYmxlQXJyYXkgYXMgaiB9O1xuIiwiaW1wb3J0IHsgZCBhcyBfaW5oZXJpdHMsIGUgYXMgX2NyZWF0ZVN1cGVyLCBfIGFzIF9jcmVhdGVDbGFzcywgYSBhcyBfY2xhc3NDYWxsQ2hlY2sgfSBmcm9tICcuLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTY3YmJhN2ZiLmpzJztcbmltcG9ydCBIVE1MTWFza0VsZW1lbnQgZnJvbSAnLi9odG1sLW1hc2stZWxlbWVudC5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuL21hc2stZWxlbWVudC5qcyc7XG5cbnZhciBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MTWFza0VsZW1lbnQpIHtcbiAgX2luaGVyaXRzKEhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudCwgX0hUTUxNYXNrRWxlbWVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQpO1xuXG4gIGZ1bmN0aW9uIEhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50KTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQsIFt7XG4gICAga2V5OiBcIl91bnNhZmVTZWxlY3Rpb25TdGFydFwiLFxuICAgIGdldDpcbiAgICAvKipcbiAgICAgIFJldHVybnMgSFRNTEVsZW1lbnQgc2VsZWN0aW9uIHN0YXJ0XG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciByb290ID0gdGhpcy5yb290RWxlbWVudDtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSByb290LmdldFNlbGVjdGlvbiAmJiByb290LmdldFNlbGVjdGlvbigpO1xuICAgICAgdmFyIGFuY2hvck9mZnNldCA9IHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0O1xuICAgICAgdmFyIGZvY3VzT2Zmc2V0ID0gc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5mb2N1c09mZnNldDtcblxuICAgICAgaWYgKGZvY3VzT2Zmc2V0ID09IG51bGwgfHwgYW5jaG9yT2Zmc2V0ID09IG51bGwgfHwgYW5jaG9yT2Zmc2V0IDwgZm9jdXNPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGFuY2hvck9mZnNldDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZvY3VzT2Zmc2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgIFJldHVybnMgSFRNTEVsZW1lbnQgc2VsZWN0aW9uIGVuZFxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl91bnNhZmVTZWxlY3Rpb25FbmRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciByb290ID0gdGhpcy5yb290RWxlbWVudDtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSByb290LmdldFNlbGVjdGlvbiAmJiByb290LmdldFNlbGVjdGlvbigpO1xuICAgICAgdmFyIGFuY2hvck9mZnNldCA9IHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0O1xuICAgICAgdmFyIGZvY3VzT2Zmc2V0ID0gc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5mb2N1c09mZnNldDtcblxuICAgICAgaWYgKGZvY3VzT2Zmc2V0ID09IG51bGwgfHwgYW5jaG9yT2Zmc2V0ID09IG51bGwgfHwgYW5jaG9yT2Zmc2V0ID4gZm9jdXNPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGFuY2hvck9mZnNldDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZvY3VzT2Zmc2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgIFNldHMgSFRNTEVsZW1lbnQgc2VsZWN0aW9uXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3Vuc2FmZVNlbGVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5zYWZlU2VsZWN0KHN0YXJ0LCBlbmQpIHtcbiAgICAgIGlmICghdGhpcy5yb290RWxlbWVudC5jcmVhdGVSYW5nZSkgcmV0dXJuO1xuICAgICAgdmFyIHJhbmdlID0gdGhpcy5yb290RWxlbWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgcmFuZ2Uuc2V0U3RhcnQodGhpcy5pbnB1dC5maXJzdENoaWxkIHx8IHRoaXMuaW5wdXQsIHN0YXJ0KTtcbiAgICAgIHJhbmdlLnNldEVuZCh0aGlzLmlucHV0Lmxhc3RDaGlsZCB8fCB0aGlzLmlucHV0LCBlbmQpO1xuICAgICAgdmFyIHJvb3QgPSB0aGlzLnJvb3RFbGVtZW50O1xuICAgICAgdmFyIHNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uICYmIHJvb3QuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgIEhUTUxFbGVtZW50IHZhbHVlXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidmFsdWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIHJldHVybiB0aGlzLmlucHV0LnRleHRDb250ZW50O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuaW5wdXQudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50O1xufShIVE1MTWFza0VsZW1lbnQpO1xuSU1hc2suSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50ID0gSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50O1xuXG5leHBvcnQgeyBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgZCBhcyBfaW5oZXJpdHMsIGUgYXMgX2NyZWF0ZVN1cGVyLCBfIGFzIF9jcmVhdGVDbGFzcywgYSBhcyBfY2xhc3NDYWxsQ2hlY2sgfSBmcm9tICcuLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTY3YmJhN2ZiLmpzJztcbmltcG9ydCBNYXNrRWxlbWVudCBmcm9tICcuL21hc2stZWxlbWVudC5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuXG4vKiogQnJpZGdlIGJldHdlZW4gSFRNTEVsZW1lbnQgYW5kIHtAbGluayBNYXNrZWR9ICovXG5cbnZhciBIVE1MTWFza0VsZW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9NYXNrRWxlbWVudCkge1xuICBfaW5oZXJpdHMoSFRNTE1hc2tFbGVtZW50LCBfTWFza0VsZW1lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSFRNTE1hc2tFbGVtZW50KTtcblxuICAvKiogTWFwcGluZyBiZXR3ZWVuIEhUTUxFbGVtZW50IGV2ZW50cyBhbmQgbWFzayBpbnRlcm5hbCBldmVudHMgKi9cblxuICAvKiogSFRNTEVsZW1lbnQgdG8gdXNlIG1hc2sgb24gKi9cblxuICAvKipcbiAgICBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR8SFRNTFRleHRBcmVhRWxlbWVudH0gaW5wdXRcbiAgKi9cbiAgZnVuY3Rpb24gSFRNTE1hc2tFbGVtZW50KGlucHV0KSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhUTUxNYXNrRWxlbWVudCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIF90aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgX3RoaXMuX2hhbmRsZXJzID0ge307XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKiAqL1xuICAvLyAkRmxvd0ZpeE1lIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy8yODM5XG5cblxuICBfY3JlYXRlQ2xhc3MoSFRNTE1hc2tFbGVtZW50LCBbe1xuICAgIGtleTogXCJyb290RWxlbWVudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzJGlucHV0JGdldFJvb3RObywgX3RoaXMkaW5wdXQkZ2V0Um9vdE5vMiwgX3RoaXMkaW5wdXQ7XG5cbiAgICAgIHJldHVybiAoX3RoaXMkaW5wdXQkZ2V0Um9vdE5vID0gKF90aGlzJGlucHV0JGdldFJvb3RObzIgPSAoX3RoaXMkaW5wdXQgPSB0aGlzLmlucHV0KS5nZXRSb290Tm9kZSkgPT09IG51bGwgfHwgX3RoaXMkaW5wdXQkZ2V0Um9vdE5vMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaW5wdXQkZ2V0Um9vdE5vMi5jYWxsKF90aGlzJGlucHV0KSkgIT09IG51bGwgJiYgX3RoaXMkaW5wdXQkZ2V0Um9vdE5vICE9PSB2b2lkIDAgPyBfdGhpcyRpbnB1dCRnZXRSb290Tm8gOiBkb2N1bWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICBJcyBlbGVtZW50IGluIGZvY3VzXG4gICAgICBAcmVhZG9ubHlcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNBY3RpdmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgcmV0dXJuIHRoaXMuaW5wdXQgPT09IHRoaXMucm9vdEVsZW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICBSZXR1cm5zIEhUTUxFbGVtZW50IHNlbGVjdGlvbiBzdGFydFxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl91bnNhZmVTZWxlY3Rpb25TdGFydFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAgUmV0dXJucyBIVE1MRWxlbWVudCBzZWxlY3Rpb24gZW5kXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3Vuc2FmZVNlbGVjdGlvbkVuZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuc2VsZWN0aW9uRW5kO1xuICAgIH1cbiAgICAvKipcbiAgICAgIFNldHMgSFRNTEVsZW1lbnQgc2VsZWN0aW9uXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3Vuc2FmZVNlbGVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5zYWZlU2VsZWN0KHN0YXJ0LCBlbmQpIHtcbiAgICAgIHRoaXMuaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgSFRNTEVsZW1lbnQgdmFsdWVcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5wdXQudmFsdWU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEJpbmRzIEhUTUxFbGVtZW50IGV2ZW50cyB0byBtYXNrIGludGVybmFsIGV2ZW50c1xuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImJpbmRFdmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEV2ZW50cyhoYW5kbGVycykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIE9iamVjdC5rZXlzKGhhbmRsZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLl90b2dnbGVFdmVudEhhbmRsZXIoSFRNTE1hc2tFbGVtZW50LkVWRU5UU19NQVBbZXZlbnRdLCBoYW5kbGVyc1tldmVudF0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgVW5iaW5kcyBIVE1MRWxlbWVudCBldmVudHMgdG8gbWFzayBpbnRlcm5hbCBldmVudHNcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmJpbmRFdmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5iaW5kRXZlbnRzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2hhbmRsZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMzLl90b2dnbGVFdmVudEhhbmRsZXIoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3RvZ2dsZUV2ZW50SGFuZGxlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdG9nZ2xlRXZlbnRIYW5kbGVyKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICBpZiAodGhpcy5faGFuZGxlcnNbZXZlbnRdKSB7XG4gICAgICAgIHRoaXMuaW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5faGFuZGxlcnNbZXZlbnRdKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2hhbmRsZXJzW2V2ZW50XTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSFRNTE1hc2tFbGVtZW50O1xufShNYXNrRWxlbWVudCk7XG5IVE1MTWFza0VsZW1lbnQuRVZFTlRTX01BUCA9IHtcbiAgc2VsZWN0aW9uQ2hhbmdlOiAna2V5ZG93bicsXG4gIGlucHV0OiAnaW5wdXQnLFxuICBkcm9wOiAnZHJvcCcsXG4gIGNsaWNrOiAnY2xpY2snLFxuICBmb2N1czogJ2ZvY3VzJyxcbiAgY29tbWl0OiAnYmx1cidcbn07XG5JTWFzay5IVE1MTWFza0VsZW1lbnQgPSBIVE1MTWFza0VsZW1lbnQ7XG5cbmV4cG9ydCB7IEhUTUxNYXNrRWxlbWVudCBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBfIGFzIF9jcmVhdGVDbGFzcywgYSBhcyBfY2xhc3NDYWxsQ2hlY2ssIGIgYXMgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02N2JiYTdmYi5qcyc7XG5pbXBvcnQgeyBvYmplY3RJbmNsdWRlcywgRElSRUNUSU9OIH0gZnJvbSAnLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgQWN0aW9uRGV0YWlscyBmcm9tICcuLi9jb3JlL2FjdGlvbi1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi4vbWFza2VkL2RhdGUuanMnO1xuaW1wb3J0IGNyZWF0ZU1hc2ssIHsgbWFza2VkQ2xhc3MgfSBmcm9tICcuLi9tYXNrZWQvZmFjdG9yeS5qcyc7XG5pbXBvcnQgTWFza0VsZW1lbnQgZnJvbSAnLi9tYXNrLWVsZW1lbnQuanMnO1xuaW1wb3J0IEhUTUxNYXNrRWxlbWVudCBmcm9tICcuL2h0bWwtbWFzay1lbGVtZW50LmpzJztcbmltcG9ydCBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQgZnJvbSAnLi9odG1sLWNvbnRlbnRlZGl0YWJsZS1tYXNrLWVsZW1lbnQuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4uL21hc2tlZC9wYXR0ZXJuLmpzJztcbmltcG9ydCAnLi4vbWFza2VkL2Jhc2UuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NvbnRpbnVvdXMtdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi4vbWFza2VkL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgJy4uL21hc2tlZC9wYXR0ZXJuL2ZpeGVkLWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuLi9tYXNrZWQvcGF0dGVybi9jaHVuay10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi9tYXNrZWQvcGF0dGVybi9jdXJzb3IuanMnO1xuaW1wb3J0ICcuLi9tYXNrZWQvcmVnZXhwLmpzJztcbmltcG9ydCAnLi4vbWFza2VkL3JhbmdlLmpzJztcblxudmFyIF9leGNsdWRlZCA9IFtcIm1hc2tcIl07XG4vKiogTGlzdGVucyB0byBlbGVtZW50IGV2ZW50cyBhbmQgY29udHJvbHMgY2hhbmdlcyBiZXR3ZWVuIGVsZW1lbnQgYW5kIHtAbGluayBNYXNrZWR9ICovXG5cbnZhciBJbnB1dE1hc2sgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICBWaWV3IGVsZW1lbnRcbiAgICBAcmVhZG9ubHlcbiAgKi9cblxuICAvKipcbiAgICBJbnRlcm5hbCB7QGxpbmsgTWFza2VkfSBtb2RlbFxuICAgIEByZWFkb25seVxuICAqL1xuXG4gIC8qKlxuICAgIEBwYXJhbSB7TWFza0VsZW1lbnR8SFRNTElucHV0RWxlbWVudHxIVE1MVGV4dEFyZWFFbGVtZW50fSBlbFxuICAgIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICovXG4gIGZ1bmN0aW9uIElucHV0TWFzayhlbCwgb3B0cykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnB1dE1hc2spO1xuXG4gICAgdGhpcy5lbCA9IGVsIGluc3RhbmNlb2YgTWFza0VsZW1lbnQgPyBlbCA6IGVsLmlzQ29udGVudEVkaXRhYmxlICYmIGVsLnRhZ05hbWUgIT09ICdJTlBVVCcgJiYgZWwudGFnTmFtZSAhPT0gJ1RFWFRBUkVBJyA/IG5ldyBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQoZWwpIDogbmV3IEhUTUxNYXNrRWxlbWVudChlbCk7XG4gICAgdGhpcy5tYXNrZWQgPSBjcmVhdGVNYXNrKG9wdHMpO1xuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICAgIHRoaXMuX3ZhbHVlID0gJyc7XG4gICAgdGhpcy5fdW5tYXNrZWRWYWx1ZSA9ICcnO1xuICAgIHRoaXMuX3NhdmVTZWxlY3Rpb24gPSB0aGlzLl9zYXZlU2VsZWN0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25JbnB1dCA9IHRoaXMuX29uSW5wdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZSA9IHRoaXMuX29uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Ecm9wID0gdGhpcy5fb25Ecm9wLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Gb2N1cyA9IHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrID0gdGhpcy5fb25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYWxpZ25DdXJzb3IgPSB0aGlzLmFsaWduQ3Vyc29yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hbGlnbkN1cnNvckZyaWVuZGx5ID0gdGhpcy5hbGlnbkN1cnNvckZyaWVuZGx5LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7IC8vIHJlZnJlc2hcblxuXG4gICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xuXG4gICAgdGhpcy5fb25DaGFuZ2UoKTtcbiAgfVxuICAvKiogUmVhZCBvciB1cGRhdGUgbWFzayAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKElucHV0TWFzaywgW3tcbiAgICBrZXk6IFwibWFza1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFza2VkLm1hc2s7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChtYXNrKSB7XG4gICAgICBpZiAodGhpcy5tYXNrRXF1YWxzKG1hc2spKSByZXR1cm47IC8vICRGbG93Rml4TWUgTm8gaWRlYXMgLi4uIGFmdGVyIHVwZGF0ZVxuXG4gICAgICBpZiAoIShtYXNrIGluc3RhbmNlb2YgSU1hc2suTWFza2VkKSAmJiB0aGlzLm1hc2tlZC5jb25zdHJ1Y3RvciA9PT0gbWFza2VkQ2xhc3MobWFzaykpIHtcbiAgICAgICAgdGhpcy5tYXNrZWQudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgbWFzazogbWFza1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWFza2VkID0gY3JlYXRlTWFzayh7XG4gICAgICAgIG1hc2s6IG1hc2tcbiAgICAgIH0pO1xuICAgICAgbWFza2VkLnVubWFza2VkVmFsdWUgPSB0aGlzLm1hc2tlZC51bm1hc2tlZFZhbHVlO1xuICAgICAgdGhpcy5tYXNrZWQgPSBtYXNrZWQ7XG4gICAgfVxuICAgIC8qKiBSYXcgdmFsdWUgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hc2tFcXVhbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFza0VxdWFscyhtYXNrKSB7XG4gICAgICB2YXIgX3RoaXMkbWFza2VkO1xuXG4gICAgICByZXR1cm4gbWFzayA9PSBudWxsIHx8ICgoX3RoaXMkbWFza2VkID0gdGhpcy5tYXNrZWQpID09PSBudWxsIHx8IF90aGlzJG1hc2tlZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWFza2VkLm1hc2tFcXVhbHMobWFzaykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc3RyKSB7XG4gICAgICBpZiAodGhpcy52YWx1ZSA9PT0gc3RyKSByZXR1cm47XG4gICAgICB0aGlzLm1hc2tlZC52YWx1ZSA9IHN0cjtcbiAgICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuICAgICAgdGhpcy5hbGlnbkN1cnNvcigpO1xuICAgIH1cbiAgICAvKiogVW5tYXNrZWQgdmFsdWUgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVubWFza2VkVmFsdWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl91bm1hc2tlZFZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc3RyKSB7XG4gICAgICBpZiAodGhpcy51bm1hc2tlZFZhbHVlID09PSBzdHIpIHJldHVybjtcbiAgICAgIHRoaXMubWFza2VkLnVubWFza2VkVmFsdWUgPSBzdHI7XG4gICAgICB0aGlzLnVwZGF0ZUNvbnRyb2woKTtcbiAgICAgIHRoaXMuYWxpZ25DdXJzb3IoKTtcbiAgICB9XG4gICAgLyoqIFR5cGVkIHVubWFza2VkIHZhbHVlICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0eXBlZFZhbHVlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXNrZWQudHlwZWRWYWx1ZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgICAgaWYgKHRoaXMubWFza2VkLnR5cGVkVmFsdWVFcXVhbHModmFsKSkgcmV0dXJuO1xuICAgICAgdGhpcy5tYXNrZWQudHlwZWRWYWx1ZSA9IHZhbDtcbiAgICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuICAgICAgdGhpcy5hbGlnbkN1cnNvcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIFN0YXJ0cyBsaXN0ZW5pbmcgdG8gZWxlbWVudCBldmVudHNcbiAgICAgIEBwcm90ZWN0ZWRcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2JpbmRFdmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2JpbmRFdmVudHMoKSB7XG4gICAgICB0aGlzLmVsLmJpbmRFdmVudHMoe1xuICAgICAgICBzZWxlY3Rpb25DaGFuZ2U6IHRoaXMuX3NhdmVTZWxlY3Rpb24sXG4gICAgICAgIGlucHV0OiB0aGlzLl9vbklucHV0LFxuICAgICAgICBkcm9wOiB0aGlzLl9vbkRyb3AsXG4gICAgICAgIGNsaWNrOiB0aGlzLl9vbkNsaWNrLFxuICAgICAgICBmb2N1czogdGhpcy5fb25Gb2N1cyxcbiAgICAgICAgY29tbWl0OiB0aGlzLl9vbkNoYW5nZVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgU3RvcHMgbGlzdGVuaW5nIHRvIGVsZW1lbnQgZXZlbnRzXG4gICAgICBAcHJvdGVjdGVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfdW5iaW5kRXZlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91bmJpbmRFdmVudHMoKSB7XG4gICAgICBpZiAodGhpcy5lbCkgdGhpcy5lbC51bmJpbmRFdmVudHMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBGaXJlcyBjdXN0b20gZXZlbnRcbiAgICAgIEBwcm90ZWN0ZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9maXJlRXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpcmVFdmVudChldikge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc1tldl07XG4gICAgICBpZiAoIWxpc3RlbmVycykgcmV0dXJuO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgcmV0dXJuIGwuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEN1cnJlbnQgc2VsZWN0aW9uIHN0YXJ0XG4gICAgICBAcmVhZG9ubHlcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2VsZWN0aW9uU3RhcnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jdXJzb3JDaGFuZ2luZyA/IHRoaXMuX2NoYW5naW5nQ3Vyc29yUG9zIDogdGhpcy5lbC5zZWxlY3Rpb25TdGFydDtcbiAgICB9XG4gICAgLyoqIEN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjdXJzb3JQb3NcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jdXJzb3JDaGFuZ2luZyA/IHRoaXMuX2NoYW5naW5nQ3Vyc29yUG9zIDogdGhpcy5lbC5zZWxlY3Rpb25FbmQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChwb3MpIHtcbiAgICAgIGlmICghdGhpcy5lbCB8fCAhdGhpcy5lbC5pc0FjdGl2ZSkgcmV0dXJuO1xuICAgICAgdGhpcy5lbC5zZWxlY3QocG9zLCBwb3MpO1xuXG4gICAgICB0aGlzLl9zYXZlU2VsZWN0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgU3RvcmVzIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICBAcHJvdGVjdGVkXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9zYXZlU2VsZWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uXG4gICAgICAvKiBldiAqL1xuICAgIF9zYXZlU2VsZWN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMudmFsdWUgIT09IHRoaXMuZWwudmFsdWUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdFbGVtZW50IHZhbHVlIHdhcyBjaGFuZ2VkIG91dHNpZGUgb2YgbWFzay4gU3luY3Jvbml6ZSBtYXNrIHVzaW5nIGBtYXNrLnVwZGF0ZVZhbHVlKClgIHRvIHdvcmsgcHJvcGVybHkuJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZWxlY3Rpb24gPSB7XG4gICAgICAgIHN0YXJ0OiB0aGlzLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICBlbmQ6IHRoaXMuY3Vyc29yUG9zXG4gICAgICB9O1xuICAgIH1cbiAgICAvKiogU3luY3Jvbml6ZXMgbW9kZWwgdmFsdWUgZnJvbSB2aWV3ICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVWYWx1ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWYWx1ZSgpIHtcbiAgICAgIHRoaXMubWFza2VkLnZhbHVlID0gdGhpcy5lbC52YWx1ZTtcbiAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5tYXNrZWQudmFsdWU7XG4gICAgfVxuICAgIC8qKiBTeW5jcm9uaXplcyB2aWV3IGZyb20gbW9kZWwgdmFsdWUsIGZpcmVzIGNoYW5nZSBldmVudHMgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUNvbnRyb2xcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ29udHJvbCgpIHtcbiAgICAgIHZhciBuZXdVbm1hc2tlZFZhbHVlID0gdGhpcy5tYXNrZWQudW5tYXNrZWRWYWx1ZTtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IHRoaXMubWFza2VkLnZhbHVlO1xuICAgICAgdmFyIGlzQ2hhbmdlZCA9IHRoaXMudW5tYXNrZWRWYWx1ZSAhPT0gbmV3VW5tYXNrZWRWYWx1ZSB8fCB0aGlzLnZhbHVlICE9PSBuZXdWYWx1ZTtcbiAgICAgIHRoaXMuX3VubWFza2VkVmFsdWUgPSBuZXdVbm1hc2tlZFZhbHVlO1xuICAgICAgdGhpcy5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgIGlmICh0aGlzLmVsLnZhbHVlICE9PSBuZXdWYWx1ZSkgdGhpcy5lbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgaWYgKGlzQ2hhbmdlZCkgdGhpcy5fZmlyZUNoYW5nZUV2ZW50cygpO1xuICAgIH1cbiAgICAvKiogVXBkYXRlcyBvcHRpb25zIHdpdGggZGVlcCBlcXVhbCBjaGVjaywgcmVjcmVhdGVzIEB7bGluayBNYXNrZWR9IG1vZGVsIGlmIG1hc2sgdHlwZSBjaGFuZ2VzICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVPcHRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMob3B0cykge1xuICAgICAgdmFyIG1hc2sgPSBvcHRzLm1hc2ssXG4gICAgICAgICAgcmVzdE9wdHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob3B0cywgX2V4Y2x1ZGVkKTtcblxuICAgICAgdmFyIHVwZGF0ZU1hc2sgPSAhdGhpcy5tYXNrRXF1YWxzKG1hc2spO1xuICAgICAgdmFyIHVwZGF0ZU9wdHMgPSAhb2JqZWN0SW5jbHVkZXModGhpcy5tYXNrZWQsIHJlc3RPcHRzKTtcbiAgICAgIGlmICh1cGRhdGVNYXNrKSB0aGlzLm1hc2sgPSBtYXNrO1xuICAgICAgaWYgKHVwZGF0ZU9wdHMpIHRoaXMubWFza2VkLnVwZGF0ZU9wdGlvbnMocmVzdE9wdHMpO1xuICAgICAgaWYgKHVwZGF0ZU1hc2sgfHwgdXBkYXRlT3B0cykgdGhpcy51cGRhdGVDb250cm9sKCk7XG4gICAgfVxuICAgIC8qKiBVcGRhdGVzIGN1cnNvciAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlQ3Vyc29yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUN1cnNvcihjdXJzb3JQb3MpIHtcbiAgICAgIGlmIChjdXJzb3JQb3MgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgdGhpcy5jdXJzb3JQb3MgPSBjdXJzb3JQb3M7IC8vIGFsc28gcXVldWUgY2hhbmdlIGN1cnNvciBmb3IgbW9iaWxlIGJyb3dzZXJzXG5cbiAgICAgIHRoaXMuX2RlbGF5VXBkYXRlQ3Vyc29yKGN1cnNvclBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgRGVsYXlzIGN1cnNvciB1cGRhdGUgdG8gc3VwcG9ydCBtb2JpbGUgYnJvd3NlcnNcbiAgICAgIEBwcml2YXRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9kZWxheVVwZGF0ZUN1cnNvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsYXlVcGRhdGVDdXJzb3IoY3Vyc29yUG9zKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLl9hYm9ydFVwZGF0ZUN1cnNvcigpO1xuXG4gICAgICB0aGlzLl9jaGFuZ2luZ0N1cnNvclBvcyA9IGN1cnNvclBvcztcbiAgICAgIHRoaXMuX2N1cnNvckNoYW5naW5nID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMuZWwpIHJldHVybjsgLy8gaWYgd2FzIGRlc3Ryb3llZFxuXG4gICAgICAgIF90aGlzLmN1cnNvclBvcyA9IF90aGlzLl9jaGFuZ2luZ0N1cnNvclBvcztcblxuICAgICAgICBfdGhpcy5fYWJvcnRVcGRhdGVDdXJzb3IoKTtcbiAgICAgIH0sIDEwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBGaXJlcyBjdXN0b20gZXZlbnRzXG4gICAgICBAcHJvdGVjdGVkXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9maXJlQ2hhbmdlRXZlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9maXJlQ2hhbmdlRXZlbnRzKCkge1xuICAgICAgdGhpcy5fZmlyZUV2ZW50KCdhY2NlcHQnLCB0aGlzLl9pbnB1dEV2ZW50KTtcblxuICAgICAgaWYgKHRoaXMubWFza2VkLmlzQ29tcGxldGUpIHRoaXMuX2ZpcmVFdmVudCgnY29tcGxldGUnLCB0aGlzLl9pbnB1dEV2ZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBBYm9ydHMgZGVsYXllZCBjdXJzb3IgdXBkYXRlXG4gICAgICBAcHJpdmF0ZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfYWJvcnRVcGRhdGVDdXJzb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Fib3J0VXBkYXRlQ3Vyc29yKCkge1xuICAgICAgaWYgKHRoaXMuX2N1cnNvckNoYW5naW5nKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jdXJzb3JDaGFuZ2luZyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9jdXJzb3JDaGFuZ2luZztcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqIEFsaWducyBjdXJzb3IgdG8gbmVhcmVzdCBhdmFpbGFibGUgcG9zaXRpb24gKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFsaWduQ3Vyc29yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFsaWduQ3Vyc29yKCkge1xuICAgICAgdGhpcy5jdXJzb3JQb3MgPSB0aGlzLm1hc2tlZC5uZWFyZXN0SW5wdXRQb3ModGhpcy5tYXNrZWQubmVhcmVzdElucHV0UG9zKHRoaXMuY3Vyc29yUG9zLCBESVJFQ1RJT04uTEVGVCkpO1xuICAgIH1cbiAgICAvKiogQWxpZ25zIGN1cnNvciBvbmx5IGlmIHNlbGVjdGlvbiBpcyBlbXB0eSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWxpZ25DdXJzb3JGcmllbmRseVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhbGlnbkN1cnNvckZyaWVuZGx5KCkge1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgIT09IHRoaXMuY3Vyc29yUG9zKSByZXR1cm47IC8vIHNraXAgaWYgcmFuZ2UgaXMgc2VsZWN0ZWRcblxuICAgICAgdGhpcy5hbGlnbkN1cnNvcigpO1xuICAgIH1cbiAgICAvKiogQWRkcyBsaXN0ZW5lciBvbiBjdXN0b20gZXZlbnQgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2LCBoYW5kbGVyKSB7XG4gICAgICBpZiAoIXRoaXMuX2xpc3RlbmVyc1tldl0pIHRoaXMuX2xpc3RlbmVyc1tldl0gPSBbXTtcblxuICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2XS5wdXNoKGhhbmRsZXIpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIFJlbW92ZXMgY3VzdG9tIGV2ZW50IGxpc3RlbmVyICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvZmZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGV2LCBoYW5kbGVyKSB7XG4gICAgICBpZiAoIXRoaXMuX2xpc3RlbmVyc1tldl0pIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tldl07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgaEluZGV4ID0gdGhpcy5fbGlzdGVuZXJzW2V2XS5pbmRleE9mKGhhbmRsZXIpO1xuXG4gICAgICBpZiAoaEluZGV4ID49IDApIHRoaXMuX2xpc3RlbmVyc1tldl0uc3BsaWNlKGhJbmRleCwgMSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEhhbmRsZXMgdmlldyBpbnB1dCBldmVudCAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX29uSW5wdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uSW5wdXQoZSkge1xuICAgICAgdGhpcy5faW5wdXRFdmVudCA9IGU7XG5cbiAgICAgIHRoaXMuX2Fib3J0VXBkYXRlQ3Vyc29yKCk7IC8vIGZpeCBzdHJhbmdlIElFIGJlaGF2aW9yXG5cblxuICAgICAgaWYgKCF0aGlzLl9zZWxlY3Rpb24pIHJldHVybiB0aGlzLnVwZGF0ZVZhbHVlKCk7XG4gICAgICB2YXIgZGV0YWlscyA9IG5ldyBBY3Rpb25EZXRhaWxzKCAvLyBuZXcgc3RhdGVcbiAgICAgIHRoaXMuZWwudmFsdWUsIHRoaXMuY3Vyc29yUG9zLCAvLyBvbGQgc3RhdGVcbiAgICAgIHRoaXMudmFsdWUsIHRoaXMuX3NlbGVjdGlvbik7XG4gICAgICB2YXIgb2xkUmF3VmFsdWUgPSB0aGlzLm1hc2tlZC5yYXdJbnB1dFZhbHVlO1xuICAgICAgdmFyIG9mZnNldCA9IHRoaXMubWFza2VkLnNwbGljZShkZXRhaWxzLnN0YXJ0Q2hhbmdlUG9zLCBkZXRhaWxzLnJlbW92ZWQubGVuZ3RoLCBkZXRhaWxzLmluc2VydGVkLCBkZXRhaWxzLnJlbW92ZURpcmVjdGlvbiwge1xuICAgICAgICBpbnB1dDogdHJ1ZSxcbiAgICAgICAgcmF3OiB0cnVlXG4gICAgICB9KS5vZmZzZXQ7IC8vIGZvcmNlIGFsaWduIGluIHJlbW92ZSBkaXJlY3Rpb24gb25seSBpZiBubyBpbnB1dCBjaGFycyB3ZXJlIHJlbW92ZWRcbiAgICAgIC8vIG90aGVyd2lzZSB3ZSBzdGlsbCBuZWVkIHRvIGFsaWduIHdpdGggTk9ORSAodG8gZ2V0IG91dCBmcm9tIGZpeGVkIHN5bWJvbHMgZm9yIGluc3RhbmNlKVxuXG4gICAgICB2YXIgcmVtb3ZlRGlyZWN0aW9uID0gb2xkUmF3VmFsdWUgPT09IHRoaXMubWFza2VkLnJhd0lucHV0VmFsdWUgPyBkZXRhaWxzLnJlbW92ZURpcmVjdGlvbiA6IERJUkVDVElPTi5OT05FO1xuICAgICAgdmFyIGN1cnNvclBvcyA9IHRoaXMubWFza2VkLm5lYXJlc3RJbnB1dFBvcyhkZXRhaWxzLnN0YXJ0Q2hhbmdlUG9zICsgb2Zmc2V0LCByZW1vdmVEaXJlY3Rpb24pO1xuICAgICAgaWYgKHJlbW92ZURpcmVjdGlvbiAhPT0gRElSRUNUSU9OLk5PTkUpIGN1cnNvclBvcyA9IHRoaXMubWFza2VkLm5lYXJlc3RJbnB1dFBvcyhjdXJzb3JQb3MsIERJUkVDVElPTi5OT05FKTtcbiAgICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuICAgICAgdGhpcy51cGRhdGVDdXJzb3IoY3Vyc29yUG9zKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9pbnB1dEV2ZW50O1xuICAgIH1cbiAgICAvKiogSGFuZGxlcyB2aWV3IGNoYW5nZSBldmVudCBhbmQgY29tbWl0cyBtb2RlbCB2YWx1ZSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX29uQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkNoYW5nZSgpIHtcbiAgICAgIGlmICh0aGlzLnZhbHVlICE9PSB0aGlzLmVsLnZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVmFsdWUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tYXNrZWQuZG9Db21taXQoKTtcbiAgICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuXG4gICAgICB0aGlzLl9zYXZlU2VsZWN0aW9uKCk7XG4gICAgfVxuICAgIC8qKiBIYW5kbGVzIHZpZXcgZHJvcCBldmVudCwgcHJldmVudHMgYnkgZGVmYXVsdCAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX29uRHJvcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Ecm9wKGV2KSB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICAgIC8qKiBSZXN0b3JlIGxhc3Qgc2VsZWN0aW9uIG9uIGZvY3VzICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfb25Gb2N1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Gb2N1cyhldikge1xuICAgICAgdGhpcy5hbGlnbkN1cnNvckZyaWVuZGx5KCk7XG4gICAgfVxuICAgIC8qKiBSZXN0b3JlIGxhc3Qgc2VsZWN0aW9uIG9uIGZvY3VzICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfb25DbGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25DbGljayhldikge1xuICAgICAgdGhpcy5hbGlnbkN1cnNvckZyaWVuZGx5KCk7XG4gICAgfVxuICAgIC8qKiBVbmJpbmQgdmlldyBldmVudHMgYW5kIHJlbW92ZXMgZWxlbWVudCByZWZlcmVuY2UgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3VuYmluZEV2ZW50cygpOyAvLyAkRmxvd0ZpeE1lIHdoeSBub3QgZG8gc28/XG5cblxuICAgICAgdGhpcy5fbGlzdGVuZXJzLmxlbmd0aCA9IDA7IC8vICRGbG93Rml4TWVcblxuICAgICAgZGVsZXRlIHRoaXMuZWw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIElucHV0TWFzaztcbn0oKTtcbklNYXNrLklucHV0TWFzayA9IElucHV0TWFzaztcblxuZXhwb3J0IHsgSW5wdXRNYXNrIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IF8gYXMgX2NyZWF0ZUNsYXNzLCBhIGFzIF9jbGFzc0NhbGxDaGVjayB9IGZyb20gJy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNjdiYmE3ZmIuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcblxuLyoqXG4gIEdlbmVyaWMgZWxlbWVudCBBUEkgdG8gdXNlIHdpdGggbWFza1xuICBAaW50ZXJmYWNlXG4qL1xudmFyIE1hc2tFbGVtZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWFza0VsZW1lbnQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tFbGVtZW50KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYXNrRWxlbWVudCwgW3tcbiAgICBrZXk6IFwic2VsZWN0aW9uU3RhcnRcIixcbiAgICBnZXQ6XG4gICAgLyoqICovXG5cbiAgICAvKiogKi9cblxuICAgIC8qKiAqL1xuXG4gICAgLyoqIFNhZmVseSByZXR1cm5zIHNlbGVjdGlvbiBzdGFydCAqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBzdGFydDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgc3RhcnQgPSB0aGlzLl91bnNhZmVTZWxlY3Rpb25TdGFydDtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIHJldHVybiBzdGFydCAhPSBudWxsID8gc3RhcnQgOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqIFNhZmVseSByZXR1cm5zIHNlbGVjdGlvbiBlbmQgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbGVjdGlvbkVuZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGVuZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZW5kID0gdGhpcy5fdW5zYWZlU2VsZWN0aW9uRW5kO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgcmV0dXJuIGVuZCAhPSBudWxsID8gZW5kIDogdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgfVxuICAgIC8qKiBTYWZlbHkgc2V0cyBlbGVtZW50IHNlbGVjdGlvbiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2VsZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdChzdGFydCwgZW5kKSB7XG4gICAgICBpZiAoc3RhcnQgPT0gbnVsbCB8fCBlbmQgPT0gbnVsbCB8fCBzdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25TdGFydCAmJiBlbmQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSByZXR1cm47XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuX3Vuc2FmZVNlbGVjdChzdGFydCwgZW5kKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICAgIC8qKiBTaG91bGQgYmUgb3ZlcnJpZGVuIGluIHN1YmNsYXNzZXMgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl91bnNhZmVTZWxlY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Vuc2FmZVNlbGVjdChzdGFydCwgZW5kKSB7fVxuICAgIC8qKiBTaG91bGQgYmUgb3ZlcnJpZGVuIGluIHN1YmNsYXNzZXMgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQWN0aXZlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKiBTaG91bGQgYmUgb3ZlcnJpZGVuIGluIHN1YmNsYXNzZXMgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImJpbmRFdmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEV2ZW50cyhoYW5kbGVycykge31cbiAgICAvKiogU2hvdWxkIGJlIG92ZXJyaWRlbiBpbiBzdWJjbGFzc2VzICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmJpbmRFdmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5iaW5kRXZlbnRzKCkge31cbiAgfV0pO1xuXG4gIHJldHVybiBNYXNrRWxlbWVudDtcbn0oKTtcbklNYXNrLk1hc2tFbGVtZW50ID0gTWFza0VsZW1lbnQ7XG5cbmV4cG9ydCB7IE1hc2tFbGVtZW50IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IF8gYXMgX2NyZWF0ZUNsYXNzLCBhIGFzIF9jbGFzc0NhbGxDaGVjayB9IGZyb20gJy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNjdiYmE3ZmIuanMnO1xuaW1wb3J0IHsgRElSRUNUSU9OIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgJy4vY2hhbmdlLWRldGFpbHMuanMnO1xuXG4vKiogUHJvdmlkZXMgZGV0YWlscyBvZiBjaGFuZ2luZyBpbnB1dCAqL1xuXG52YXIgQWN0aW9uRGV0YWlscyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKiBDdXJyZW50IGlucHV0IHZhbHVlICovXG5cbiAgLyoqIEN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uICovXG5cbiAgLyoqIE9sZCBpbnB1dCB2YWx1ZSAqL1xuXG4gIC8qKiBPbGQgc2VsZWN0aW9uICovXG4gIGZ1bmN0aW9uIEFjdGlvbkRldGFpbHModmFsdWUsIGN1cnNvclBvcywgb2xkVmFsdWUsIG9sZFNlbGVjdGlvbikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY3Rpb25EZXRhaWxzKTtcblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLmN1cnNvclBvcyA9IGN1cnNvclBvcztcbiAgICB0aGlzLm9sZFZhbHVlID0gb2xkVmFsdWU7XG4gICAgdGhpcy5vbGRTZWxlY3Rpb24gPSBvbGRTZWxlY3Rpb247IC8vIGRvdWJsZSBjaGVjayBpZiBsZWZ0IHBhcnQgd2FzIGNoYW5nZWQgKGF1dG9maWxsaW5nLCBvdGhlciBub24tc3RhbmRhcmQgaW5wdXQgdHJpZ2dlcnMpXG5cbiAgICB3aGlsZSAodGhpcy52YWx1ZS5zbGljZSgwLCB0aGlzLnN0YXJ0Q2hhbmdlUG9zKSAhPT0gdGhpcy5vbGRWYWx1ZS5zbGljZSgwLCB0aGlzLnN0YXJ0Q2hhbmdlUG9zKSkge1xuICAgICAgLS10aGlzLm9sZFNlbGVjdGlvbi5zdGFydDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAgU3RhcnQgY2hhbmdpbmcgcG9zaXRpb25cbiAgICBAcmVhZG9ubHlcbiAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhBY3Rpb25EZXRhaWxzLCBbe1xuICAgIGtleTogXCJzdGFydENoYW5nZVBvc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuY3Vyc29yUG9zLCB0aGlzLm9sZFNlbGVjdGlvbi5zdGFydCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgSW5zZXJ0ZWQgc3ltYm9scyBjb3VudFxuICAgICAgQHJlYWRvbmx5XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImluc2VydGVkQ291bnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnNvclBvcyAtIHRoaXMuc3RhcnRDaGFuZ2VQb3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAgSW5zZXJ0ZWQgc3ltYm9sc1xuICAgICAgQHJlYWRvbmx5XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImluc2VydGVkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHIodGhpcy5zdGFydENoYW5nZVBvcywgdGhpcy5pbnNlcnRlZENvdW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBSZW1vdmVkIHN5bWJvbHMgY291bnRcbiAgICAgIEByZWFkb25seVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVkQ291bnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIC8vIE1hdGgubWF4IGZvciBvcHBvc2l0ZSBvcGVyYXRpb25cbiAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLm9sZFNlbGVjdGlvbi5lbmQgLSB0aGlzLnN0YXJ0Q2hhbmdlUG9zIHx8IC8vIGZvciBEZWxldGVcbiAgICAgIHRoaXMub2xkVmFsdWUubGVuZ3RoIC0gdGhpcy52YWx1ZS5sZW5ndGgsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgIFJlbW92ZWQgc3ltYm9sc1xuICAgICAgQHJlYWRvbmx5XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm9sZFZhbHVlLnN1YnN0cih0aGlzLnN0YXJ0Q2hhbmdlUG9zLCB0aGlzLnJlbW92ZWRDb3VudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgVW5jaGFuZ2VkIGhlYWQgc3ltYm9sc1xuICAgICAgQHJlYWRvbmx5XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhlYWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnN1YnN0cmluZygwLCB0aGlzLnN0YXJ0Q2hhbmdlUG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBVbmNoYW5nZWQgdGFpbCBzeW1ib2xzXG4gICAgICBAcmVhZG9ubHlcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidGFpbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWUuc3Vic3RyaW5nKHRoaXMuc3RhcnRDaGFuZ2VQb3MgKyB0aGlzLmluc2VydGVkQ291bnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIFJlbW92ZSBkaXJlY3Rpb25cbiAgICAgIEByZWFkb25seVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVEaXJlY3Rpb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghdGhpcy5yZW1vdmVkQ291bnQgfHwgdGhpcy5pbnNlcnRlZENvdW50KSByZXR1cm4gRElSRUNUSU9OLk5PTkU7IC8vIGFsaWduIHJpZ2h0IGlmIGRlbGV0ZSBhdCByaWdodFxuXG4gICAgICByZXR1cm4gKHRoaXMub2xkU2VsZWN0aW9uLmVuZCA9PT0gdGhpcy5jdXJzb3JQb3MgfHwgdGhpcy5vbGRTZWxlY3Rpb24uc3RhcnQgPT09IHRoaXMuY3Vyc29yUG9zKSAmJiAvLyBpZiBub3QgcmFuZ2UgcmVtb3ZlZCAoZXZlbnQgd2l0aCBiYWNrc3BhY2UpXG4gICAgICB0aGlzLm9sZFNlbGVjdGlvbi5lbmQgPT09IHRoaXMub2xkU2VsZWN0aW9uLnN0YXJ0ID8gRElSRUNUSU9OLlJJR0hUIDogRElSRUNUSU9OLkxFRlQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFjdGlvbkRldGFpbHM7XG59KCk7XG5cbmV4cG9ydCB7IEFjdGlvbkRldGFpbHMgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgXyBhcyBfY3JlYXRlQ2xhc3MsIGEgYXMgX2NsYXNzQ2FsbENoZWNrIH0gZnJvbSAnLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02N2JiYTdmYi5qcyc7XG5cbi8qKlxuICBQcm92aWRlcyBkZXRhaWxzIG9mIGNoYW5naW5nIG1vZGVsIHZhbHVlXG4gIEBwYXJhbSB7T2JqZWN0fSBbZGV0YWlsc11cbiAgQHBhcmFtIHtzdHJpbmd9IFtkZXRhaWxzLmluc2VydGVkXSAtIEluc2VydGVkIHN5bWJvbHNcbiAgQHBhcmFtIHtib29sZWFufSBbZGV0YWlscy5za2lwXSAtIENhbiBza2lwIGNoYXJzXG4gIEBwYXJhbSB7bnVtYmVyfSBbZGV0YWlscy5yZW1vdmVDb3VudF0gLSBSZW1vdmVkIHN5bWJvbHMgY291bnRcbiAgQHBhcmFtIHtudW1iZXJ9IFtkZXRhaWxzLnRhaWxTaGlmdF0gLSBBZGRpdGlvbmFsIG9mZnNldCBpZiBhbnkgY2hhbmdlcyBvY2N1cnJlZCBiZWZvcmUgdGFpbFxuKi9cbnZhciBDaGFuZ2VEZXRhaWxzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqIEluc2VydGVkIHN5bWJvbHMgKi9cblxuICAvKiogQ2FuIHNraXAgY2hhcnMgKi9cblxuICAvKiogQWRkaXRpb25hbCBvZmZzZXQgaWYgYW55IGNoYW5nZXMgb2NjdXJyZWQgYmVmb3JlIHRhaWwgKi9cblxuICAvKiogUmF3IGluc2VydGVkIGlzIHVzZWQgYnkgZHluYW1pYyBtYXNrICovXG4gIGZ1bmN0aW9uIENoYW5nZURldGFpbHMoZGV0YWlscykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFuZ2VEZXRhaWxzKTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgaW5zZXJ0ZWQ6ICcnLFxuICAgICAgcmF3SW5zZXJ0ZWQ6ICcnLFxuICAgICAgc2tpcDogZmFsc2UsXG4gICAgICB0YWlsU2hpZnQ6IDBcbiAgICB9LCBkZXRhaWxzKTtcbiAgfVxuICAvKipcbiAgICBBZ2dyZWdhdGUgY2hhbmdlc1xuICAgIEByZXR1cm5zIHtDaGFuZ2VEZXRhaWxzfSBgdGhpc2BcbiAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDaGFuZ2VEZXRhaWxzLCBbe1xuICAgIGtleTogXCJhZ2dyZWdhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWdncmVnYXRlKGRldGFpbHMpIHtcbiAgICAgIHRoaXMucmF3SW5zZXJ0ZWQgKz0gZGV0YWlscy5yYXdJbnNlcnRlZDtcbiAgICAgIHRoaXMuc2tpcCA9IHRoaXMuc2tpcCB8fCBkZXRhaWxzLnNraXA7XG4gICAgICB0aGlzLmluc2VydGVkICs9IGRldGFpbHMuaW5zZXJ0ZWQ7XG4gICAgICB0aGlzLnRhaWxTaGlmdCArPSBkZXRhaWxzLnRhaWxTaGlmdDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogVG90YWwgb2Zmc2V0IGNvbnNpZGVyaW5nIGFsbCBjaGFuZ2VzICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvZmZzZXRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhaWxTaGlmdCArIHRoaXMuaW5zZXJ0ZWQubGVuZ3RoO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDaGFuZ2VEZXRhaWxzO1xufSgpO1xuXG5leHBvcnQgeyBDaGFuZ2VEZXRhaWxzIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IF8gYXMgX2NyZWF0ZUNsYXNzLCBhIGFzIF9jbGFzc0NhbGxDaGVjayB9IGZyb20gJy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNjdiYmE3ZmIuanMnO1xuXG4vKiogUHJvdmlkZXMgZGV0YWlscyBvZiBjb250aW51b3VzIGV4dHJhY3RlZCB0YWlsICovXG52YXIgQ29udGludW91c1RhaWxEZXRhaWxzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqIFRhaWwgdmFsdWUgYXMgc3RyaW5nICovXG5cbiAgLyoqIFRhaWwgc3RhcnQgcG9zaXRpb24gKi9cblxuICAvKiogU3RhcnQgcG9zaXRpb24gKi9cbiAgZnVuY3Rpb24gQ29udGludW91c1RhaWxEZXRhaWxzKCkge1xuICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgdmFyIHN0b3AgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250aW51b3VzVGFpbERldGFpbHMpO1xuXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy5zdG9wID0gc3RvcDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb250aW51b3VzVGFpbERldGFpbHMsIFt7XG4gICAga2V5OiBcInRvU3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4dGVuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHRlbmQodGFpbCkge1xuICAgICAgdGhpcy52YWx1ZSArPSBTdHJpbmcodGFpbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFwcGVuZFRvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZFRvKG1hc2tlZCkge1xuICAgICAgcmV0dXJuIG1hc2tlZC5hcHBlbmQodGhpcy50b1N0cmluZygpLCB7XG4gICAgICAgIHRhaWw6IHRydWVcbiAgICAgIH0pLmFnZ3JlZ2F0ZShtYXNrZWQuX2FwcGVuZFBsYWNlaG9sZGVyKCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdGF0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgIGZyb206IHRoaXMuZnJvbSxcbiAgICAgICAgc3RvcDogdGhpcy5zdG9wXG4gICAgICB9O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc3RhdGUpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgc3RhdGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1bnNoaWZ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuc2hpZnQoYmVmb3JlUG9zKSB7XG4gICAgICBpZiAoIXRoaXMudmFsdWUubGVuZ3RoIHx8IGJlZm9yZVBvcyAhPSBudWxsICYmIHRoaXMuZnJvbSA+PSBiZWZvcmVQb3MpIHJldHVybiAnJztcbiAgICAgIHZhciBzaGlmdENoYXIgPSB0aGlzLnZhbHVlWzBdO1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuc2xpY2UoMSk7XG4gICAgICByZXR1cm4gc2hpZnRDaGFyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaGlmdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaGlmdCgpIHtcbiAgICAgIGlmICghdGhpcy52YWx1ZS5sZW5ndGgpIHJldHVybiAnJztcbiAgICAgIHZhciBzaGlmdENoYXIgPSB0aGlzLnZhbHVlW3RoaXMudmFsdWUubGVuZ3RoIC0gMV07XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5zbGljZSgwLCAtMSk7XG4gICAgICByZXR1cm4gc2hpZnRDaGFyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb250aW51b3VzVGFpbERldGFpbHM7XG59KCk7XG5cbmV4cG9ydCB7IENvbnRpbnVvdXNUYWlsRGV0YWlscyBhcyBkZWZhdWx0IH07XG4iLCIvKipcbiAqIEFwcGxpZXMgbWFzayBvbiBlbGVtZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR8SFRNTFRleHRBcmVhRWxlbWVudHxNYXNrRWxlbWVudH0gZWwgLSBFbGVtZW50IHRvIGFwcGx5IG1hc2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gQ3VzdG9tIG1hc2sgb3B0aW9uc1xuICogQHJldHVybiB7SW5wdXRNYXNrfVxuICovXG5mdW5jdGlvbiBJTWFzayhlbCkge1xuICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIC8vIGN1cnJlbnRseSBhdmFpbGFibGUgb25seSBmb3IgaW5wdXQtbGlrZSBlbGVtZW50c1xuICByZXR1cm4gbmV3IElNYXNrLklucHV0TWFzayhlbCwgb3B0cyk7XG59XG5cbmV4cG9ydCB7IElNYXNrIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IGMgYXMgX3R5cGVvZiB9IGZyb20gJy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNjdiYmE3ZmIuanMnO1xuaW1wb3J0IENoYW5nZURldGFpbHMgZnJvbSAnLi9jaGFuZ2UtZGV0YWlscy5qcyc7XG5cbi8qKiBDaGVja3MgaWYgdmFsdWUgaXMgc3RyaW5nICovXG5cbmZ1bmN0aW9uIGlzU3RyaW5nKHN0cikge1xuICByZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgfHwgc3RyIGluc3RhbmNlb2YgU3RyaW5nO1xufVxuLyoqXG4gIERpcmVjdGlvblxuICBAcHJvcCB7c3RyaW5nfSBOT05FXG4gIEBwcm9wIHtzdHJpbmd9IExFRlRcbiAgQHByb3Age3N0cmluZ30gRk9SQ0VfTEVGVFxuICBAcHJvcCB7c3RyaW5nfSBSSUdIVFxuICBAcHJvcCB7c3RyaW5nfSBGT1JDRV9SSUdIVFxuKi9cblxudmFyIERJUkVDVElPTiA9IHtcbiAgTk9ORTogJ05PTkUnLFxuICBMRUZUOiAnTEVGVCcsXG4gIEZPUkNFX0xFRlQ6ICdGT1JDRV9MRUZUJyxcbiAgUklHSFQ6ICdSSUdIVCcsXG4gIEZPUkNFX1JJR0hUOiAnRk9SQ0VfUklHSFQnXG59O1xuLyoqXG4gIERpcmVjdGlvblxuICBAZW51bSB7c3RyaW5nfVxuKi9cblxuLyoqIFJldHVybnMgbmV4dCBjaGFyIGluZGV4IGluIGRpcmVjdGlvbiAqL1xuZnVuY3Rpb24gaW5kZXhJbkRpcmVjdGlvbihwb3MsIGRpcmVjdGlvbikge1xuICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT04uTEVGVCkgLS1wb3M7XG4gIHJldHVybiBwb3M7XG59XG4vKiogUmV0dXJucyBuZXh0IGNoYXIgcG9zaXRpb24gaW4gZGlyZWN0aW9uICovXG5cbmZ1bmN0aW9uIHBvc0luRGlyZWN0aW9uKHBvcywgZGlyZWN0aW9uKSB7XG4gIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgY2FzZSBESVJFQ1RJT04uTEVGVDpcbiAgICBjYXNlIERJUkVDVElPTi5GT1JDRV9MRUZUOlxuICAgICAgcmV0dXJuIC0tcG9zO1xuXG4gICAgY2FzZSBESVJFQ1RJT04uUklHSFQ6XG4gICAgY2FzZSBESVJFQ1RJT04uRk9SQ0VfUklHSFQ6XG4gICAgICByZXR1cm4gKytwb3M7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHBvcztcbiAgfVxufVxuLyoqICovXG5cbmZ1bmN0aW9uIGZvcmNlRGlyZWN0aW9uKGRpcmVjdGlvbikge1xuICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICByZXR1cm4gRElSRUNUSU9OLkZPUkNFX0xFRlQ7XG5cbiAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcbiAgICAgIHJldHVybiBESVJFQ1RJT04uRk9SQ0VfUklHSFQ7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGRpcmVjdGlvbjtcbiAgfVxufVxuLyoqIEVzY2FwZXMgcmVndWxhciBleHByZXNzaW9uIGNvbnRyb2wgY2hhcnMgKi9cblxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByZXBhcmUocHJlcCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShwcmVwKSA/IHByZXAgOiBbcHJlcCwgbmV3IENoYW5nZURldGFpbHMoKV07XG59IC8vIGNsb25lZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9lcG9iZXJlemtpbi9mYXN0LWRlZXAtZXF1YWwgd2l0aCBzbWFsbCBjaGFuZ2VzXG5cbmZ1bmN0aW9uIG9iamVjdEluY2x1ZGVzKGIsIGEpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICB2YXIgYXJyQSA9IEFycmF5LmlzQXJyYXkoYSksXG4gICAgICBhcnJCID0gQXJyYXkuaXNBcnJheShiKSxcbiAgICAgIGk7XG5cbiAgaWYgKGFyckEgJiYgYXJyQikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghb2JqZWN0SW5jbHVkZXMoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChhcnJBICE9IGFyckIpIHJldHVybiBmYWxzZTtcblxuICBpZiAoYSAmJiBiICYmIF90eXBlb2YoYSkgPT09ICdvYmplY3QnICYmIF90eXBlb2YoYikgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGRhdGVBID0gYSBpbnN0YW5jZW9mIERhdGUsXG4gICAgICAgIGRhdGVCID0gYiBpbnN0YW5jZW9mIERhdGU7XG4gICAgaWYgKGRhdGVBICYmIGRhdGVCKSByZXR1cm4gYS5nZXRUaW1lKCkgPT0gYi5nZXRUaW1lKCk7XG4gICAgaWYgKGRhdGVBICE9IGRhdGVCKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHJlZ2V4cEEgPSBhIGluc3RhbmNlb2YgUmVnRXhwLFxuICAgICAgICByZWdleHBCID0gYiBpbnN0YW5jZW9mIFJlZ0V4cDtcbiAgICBpZiAocmVnZXhwQSAmJiByZWdleHBCKSByZXR1cm4gYS50b1N0cmluZygpID09IGIudG9TdHJpbmcoKTtcbiAgICBpZiAocmVnZXhwQSAhPSByZWdleHBCKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhKTsgLy8gaWYgKGtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lIC4uLiA/Pz9cbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghb2JqZWN0SW5jbHVkZXMoYltrZXlzW2ldXSwgYVtrZXlzW2ldXSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGIgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKiogU2VsZWN0aW9uIHJhbmdlICovXG5cbmV4cG9ydCB7IERJUkVDVElPTiwgZXNjYXBlUmVnRXhwLCBmb3JjZURpcmVjdGlvbiwgaW5kZXhJbkRpcmVjdGlvbiwgaXNTdHJpbmcsIG5vcm1hbGl6ZVByZXBhcmUsIG9iamVjdEluY2x1ZGVzLCBwb3NJbkRpcmVjdGlvbiB9O1xuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBJbnB1dE1hc2sgfSBmcm9tICcuL2NvbnRyb2xzL2lucHV0LmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuL2NvcmUvaG9sZGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL2NvcmUvaG9sZGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkIH0gZnJvbSAnLi9tYXNrZWQvYmFzZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hc2tlZFBhdHRlcm4gfSBmcm9tICcuL21hc2tlZC9wYXR0ZXJuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkRW51bSB9IGZyb20gJy4vbWFza2VkL2VudW0uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWRSYW5nZSB9IGZyb20gJy4vbWFza2VkL3JhbmdlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkTnVtYmVyIH0gZnJvbSAnLi9tYXNrZWQvbnVtYmVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkRGF0ZSB9IGZyb20gJy4vbWFza2VkL2RhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWRSZWdFeHAgfSBmcm9tICcuL21hc2tlZC9yZWdleHAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWRGdW5jdGlvbiB9IGZyb20gJy4vbWFza2VkL2Z1bmN0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkRHluYW1pYyB9IGZyb20gJy4vbWFza2VkL2R5bmFtaWMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVNYXNrIH0gZnJvbSAnLi9tYXNrZWQvZmFjdG9yeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hc2tFbGVtZW50IH0gZnJvbSAnLi9jb250cm9scy9tYXNrLWVsZW1lbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIVE1MTWFza0VsZW1lbnQgfSBmcm9tICcuL2NvbnRyb2xzL2h0bWwtbWFzay1lbGVtZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50IH0gZnJvbSAnLi9jb250cm9scy9odG1sLWNvbnRlbnRlZGl0YWJsZS1tYXNrLWVsZW1lbnQuanMnO1xuZXhwb3J0IHsgUElQRV9UWVBFLCBjcmVhdGVQaXBlLCBwaXBlIH0gZnJvbSAnLi9tYXNrZWQvcGlwZS5qcyc7XG5pbXBvcnQgJy4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02N2JiYTdmYi5qcyc7XG5pbXBvcnQgJy4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgJy4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vY29yZS9hY3Rpb24tZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vbWFza2VkL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgJy4vbWFza2VkL3BhdHRlcm4vZml4ZWQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgJy4vbWFza2VkL3BhdHRlcm4vY2h1bmstdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9tYXNrZWQvcGF0dGVybi9jdXJzb3IuanMnO1xuXG50cnkge1xuICBnbG9iYWxUaGlzLklNYXNrID0gSU1hc2s7XG59IGNhdGNoIChlKSB7fVxuIiwiaW1wb3J0IHsgXyBhcyBfY3JlYXRlQ2xhc3MsIGEgYXMgX2NsYXNzQ2FsbENoZWNrLCBmIGFzIF9zbGljZWRUb0FycmF5IH0gZnJvbSAnLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02N2JiYTdmYi5qcyc7XG5pbXBvcnQgQ2hhbmdlRGV0YWlscyBmcm9tICcuLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCBDb250aW51b3VzVGFpbERldGFpbHMgZnJvbSAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgeyBpc1N0cmluZywgbm9ybWFsaXplUHJlcGFyZSwgZm9yY2VEaXJlY3Rpb24sIERJUkVDVElPTiB9IGZyb20gJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcblxuLyoqIFN1cHBvcnRlZCBtYXNrIHR5cGUgKi9cblxuLyoqIFByb3ZpZGVzIGNvbW1vbiBtYXNraW5nIHN0dWZmICovXG52YXIgTWFza2VkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy8gJFNoYXBlPE1hc2tlZE9wdGlvbnM+OyBUT0RPIGFmdGVyIGZpeCBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvNDc3M1xuXG4gIC8qKiBAdHlwZSB7TWFza30gKi9cblxuICAvKiogKi9cbiAgLy8gJEZsb3dGaXhNZSBubyBpZGVhc1xuXG4gIC8qKiBUcmFuc2Zvcm1zIHZhbHVlIGJlZm9yZSBtYXNrIHByb2Nlc3NpbmcgKi9cblxuICAvKiogVmFsaWRhdGVzIGlmIHZhbHVlIGlzIGFjY2VwdGFibGUgKi9cblxuICAvKiogRG9lcyBhZGRpdGlvbmFsIHByb2Nlc3NpbmcgaW4gdGhlIGVuZCBvZiBlZGl0aW5nICovXG5cbiAgLyoqIEZvcm1hdCB0eXBlZCB2YWx1ZSB0byBzdHJpbmcgKi9cblxuICAvKiogUGFyc2Ugc3RyZ2luIHRvIGdldCB0eXBlZCB2YWx1ZSAqL1xuXG4gIC8qKiBFbmFibGUgY2hhcmFjdGVycyBvdmVyd3JpdGluZyAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuICBmdW5jdGlvbiBNYXNrZWQob3B0cykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXNrZWQpO1xuXG4gICAgdGhpcy5fdmFsdWUgPSAnJztcblxuICAgIHRoaXMuX3VwZGF0ZShPYmplY3QuYXNzaWduKHt9LCBNYXNrZWQuREVGQVVMVFMsIG9wdHMpKTtcblxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gIH1cbiAgLyoqIFNldHMgYW5kIGFwcGxpZXMgbmV3IG9wdGlvbnMgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhNYXNrZWQsIFt7XG4gICAga2V5OiBcInVwZGF0ZU9wdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhvcHRzKSB7XG4gICAgICBpZiAoIU9iamVjdC5rZXlzKG9wdHMpLmxlbmd0aCkgcmV0dXJuOyAvLyAkRmxvd0ZpeE1lXG5cbiAgICAgIHRoaXMud2l0aFZhbHVlUmVmcmVzaCh0aGlzLl91cGRhdGUuYmluZCh0aGlzLCBvcHRzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgU2V0cyBuZXcgb3B0aW9uc1xuICAgICAgQHByb3RlY3RlZFxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGUob3B0cykge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRzKTtcbiAgICB9XG4gICAgLyoqIE1hc2sgc3RhdGUgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInN0YXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfdmFsdWU6IHRoaXMudmFsdWVcbiAgICAgIH07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdGF0ZSkge1xuICAgICAgdGhpcy5fdmFsdWUgPSBzdGF0ZS5fdmFsdWU7XG4gICAgfVxuICAgIC8qKiBSZXNldHMgdmFsdWUgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgdGhpcy5fdmFsdWUgPSAnJztcbiAgICB9XG4gICAgLyoqICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKiBSZXNvbHZlIG5ldyB2YWx1ZSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVzb2x2ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmFwcGVuZCh2YWx1ZSwge1xuICAgICAgICBpbnB1dDogdHJ1ZVxuICAgICAgfSwgJycpO1xuICAgICAgdGhpcy5kb0NvbW1pdCgpO1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5tYXNrZWRWYWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgdGhpcy5hcHBlbmQodmFsdWUsIHt9LCAnJyk7XG4gICAgICB0aGlzLmRvQ29tbWl0KCk7XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidHlwZWRWYWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9QYXJzZSh0aGlzLnZhbHVlKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5kb0Zvcm1hdCh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKiBWYWx1ZSB0aGF0IGluY2x1ZGVzIHJhdyB1c2VyIGlucHV0ICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyYXdJbnB1dFZhbHVlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5leHRyYWN0SW5wdXQoMCwgdGhpcy52YWx1ZS5sZW5ndGgsIHtcbiAgICAgICAgcmF3OiB0cnVlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmFwcGVuZCh2YWx1ZSwge1xuICAgICAgICByYXc6IHRydWVcbiAgICAgIH0sICcnKTtcbiAgICAgIHRoaXMuZG9Db21taXQoKTtcbiAgICB9XG4gICAgLyoqICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0NvbXBsZXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0ZpbGxlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNDb21wbGV0ZTtcbiAgICB9XG4gICAgLyoqIEZpbmRzIG5lYXJlc3QgaW5wdXQgcG9zaXRpb24gaW4gZGlyZWN0aW9uICovXG5cbiAgfSwge1xuICAgIGtleTogXCJuZWFyZXN0SW5wdXRQb3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmVhcmVzdElucHV0UG9zKGN1cnNvclBvcywgZGlyZWN0aW9uKSB7XG4gICAgICByZXR1cm4gY3Vyc29yUG9zO1xuICAgIH1cbiAgICAvKiogRXh0cmFjdHMgdmFsdWUgaW4gcmFuZ2UgY29uc2lkZXJpbmcgZmxhZ3MgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImV4dHJhY3RJbnB1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0SW5wdXQoKSB7XG4gICAgICB2YXIgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZS5zbGljZShmcm9tUG9zLCB0b1Bvcyk7XG4gICAgfVxuICAgIC8qKiBFeHRyYWN0cyB0YWlsIGluIHJhbmdlICovXG5cbiAgfSwge1xuICAgIGtleTogXCJleHRyYWN0VGFpbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0VGFpbCgpIHtcbiAgICAgIHZhciBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgdmFyIHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICAgIHJldHVybiBuZXcgQ29udGludW91c1RhaWxEZXRhaWxzKHRoaXMuZXh0cmFjdElucHV0KGZyb21Qb3MsIHRvUG9zKSwgZnJvbVBvcyk7XG4gICAgfVxuICAgIC8qKiBBcHBlbmRzIHRhaWwgKi9cbiAgICAvLyAkRmxvd0ZpeE1lIG5vIGlkZWFzXG5cbiAgfSwge1xuICAgIGtleTogXCJhcHBlbmRUYWlsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZFRhaWwodGFpbCkge1xuICAgICAgaWYgKGlzU3RyaW5nKHRhaWwpKSB0YWlsID0gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscyhTdHJpbmcodGFpbCkpO1xuICAgICAgcmV0dXJuIHRhaWwuYXBwZW5kVG8odGhpcyk7XG4gICAgfVxuICAgIC8qKiBBcHBlbmRzIGNoYXIgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRDaGFyUmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRDaGFyUmF3KGNoKSB7XG4gICAgICBpZiAoIWNoKSByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICAgIHRoaXMuX3ZhbHVlICs9IGNoO1xuICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKHtcbiAgICAgICAgaW5zZXJ0ZWQ6IGNoLFxuICAgICAgICByYXdJbnNlcnRlZDogY2hcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQXBwZW5kcyBjaGFyICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfYXBwZW5kQ2hhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kQ2hhcihjaCkge1xuICAgICAgdmFyIGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBjaGVja1RhaWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBjb25zaXN0ZW50U3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgdmFyIGRldGFpbHM7XG5cbiAgICAgIHZhciBfbm9ybWFsaXplUHJlcGFyZSA9IG5vcm1hbGl6ZVByZXBhcmUodGhpcy5kb1ByZXBhcmUoY2gsIGZsYWdzKSk7XG5cbiAgICAgIHZhciBfbm9ybWFsaXplUHJlcGFyZTIgPSBfc2xpY2VkVG9BcnJheShfbm9ybWFsaXplUHJlcGFyZSwgMik7XG5cbiAgICAgIGNoID0gX25vcm1hbGl6ZVByZXBhcmUyWzBdO1xuICAgICAgZGV0YWlscyA9IF9ub3JtYWxpemVQcmVwYXJlMlsxXTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLl9hcHBlbmRDaGFyUmF3KGNoLCBmbGFncykpO1xuXG4gICAgICBpZiAoZGV0YWlscy5pbnNlcnRlZCkge1xuICAgICAgICB2YXIgY29uc2lzdGVudFRhaWw7XG4gICAgICAgIHZhciBhcHBlbmRlZCA9IHRoaXMuZG9WYWxpZGF0ZShmbGFncykgIT09IGZhbHNlO1xuXG4gICAgICAgIGlmIChhcHBlbmRlZCAmJiBjaGVja1RhaWwgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIHZhbGlkYXRpb24gb2ssIGNoZWNrIHRhaWxcbiAgICAgICAgICB2YXIgYmVmb3JlVGFpbFN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIGlmICh0aGlzLm92ZXJ3cml0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc2lzdGVudFRhaWwgPSBjaGVja1RhaWwuc3RhdGU7XG4gICAgICAgICAgICBjaGVja1RhaWwudW5zaGlmdCh0aGlzLnZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHRhaWxEZXRhaWxzID0gdGhpcy5hcHBlbmRUYWlsKGNoZWNrVGFpbCk7XG4gICAgICAgICAgYXBwZW5kZWQgPSB0YWlsRGV0YWlscy5yYXdJbnNlcnRlZCA9PT0gY2hlY2tUYWlsLnRvU3RyaW5nKCk7IC8vIG5vdCBvaywgdHJ5IHNoaWZ0XG5cbiAgICAgICAgICBpZiAoIShhcHBlbmRlZCAmJiB0YWlsRGV0YWlscy5pbnNlcnRlZCkgJiYgdGhpcy5vdmVyd3JpdGUgPT09ICdzaGlmdCcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiZWZvcmVUYWlsU3RhdGU7XG4gICAgICAgICAgICBjb25zaXN0ZW50VGFpbCA9IGNoZWNrVGFpbC5zdGF0ZTtcbiAgICAgICAgICAgIGNoZWNrVGFpbC5zaGlmdCgpO1xuICAgICAgICAgICAgdGFpbERldGFpbHMgPSB0aGlzLmFwcGVuZFRhaWwoY2hlY2tUYWlsKTtcbiAgICAgICAgICAgIGFwcGVuZGVkID0gdGFpbERldGFpbHMucmF3SW5zZXJ0ZWQgPT09IGNoZWNrVGFpbC50b1N0cmluZygpO1xuICAgICAgICAgIH0gLy8gaWYgb2ssIHJvbGxiYWNrIHN0YXRlIGFmdGVyIHRhaWxcblxuXG4gICAgICAgICAgaWYgKGFwcGVuZGVkICYmIHRhaWxEZXRhaWxzLmluc2VydGVkKSB0aGlzLnN0YXRlID0gYmVmb3JlVGFpbFN0YXRlO1xuICAgICAgICB9IC8vIHJldmVydCBhbGwgaWYgc29tZXRoaW5nIHdlbnQgd3JvbmdcblxuXG4gICAgICAgIGlmICghYXBwZW5kZWQpIHtcbiAgICAgICAgICBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gY29uc2lzdGVudFN0YXRlO1xuICAgICAgICAgIGlmIChjaGVja1RhaWwgJiYgY29uc2lzdGVudFRhaWwpIGNoZWNrVGFpbC5zdGF0ZSA9IGNvbnNpc3RlbnRUYWlsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgICAvKiogQXBwZW5kcyBvcHRpb25hbCBwbGFjZWhvbGRlciBhdCBlbmQgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRQbGFjZWhvbGRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kUGxhY2Vob2xkZXIoKSB7XG4gICAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICB9XG4gICAgLyoqIEFwcGVuZHMgb3B0aW9uYWwgZWFnZXIgcGxhY2Vob2xkZXIgYXQgZW5kICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfYXBwZW5kRWFnZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZEVhZ2VyKCkge1xuICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgfVxuICAgIC8qKiBBcHBlbmRzIHN5bWJvbHMgY29uc2lkZXJpbmcgZmxhZ3MgKi9cbiAgICAvLyAkRmxvd0ZpeE1lIG5vIGlkZWFzXG5cbiAgfSwge1xuICAgIGtleTogXCJhcHBlbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kKHN0ciwgZmxhZ3MsIHRhaWwpIHtcbiAgICAgIGlmICghaXNTdHJpbmcoc3RyKSkgdGhyb3cgbmV3IEVycm9yKCd2YWx1ZSBzaG91bGQgYmUgc3RyaW5nJyk7XG4gICAgICB2YXIgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgICB2YXIgY2hlY2tUYWlsID0gaXNTdHJpbmcodGFpbCkgPyBuZXcgQ29udGludW91c1RhaWxEZXRhaWxzKFN0cmluZyh0YWlsKSkgOiB0YWlsO1xuICAgICAgaWYgKGZsYWdzICE9PSBudWxsICYmIGZsYWdzICE9PSB2b2lkIDAgJiYgZmxhZ3MudGFpbCkgZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgIGZvciAodmFyIGNpID0gMDsgY2kgPCBzdHIubGVuZ3RoOyArK2NpKSB7XG4gICAgICAgIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuX2FwcGVuZENoYXIoc3RyW2NpXSwgZmxhZ3MsIGNoZWNrVGFpbCkpO1xuICAgICAgfSAvLyBhcHBlbmQgdGFpbCBidXQgYWdncmVnYXRlIG9ubHkgdGFpbFNoaWZ0XG5cblxuICAgICAgaWYgKGNoZWNrVGFpbCAhPSBudWxsKSB7XG4gICAgICAgIGRldGFpbHMudGFpbFNoaWZ0ICs9IHRoaXMuYXBwZW5kVGFpbChjaGVja1RhaWwpLnRhaWxTaGlmdDsgLy8gVE9ETyBpdCdzIGEgZ29vZCBpZGVhIHRvIGNsZWFyIHN0YXRlIGFmdGVyIGFwcGVuZGluZyBlbmRzXG4gICAgICAgIC8vIGJ1dCBpdCBjYXVzZXMgYnVncyB3aGVuIG9uZSBhcHBlbmQgY2FsbHMgYW5vdGhlciAod2hlbiBkeW5hbWljIGRpc3BhdGNoIHNldCByYXdJbnB1dFZhbHVlKVxuICAgICAgICAvLyB0aGlzLl9yZXNldEJlZm9yZVRhaWxTdGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lYWdlciAmJiBmbGFncyAhPT0gbnVsbCAmJiBmbGFncyAhPT0gdm9pZCAwICYmIGZsYWdzLmlucHV0ICYmIHN0cikge1xuICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLl9hcHBlbmRFYWdlcigpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHZhciBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgdmFyIHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy52YWx1ZS5zbGljZSgwLCBmcm9tUG9zKSArIHRoaXMudmFsdWUuc2xpY2UodG9Qb3MpO1xuICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgfVxuICAgIC8qKiBDYWxscyBmdW5jdGlvbiBhbmQgcmVhcHBsaWVzIGN1cnJlbnQgdmFsdWUgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIndpdGhWYWx1ZVJlZnJlc2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gd2l0aFZhbHVlUmVmcmVzaChmbikge1xuICAgICAgaWYgKHRoaXMuX3JlZnJlc2hpbmcgfHwgIXRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuIGZuKCk7XG4gICAgICB0aGlzLl9yZWZyZXNoaW5nID0gdHJ1ZTtcbiAgICAgIHZhciByYXdJbnB1dCA9IHRoaXMucmF3SW5wdXRWYWx1ZTtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICB2YXIgcmV0ID0gZm4oKTtcbiAgICAgIHRoaXMucmF3SW5wdXRWYWx1ZSA9IHJhd0lucHV0OyAvLyBhcHBlbmQgbG9zdCB0cmFpbGluZyBjaGFycyBhdCBlbmRcblxuICAgICAgaWYgKHRoaXMudmFsdWUgJiYgdGhpcy52YWx1ZSAhPT0gdmFsdWUgJiYgdmFsdWUuaW5kZXhPZih0aGlzLnZhbHVlKSA9PT0gMCkge1xuICAgICAgICB0aGlzLmFwcGVuZCh2YWx1ZS5zbGljZSh0aGlzLnZhbHVlLmxlbmd0aCksIHt9LCAnJyk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSB0aGlzLl9yZWZyZXNoaW5nO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqICovXG5cbiAgfSwge1xuICAgIGtleTogXCJydW5Jc29sYXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBydW5Jc29sYXRlZChmbikge1xuICAgICAgaWYgKHRoaXMuX2lzb2xhdGVkIHx8ICF0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVybiBmbih0aGlzKTtcbiAgICAgIHRoaXMuX2lzb2xhdGVkID0gdHJ1ZTtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICB2YXIgcmV0ID0gZm4odGhpcyk7XG4gICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICBkZWxldGUgdGhpcy5faXNvbGF0ZWQ7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgIFByZXBhcmVzIHN0cmluZyBiZWZvcmUgbWFzayBwcm9jZXNzaW5nXG4gICAgICBAcHJvdGVjdGVkXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRvUHJlcGFyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb1ByZXBhcmUoc3RyKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSA/IHRoaXMucHJlcGFyZShzdHIsIHRoaXMsIGZsYWdzKSA6IHN0cjtcbiAgICB9XG4gICAgLyoqXG4gICAgICBWYWxpZGF0ZXMgaWYgdmFsdWUgaXMgYWNjZXB0YWJsZVxuICAgICAgQHByb3RlY3RlZFxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkb1ZhbGlkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvVmFsaWRhdGUoZmxhZ3MpIHtcbiAgICAgIHJldHVybiAoIXRoaXMudmFsaWRhdGUgfHwgdGhpcy52YWxpZGF0ZSh0aGlzLnZhbHVlLCB0aGlzLCBmbGFncykpICYmICghdGhpcy5wYXJlbnQgfHwgdGhpcy5wYXJlbnQuZG9WYWxpZGF0ZShmbGFncykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIERvZXMgYWRkaXRpb25hbCBwcm9jZXNzaW5nIGluIHRoZSBlbmQgb2YgZWRpdGluZ1xuICAgICAgQHByb3RlY3RlZFxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkb0NvbW1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb0NvbW1pdCgpIHtcbiAgICAgIGlmICh0aGlzLmNvbW1pdCkgdGhpcy5jb21taXQodGhpcy52YWx1ZSwgdGhpcyk7XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9Gb3JtYXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG9Gb3JtYXQodmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdCA/IHRoaXMuZm9ybWF0KHZhbHVlLCB0aGlzKSA6IHZhbHVlO1xuICAgIH1cbiAgICAvKiogKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRvUGFyc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG9QYXJzZShzdHIpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcnNlID8gdGhpcy5wYXJzZShzdHIsIHRoaXMpIDogc3RyO1xuICAgIH1cbiAgICAvKiogKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNwbGljZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzcGxpY2Uoc3RhcnQsIGRlbGV0ZUNvdW50LCBpbnNlcnRlZCwgcmVtb3ZlRGlyZWN0aW9uKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHtcbiAgICAgICAgaW5wdXQ6IHRydWVcbiAgICAgIH07XG4gICAgICB2YXIgdGFpbFBvcyA9IHN0YXJ0ICsgZGVsZXRlQ291bnQ7XG4gICAgICB2YXIgdGFpbCA9IHRoaXMuZXh0cmFjdFRhaWwodGFpbFBvcyk7XG4gICAgICB2YXIgb2xkUmF3VmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLmVhZ2VyKSB7XG4gICAgICAgIHJlbW92ZURpcmVjdGlvbiA9IGZvcmNlRGlyZWN0aW9uKHJlbW92ZURpcmVjdGlvbik7XG4gICAgICAgIG9sZFJhd1ZhbHVlID0gdGhpcy5leHRyYWN0SW5wdXQoMCwgdGFpbFBvcywge1xuICAgICAgICAgIHJhdzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0Q2hhbmdlUG9zID0gdGhpcy5uZWFyZXN0SW5wdXRQb3Moc3RhcnQsIGRlbGV0ZUNvdW50ID4gMSAmJiBzdGFydCAhPT0gMCAmJiAhdGhpcy5lYWdlciA/IERJUkVDVElPTi5OT05FIDogcmVtb3ZlRGlyZWN0aW9uKTtcbiAgICAgIHZhciBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoe1xuICAgICAgICB0YWlsU2hpZnQ6IHN0YXJ0Q2hhbmdlUG9zIC0gc3RhcnQgLy8gYWRqdXN0IHRhaWxTaGlmdCBpZiBzdGFydCB3YXMgYWxpZ25lZFxuXG4gICAgICB9KS5hZ2dyZWdhdGUodGhpcy5yZW1vdmUoc3RhcnRDaGFuZ2VQb3MpKTtcblxuICAgICAgaWYgKHRoaXMuZWFnZXIgJiYgcmVtb3ZlRGlyZWN0aW9uICE9PSBESVJFQ1RJT04uTk9ORSAmJiBvbGRSYXdWYWx1ZSA9PT0gdGhpcy5yYXdJbnB1dFZhbHVlKSB7XG4gICAgICAgIGlmIChyZW1vdmVEaXJlY3Rpb24gPT09IERJUkVDVElPTi5GT1JDRV9MRUZUKSB7XG4gICAgICAgICAgdmFyIHZhbExlbmd0aDtcblxuICAgICAgICAgIHdoaWxlIChvbGRSYXdWYWx1ZSA9PT0gdGhpcy5yYXdJbnB1dFZhbHVlICYmICh2YWxMZW5ndGggPSB0aGlzLnZhbHVlLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIGRldGFpbHMuYWdncmVnYXRlKG5ldyBDaGFuZ2VEZXRhaWxzKHtcbiAgICAgICAgICAgICAgdGFpbFNoaWZ0OiAtMVxuICAgICAgICAgICAgfSkpLmFnZ3JlZ2F0ZSh0aGlzLnJlbW92ZSh2YWxMZW5ndGggLSAxKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlbW92ZURpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkZPUkNFX1JJR0hUKSB7XG4gICAgICAgICAgdGFpbC51bnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuYXBwZW5kKGluc2VydGVkLCBmbGFncywgdGFpbCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtYXNrRXF1YWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hc2tFcXVhbHMobWFzaykge1xuICAgICAgcmV0dXJuIHRoaXMubWFzayA9PT0gbWFzaztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidHlwZWRWYWx1ZUVxdWFsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0eXBlZFZhbHVlRXF1YWxzKHZhbHVlKSB7XG4gICAgICB2YXIgdHZhbCA9IHRoaXMudHlwZWRWYWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHZhbCB8fCBNYXNrZWQuRU1QVFlfVkFMVUVTLmluY2x1ZGVzKHZhbHVlKSAmJiBNYXNrZWQuRU1QVFlfVkFMVUVTLmluY2x1ZGVzKHR2YWwpIHx8IHRoaXMuZG9Gb3JtYXQodmFsdWUpID09PSB0aGlzLmRvRm9ybWF0KHRoaXMudHlwZWRWYWx1ZSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1hc2tlZDtcbn0oKTtcbk1hc2tlZC5ERUZBVUxUUyA9IHtcbiAgZm9ybWF0OiBmdW5jdGlvbiBmb3JtYXQodikge1xuICAgIHJldHVybiB2O1xuICB9LFxuICBwYXJzZTogZnVuY3Rpb24gcGFyc2Uodikge1xuICAgIHJldHVybiB2O1xuICB9XG59O1xuTWFza2VkLkVNUFRZX1ZBTFVFUyA9IFt1bmRlZmluZWQsIG51bGwsICcnXTtcbklNYXNrLk1hc2tlZCA9IE1hc2tlZDtcblxuZXhwb3J0IHsgTWFza2VkIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IGQgYXMgX2luaGVyaXRzLCBlIGFzIF9jcmVhdGVTdXBlciwgXyBhcyBfY3JlYXRlQ2xhc3MsIGYgYXMgX3NsaWNlZFRvQXJyYXksIGEgYXMgX2NsYXNzQ2FsbENoZWNrLCBnIGFzIF9nZXQsIGggYXMgX2dldFByb3RvdHlwZU9mLCBpIGFzIF9zZXQgfSBmcm9tICcuLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTY3YmJhN2ZiLmpzJztcbmltcG9ydCBNYXNrZWRQYXR0ZXJuIGZyb20gJy4vcGF0dGVybi5qcyc7XG5pbXBvcnQgTWFza2VkUmFuZ2UgZnJvbSAnLi9yYW5nZS5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vYmFzZS5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgJy4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9maXhlZC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2NodW5rLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9jdXJzb3IuanMnO1xuaW1wb3J0ICcuL3JlZ2V4cC5qcyc7XG5cbi8qKiBEYXRlIG1hc2sgKi9cblxudmFyIE1hc2tlZERhdGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9NYXNrZWRQYXR0ZXJuKSB7XG4gIF9pbmhlcml0cyhNYXNrZWREYXRlLCBfTWFza2VkUGF0dGVybik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNYXNrZWREYXRlKTtcblxuICAvKiogUGF0dGVybiBtYXNrIGZvciBkYXRlIGFjY29yZGluZyB0byB7QGxpbmsgTWFza2VkRGF0ZSNmb3JtYXR9ICovXG5cbiAgLyoqIFN0YXJ0IGRhdGUgKi9cblxuICAvKiogRW5kIGRhdGUgKi9cblxuICAvKiogKi9cblxuICAvKipcbiAgICBAcGFyYW0ge09iamVjdH0gb3B0c1xuICAqL1xuICBmdW5jdGlvbiBNYXNrZWREYXRlKG9wdHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2VkRGF0ZSk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgT2JqZWN0LmFzc2lnbih7fSwgTWFza2VkRGF0ZS5ERUZBVUxUUywgb3B0cykpO1xuICB9XG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKE1hc2tlZERhdGUsIFt7XG4gICAga2V5OiBcIl91cGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZShvcHRzKSB7XG4gICAgICBpZiAob3B0cy5tYXNrID09PSBEYXRlKSBkZWxldGUgb3B0cy5tYXNrO1xuICAgICAgaWYgKG9wdHMucGF0dGVybikgb3B0cy5tYXNrID0gb3B0cy5wYXR0ZXJuO1xuICAgICAgdmFyIGJsb2NrcyA9IG9wdHMuYmxvY2tzO1xuICAgICAgb3B0cy5ibG9ja3MgPSBPYmplY3QuYXNzaWduKHt9LCBNYXNrZWREYXRlLkdFVF9ERUZBVUxUX0JMT0NLUygpKTsgLy8gYWRqdXN0IHllYXIgYmxvY2tcblxuICAgICAgaWYgKG9wdHMubWluKSBvcHRzLmJsb2Nrcy5ZLmZyb20gPSBvcHRzLm1pbi5nZXRGdWxsWWVhcigpO1xuICAgICAgaWYgKG9wdHMubWF4KSBvcHRzLmJsb2Nrcy5ZLnRvID0gb3B0cy5tYXguZ2V0RnVsbFllYXIoKTtcblxuICAgICAgaWYgKG9wdHMubWluICYmIG9wdHMubWF4ICYmIG9wdHMuYmxvY2tzLlkuZnJvbSA9PT0gb3B0cy5ibG9ja3MuWS50bykge1xuICAgICAgICBvcHRzLmJsb2Nrcy5tLmZyb20gPSBvcHRzLm1pbi5nZXRNb250aCgpICsgMTtcbiAgICAgICAgb3B0cy5ibG9ja3MubS50byA9IG9wdHMubWF4LmdldE1vbnRoKCkgKyAxO1xuXG4gICAgICAgIGlmIChvcHRzLmJsb2Nrcy5tLmZyb20gPT09IG9wdHMuYmxvY2tzLm0udG8pIHtcbiAgICAgICAgICBvcHRzLmJsb2Nrcy5kLmZyb20gPSBvcHRzLm1pbi5nZXREYXRlKCk7XG4gICAgICAgICAgb3B0cy5ibG9ja3MuZC50byA9IG9wdHMubWF4LmdldERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBPYmplY3QuYXNzaWduKG9wdHMuYmxvY2tzLCB0aGlzLmJsb2NrcywgYmxvY2tzKTsgLy8gYWRkIGF1dG9maXhcblxuICAgICAgT2JqZWN0LmtleXMob3B0cy5ibG9ja3MpLmZvckVhY2goZnVuY3Rpb24gKGJrKSB7XG4gICAgICAgIHZhciBiID0gb3B0cy5ibG9ja3NbYmtdO1xuICAgICAgICBpZiAoISgnYXV0b2ZpeCcgaW4gYikgJiYgJ2F1dG9maXgnIGluIG9wdHMpIGIuYXV0b2ZpeCA9IG9wdHMuYXV0b2ZpeDtcbiAgICAgIH0pO1xuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREYXRlLnByb3RvdHlwZSksIFwiX3VwZGF0ZVwiLCB0aGlzKS5jYWxsKHRoaXMsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkb1ZhbGlkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvVmFsaWRhdGUoKSB7XG4gICAgICB2YXIgX2dldDI7XG5cbiAgICAgIHZhciBkYXRlID0gdGhpcy5kYXRlO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChfZ2V0MiA9IF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZERhdGUucHJvdG90eXBlKSwgXCJkb1ZhbGlkYXRlXCIsIHRoaXMpKS5jYWxsLmFwcGx5KF9nZXQyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSAmJiAoIXRoaXMuaXNDb21wbGV0ZSB8fCB0aGlzLmlzRGF0ZUV4aXN0KHRoaXMudmFsdWUpICYmIGRhdGUgIT0gbnVsbCAmJiAodGhpcy5taW4gPT0gbnVsbCB8fCB0aGlzLm1pbiA8PSBkYXRlKSAmJiAodGhpcy5tYXggPT0gbnVsbCB8fCBkYXRlIDw9IHRoaXMubWF4KSk7XG4gICAgfVxuICAgIC8qKiBDaGVja3MgaWYgZGF0ZSBpcyBleGlzdHMgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzRGF0ZUV4aXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRGF0ZUV4aXN0KHN0cikge1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KHRoaXMucGFyc2Uoc3RyLCB0aGlzKSwgdGhpcykuaW5kZXhPZihzdHIpID49IDA7XG4gICAgfVxuICAgIC8qKiBQYXJzZWQgRGF0ZSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGF0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZWRWYWx1ZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGRhdGUpIHtcbiAgICAgIHRoaXMudHlwZWRWYWx1ZSA9IGRhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInR5cGVkVmFsdWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzQ29tcGxldGUgPyBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREYXRlLnByb3RvdHlwZSksIFwidHlwZWRWYWx1ZVwiLCB0aGlzKSA6IG51bGw7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRGF0ZS5wcm90b3R5cGUpLCBcInR5cGVkVmFsdWVcIiwgdmFsdWUsIHRoaXMsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXNrRXF1YWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hc2tFcXVhbHMobWFzaykge1xuICAgICAgcmV0dXJuIG1hc2sgPT09IERhdGUgfHwgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRGF0ZS5wcm90b3R5cGUpLCBcIm1hc2tFcXVhbHNcIiwgdGhpcykuY2FsbCh0aGlzLCBtYXNrKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWFza2VkRGF0ZTtcbn0oTWFza2VkUGF0dGVybik7XG5NYXNrZWREYXRlLkRFRkFVTFRTID0ge1xuICBwYXR0ZXJuOiAnZHsufWBtey59YFknLFxuICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdChkYXRlKSB7XG4gICAgaWYgKCFkYXRlKSByZXR1cm4gJyc7XG4gICAgdmFyIGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICB2YXIgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICByZXR1cm4gW2RheSwgbW9udGgsIHllYXJdLmpvaW4oJy4nKTtcbiAgfSxcbiAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICAgIHZhciBfc3RyJHNwbGl0ID0gc3RyLnNwbGl0KCcuJyksXG4gICAgICAgIF9zdHIkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX3N0ciRzcGxpdCwgMyksXG4gICAgICAgIGRheSA9IF9zdHIkc3BsaXQyWzBdLFxuICAgICAgICBtb250aCA9IF9zdHIkc3BsaXQyWzFdLFxuICAgICAgICB5ZWFyID0gX3N0ciRzcGxpdDJbMl07XG5cbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXkpO1xuICB9XG59O1xuXG5NYXNrZWREYXRlLkdFVF9ERUZBVUxUX0JMT0NLUyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBkOiB7XG4gICAgICBtYXNrOiBNYXNrZWRSYW5nZSxcbiAgICAgIGZyb206IDEsXG4gICAgICB0bzogMzEsXG4gICAgICBtYXhMZW5ndGg6IDJcbiAgICB9LFxuICAgIG06IHtcbiAgICAgIG1hc2s6IE1hc2tlZFJhbmdlLFxuICAgICAgZnJvbTogMSxcbiAgICAgIHRvOiAxMixcbiAgICAgIG1heExlbmd0aDogMlxuICAgIH0sXG4gICAgWToge1xuICAgICAgbWFzazogTWFza2VkUmFuZ2UsXG4gICAgICBmcm9tOiAxOTAwLFxuICAgICAgdG86IDk5OTlcbiAgICB9XG4gIH07XG59O1xuXG5JTWFzay5NYXNrZWREYXRlID0gTWFza2VkRGF0ZTtcblxuZXhwb3J0IHsgTWFza2VkRGF0ZSBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBkIGFzIF9pbmhlcml0cywgZSBhcyBfY3JlYXRlU3VwZXIsIF8gYXMgX2NyZWF0ZUNsYXNzLCBhIGFzIF9jbGFzc0NhbGxDaGVjaywgZyBhcyBfZ2V0LCBoIGFzIF9nZXRQcm90b3R5cGVPZiwgZiBhcyBfc2xpY2VkVG9BcnJheSwgaSBhcyBfc2V0LCBiIGFzIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyB9IGZyb20gJy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNjdiYmE3ZmIuanMnO1xuaW1wb3J0IENoYW5nZURldGFpbHMgZnJvbSAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgY3JlYXRlTWFzayBmcm9tICcuL2ZhY3RvcnkuanMnO1xuaW1wb3J0IE1hc2tlZCBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IHsgbm9ybWFsaXplUHJlcGFyZSB9IGZyb20gJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJjb21waWxlZE1hc2tzXCIsIFwiY3VycmVudE1hc2tSZWZcIiwgXCJjdXJyZW50TWFza1wiXTtcblxuLyoqIER5bmFtaWMgbWFzayBmb3IgY2hvb3NpbmcgYXByb3ByaWF0ZSBtYXNrIGluIHJ1bi10aW1lICovXG52YXIgTWFza2VkRHluYW1pYyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX01hc2tlZCkge1xuICBfaW5oZXJpdHMoTWFza2VkRHluYW1pYywgX01hc2tlZCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNYXNrZWREeW5hbWljKTtcblxuICAvKiogQ3VycmVudGx5IGNob3NlbiBtYXNrICovXG5cbiAgLyoqIENvbXBsaWxlZCB7QGxpbmsgTWFza2VkfSBvcHRpb25zICovXG5cbiAgLyoqIENob29zZXMge0BsaW5rIE1hc2tlZH0gZGVwZW5kaW5nIG9uIGlucHV0IHZhbHVlICovXG5cbiAgLyoqXG4gICAgQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgKi9cbiAgZnVuY3Rpb24gTWFza2VkRHluYW1pYyhvcHRzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tlZER5bmFtaWMpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBPYmplY3QuYXNzaWduKHt9LCBNYXNrZWREeW5hbWljLkRFRkFVTFRTLCBvcHRzKSk7XG4gICAgX3RoaXMuY3VycmVudE1hc2sgPSBudWxsO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICBAb3ZlcnJpZGVcbiAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhNYXNrZWREeW5hbWljLCBbe1xuICAgIGtleTogXCJfdXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGUob3B0cykge1xuICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcIl91cGRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBvcHRzKTtcblxuICAgICAgaWYgKCdtYXNrJyBpbiBvcHRzKSB7XG4gICAgICAgIC8vIG1hc2sgY291bGQgYmUgdG90YWxseSBkeW5hbWljIHdpdGggb25seSBgZGlzcGF0Y2hgIG9wdGlvblxuICAgICAgICB0aGlzLmNvbXBpbGVkTWFza3MgPSBBcnJheS5pc0FycmF5KG9wdHMubWFzaykgPyBvcHRzLm1hc2subWFwKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZU1hc2sobSk7XG4gICAgICAgIH0pIDogW107XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRDaGFyUmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRDaGFyUmF3KGNoKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICB2YXIgZGV0YWlscyA9IHRoaXMuX2FwcGx5RGlzcGF0Y2goY2gsIGZsYWdzKTtcblxuICAgICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5jdXJyZW50TWFzay5fYXBwZW5kQ2hhcihjaCwgdGhpcy5jdXJyZW50TWFza0ZsYWdzKGZsYWdzKSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FwcGx5RGlzcGF0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGx5RGlzcGF0Y2goKSB7XG4gICAgICB2YXIgYXBwZW5kZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgdmFyIGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBwcmV2VmFsdWVCZWZvcmVUYWlsID0gZmxhZ3MudGFpbCAmJiBmbGFncy5fYmVmb3JlVGFpbFN0YXRlICE9IG51bGwgPyBmbGFncy5fYmVmb3JlVGFpbFN0YXRlLl92YWx1ZSA6IHRoaXMudmFsdWU7XG4gICAgICB2YXIgaW5wdXRWYWx1ZSA9IHRoaXMucmF3SW5wdXRWYWx1ZTtcbiAgICAgIHZhciBpbnNlcnRWYWx1ZSA9IGZsYWdzLnRhaWwgJiYgZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSAhPSBudWxsID8gLy8gJEZsb3dGaXhNZSAtIHRpcmVkIHRvIGZpZ2h0IHdpdGggdHlwZSBzeXN0ZW1cbiAgICAgIGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUuX3Jhd0lucHV0VmFsdWUgOiBpbnB1dFZhbHVlO1xuICAgICAgdmFyIHRhaWxWYWx1ZSA9IGlucHV0VmFsdWUuc2xpY2UoaW5zZXJ0VmFsdWUubGVuZ3RoKTtcbiAgICAgIHZhciBwcmV2TWFzayA9IHRoaXMuY3VycmVudE1hc2s7XG4gICAgICB2YXIgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgICB2YXIgcHJldk1hc2tTdGF0ZSA9IHByZXZNYXNrID09PSBudWxsIHx8IHByZXZNYXNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcmV2TWFzay5zdGF0ZTsgLy8gY2xvbmUgZmxhZ3MgdG8gcHJldmVudCBvdmVyd3JpdGluZyBgX2JlZm9yZVRhaWxTdGF0ZWBcblxuICAgICAgdGhpcy5jdXJyZW50TWFzayA9IHRoaXMuZG9EaXNwYXRjaChhcHBlbmRlZCwgT2JqZWN0LmFzc2lnbih7fSwgZmxhZ3MpKTsgLy8gcmVzdG9yZSBzdGF0ZSBhZnRlciBkaXNwYXRjaFxuXG4gICAgICBpZiAodGhpcy5jdXJyZW50TWFzaykge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TWFzayAhPT0gcHJldk1hc2spIHtcbiAgICAgICAgICAvLyBpZiBtYXNrIGNoYW5nZWQgcmVhcHBseSBpbnB1dFxuICAgICAgICAgIHRoaXMuY3VycmVudE1hc2sucmVzZXQoKTtcblxuICAgICAgICAgIGlmIChpbnNlcnRWYWx1ZSkge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZSAtIGl0J3Mgb2ssIHdlIGRvbid0IGNoYW5nZSBjdXJyZW50IG1hc2sgYWJvdmVcbiAgICAgICAgICAgIHZhciBkID0gdGhpcy5jdXJyZW50TWFzay5hcHBlbmQoaW5zZXJ0VmFsdWUsIHtcbiAgICAgICAgICAgICAgcmF3OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRldGFpbHMudGFpbFNoaWZ0ID0gZC5pbnNlcnRlZC5sZW5ndGggLSBwcmV2VmFsdWVCZWZvcmVUYWlsLmxlbmd0aDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGFpbFZhbHVlKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gaXQncyBvaywgd2UgZG9uJ3QgY2hhbmdlIGN1cnJlbnQgbWFzayBhYm92ZVxuICAgICAgICAgICAgZGV0YWlscy50YWlsU2hpZnQgKz0gdGhpcy5jdXJyZW50TWFzay5hcHBlbmQodGFpbFZhbHVlLCB7XG4gICAgICAgICAgICAgIHJhdzogdHJ1ZSxcbiAgICAgICAgICAgICAgdGFpbDogdHJ1ZVxuICAgICAgICAgICAgfSkudGFpbFNoaWZ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBEaXNwYXRjaCBjYW4gZG8gc29tZXRoaW5nIGJhZCB3aXRoIHN0YXRlLCBzb1xuICAgICAgICAgIC8vIHJlc3RvcmUgcHJldiBtYXNrIHN0YXRlXG4gICAgICAgICAgdGhpcy5jdXJyZW50TWFzay5zdGF0ZSA9IHByZXZNYXNrU3RhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRQbGFjZWhvbGRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kUGxhY2Vob2xkZXIoKSB7XG4gICAgICB2YXIgZGV0YWlscyA9IHRoaXMuX2FwcGx5RGlzcGF0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5jdXJyZW50TWFzay5fYXBwZW5kUGxhY2Vob2xkZXIoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgICAvKipcbiAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRFYWdlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kRWFnZXIoKSB7XG4gICAgICB2YXIgZGV0YWlscyA9IHRoaXMuX2FwcGx5RGlzcGF0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5jdXJyZW50TWFzay5fYXBwZW5kRWFnZXIoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjdXJyZW50TWFza0ZsYWdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGN1cnJlbnRNYXNrRmxhZ3MoZmxhZ3MpIHtcbiAgICAgIHZhciBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEsIF9mbGFncyRfYmVmb3JlVGFpbFN0YTI7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBmbGFncywge1xuICAgICAgICBfYmVmb3JlVGFpbFN0YXRlOiAoKF9mbGFncyRfYmVmb3JlVGFpbFN0YSA9IGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUpID09PSBudWxsIHx8IF9mbGFncyRfYmVmb3JlVGFpbFN0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ZsYWdzJF9iZWZvcmVUYWlsU3RhLmN1cnJlbnRNYXNrUmVmKSA9PT0gdGhpcy5jdXJyZW50TWFzayAmJiAoKF9mbGFncyRfYmVmb3JlVGFpbFN0YTIgPSBmbGFncy5fYmVmb3JlVGFpbFN0YXRlKSA9PT0gbnVsbCB8fCBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEyLmN1cnJlbnRNYXNrKSB8fCBmbGFncy5fYmVmb3JlVGFpbFN0YXRlXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9EaXNwYXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb0Rpc3BhdGNoKGFwcGVuZGVkKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goYXBwZW5kZWQsIHRoaXMsIGZsYWdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9WYWxpZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb1ZhbGlkYXRlKGZsYWdzKSB7XG4gICAgICByZXR1cm4gX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcImRvVmFsaWRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBmbGFncykgJiYgKCF0aGlzLmN1cnJlbnRNYXNrIHx8IHRoaXMuY3VycmVudE1hc2suZG9WYWxpZGF0ZSh0aGlzLmN1cnJlbnRNYXNrRmxhZ3MoZmxhZ3MpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRvUHJlcGFyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb1ByZXBhcmUoc3RyKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICB2YXIgX25vcm1hbGl6ZVByZXBhcmUgPSBub3JtYWxpemVQcmVwYXJlKF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZER5bmFtaWMucHJvdG90eXBlKSwgXCJkb1ByZXBhcmVcIiwgdGhpcykuY2FsbCh0aGlzLCBzdHIsIGZsYWdzKSksXG4gICAgICAgICAgX25vcm1hbGl6ZVByZXBhcmUyID0gX3NsaWNlZFRvQXJyYXkoX25vcm1hbGl6ZVByZXBhcmUsIDIpLFxuICAgICAgICAgIHMgPSBfbm9ybWFsaXplUHJlcGFyZTJbMF0sXG4gICAgICAgICAgZGV0YWlscyA9IF9ub3JtYWxpemVQcmVwYXJlMlsxXTtcblxuICAgICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgICAgdmFyIGN1cnJlbnREZXRhaWxzO1xuXG4gICAgICAgIHZhciBfbm9ybWFsaXplUHJlcGFyZTMgPSBub3JtYWxpemVQcmVwYXJlKF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZER5bmFtaWMucHJvdG90eXBlKSwgXCJkb1ByZXBhcmVcIiwgdGhpcykuY2FsbCh0aGlzLCBzLCB0aGlzLmN1cnJlbnRNYXNrRmxhZ3MoZmxhZ3MpKSk7XG5cbiAgICAgICAgdmFyIF9ub3JtYWxpemVQcmVwYXJlNCA9IF9zbGljZWRUb0FycmF5KF9ub3JtYWxpemVQcmVwYXJlMywgMik7XG5cbiAgICAgICAgcyA9IF9ub3JtYWxpemVQcmVwYXJlNFswXTtcbiAgICAgICAgY3VycmVudERldGFpbHMgPSBfbm9ybWFsaXplUHJlcGFyZTRbMV07XG4gICAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmFnZ3JlZ2F0ZShjdXJyZW50RGV0YWlscyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbcywgZGV0YWlsc107XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgdmFyIF90aGlzJGN1cnJlbnRNYXNrO1xuXG4gICAgICAoX3RoaXMkY3VycmVudE1hc2sgPSB0aGlzLmN1cnJlbnRNYXNrKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50TWFzayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudE1hc2sucmVzZXQoKTtcbiAgICAgIHRoaXMuY29tcGlsZWRNYXNrcy5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIHJldHVybiBtLnJlc2V0KCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidmFsdWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay52YWx1ZSA6ICcnO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZER5bmFtaWMucHJvdG90eXBlKSwgXCJ2YWx1ZVwiLCB2YWx1ZSwgdGhpcywgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVubWFza2VkVmFsdWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay51bm1hc2tlZFZhbHVlIDogJyc7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh1bm1hc2tlZFZhbHVlKSB7XG4gICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREeW5hbWljLnByb3RvdHlwZSksIFwidW5tYXNrZWRWYWx1ZVwiLCB1bm1hc2tlZFZhbHVlLCB0aGlzLCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidHlwZWRWYWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLnR5cGVkVmFsdWUgOiAnJztcbiAgICB9IC8vIHByb2JhYmx5IHR5cGVkVmFsdWUgc2hvdWxkIG5vdCBiZSB1c2VkIHdpdGggZHluYW1pY1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdmFyIHVubWFza2VkVmFsdWUgPSBTdHJpbmcodmFsdWUpOyAvLyBkb3VibGUgY2hlY2sgaXRcblxuICAgICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TWFzay50eXBlZFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHVubWFza2VkVmFsdWUgPSB0aGlzLmN1cnJlbnRNYXNrLnVubWFza2VkVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudW5tYXNrZWRWYWx1ZSA9IHVubWFza2VkVmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ29tcGxldGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpcyRjdXJyZW50TWFzazI7XG5cbiAgICAgIHJldHVybiBCb29sZWFuKChfdGhpcyRjdXJyZW50TWFzazIgPSB0aGlzLmN1cnJlbnRNYXNrKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50TWFzazIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRNYXNrMi5pc0NvbXBsZXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNGaWxsZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpcyRjdXJyZW50TWFzazM7XG5cbiAgICAgIHJldHVybiBCb29sZWFuKChfdGhpcyRjdXJyZW50TWFzazMgPSB0aGlzLmN1cnJlbnRNYXNrKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50TWFzazMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRNYXNrMy5pc0ZpbGxlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICB2YXIgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cbiAgICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB7XG4gICAgICAgIHZhciBfdGhpcyRjdXJyZW50TWFzazQ7XG5cbiAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUoKF90aGlzJGN1cnJlbnRNYXNrNCA9IHRoaXMuY3VycmVudE1hc2spLnJlbW92ZS5hcHBseShfdGhpcyRjdXJyZW50TWFzazQsIGFyZ3VtZW50cykpIC8vIHVwZGF0ZSB3aXRoIGRpc3BhdGNoXG4gICAgICAgIC5hZ2dyZWdhdGUodGhpcy5fYXBwbHlEaXNwYXRjaCgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInN0YXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMkY3VycmVudE1hc2s1O1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcInN0YXRlXCIsIHRoaXMpLCB7XG4gICAgICAgIF9yYXdJbnB1dFZhbHVlOiB0aGlzLnJhd0lucHV0VmFsdWUsXG4gICAgICAgIGNvbXBpbGVkTWFza3M6IHRoaXMuY29tcGlsZWRNYXNrcy5tYXAoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICByZXR1cm4gbS5zdGF0ZTtcbiAgICAgICAgfSksXG4gICAgICAgIGN1cnJlbnRNYXNrUmVmOiB0aGlzLmN1cnJlbnRNYXNrLFxuICAgICAgICBjdXJyZW50TWFzazogKF90aGlzJGN1cnJlbnRNYXNrNSA9IHRoaXMuY3VycmVudE1hc2spID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRNYXNrNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudE1hc2s1LnN0YXRlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHN0YXRlKSB7XG4gICAgICB2YXIgY29tcGlsZWRNYXNrcyA9IHN0YXRlLmNvbXBpbGVkTWFza3MsXG4gICAgICAgICAgY3VycmVudE1hc2tSZWYgPSBzdGF0ZS5jdXJyZW50TWFza1JlZixcbiAgICAgICAgICBjdXJyZW50TWFzayA9IHN0YXRlLmN1cnJlbnRNYXNrLFxuICAgICAgICAgIG1hc2tlZFN0YXRlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHN0YXRlLCBfZXhjbHVkZWQpO1xuXG4gICAgICB0aGlzLmNvbXBpbGVkTWFza3MuZm9yRWFjaChmdW5jdGlvbiAobSwgbWkpIHtcbiAgICAgICAgcmV0dXJuIG0uc3RhdGUgPSBjb21waWxlZE1hc2tzW21pXTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY3VycmVudE1hc2tSZWYgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRNYXNrID0gY3VycmVudE1hc2tSZWY7XG4gICAgICAgIHRoaXMuY3VycmVudE1hc2suc3RhdGUgPSBjdXJyZW50TWFzaztcbiAgICAgIH1cblxuICAgICAgX3NldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcInN0YXRlXCIsIG1hc2tlZFN0YXRlLCB0aGlzLCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZXh0cmFjdElucHV0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4dHJhY3RJbnB1dCgpIHtcbiAgICAgIHZhciBfdGhpcyRjdXJyZW50TWFzazY7XG5cbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gKF90aGlzJGN1cnJlbnRNYXNrNiA9IHRoaXMuY3VycmVudE1hc2spLmV4dHJhY3RJbnB1dC5hcHBseShfdGhpcyRjdXJyZW50TWFzazYsIGFyZ3VtZW50cykgOiAnJztcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZXh0cmFjdFRhaWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdFRhaWwoKSB7XG4gICAgICB2YXIgX3RoaXMkY3VycmVudE1hc2s3LCBfZ2V0MjtcblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gKF90aGlzJGN1cnJlbnRNYXNrNyA9IHRoaXMuY3VycmVudE1hc2spLmV4dHJhY3RUYWlsLmFwcGx5KF90aGlzJGN1cnJlbnRNYXNrNywgYXJncykgOiAoX2dldDIgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWREeW5hbWljLnByb3RvdHlwZSksIFwiZXh0cmFjdFRhaWxcIiwgdGhpcykpLmNhbGwuYXBwbHkoX2dldDIsIFt0aGlzXS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkb0NvbW1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb0NvbW1pdCgpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB0aGlzLmN1cnJlbnRNYXNrLmRvQ29tbWl0KCk7XG5cbiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZER5bmFtaWMucHJvdG90eXBlKSwgXCJkb0NvbW1pdFwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJuZWFyZXN0SW5wdXRQb3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmVhcmVzdElucHV0UG9zKCkge1xuICAgICAgdmFyIF90aGlzJGN1cnJlbnRNYXNrOCwgX2dldDM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gKF90aGlzJGN1cnJlbnRNYXNrOCA9IHRoaXMuY3VycmVudE1hc2spLm5lYXJlc3RJbnB1dFBvcy5hcHBseShfdGhpcyRjdXJyZW50TWFzazgsIGFyZ3MpIDogKF9nZXQzID0gX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcIm5lYXJlc3RJbnB1dFBvc1wiLCB0aGlzKSkuY2FsbC5hcHBseShfZ2V0MywgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm92ZXJ3cml0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLm92ZXJ3cml0ZSA6IF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZER5bmFtaWMucHJvdG90eXBlKSwgXCJvdmVyd3JpdGVcIiwgdGhpcyk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChvdmVyd3JpdGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignXCJvdmVyd3JpdGVcIiBvcHRpb24gaXMgbm90IGF2YWlsYWJsZSBpbiBkeW5hbWljIG1hc2ssIHVzZSB0aGlzIG9wdGlvbiBpbiBzaWJsaW5ncycpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlYWdlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLmVhZ2VyIDogX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkRHluYW1pYy5wcm90b3R5cGUpLCBcImVhZ2VyXCIsIHRoaXMpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoZWFnZXIpIHtcbiAgICAgIGNvbnNvbGUud2FybignXCJlYWdlclwiIG9wdGlvbiBpcyBub3QgYXZhaWxhYmxlIGluIGR5bmFtaWMgbWFzaywgdXNlIHRoaXMgb3B0aW9uIGluIHNpYmxpbmdzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hc2tFcXVhbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFza0VxdWFscyhtYXNrKSB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShtYXNrKSAmJiB0aGlzLmNvbXBpbGVkTWFza3MuZXZlcnkoZnVuY3Rpb24gKG0sIG1pKSB7XG4gICAgICAgIHZhciBfbWFzayRtaTtcblxuICAgICAgICByZXR1cm4gbS5tYXNrRXF1YWxzKChfbWFzayRtaSA9IG1hc2tbbWldKSA9PT0gbnVsbCB8fCBfbWFzayRtaSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21hc2skbWkubWFzayk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidHlwZWRWYWx1ZUVxdWFsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0eXBlZFZhbHVlRXF1YWxzKHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXMkY3VycmVudE1hc2s5O1xuXG4gICAgICByZXR1cm4gQm9vbGVhbigoX3RoaXMkY3VycmVudE1hc2s5ID0gdGhpcy5jdXJyZW50TWFzaykgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudE1hc2s5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50TWFzazkudHlwZWRWYWx1ZUVxdWFscyh2YWx1ZSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNYXNrZWREeW5hbWljO1xufShNYXNrZWQpO1xuTWFza2VkRHluYW1pYy5ERUZBVUxUUyA9IHtcbiAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFwcGVuZGVkLCBtYXNrZWQsIGZsYWdzKSB7XG4gICAgaWYgKCFtYXNrZWQuY29tcGlsZWRNYXNrcy5sZW5ndGgpIHJldHVybjtcbiAgICB2YXIgaW5wdXRWYWx1ZSA9IG1hc2tlZC5yYXdJbnB1dFZhbHVlOyAvLyBzaW11bGF0ZSBpbnB1dFxuXG4gICAgdmFyIGlucHV0cyA9IG1hc2tlZC5jb21waWxlZE1hc2tzLm1hcChmdW5jdGlvbiAobSwgaW5kZXgpIHtcbiAgICAgIG0ucmVzZXQoKTtcbiAgICAgIG0uYXBwZW5kKGlucHV0VmFsdWUsIHtcbiAgICAgICAgcmF3OiB0cnVlXG4gICAgICB9KTtcbiAgICAgIG0uYXBwZW5kKGFwcGVuZGVkLCBtYXNrZWQuY3VycmVudE1hc2tGbGFncyhmbGFncykpO1xuICAgICAgdmFyIHdlaWdodCA9IG0ucmF3SW5wdXRWYWx1ZS5sZW5ndGg7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3ZWlnaHQ6IHdlaWdodCxcbiAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICB9O1xuICAgIH0pOyAvLyBwb3AgbWFza3Mgd2l0aCBsb25nZXIgdmFsdWVzIGZpcnN0XG5cbiAgICBpbnB1dHMuc29ydChmdW5jdGlvbiAoaTEsIGkyKSB7XG4gICAgICByZXR1cm4gaTIud2VpZ2h0IC0gaTEud2VpZ2h0O1xuICAgIH0pO1xuICAgIHJldHVybiBtYXNrZWQuY29tcGlsZWRNYXNrc1tpbnB1dHNbMF0uaW5kZXhdO1xuICB9XG59O1xuSU1hc2suTWFza2VkRHluYW1pYyA9IE1hc2tlZER5bmFtaWM7XG5cbmV4cG9ydCB7IE1hc2tlZER5bmFtaWMgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgZCBhcyBfaW5oZXJpdHMsIGUgYXMgX2NyZWF0ZVN1cGVyLCBfIGFzIF9jcmVhdGVDbGFzcywgYSBhcyBfY2xhc3NDYWxsQ2hlY2ssIGcgYXMgX2dldCwgaCBhcyBfZ2V0UHJvdG90eXBlT2YgfSBmcm9tICcuLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTY3YmJhN2ZiLmpzJztcbmltcG9ydCBNYXNrZWRQYXR0ZXJuIGZyb20gJy4vcGF0dGVybi5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vYmFzZS5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgJy4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9maXhlZC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2NodW5rLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9jdXJzb3IuanMnO1xuaW1wb3J0ICcuL3JlZ2V4cC5qcyc7XG5cbi8qKiBQYXR0ZXJuIHdoaWNoIHZhbGlkYXRlcyBlbnVtIHZhbHVlcyAqL1xuXG52YXIgTWFza2VkRW51bSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX01hc2tlZFBhdHRlcm4pIHtcbiAgX2luaGVyaXRzKE1hc2tlZEVudW0sIF9NYXNrZWRQYXR0ZXJuKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE1hc2tlZEVudW0pO1xuXG4gIGZ1bmN0aW9uIE1hc2tlZEVudW0oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tlZEVudW0pO1xuXG4gICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1hc2tlZEVudW0sIFt7XG4gICAga2V5OiBcIl91cGRhdGVcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICAgQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgICAqL1xuICAgIGZ1bmN0aW9uIF91cGRhdGUob3B0cykge1xuICAgICAgLy8gVE9ETyB0eXBlXG4gICAgICBpZiAob3B0cy5lbnVtKSBvcHRzLm1hc2sgPSAnKicucmVwZWF0KG9wdHMuZW51bVswXS5sZW5ndGgpO1xuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRFbnVtLnByb3RvdHlwZSksIFwiX3VwZGF0ZVwiLCB0aGlzKS5jYWxsKHRoaXMsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkb1ZhbGlkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvVmFsaWRhdGUoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICAgIF9nZXQyO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZW51bS5zb21lKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBlLmluZGV4T2YoX3RoaXMudW5tYXNrZWRWYWx1ZSkgPj0gMDtcbiAgICAgIH0pICYmIChfZ2V0MiA9IF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZEVudW0ucHJvdG90eXBlKSwgXCJkb1ZhbGlkYXRlXCIsIHRoaXMpKS5jYWxsLmFwcGx5KF9nZXQyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWFza2VkRW51bTtcbn0oTWFza2VkUGF0dGVybik7XG5JTWFzay5NYXNrZWRFbnVtID0gTWFza2VkRW51bTtcblxuZXhwb3J0IHsgTWFza2VkRW51bSBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02N2JiYTdmYi5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuXG4vKiogR2V0IE1hc2tlZCBjbGFzcyBieSBtYXNrIHR5cGUgKi9cblxuZnVuY3Rpb24gbWFza2VkQ2xhc3MobWFzaykge1xuICBpZiAobWFzayA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtYXNrIHByb3BlcnR5IHNob3VsZCBiZSBkZWZpbmVkJyk7XG4gIH0gLy8gJEZsb3dGaXhNZVxuXG5cbiAgaWYgKG1hc2sgaW5zdGFuY2VvZiBSZWdFeHApIHJldHVybiBJTWFzay5NYXNrZWRSZWdFeHA7IC8vICRGbG93Rml4TWVcblxuICBpZiAoaXNTdHJpbmcobWFzaykpIHJldHVybiBJTWFzay5NYXNrZWRQYXR0ZXJuOyAvLyAkRmxvd0ZpeE1lXG5cbiAgaWYgKG1hc2sgaW5zdGFuY2VvZiBEYXRlIHx8IG1hc2sgPT09IERhdGUpIHJldHVybiBJTWFzay5NYXNrZWREYXRlOyAvLyAkRmxvd0ZpeE1lXG5cbiAgaWYgKG1hc2sgaW5zdGFuY2VvZiBOdW1iZXIgfHwgdHlwZW9mIG1hc2sgPT09ICdudW1iZXInIHx8IG1hc2sgPT09IE51bWJlcikgcmV0dXJuIElNYXNrLk1hc2tlZE51bWJlcjsgLy8gJEZsb3dGaXhNZVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG1hc2spIHx8IG1hc2sgPT09IEFycmF5KSByZXR1cm4gSU1hc2suTWFza2VkRHluYW1pYzsgLy8gJEZsb3dGaXhNZVxuXG4gIGlmIChJTWFzay5NYXNrZWQgJiYgbWFzay5wcm90b3R5cGUgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQpIHJldHVybiBtYXNrOyAvLyAkRmxvd0ZpeE1lXG5cbiAgaWYgKG1hc2sgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQpIHJldHVybiBtYXNrLmNvbnN0cnVjdG9yOyAvLyAkRmxvd0ZpeE1lXG5cbiAgaWYgKG1hc2sgaW5zdGFuY2VvZiBGdW5jdGlvbikgcmV0dXJuIElNYXNrLk1hc2tlZEZ1bmN0aW9uO1xuICBjb25zb2xlLndhcm4oJ01hc2sgbm90IGZvdW5kIGZvciBtYXNrJywgbWFzayk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAvLyAkRmxvd0ZpeE1lXG5cbiAgcmV0dXJuIElNYXNrLk1hc2tlZDtcbn1cbi8qKiBDcmVhdGVzIG5ldyB7QGxpbmsgTWFza2VkfSBkZXBlbmRpbmcgb24gbWFzayB0eXBlICovXG5cbmZ1bmN0aW9uIGNyZWF0ZU1hc2sob3B0cykge1xuICAvLyAkRmxvd0ZpeE1lXG4gIGlmIChJTWFzay5NYXNrZWQgJiYgb3B0cyBpbnN0YW5jZW9mIElNYXNrLk1hc2tlZCkgcmV0dXJuIG9wdHM7XG4gIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRzKTtcbiAgdmFyIG1hc2sgPSBvcHRzLm1hc2s7IC8vICRGbG93Rml4TWVcblxuICBpZiAoSU1hc2suTWFza2VkICYmIG1hc2sgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQpIHJldHVybiBtYXNrO1xuICB2YXIgTWFza2VkQ2xhc3MgPSBtYXNrZWRDbGFzcyhtYXNrKTtcbiAgaWYgKCFNYXNrZWRDbGFzcykgdGhyb3cgbmV3IEVycm9yKCdNYXNrZWQgY2xhc3MgaXMgbm90IGZvdW5kIGZvciBwcm92aWRlZCBtYXNrLCBhcHByb3ByaWF0ZSBtb2R1bGUgbmVlZHMgdG8gYmUgaW1wb3J0IG1hbnVhbGx5IGJlZm9yZSBjcmVhdGluZyBtYXNrLicpO1xuICByZXR1cm4gbmV3IE1hc2tlZENsYXNzKG9wdHMpO1xufVxuSU1hc2suY3JlYXRlTWFzayA9IGNyZWF0ZU1hc2s7XG5cbmV4cG9ydCB7IGNyZWF0ZU1hc2sgYXMgZGVmYXVsdCwgbWFza2VkQ2xhc3MgfTtcbiIsImltcG9ydCB7IGQgYXMgX2luaGVyaXRzLCBlIGFzIF9jcmVhdGVTdXBlciwgXyBhcyBfY3JlYXRlQ2xhc3MsIGEgYXMgX2NsYXNzQ2FsbENoZWNrLCBnIGFzIF9nZXQsIGggYXMgX2dldFByb3RvdHlwZU9mIH0gZnJvbSAnLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02N2JiYTdmYi5qcyc7XG5pbXBvcnQgTWFza2VkIGZyb20gJy4vYmFzZS5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvdXRpbHMuanMnO1xuXG4vKiogTWFza2luZyBieSBjdXN0b20gRnVuY3Rpb24gKi9cblxudmFyIE1hc2tlZEZ1bmN0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTWFza2VkKSB7XG4gIF9pbmhlcml0cyhNYXNrZWRGdW5jdGlvbiwgX01hc2tlZCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNYXNrZWRGdW5jdGlvbik7XG5cbiAgZnVuY3Rpb24gTWFza2VkRnVuY3Rpb24oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tlZEZ1bmN0aW9uKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYXNrZWRGdW5jdGlvbiwgW3tcbiAgICBrZXk6IFwiX3VwZGF0ZVwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgICBAcGFyYW0ge09iamVjdH0gb3B0c1xuICAgICovXG4gICAgZnVuY3Rpb24gX3VwZGF0ZShvcHRzKSB7XG4gICAgICBpZiAob3B0cy5tYXNrKSBvcHRzLnZhbGlkYXRlID0gb3B0cy5tYXNrO1xuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRGdW5jdGlvbi5wcm90b3R5cGUpLCBcIl91cGRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBvcHRzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWFza2VkRnVuY3Rpb247XG59KE1hc2tlZCk7XG5JTWFzay5NYXNrZWRGdW5jdGlvbiA9IE1hc2tlZEZ1bmN0aW9uO1xuXG5leHBvcnQgeyBNYXNrZWRGdW5jdGlvbiBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBqIGFzIF90b0NvbnN1bWFibGVBcnJheSwgZCBhcyBfaW5oZXJpdHMsIGUgYXMgX2NyZWF0ZVN1cGVyLCBfIGFzIF9jcmVhdGVDbGFzcywgYSBhcyBfY2xhc3NDYWxsQ2hlY2ssIGcgYXMgX2dldCwgaCBhcyBfZ2V0UHJvdG90eXBlT2YsIGYgYXMgX3NsaWNlZFRvQXJyYXksIGkgYXMgX3NldCB9IGZyb20gJy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNjdiYmE3ZmIuanMnO1xuaW1wb3J0IHsgZXNjYXBlUmVnRXhwLCBub3JtYWxpemVQcmVwYXJlLCBESVJFQ1RJT04gfSBmcm9tICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBDaGFuZ2VEZXRhaWxzIGZyb20gJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IE1hc2tlZCBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5cbi8qKlxuICBOdW1iZXIgbWFza1xuICBAcGFyYW0ge09iamVjdH0gb3B0c1xuICBAcGFyYW0ge3N0cmluZ30gb3B0cy5yYWRpeCAtIFNpbmdsZSBjaGFyXG4gIEBwYXJhbSB7c3RyaW5nfSBvcHRzLnRob3VzYW5kc1NlcGFyYXRvciAtIFNpbmdsZSBjaGFyXG4gIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gb3B0cy5tYXBUb1JhZGl4IC0gQXJyYXkgb2Ygc2luZ2xlIGNoYXJzXG4gIEBwYXJhbSB7bnVtYmVyfSBvcHRzLm1pblxuICBAcGFyYW0ge251bWJlcn0gb3B0cy5tYXhcbiAgQHBhcmFtIHtudW1iZXJ9IG9wdHMuc2NhbGUgLSBEaWdpdHMgYWZ0ZXIgcG9pbnRcbiAgQHBhcmFtIHtib29sZWFufSBvcHRzLnNpZ25lZCAtIEFsbG93IG5lZ2F0aXZlXG4gIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5ub3JtYWxpemVaZXJvcyAtIEZsYWcgdG8gcmVtb3ZlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHplcm9zIGluIHRoZSBlbmQgb2YgZWRpdGluZ1xuICBAcGFyYW0ge2Jvb2xlYW59IG9wdHMucGFkRnJhY3Rpb25hbFplcm9zIC0gRmxhZyB0byBwYWQgdHJhaWxpbmcgemVyb3MgYWZ0ZXIgcG9pbnQgaW4gdGhlIGVuZCBvZiBlZGl0aW5nXG4qL1xudmFyIE1hc2tlZE51bWJlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX01hc2tlZCkge1xuICBfaW5oZXJpdHMoTWFza2VkTnVtYmVyLCBfTWFza2VkKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE1hc2tlZE51bWJlcik7XG5cbiAgLyoqIFNpbmdsZSBjaGFyICovXG5cbiAgLyoqIFNpbmdsZSBjaGFyICovXG5cbiAgLyoqIEFycmF5IG9mIHNpbmdsZSBjaGFycyAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiBEaWdpdHMgYWZ0ZXIgcG9pbnQgKi9cblxuICAvKiogKi9cblxuICAvKiogRmxhZyB0byByZW1vdmUgbGVhZGluZyBhbmQgdHJhaWxpbmcgemVyb3MgaW4gdGhlIGVuZCBvZiBlZGl0aW5nICovXG5cbiAgLyoqIEZsYWcgdG8gcGFkIHRyYWlsaW5nIHplcm9zIGFmdGVyIHBvaW50IGluIHRoZSBlbmQgb2YgZWRpdGluZyAqL1xuICBmdW5jdGlvbiBNYXNrZWROdW1iZXIob3B0cykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXNrZWROdW1iZXIpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIE9iamVjdC5hc3NpZ24oe30sIE1hc2tlZE51bWJlci5ERUZBVUxUUywgb3B0cykpO1xuICB9XG4gIC8qKlxuICAgIEBvdmVycmlkZVxuICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKE1hc2tlZE51bWJlciwgW3tcbiAgICBrZXk6IFwiX3VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlKG9wdHMpIHtcbiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZE51bWJlci5wcm90b3R5cGUpLCBcIl91cGRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBvcHRzKTtcblxuICAgICAgdGhpcy5fdXBkYXRlUmVnRXhwcygpO1xuICAgIH1cbiAgICAvKiogKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl91cGRhdGVSZWdFeHBzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVSZWdFeHBzKCkge1xuICAgICAgLy8gdXNlIGRpZmZlcmVudCByZWdleHAgdG8gcHJvY2VzcyB1c2VyIGlucHV0IChtb3JlIHN0cmljdCwgaW5wdXQgc3VmZml4KSBhbmQgdGFpbCBzaGlmdGluZ1xuICAgICAgdmFyIHN0YXJ0ID0gJ14nICsgKHRoaXMuYWxsb3dOZWdhdGl2ZSA/ICdbK3xcXFxcLV0/JyA6ICcnKTtcbiAgICAgIHZhciBtaWRJbnB1dCA9ICcoMHwoWzEtOV0rXFxcXGQqKSk/JztcbiAgICAgIHZhciBtaWQgPSAnXFxcXGQqJztcbiAgICAgIHZhciBlbmQgPSAodGhpcy5zY2FsZSA/ICcoJyArIGVzY2FwZVJlZ0V4cCh0aGlzLnJhZGl4KSArICdcXFxcZHswLCcgKyB0aGlzLnNjYWxlICsgJ30pPycgOiAnJykgKyAnJCc7XG4gICAgICB0aGlzLl9udW1iZXJSZWdFeHBJbnB1dCA9IG5ldyBSZWdFeHAoc3RhcnQgKyBtaWRJbnB1dCArIGVuZCk7XG4gICAgICB0aGlzLl9udW1iZXJSZWdFeHAgPSBuZXcgUmVnRXhwKHN0YXJ0ICsgbWlkICsgZW5kKTtcbiAgICAgIHRoaXMuX21hcFRvUmFkaXhSZWdFeHAgPSBuZXcgUmVnRXhwKCdbJyArIHRoaXMubWFwVG9SYWRpeC5tYXAoZXNjYXBlUmVnRXhwKS5qb2luKCcnKSArICddJywgJ2cnKTtcbiAgICAgIHRoaXMuX3Rob3VzYW5kc1NlcGFyYXRvclJlZ0V4cCA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yKSwgJ2cnKTtcbiAgICB9XG4gICAgLyoqICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9yc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UodGhpcy5fdGhvdXNhbmRzU2VwYXJhdG9yUmVnRXhwLCAnJyk7XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnModmFsdWUpIHtcbiAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI5MDExMDIvaG93LXRvLXByaW50LWEtbnVtYmVyLXdpdGgtY29tbWFzLWFzLXRob3VzYW5kcy1zZXBhcmF0b3JzLWluLWphdmFzY3JpcHRcbiAgICAgIHZhciBwYXJ0cyA9IHZhbHVlLnNwbGl0KHRoaXMucmFkaXgpO1xuICAgICAgcGFydHNbMF0gPSBwYXJ0c1swXS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCB0aGlzLnRob3VzYW5kc1NlcGFyYXRvcik7XG4gICAgICByZXR1cm4gcGFydHMuam9pbih0aGlzLnJhZGl4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9QcmVwYXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvUHJlcGFyZShjaCkge1xuICAgICAgdmFyIF9nZXQyO1xuXG4gICAgICBjaCA9IGNoLnJlcGxhY2UodGhpcy5fbWFwVG9SYWRpeFJlZ0V4cCwgdGhpcy5yYWRpeCk7XG5cbiAgICAgIHZhciBub1NlcENoID0gdGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyhjaCk7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciBfbm9ybWFsaXplUHJlcGFyZSA9IG5vcm1hbGl6ZVByZXBhcmUoKF9nZXQyID0gX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkTnVtYmVyLnByb3RvdHlwZSksIFwiZG9QcmVwYXJlXCIsIHRoaXMpKS5jYWxsLmFwcGx5KF9nZXQyLCBbdGhpcywgbm9TZXBDaF0uY29uY2F0KGFyZ3MpKSksXG4gICAgICAgICAgX25vcm1hbGl6ZVByZXBhcmUyID0gX3NsaWNlZFRvQXJyYXkoX25vcm1hbGl6ZVByZXBhcmUsIDIpLFxuICAgICAgICAgIHByZXBDaCA9IF9ub3JtYWxpemVQcmVwYXJlMlswXSxcbiAgICAgICAgICBkZXRhaWxzID0gX25vcm1hbGl6ZVByZXBhcmUyWzFdO1xuXG4gICAgICBpZiAoY2ggJiYgIW5vU2VwQ2gpIGRldGFpbHMuc2tpcCA9IHRydWU7XG4gICAgICByZXR1cm4gW3ByZXBDaCwgZGV0YWlsc107XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3NlcGFyYXRvcnNDb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VwYXJhdG9yc0NvdW50KHRvKSB7XG4gICAgICB2YXIgZXh0ZW5kT25TZXBhcmF0b3JzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHRvOyArK3Bvcykge1xuICAgICAgICBpZiAodGhpcy5fdmFsdWUuaW5kZXhPZih0aGlzLnRob3VzYW5kc1NlcGFyYXRvciwgcG9zKSA9PT0gcG9zKSB7XG4gICAgICAgICAgKytjb3VudDtcbiAgICAgICAgICBpZiAoZXh0ZW5kT25TZXBhcmF0b3JzKSB0byArPSB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cbiAgICAvKiogKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9zZXBhcmF0b3JzQ291bnRGcm9tU2xpY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NlcGFyYXRvcnNDb3VudEZyb21TbGljZSgpIHtcbiAgICAgIHZhciBzbGljZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5fdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcy5fc2VwYXJhdG9yc0NvdW50KHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnMoc2xpY2UpLmxlbmd0aCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImV4dHJhY3RJbnB1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0SW5wdXQoKSB7XG4gICAgICB2YXIgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIF90aGlzJF9hZGp1c3RSYW5nZVdpdCA9IHRoaXMuX2FkanVzdFJhbmdlV2l0aFNlcGFyYXRvcnMoZnJvbVBvcywgdG9Qb3MpO1xuXG4gICAgICB2YXIgX3RoaXMkX2FkanVzdFJhbmdlV2l0MiA9IF9zbGljZWRUb0FycmF5KF90aGlzJF9hZGp1c3RSYW5nZVdpdCwgMik7XG5cbiAgICAgIGZyb21Qb3MgPSBfdGhpcyRfYWRqdXN0UmFuZ2VXaXQyWzBdO1xuICAgICAgdG9Qb3MgPSBfdGhpcyRfYWRqdXN0UmFuZ2VXaXQyWzFdO1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnMoX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkTnVtYmVyLnByb3RvdHlwZSksIFwiZXh0cmFjdElucHV0XCIsIHRoaXMpLmNhbGwodGhpcywgZnJvbVBvcywgdG9Qb3MsIGZsYWdzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRDaGFyUmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRDaGFyUmF3KGNoKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgaWYgKCF0aGlzLnRob3VzYW5kc1NlcGFyYXRvcikgcmV0dXJuIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZE51bWJlci5wcm90b3R5cGUpLCBcIl9hcHBlbmRDaGFyUmF3XCIsIHRoaXMpLmNhbGwodGhpcywgY2gsIGZsYWdzKTtcbiAgICAgIHZhciBwcmV2QmVmb3JlVGFpbFZhbHVlID0gZmxhZ3MudGFpbCAmJiBmbGFncy5fYmVmb3JlVGFpbFN0YXRlID8gZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZS5fdmFsdWUgOiB0aGlzLl92YWx1ZTtcblxuICAgICAgdmFyIHByZXZCZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50ID0gdGhpcy5fc2VwYXJhdG9yc0NvdW50RnJvbVNsaWNlKHByZXZCZWZvcmVUYWlsVmFsdWUpO1xuXG4gICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnModGhpcy52YWx1ZSk7XG5cbiAgICAgIHZhciBhcHBlbmREZXRhaWxzID0gX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkTnVtYmVyLnByb3RvdHlwZSksIFwiX2FwcGVuZENoYXJSYXdcIiwgdGhpcykuY2FsbCh0aGlzLCBjaCwgZmxhZ3MpO1xuXG4gICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnModGhpcy5fdmFsdWUpO1xuICAgICAgdmFyIGJlZm9yZVRhaWxWYWx1ZSA9IGZsYWdzLnRhaWwgJiYgZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSA/IGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUuX3ZhbHVlIDogdGhpcy5fdmFsdWU7XG5cbiAgICAgIHZhciBiZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50ID0gdGhpcy5fc2VwYXJhdG9yc0NvdW50RnJvbVNsaWNlKGJlZm9yZVRhaWxWYWx1ZSk7XG5cbiAgICAgIGFwcGVuZERldGFpbHMudGFpbFNoaWZ0ICs9IChiZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50IC0gcHJldkJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQpICogdGhpcy50aG91c2FuZHNTZXBhcmF0b3IubGVuZ3RoO1xuICAgICAgYXBwZW5kRGV0YWlscy5za2lwID0gIWFwcGVuZERldGFpbHMucmF3SW5zZXJ0ZWQgJiYgY2ggPT09IHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yO1xuICAgICAgcmV0dXJuIGFwcGVuZERldGFpbHM7XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2ZpbmRTZXBhcmF0b3JBcm91bmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmRTZXBhcmF0b3JBcm91bmQocG9zKSB7XG4gICAgICBpZiAodGhpcy50aG91c2FuZHNTZXBhcmF0b3IpIHtcbiAgICAgICAgdmFyIHNlYXJjaEZyb20gPSBwb3MgLSB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGggKyAxO1xuICAgICAgICB2YXIgc2VwYXJhdG9yUG9zID0gdGhpcy52YWx1ZS5pbmRleE9mKHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLCBzZWFyY2hGcm9tKTtcbiAgICAgICAgaWYgKHNlcGFyYXRvclBvcyA8PSBwb3MpIHJldHVybiBzZXBhcmF0b3JQb3M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkanVzdFJhbmdlV2l0aFNlcGFyYXRvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkanVzdFJhbmdlV2l0aFNlcGFyYXRvcnMoZnJvbSwgdG8pIHtcbiAgICAgIHZhciBzZXBhcmF0b3JBcm91bmRGcm9tUG9zID0gdGhpcy5fZmluZFNlcGFyYXRvckFyb3VuZChmcm9tKTtcblxuICAgICAgaWYgKHNlcGFyYXRvckFyb3VuZEZyb21Qb3MgPj0gMCkgZnJvbSA9IHNlcGFyYXRvckFyb3VuZEZyb21Qb3M7XG5cbiAgICAgIHZhciBzZXBhcmF0b3JBcm91bmRUb1BvcyA9IHRoaXMuX2ZpbmRTZXBhcmF0b3JBcm91bmQodG8pO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yQXJvdW5kVG9Qb3MgPj0gMCkgdG8gPSBzZXBhcmF0b3JBcm91bmRUb1BvcyArIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aDtcbiAgICAgIHJldHVybiBbZnJvbSwgdG9dO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuXG4gICAgICB2YXIgX3RoaXMkX2FkanVzdFJhbmdlV2l0MyA9IHRoaXMuX2FkanVzdFJhbmdlV2l0aFNlcGFyYXRvcnMoZnJvbVBvcywgdG9Qb3MpO1xuXG4gICAgICB2YXIgX3RoaXMkX2FkanVzdFJhbmdlV2l0NCA9IF9zbGljZWRUb0FycmF5KF90aGlzJF9hZGp1c3RSYW5nZVdpdDMsIDIpO1xuXG4gICAgICBmcm9tUG9zID0gX3RoaXMkX2FkanVzdFJhbmdlV2l0NFswXTtcbiAgICAgIHRvUG9zID0gX3RoaXMkX2FkanVzdFJhbmdlV2l0NFsxXTtcbiAgICAgIHZhciB2YWx1ZUJlZm9yZVBvcyA9IHRoaXMudmFsdWUuc2xpY2UoMCwgZnJvbVBvcyk7XG4gICAgICB2YXIgdmFsdWVBZnRlclBvcyA9IHRoaXMudmFsdWUuc2xpY2UodG9Qb3MpO1xuXG4gICAgICB2YXIgcHJldkJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQgPSB0aGlzLl9zZXBhcmF0b3JzQ291bnQodmFsdWVCZWZvcmVQb3MubGVuZ3RoKTtcblxuICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9pbnNlcnRUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnModmFsdWVCZWZvcmVQb3MgKyB2YWx1ZUFmdGVyUG9zKSk7XG5cbiAgICAgIHZhciBiZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50ID0gdGhpcy5fc2VwYXJhdG9yc0NvdW50RnJvbVNsaWNlKHZhbHVlQmVmb3JlUG9zKTtcblxuICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKHtcbiAgICAgICAgdGFpbFNoaWZ0OiAoYmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCAtIHByZXZCZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50KSAqIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm5lYXJlc3RJbnB1dFBvc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zLCBkaXJlY3Rpb24pIHtcbiAgICAgIGlmICghdGhpcy50aG91c2FuZHNTZXBhcmF0b3IpIHJldHVybiBjdXJzb3JQb3M7XG5cbiAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLk5PTkU6XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX0xFRlQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIHNlcGFyYXRvckF0TGVmdFBvcyA9IHRoaXMuX2ZpbmRTZXBhcmF0b3JBcm91bmQoY3Vyc29yUG9zIC0gMSk7XG5cbiAgICAgICAgICAgIGlmIChzZXBhcmF0b3JBdExlZnRQb3MgPj0gMCkge1xuICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yQXRMZWZ0RW5kUG9zID0gc2VwYXJhdG9yQXRMZWZ0UG9zICsgdGhpcy50aG91c2FuZHNTZXBhcmF0b3IubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIGlmIChjdXJzb3JQb3MgPCBzZXBhcmF0b3JBdExlZnRFbmRQb3MgfHwgdGhpcy52YWx1ZS5sZW5ndGggPD0gc2VwYXJhdG9yQXRMZWZ0RW5kUG9zIHx8IGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkZPUkNFX0xFRlQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VwYXJhdG9yQXRMZWZ0UG9zO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uRk9SQ0VfUklHSFQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIHNlcGFyYXRvckF0UmlnaHRQb3MgPSB0aGlzLl9maW5kU2VwYXJhdG9yQXJvdW5kKGN1cnNvclBvcyk7XG5cbiAgICAgICAgICAgIGlmIChzZXBhcmF0b3JBdFJpZ2h0UG9zID49IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlcGFyYXRvckF0UmlnaHRQb3MgKyB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3Vyc29yUG9zO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkb1ZhbGlkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvVmFsaWRhdGUoZmxhZ3MpIHtcbiAgICAgIHZhciByZWdleHAgPSBmbGFncy5pbnB1dCA/IHRoaXMuX251bWJlclJlZ0V4cElucHV0IDogdGhpcy5fbnVtYmVyUmVnRXhwOyAvLyB2YWxpZGF0ZSBhcyBzdHJpbmdcblxuICAgICAgdmFyIHZhbGlkID0gcmVnZXhwLnRlc3QodGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyh0aGlzLnZhbHVlKSk7XG5cbiAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAvLyB2YWxpZGF0ZSBhcyBudW1iZXJcbiAgICAgICAgdmFyIG51bWJlciA9IHRoaXMubnVtYmVyO1xuICAgICAgICB2YWxpZCA9IHZhbGlkICYmICFpc05hTihudW1iZXIpICYmICggLy8gY2hlY2sgbWluIGJvdW5kIGZvciBuZWdhdGl2ZSB2YWx1ZXNcbiAgICAgICAgdGhpcy5taW4gPT0gbnVsbCB8fCB0aGlzLm1pbiA+PSAwIHx8IHRoaXMubWluIDw9IHRoaXMubnVtYmVyKSAmJiAoIC8vIGNoZWNrIG1heCBib3VuZCBmb3IgcG9zaXRpdmUgdmFsdWVzXG4gICAgICAgIHRoaXMubWF4ID09IG51bGwgfHwgdGhpcy5tYXggPD0gMCB8fCB0aGlzLm51bWJlciA8PSB0aGlzLm1heCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWxpZCAmJiBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWROdW1iZXIucHJvdG90eXBlKSwgXCJkb1ZhbGlkYXRlXCIsIHRoaXMpLmNhbGwodGhpcywgZmxhZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkb0NvbW1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb0NvbW1pdCgpIHtcbiAgICAgIGlmICh0aGlzLnZhbHVlKSB7XG4gICAgICAgIHZhciBudW1iZXIgPSB0aGlzLm51bWJlcjtcbiAgICAgICAgdmFyIHZhbGlkbnVtID0gbnVtYmVyOyAvLyBjaGVjayBib3VuZHNcblxuICAgICAgICBpZiAodGhpcy5taW4gIT0gbnVsbCkgdmFsaWRudW0gPSBNYXRoLm1heCh2YWxpZG51bSwgdGhpcy5taW4pO1xuICAgICAgICBpZiAodGhpcy5tYXggIT0gbnVsbCkgdmFsaWRudW0gPSBNYXRoLm1pbih2YWxpZG51bSwgdGhpcy5tYXgpO1xuICAgICAgICBpZiAodmFsaWRudW0gIT09IG51bWJlcikgdGhpcy51bm1hc2tlZFZhbHVlID0gU3RyaW5nKHZhbGlkbnVtKTtcbiAgICAgICAgdmFyIGZvcm1hdHRlZCA9IHRoaXMudmFsdWU7XG4gICAgICAgIGlmICh0aGlzLm5vcm1hbGl6ZVplcm9zKSBmb3JtYXR0ZWQgPSB0aGlzLl9ub3JtYWxpemVaZXJvcyhmb3JtYXR0ZWQpO1xuICAgICAgICBpZiAodGhpcy5wYWRGcmFjdGlvbmFsWmVyb3MgJiYgdGhpcy5zY2FsZSA+IDApIGZvcm1hdHRlZCA9IHRoaXMuX3BhZEZyYWN0aW9uYWxaZXJvcyhmb3JtYXR0ZWQpO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IGZvcm1hdHRlZDtcbiAgICAgIH1cblxuICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkTnVtYmVyLnByb3RvdHlwZSksIFwiZG9Db21taXRcIiwgdGhpcykuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfbm9ybWFsaXplWmVyb3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX25vcm1hbGl6ZVplcm9zKHZhbHVlKSB7XG4gICAgICB2YXIgcGFydHMgPSB0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHZhbHVlKS5zcGxpdCh0aGlzLnJhZGl4KTsgLy8gcmVtb3ZlIGxlYWRpbmcgemVyb3NcblxuXG4gICAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnJlcGxhY2UoL14oXFxEKikoMCopKFxcZCopLywgZnVuY3Rpb24gKG1hdGNoLCBzaWduLCB6ZXJvcywgbnVtKSB7XG4gICAgICAgIHJldHVybiBzaWduICsgbnVtO1xuICAgICAgfSk7IC8vIGFkZCBsZWFkaW5nIHplcm9cblxuICAgICAgaWYgKHZhbHVlLmxlbmd0aCAmJiAhL1xcZCQvLnRlc3QocGFydHNbMF0pKSBwYXJ0c1swXSA9IHBhcnRzWzBdICsgJzAnO1xuXG4gICAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICBwYXJ0c1sxXSA9IHBhcnRzWzFdLnJlcGxhY2UoLzAqJC8sICcnKTsgLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9zXG5cbiAgICAgICAgaWYgKCFwYXJ0c1sxXS5sZW5ndGgpIHBhcnRzLmxlbmd0aCA9IDE7IC8vIHJlbW92ZSBmcmFjdGlvbmFsXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9pbnNlcnRUaG91c2FuZHNTZXBhcmF0b3JzKHBhcnRzLmpvaW4odGhpcy5yYWRpeCkpO1xuICAgIH1cbiAgICAvKiogKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9wYWRGcmFjdGlvbmFsWmVyb3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3BhZEZyYWN0aW9uYWxaZXJvcyh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHZhbHVlO1xuICAgICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQodGhpcy5yYWRpeCk7XG4gICAgICBpZiAocGFydHMubGVuZ3RoIDwgMikgcGFydHMucHVzaCgnJyk7XG4gICAgICBwYXJ0c1sxXSA9IHBhcnRzWzFdLnBhZEVuZCh0aGlzLnNjYWxlLCAnMCcpO1xuICAgICAgcmV0dXJuIHBhcnRzLmpvaW4odGhpcy5yYWRpeCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVubWFza2VkVmFsdWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMuX25vcm1hbGl6ZVplcm9zKHRoaXMudmFsdWUpKS5yZXBsYWNlKHRoaXMucmFkaXgsICcuJyk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh1bm1hc2tlZFZhbHVlKSB7XG4gICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWROdW1iZXIucHJvdG90eXBlKSwgXCJ1bm1hc2tlZFZhbHVlXCIsIHVubWFza2VkVmFsdWUucmVwbGFjZSgnLicsIHRoaXMucmFkaXgpLCB0aGlzLCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidHlwZWRWYWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIE51bWJlcih0aGlzLnVubWFza2VkVmFsdWUpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobikge1xuICAgICAgX3NldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkTnVtYmVyLnByb3RvdHlwZSksIFwidW5tYXNrZWRWYWx1ZVwiLCBTdHJpbmcobiksIHRoaXMsIHRydWUpO1xuICAgIH1cbiAgICAvKiogUGFyc2VkIE51bWJlciAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibnVtYmVyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50eXBlZFZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobnVtYmVyKSB7XG4gICAgICB0aGlzLnR5cGVkVmFsdWUgPSBudW1iZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAgSXMgbmVnYXRpdmUgYWxsb3dlZFxuICAgICAgQHJlYWRvbmx5XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFsbG93TmVnYXRpdmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpZ25lZCB8fCB0aGlzLm1pbiAhPSBudWxsICYmIHRoaXMubWluIDwgMCB8fCB0aGlzLm1heCAhPSBudWxsICYmIHRoaXMubWF4IDwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidHlwZWRWYWx1ZUVxdWFsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0eXBlZFZhbHVlRXF1YWxzKHZhbHVlKSB7XG4gICAgICAvLyBoYW5kbGUgIDAgLT4gJycgY2FzZSAodHlwZWQgPSAwIGV2ZW4gaWYgdmFsdWUgPSAnJylcbiAgICAgIC8vIGZvciBkZXRhaWxzIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdU5tQW5OZVIvaW1hc2tqcy9pc3N1ZXMvMTM0XG4gICAgICByZXR1cm4gKF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZE51bWJlci5wcm90b3R5cGUpLCBcInR5cGVkVmFsdWVFcXVhbHNcIiwgdGhpcykuY2FsbCh0aGlzLCB2YWx1ZSkgfHwgTWFza2VkTnVtYmVyLkVNUFRZX1ZBTFVFUy5pbmNsdWRlcyh2YWx1ZSkgJiYgTWFza2VkTnVtYmVyLkVNUFRZX1ZBTFVFUy5pbmNsdWRlcyh0aGlzLnR5cGVkVmFsdWUpKSAmJiAhKHZhbHVlID09PSAwICYmIHRoaXMudmFsdWUgPT09ICcnKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWFza2VkTnVtYmVyO1xufShNYXNrZWQpO1xuTWFza2VkTnVtYmVyLkRFRkFVTFRTID0ge1xuICByYWRpeDogJywnLFxuICB0aG91c2FuZHNTZXBhcmF0b3I6ICcnLFxuICBtYXBUb1JhZGl4OiBbJy4nXSxcbiAgc2NhbGU6IDIsXG4gIHNpZ25lZDogZmFsc2UsXG4gIG5vcm1hbGl6ZVplcm9zOiB0cnVlLFxuICBwYWRGcmFjdGlvbmFsWmVyb3M6IGZhbHNlXG59O1xuTWFza2VkTnVtYmVyLkVNUFRZX1ZBTFVFUyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoTWFza2VkLkVNUFRZX1ZBTFVFUyksIFswXSk7XG5JTWFzay5NYXNrZWROdW1iZXIgPSBNYXNrZWROdW1iZXI7XG5cbmV4cG9ydCB7IE1hc2tlZE51bWJlciBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBkIGFzIF9pbmhlcml0cywgZSBhcyBfY3JlYXRlU3VwZXIsIF8gYXMgX2NyZWF0ZUNsYXNzLCBhIGFzIF9jbGFzc0NhbGxDaGVjaywgZyBhcyBfZ2V0LCBoIGFzIF9nZXRQcm90b3R5cGVPZiwgYiBhcyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMsIGkgYXMgX3NldCB9IGZyb20gJy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNjdiYmE3ZmIuanMnO1xuaW1wb3J0IHsgRElSRUNUSU9OIH0gZnJvbSAnLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgQ2hhbmdlRGV0YWlscyBmcm9tICcuLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCBNYXNrZWQgZnJvbSAnLi9iYXNlLmpzJztcbmltcG9ydCBQYXR0ZXJuSW5wdXREZWZpbml0aW9uLCB7IERFRkFVTFRfSU5QVVRfREVGSU5JVElPTlMgfSBmcm9tICcuL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgUGF0dGVybkZpeGVkRGVmaW5pdGlvbiBmcm9tICcuL3BhdHRlcm4vZml4ZWQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgQ2h1bmtzVGFpbERldGFpbHMgZnJvbSAnLi9wYXR0ZXJuL2NodW5rLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgUGF0dGVybkN1cnNvciBmcm9tICcuL3BhdHRlcm4vY3Vyc29yLmpzJztcbmltcG9ydCBjcmVhdGVNYXNrIGZyb20gJy4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuL3JlZ2V4cC5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuXG52YXIgX2V4Y2x1ZGVkID0gW1wiX2Jsb2Nrc1wiXTtcblxuLyoqXG4gIFBhdHRlcm4gbWFza1xuICBAcGFyYW0ge09iamVjdH0gb3B0c1xuICBAcGFyYW0ge09iamVjdH0gb3B0cy5ibG9ja3NcbiAgQHBhcmFtIHtPYmplY3R9IG9wdHMuZGVmaW5pdGlvbnNcbiAgQHBhcmFtIHtzdHJpbmd9IG9wdHMucGxhY2Vob2xkZXJDaGFyXG4gIEBwYXJhbSB7Ym9vbGVhbn0gb3B0cy5sYXp5XG4qL1xudmFyIE1hc2tlZFBhdHRlcm4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9NYXNrZWQpIHtcbiAgX2luaGVyaXRzKE1hc2tlZFBhdHRlcm4sIF9NYXNrZWQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTWFza2VkUGF0dGVybik7XG5cbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgLyoqIFNpbmdsZSBjaGFyIGZvciBlbXB0eSBpbnB1dCAqL1xuXG4gIC8qKiBTaG93IHBsYWNlaG9sZGVyIG9ubHkgd2hlbiBuZWVkZWQgKi9cbiAgZnVuY3Rpb24gTWFza2VkUGF0dGVybigpIHtcbiAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2VkUGF0dGVybik7XG5cbiAgICAvLyBUT0RPIHR5cGUgJFNoYXBlPE1hc2tlZFBhdHRlcm5PcHRpb25zPj17fSBkb2VzIG5vdCB3b3JrXG4gICAgb3B0cy5kZWZpbml0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfSU5QVVRfREVGSU5JVElPTlMsIG9wdHMuZGVmaW5pdGlvbnMpO1xuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBPYmplY3QuYXNzaWduKHt9LCBNYXNrZWRQYXR0ZXJuLkRFRkFVTFRTLCBvcHRzKSk7XG4gIH1cbiAgLyoqXG4gICAgQG92ZXJyaWRlXG4gICAgQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhNYXNrZWRQYXR0ZXJuLCBbe1xuICAgIGtleTogXCJfdXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGUoKSB7XG4gICAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICBvcHRzLmRlZmluaXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZpbml0aW9ucywgb3B0cy5kZWZpbml0aW9ucyk7XG5cbiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZFBhdHRlcm4ucHJvdG90eXBlKSwgXCJfdXBkYXRlXCIsIHRoaXMpLmNhbGwodGhpcywgb3B0cyk7XG5cbiAgICAgIHRoaXMuX3JlYnVpbGRNYXNrKCk7XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3JlYnVpbGRNYXNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZWJ1aWxkTWFzaygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBkZWZzID0gdGhpcy5kZWZpbml0aW9ucztcbiAgICAgIHRoaXMuX2Jsb2NrcyA9IFtdO1xuICAgICAgdGhpcy5fc3RvcHMgPSBbXTtcbiAgICAgIHRoaXMuX21hc2tlZEJsb2NrcyA9IHt9O1xuICAgICAgdmFyIHBhdHRlcm4gPSB0aGlzLm1hc2s7XG4gICAgICBpZiAoIXBhdHRlcm4gfHwgIWRlZnMpIHJldHVybjtcbiAgICAgIHZhciB1bm1hc2tpbmdCbG9jayA9IGZhbHNlO1xuICAgICAgdmFyIG9wdGlvbmFsQmxvY2sgPSBmYWxzZTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh0aGlzLmJsb2Nrcykge1xuICAgICAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHAgPSBwYXR0ZXJuLnNsaWNlKGkpO1xuICAgICAgICAgICAgdmFyIGJOYW1lcyA9IE9iamVjdC5rZXlzKF90aGlzLmJsb2NrcykuZmlsdGVyKGZ1bmN0aW9uIChiTmFtZSkge1xuICAgICAgICAgICAgICByZXR1cm4gcC5pbmRleE9mKGJOYW1lKSA9PT0gMDtcbiAgICAgICAgICAgIH0pOyAvLyBvcmRlciBieSBrZXkgbGVuZ3RoXG5cbiAgICAgICAgICAgIGJOYW1lcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgICAgICAgICAgfSk7IC8vIHVzZSBibG9jayBuYW1lIHdpdGggbWF4IGxlbmd0aFxuXG4gICAgICAgICAgICB2YXIgYk5hbWUgPSBiTmFtZXNbMF07XG5cbiAgICAgICAgICAgIGlmIChiTmFtZSkge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lIG5vIGlkZWFzXG4gICAgICAgICAgICAgIHZhciBtYXNrZWRCbG9jayA9IGNyZWF0ZU1hc2soT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgcGFyZW50OiBfdGhpcyxcbiAgICAgICAgICAgICAgICBsYXp5OiBfdGhpcy5sYXp5LFxuICAgICAgICAgICAgICAgIGVhZ2VyOiBfdGhpcy5lYWdlcixcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlckNoYXI6IF90aGlzLnBsYWNlaG9sZGVyQ2hhcixcbiAgICAgICAgICAgICAgICBvdmVyd3JpdGU6IF90aGlzLm92ZXJ3cml0ZVxuICAgICAgICAgICAgICB9LCBfdGhpcy5ibG9ja3NbYk5hbWVdKSk7XG5cbiAgICAgICAgICAgICAgaWYgKG1hc2tlZEJsb2NrKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2Jsb2Nrcy5wdXNoKG1hc2tlZEJsb2NrKTsgLy8gc3RvcmUgYmxvY2sgaW5kZXhcblxuXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fbWFza2VkQmxvY2tzW2JOYW1lXSkgX3RoaXMuX21hc2tlZEJsb2Nrc1tiTmFtZV0gPSBbXTtcblxuICAgICAgICAgICAgICAgIF90aGlzLl9tYXNrZWRCbG9ja3NbYk5hbWVdLnB1c2goX3RoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGkgKz0gYk5hbWUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KCk7XG5cbiAgICAgICAgICBpZiAoX3JldCA9PT0gXCJjb250aW51ZVwiKSBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGFyID0gcGF0dGVybltpXTtcbiAgICAgICAgdmFyIGlzSW5wdXQgPSAoY2hhciBpbiBkZWZzKTtcblxuICAgICAgICBpZiAoY2hhciA9PT0gTWFza2VkUGF0dGVybi5TVE9QX0NIQVIpIHtcbiAgICAgICAgICB0aGlzLl9zdG9wcy5wdXNoKHRoaXMuX2Jsb2Nrcy5sZW5ndGgpO1xuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhciA9PT0gJ3snIHx8IGNoYXIgPT09ICd9Jykge1xuICAgICAgICAgIHVubWFza2luZ0Jsb2NrID0gIXVubWFza2luZ0Jsb2NrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYXIgPT09ICdbJyB8fCBjaGFyID09PSAnXScpIHtcbiAgICAgICAgICBvcHRpb25hbEJsb2NrID0gIW9wdGlvbmFsQmxvY2s7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhciA9PT0gTWFza2VkUGF0dGVybi5FU0NBUEVfQ0hBUikge1xuICAgICAgICAgICsraTtcbiAgICAgICAgICBjaGFyID0gcGF0dGVybltpXTtcbiAgICAgICAgICBpZiAoIWNoYXIpIGJyZWFrO1xuICAgICAgICAgIGlzSW5wdXQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWYgPSBpc0lucHV0ID8gbmV3IFBhdHRlcm5JbnB1dERlZmluaXRpb24oe1xuICAgICAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgICAgICBsYXp5OiB0aGlzLmxhenksXG4gICAgICAgICAgZWFnZXI6IHRoaXMuZWFnZXIsXG4gICAgICAgICAgcGxhY2Vob2xkZXJDaGFyOiB0aGlzLnBsYWNlaG9sZGVyQ2hhcixcbiAgICAgICAgICBtYXNrOiBkZWZzW2NoYXJdLFxuICAgICAgICAgIGlzT3B0aW9uYWw6IG9wdGlvbmFsQmxvY2tcbiAgICAgICAgfSkgOiBuZXcgUGF0dGVybkZpeGVkRGVmaW5pdGlvbih7XG4gICAgICAgICAgY2hhcjogY2hhcixcbiAgICAgICAgICBlYWdlcjogdGhpcy5lYWdlcixcbiAgICAgICAgICBpc1VubWFza2luZzogdW5tYXNraW5nQmxvY2tcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fYmxvY2tzLnB1c2goZGVmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RhdGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRQYXR0ZXJuLnByb3RvdHlwZSksIFwic3RhdGVcIiwgdGhpcyksIHtcbiAgICAgICAgX2Jsb2NrczogdGhpcy5fYmxvY2tzLm1hcChmdW5jdGlvbiAoYikge1xuICAgICAgICAgIHJldHVybiBiLnN0YXRlO1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdGF0ZSkge1xuICAgICAgdmFyIF9ibG9ja3MgPSBzdGF0ZS5fYmxvY2tzLFxuICAgICAgICAgIG1hc2tlZFN0YXRlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHN0YXRlLCBfZXhjbHVkZWQpO1xuXG4gICAgICB0aGlzLl9ibG9ja3MuZm9yRWFjaChmdW5jdGlvbiAoYiwgYmkpIHtcbiAgICAgICAgcmV0dXJuIGIuc3RhdGUgPSBfYmxvY2tzW2JpXTtcbiAgICAgIH0pO1xuXG4gICAgICBfc2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRQYXR0ZXJuLnByb3RvdHlwZSksIFwic3RhdGVcIiwgbWFza2VkU3RhdGUsIHRoaXMsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZFBhdHRlcm4ucHJvdG90eXBlKSwgXCJyZXNldFwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXG4gICAgICB0aGlzLl9ibG9ja3MuZm9yRWFjaChmdW5jdGlvbiAoYikge1xuICAgICAgICByZXR1cm4gYi5yZXNldCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ29tcGxldGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9ibG9ja3MuZXZlcnkoZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgcmV0dXJuIGIuaXNDb21wbGV0ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0ZpbGxlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5ldmVyeShmdW5jdGlvbiAoYikge1xuICAgICAgICByZXR1cm4gYi5pc0ZpbGxlZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0ZpeGVkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYmxvY2tzLmV2ZXJ5KGZ1bmN0aW9uIChiKSB7XG4gICAgICAgIHJldHVybiBiLmlzRml4ZWQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNPcHRpb25hbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5ldmVyeShmdW5jdGlvbiAoYikge1xuICAgICAgICByZXR1cm4gYi5pc09wdGlvbmFsO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRvQ29tbWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvQ29tbWl0KCkge1xuICAgICAgdGhpcy5fYmxvY2tzLmZvckVhY2goZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgcmV0dXJuIGIuZG9Db21taXQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRQYXR0ZXJuLnByb3RvdHlwZSksIFwiZG9Db21taXRcIiwgdGhpcykuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5tYXNrZWRWYWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5yZWR1Y2UoZnVuY3Rpb24gKHN0ciwgYikge1xuICAgICAgICByZXR1cm4gc3RyICs9IGIudW5tYXNrZWRWYWx1ZTtcbiAgICAgIH0sICcnKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHVubWFza2VkVmFsdWUpIHtcbiAgICAgIF9zZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZFBhdHRlcm4ucHJvdG90eXBlKSwgXCJ1bm1hc2tlZFZhbHVlXCIsIHVubWFza2VkVmFsdWUsIHRoaXMsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgLy8gVE9ETyByZXR1cm4gX3ZhbHVlIHdoZW4gbm90IGluIGNoYW5nZT9cbiAgICAgIHJldHVybiB0aGlzLl9ibG9ja3MucmVkdWNlKGZ1bmN0aW9uIChzdHIsIGIpIHtcbiAgICAgICAgcmV0dXJuIHN0ciArPSBiLnZhbHVlO1xuICAgICAgfSwgJycpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZFBhdHRlcm4ucHJvdG90eXBlKSwgXCJ2YWx1ZVwiLCB2YWx1ZSwgdGhpcywgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFwcGVuZFRhaWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kVGFpbCh0YWlsKSB7XG4gICAgICByZXR1cm4gX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkUGF0dGVybi5wcm90b3R5cGUpLCBcImFwcGVuZFRhaWxcIiwgdGhpcykuY2FsbCh0aGlzLCB0YWlsKS5hZ2dyZWdhdGUodGhpcy5fYXBwZW5kUGxhY2Vob2xkZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRFYWdlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kRWFnZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkX21hcFBvc1RvQmxvY2s7XG5cbiAgICAgIHZhciBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICAgIHZhciBzdGFydEJsb2NrSW5kZXggPSAoX3RoaXMkX21hcFBvc1RvQmxvY2sgPSB0aGlzLl9tYXBQb3NUb0Jsb2NrKHRoaXMudmFsdWUubGVuZ3RoKSkgPT09IG51bGwgfHwgX3RoaXMkX21hcFBvc1RvQmxvY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJF9tYXBQb3NUb0Jsb2NrLmluZGV4O1xuICAgICAgaWYgKHN0YXJ0QmxvY2tJbmRleCA9PSBudWxsKSByZXR1cm4gZGV0YWlsczsgLy8gVE9ETyB0ZXN0IGlmIGl0IHdvcmtzIGZvciBuZXN0ZWQgcGF0dGVybiBtYXNrc1xuXG4gICAgICBpZiAodGhpcy5fYmxvY2tzW3N0YXJ0QmxvY2tJbmRleF0uaXNGaWxsZWQpICsrc3RhcnRCbG9ja0luZGV4O1xuXG4gICAgICBmb3IgKHZhciBiaSA9IHN0YXJ0QmxvY2tJbmRleDsgYmkgPCB0aGlzLl9ibG9ja3MubGVuZ3RoOyArK2JpKSB7XG4gICAgICAgIHZhciBkID0gdGhpcy5fYmxvY2tzW2JpXS5fYXBwZW5kRWFnZXIoKTtcblxuICAgICAgICBpZiAoIWQuaW5zZXJ0ZWQpIGJyZWFrO1xuICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZShkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRDaGFyUmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRDaGFyUmF3KGNoKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICB2YXIgYmxvY2tJdGVyID0gdGhpcy5fbWFwUG9zVG9CbG9jayh0aGlzLnZhbHVlLmxlbmd0aCk7XG5cbiAgICAgIHZhciBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICAgIGlmICghYmxvY2tJdGVyKSByZXR1cm4gZGV0YWlscztcblxuICAgICAgZm9yICh2YXIgYmkgPSBibG9ja0l0ZXIuaW5kZXg7OyArK2JpKSB7XG4gICAgICAgIHZhciBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEsIF9mbGFncyRfYmVmb3JlVGFpbFN0YTI7XG5cbiAgICAgICAgdmFyIF9ibG9jayA9IHRoaXMuX2Jsb2Nrc1tiaV07XG4gICAgICAgIGlmICghX2Jsb2NrKSBicmVhaztcblxuICAgICAgICB2YXIgYmxvY2tEZXRhaWxzID0gX2Jsb2NrLl9hcHBlbmRDaGFyKGNoLCBPYmplY3QuYXNzaWduKHt9LCBmbGFncywge1xuICAgICAgICAgIF9iZWZvcmVUYWlsU3RhdGU6IChfZmxhZ3MkX2JlZm9yZVRhaWxTdGEgPSBmbGFncy5fYmVmb3JlVGFpbFN0YXRlKSA9PT0gbnVsbCB8fCBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZmxhZ3MkX2JlZm9yZVRhaWxTdGEyID0gX2ZsYWdzJF9iZWZvcmVUYWlsU3RhLl9ibG9ja3MpID09PSBudWxsIHx8IF9mbGFncyRfYmVmb3JlVGFpbFN0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mbGFncyRfYmVmb3JlVGFpbFN0YTJbYmldXG4gICAgICAgIH0pKTtcblxuICAgICAgICB2YXIgc2tpcCA9IGJsb2NrRGV0YWlscy5za2lwO1xuICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZShibG9ja0RldGFpbHMpO1xuICAgICAgICBpZiAoc2tpcCB8fCBibG9ja0RldGFpbHMucmF3SW5zZXJ0ZWQpIGJyZWFrOyAvLyBnbyBuZXh0IGNoYXJcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImV4dHJhY3RUYWlsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4dHJhY3RUYWlsKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBmcm9tUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgdmFyIHRvUG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICAgIHZhciBjaHVua1RhaWwgPSBuZXcgQ2h1bmtzVGFpbERldGFpbHMoKTtcbiAgICAgIGlmIChmcm9tUG9zID09PSB0b1BvcykgcmV0dXJuIGNodW5rVGFpbDtcblxuICAgICAgdGhpcy5fZm9yRWFjaEJsb2Nrc0luUmFuZ2UoZnJvbVBvcywgdG9Qb3MsIGZ1bmN0aW9uIChiLCBiaSwgYkZyb21Qb3MsIGJUb1Bvcykge1xuICAgICAgICB2YXIgYmxvY2tDaHVuayA9IGIuZXh0cmFjdFRhaWwoYkZyb21Qb3MsIGJUb1Bvcyk7XG4gICAgICAgIGJsb2NrQ2h1bmsuc3RvcCA9IF90aGlzMi5fZmluZFN0b3BCZWZvcmUoYmkpO1xuICAgICAgICBibG9ja0NodW5rLmZyb20gPSBfdGhpczIuX2Jsb2NrU3RhcnRQb3MoYmkpO1xuICAgICAgICBpZiAoYmxvY2tDaHVuayBpbnN0YW5jZW9mIENodW5rc1RhaWxEZXRhaWxzKSBibG9ja0NodW5rLmJsb2NrSW5kZXggPSBiaTtcbiAgICAgICAgY2h1bmtUYWlsLmV4dGVuZChibG9ja0NodW5rKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gY2h1bmtUYWlsO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJleHRyYWN0SW5wdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdElucHV0KCkge1xuICAgICAgdmFyIGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgICAgdmFyIGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIGlmIChmcm9tUG9zID09PSB0b1BvcykgcmV0dXJuICcnO1xuICAgICAgdmFyIGlucHV0ID0gJyc7XG5cbiAgICAgIHRoaXMuX2ZvckVhY2hCbG9ja3NJblJhbmdlKGZyb21Qb3MsIHRvUG9zLCBmdW5jdGlvbiAoYiwgXywgZnJvbVBvcywgdG9Qb3MpIHtcbiAgICAgICAgaW5wdXQgKz0gYi5leHRyYWN0SW5wdXQoZnJvbVBvcywgdG9Qb3MsIGZsYWdzKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9maW5kU3RvcEJlZm9yZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluZFN0b3BCZWZvcmUoYmxvY2tJbmRleCkge1xuICAgICAgdmFyIHN0b3BCZWZvcmU7XG5cbiAgICAgIGZvciAodmFyIHNpID0gMDsgc2kgPCB0aGlzLl9zdG9wcy5sZW5ndGg7ICsrc2kpIHtcbiAgICAgICAgdmFyIHN0b3AgPSB0aGlzLl9zdG9wc1tzaV07XG4gICAgICAgIGlmIChzdG9wIDw9IGJsb2NrSW5kZXgpIHN0b3BCZWZvcmUgPSBzdG9wO2Vsc2UgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdG9wQmVmb3JlO1xuICAgIH1cbiAgICAvKiogQXBwZW5kcyBwbGFjZWhvbGRlciBkZXBlbmRpbmcgb24gbGF6aW5lc3MgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRQbGFjZWhvbGRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kUGxhY2Vob2xkZXIodG9CbG9ja0luZGV4KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgICAgaWYgKHRoaXMubGF6eSAmJiB0b0Jsb2NrSW5kZXggPT0gbnVsbCkgcmV0dXJuIGRldGFpbHM7XG5cbiAgICAgIHZhciBzdGFydEJsb2NrSXRlciA9IHRoaXMuX21hcFBvc1RvQmxvY2sodGhpcy52YWx1ZS5sZW5ndGgpO1xuXG4gICAgICBpZiAoIXN0YXJ0QmxvY2tJdGVyKSByZXR1cm4gZGV0YWlscztcbiAgICAgIHZhciBzdGFydEJsb2NrSW5kZXggPSBzdGFydEJsb2NrSXRlci5pbmRleDtcbiAgICAgIHZhciBlbmRCbG9ja0luZGV4ID0gdG9CbG9ja0luZGV4ICE9IG51bGwgPyB0b0Jsb2NrSW5kZXggOiB0aGlzLl9ibG9ja3MubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9ibG9ja3Muc2xpY2Uoc3RhcnRCbG9ja0luZGV4LCBlbmRCbG9ja0luZGV4KS5mb3JFYWNoKGZ1bmN0aW9uIChiKSB7XG4gICAgICAgIGlmICghYi5sYXp5IHx8IHRvQmxvY2tJbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gJEZsb3dGaXhNZSBgX2Jsb2Nrc2AgbWF5IG5vdCBiZSBwcmVzZW50XG4gICAgICAgICAgdmFyIGFyZ3MgPSBiLl9ibG9ja3MgIT0gbnVsbCA/IFtiLl9ibG9ja3MubGVuZ3RoXSA6IFtdO1xuXG4gICAgICAgICAgdmFyIGJEZXRhaWxzID0gYi5fYXBwZW5kUGxhY2Vob2xkZXIuYXBwbHkoYiwgYXJncyk7XG5cbiAgICAgICAgICBfdGhpczMuX3ZhbHVlICs9IGJEZXRhaWxzLmluc2VydGVkO1xuICAgICAgICAgIGRldGFpbHMuYWdncmVnYXRlKGJEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgICAvKiogRmluZHMgYmxvY2sgaW4gcG9zICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfbWFwUG9zVG9CbG9ja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbWFwUG9zVG9CbG9jayhwb3MpIHtcbiAgICAgIHZhciBhY2NWYWwgPSAnJztcblxuICAgICAgZm9yICh2YXIgYmkgPSAwOyBiaSA8IHRoaXMuX2Jsb2Nrcy5sZW5ndGg7ICsrYmkpIHtcbiAgICAgICAgdmFyIF9ibG9jazIgPSB0aGlzLl9ibG9ja3NbYmldO1xuICAgICAgICB2YXIgYmxvY2tTdGFydFBvcyA9IGFjY1ZhbC5sZW5ndGg7XG4gICAgICAgIGFjY1ZhbCArPSBfYmxvY2syLnZhbHVlO1xuXG4gICAgICAgIGlmIChwb3MgPD0gYWNjVmFsLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbmRleDogYmksXG4gICAgICAgICAgICBvZmZzZXQ6IHBvcyAtIGJsb2NrU3RhcnRQb3NcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2Jsb2NrU3RhcnRQb3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Jsb2NrU3RhcnRQb3MoYmxvY2tJbmRleCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5zbGljZSgwLCBibG9ja0luZGV4KS5yZWR1Y2UoZnVuY3Rpb24gKHBvcywgYikge1xuICAgICAgICByZXR1cm4gcG9zICs9IGIudmFsdWUubGVuZ3RoO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICAgIC8qKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2ZvckVhY2hCbG9ja3NJblJhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9mb3JFYWNoQmxvY2tzSW5SYW5nZShmcm9tUG9zKSB7XG4gICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgICAgdmFyIGZuID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBmcm9tQmxvY2tJdGVyID0gdGhpcy5fbWFwUG9zVG9CbG9jayhmcm9tUG9zKTtcblxuICAgICAgaWYgKGZyb21CbG9ja0l0ZXIpIHtcbiAgICAgICAgdmFyIHRvQmxvY2tJdGVyID0gdGhpcy5fbWFwUG9zVG9CbG9jayh0b1Bvcyk7IC8vIHByb2Nlc3MgZmlyc3QgYmxvY2tcblxuXG4gICAgICAgIHZhciBpc1NhbWVCbG9jayA9IHRvQmxvY2tJdGVyICYmIGZyb21CbG9ja0l0ZXIuaW5kZXggPT09IHRvQmxvY2tJdGVyLmluZGV4O1xuICAgICAgICB2YXIgZnJvbUJsb2NrU3RhcnRQb3MgPSBmcm9tQmxvY2tJdGVyLm9mZnNldDtcbiAgICAgICAgdmFyIGZyb21CbG9ja0VuZFBvcyA9IHRvQmxvY2tJdGVyICYmIGlzU2FtZUJsb2NrID8gdG9CbG9ja0l0ZXIub2Zmc2V0IDogdGhpcy5fYmxvY2tzW2Zyb21CbG9ja0l0ZXIuaW5kZXhdLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgZm4odGhpcy5fYmxvY2tzW2Zyb21CbG9ja0l0ZXIuaW5kZXhdLCBmcm9tQmxvY2tJdGVyLmluZGV4LCBmcm9tQmxvY2tTdGFydFBvcywgZnJvbUJsb2NrRW5kUG9zKTtcblxuICAgICAgICBpZiAodG9CbG9ja0l0ZXIgJiYgIWlzU2FtZUJsb2NrKSB7XG4gICAgICAgICAgLy8gcHJvY2VzcyBpbnRlcm1lZGlhdGUgYmxvY2tzXG4gICAgICAgICAgZm9yICh2YXIgYmkgPSBmcm9tQmxvY2tJdGVyLmluZGV4ICsgMTsgYmkgPCB0b0Jsb2NrSXRlci5pbmRleDsgKytiaSkge1xuICAgICAgICAgICAgZm4odGhpcy5fYmxvY2tzW2JpXSwgYmksIDAsIHRoaXMuX2Jsb2Nrc1tiaV0udmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICB9IC8vIHByb2Nlc3MgbGFzdCBibG9ja1xuXG5cbiAgICAgICAgICBmbih0aGlzLl9ibG9ja3NbdG9CbG9ja0l0ZXIuaW5kZXhdLCB0b0Jsb2NrSXRlci5pbmRleCwgMCwgdG9CbG9ja0l0ZXIub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuXG4gICAgICB2YXIgcmVtb3ZlRGV0YWlscyA9IF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZFBhdHRlcm4ucHJvdG90eXBlKSwgXCJyZW1vdmVcIiwgdGhpcykuY2FsbCh0aGlzLCBmcm9tUG9zLCB0b1Bvcyk7XG5cbiAgICAgIHRoaXMuX2ZvckVhY2hCbG9ja3NJblJhbmdlKGZyb21Qb3MsIHRvUG9zLCBmdW5jdGlvbiAoYiwgXywgYkZyb21Qb3MsIGJUb1Bvcykge1xuICAgICAgICByZW1vdmVEZXRhaWxzLmFnZ3JlZ2F0ZShiLnJlbW92ZShiRnJvbVBvcywgYlRvUG9zKSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJlbW92ZURldGFpbHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm5lYXJlc3RJbnB1dFBvc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zKSB7XG4gICAgICB2YXIgZGlyZWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBESVJFQ1RJT04uTk9ORTtcbiAgICAgIGlmICghdGhpcy5fYmxvY2tzLmxlbmd0aCkgcmV0dXJuIDA7XG4gICAgICB2YXIgY3Vyc29yID0gbmV3IFBhdHRlcm5DdXJzb3IodGhpcywgY3Vyc29yUG9zKTtcblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLk5PTkUpIHtcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBOT05FIHNob3VsZCBvbmx5IGdvIG91dCBmcm9tIGZpeGVkIHRvIHRoZSByaWdodCFcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAoY3Vyc29yLnB1c2hSaWdodEJlZm9yZUlucHV0KCkpIHJldHVybiBjdXJzb3IucG9zO1xuICAgICAgICBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgICAgaWYgKGN1cnNvci5wdXNoTGVmdEJlZm9yZUlucHV0KCkpIHJldHVybiBjdXJzb3IucG9zO1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgICB9IC8vIEZPUkNFIGlzIG9ubHkgYWJvdXQgYXwqIG90aGVyd2lzZSBpcyAwXG5cblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkxFRlQgfHwgZGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfTEVGVCkge1xuICAgICAgICAvLyB0cnkgdG8gYnJlYWsgZmFzdCB3aGVuICp8YVxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT04uTEVGVCkge1xuICAgICAgICAgIGN1cnNvci5wdXNoUmlnaHRCZWZvcmVGaWxsZWQoKTtcbiAgICAgICAgICBpZiAoY3Vyc29yLm9rICYmIGN1cnNvci5wb3MgPT09IGN1cnNvclBvcykgcmV0dXJuIGN1cnNvclBvcztcbiAgICAgICAgICBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgICAgfSAvLyBmb3J3YXJkIGZsb3dcblxuXG4gICAgICAgIGN1cnNvci5wdXNoTGVmdEJlZm9yZUlucHV0KCk7XG4gICAgICAgIGN1cnNvci5wdXNoTGVmdEJlZm9yZVJlcXVpcmVkKCk7XG4gICAgICAgIGN1cnNvci5wdXNoTGVmdEJlZm9yZUZpbGxlZCgpOyAvLyBiYWNrd2FyZCBmbG93XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkxFRlQpIHtcbiAgICAgICAgICBjdXJzb3IucHVzaFJpZ2h0QmVmb3JlSW5wdXQoKTtcbiAgICAgICAgICBjdXJzb3IucHVzaFJpZ2h0QmVmb3JlUmVxdWlyZWQoKTtcbiAgICAgICAgICBpZiAoY3Vyc29yLm9rICYmIGN1cnNvci5wb3MgPD0gY3Vyc29yUG9zKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgICAgICBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgICAgICBpZiAoY3Vyc29yLm9rICYmIGN1cnNvci5wb3MgPD0gY3Vyc29yUG9zKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgICAgICBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJzb3Iub2spIHJldHVybiBjdXJzb3IucG9zO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfTEVGVCkgcmV0dXJuIDA7XG4gICAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgICBpZiAoY3Vyc29yLm9rKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgICAgY3Vyc29yLnBvcFN0YXRlKCk7XG4gICAgICAgIGlmIChjdXJzb3Iub2spIHJldHVybiBjdXJzb3IucG9zOyAvLyBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgICAgLy8gaWYgKFxuICAgICAgICAvLyAgIGN1cnNvci5wdXNoUmlnaHRCZWZvcmVJbnB1dCgpICYmXG4gICAgICAgIC8vICAgLy8gVE9ETyBIQUNLIGZvciBsYXp5IGlmIGhhcyBhbGlnbmVkIGxlZnQgaW5zaWRlIGZpeGVkIGFuZCBoYXMgY2FtZSB0byB0aGUgc3RhcnQgLSB1c2Ugc3RhcnQgcG9zaXRpb25cbiAgICAgICAgLy8gICAoIXRoaXMubGF6eSB8fCB0aGlzLmV4dHJhY3RJbnB1dCgpKVxuICAgICAgICAvLyApIHJldHVybiBjdXJzb3IucG9zO1xuXG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT04uUklHSFQgfHwgZGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfUklHSFQpIHtcbiAgICAgICAgLy8gZm9yd2FyZCBmbG93XG4gICAgICAgIGN1cnNvci5wdXNoUmlnaHRCZWZvcmVJbnB1dCgpO1xuICAgICAgICBjdXJzb3IucHVzaFJpZ2h0QmVmb3JlUmVxdWlyZWQoKTtcbiAgICAgICAgaWYgKGN1cnNvci5wdXNoUmlnaHRCZWZvcmVGaWxsZWQoKSkgcmV0dXJuIGN1cnNvci5wb3M7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5GT1JDRV9SSUdIVCkgcmV0dXJuIHRoaXMudmFsdWUubGVuZ3RoOyAvLyBiYWNrd2FyZCBmbG93XG5cbiAgICAgICAgY3Vyc29yLnBvcFN0YXRlKCk7XG4gICAgICAgIGlmIChjdXJzb3Iub2spIHJldHVybiBjdXJzb3IucG9zO1xuICAgICAgICBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgICAgaWYgKGN1cnNvci5vaykgcmV0dXJuIGN1cnNvci5wb3M7XG4gICAgICAgIHJldHVybiB0aGlzLm5lYXJlc3RJbnB1dFBvcyhjdXJzb3JQb3MsIERJUkVDVElPTi5MRUZUKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGN1cnNvclBvcztcbiAgICB9XG4gICAgLyoqIEdldCBibG9jayBieSBuYW1lICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXNrZWRCbG9ja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXNrZWRCbG9jayhuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXNrZWRCbG9ja3MobmFtZSlbMF07XG4gICAgfVxuICAgIC8qKiBHZXQgYWxsIGJsb2NrcyBieSBuYW1lICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXNrZWRCbG9ja3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFza2VkQmxvY2tzKG5hbWUpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgaW5kaWNlcyA9IHRoaXMuX21hc2tlZEJsb2Nrc1tuYW1lXTtcbiAgICAgIGlmICghaW5kaWNlcykgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIGluZGljZXMubWFwKGZ1bmN0aW9uIChnaSkge1xuICAgICAgICByZXR1cm4gX3RoaXM0Ll9ibG9ja3NbZ2ldO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1hc2tlZFBhdHRlcm47XG59KE1hc2tlZCk7XG5NYXNrZWRQYXR0ZXJuLkRFRkFVTFRTID0ge1xuICBsYXp5OiB0cnVlLFxuICBwbGFjZWhvbGRlckNoYXI6ICdfJ1xufTtcbk1hc2tlZFBhdHRlcm4uU1RPUF9DSEFSID0gJ2AnO1xuTWFza2VkUGF0dGVybi5FU0NBUEVfQ0hBUiA9ICdcXFxcJztcbk1hc2tlZFBhdHRlcm4uSW5wdXREZWZpbml0aW9uID0gUGF0dGVybklucHV0RGVmaW5pdGlvbjtcbk1hc2tlZFBhdHRlcm4uRml4ZWREZWZpbml0aW9uID0gUGF0dGVybkZpeGVkRGVmaW5pdGlvbjtcbklNYXNrLk1hc2tlZFBhdHRlcm4gPSBNYXNrZWRQYXR0ZXJuO1xuXG5leHBvcnQgeyBNYXNrZWRQYXR0ZXJuIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IF8gYXMgX2NyZWF0ZUNsYXNzLCBhIGFzIF9jbGFzc0NhbGxDaGVjaywgYiBhcyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgfSBmcm9tICcuLi8uLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTY3YmJhN2ZiLmpzJztcbmltcG9ydCBDaGFuZ2VEZXRhaWxzIGZyb20gJy4uLy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBDb250aW51b3VzVGFpbERldGFpbHMgZnJvbSAnLi4vLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vLi4vY29yZS9ob2xkZXIuanMnO1xuXG52YXIgX2V4Y2x1ZGVkID0gW1wiY2h1bmtzXCJdO1xuXG52YXIgQ2h1bmtzVGFpbERldGFpbHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKiogKi9cbiAgZnVuY3Rpb24gQ2h1bmtzVGFpbERldGFpbHMoKSB7XG4gICAgdmFyIGNodW5rcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2h1bmtzVGFpbERldGFpbHMpO1xuXG4gICAgdGhpcy5jaHVua3MgPSBjaHVua3M7XG4gICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDaHVua3NUYWlsRGV0YWlscywgW3tcbiAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaHVua3MubWFwKFN0cmluZykuam9pbignJyk7XG4gICAgfSAvLyAkRmxvd0ZpeE1lIG5vIGlkZWFzXG5cbiAgfSwge1xuICAgIGtleTogXCJleHRlbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXh0ZW5kKHRhaWxDaHVuaykge1xuICAgICAgaWYgKCFTdHJpbmcodGFpbENodW5rKSkgcmV0dXJuO1xuICAgICAgaWYgKGlzU3RyaW5nKHRhaWxDaHVuaykpIHRhaWxDaHVuayA9IG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoU3RyaW5nKHRhaWxDaHVuaykpO1xuICAgICAgdmFyIGxhc3RDaHVuayA9IHRoaXMuY2h1bmtzW3RoaXMuY2h1bmtzLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGV4dGVuZExhc3QgPSBsYXN0Q2h1bmsgJiYgKCAvLyBpZiBzdG9wcyBhcmUgc2FtZSBvciB0YWlsIGhhcyBubyBzdG9wXG4gICAgICBsYXN0Q2h1bmsuc3RvcCA9PT0gdGFpbENodW5rLnN0b3AgfHwgdGFpbENodW5rLnN0b3AgPT0gbnVsbCkgJiYgLy8gaWYgdGFpbCBjaHVuayBnb2VzIGp1c3QgYWZ0ZXIgbGFzdCBjaHVua1xuICAgICAgdGFpbENodW5rLmZyb20gPT09IGxhc3RDaHVuay5mcm9tICsgbGFzdENodW5rLnRvU3RyaW5nKCkubGVuZ3RoO1xuXG4gICAgICBpZiAodGFpbENodW5rIGluc3RhbmNlb2YgQ29udGludW91c1RhaWxEZXRhaWxzKSB7XG4gICAgICAgIC8vIGNoZWNrIHRoZSBhYmlsaXR5IHRvIGV4dGVuZCBwcmV2aW91cyBjaHVua1xuICAgICAgICBpZiAoZXh0ZW5kTGFzdCkge1xuICAgICAgICAgIC8vIGV4dGVuZCBwcmV2aW91cyBjaHVua1xuICAgICAgICAgIGxhc3RDaHVuay5leHRlbmQodGFpbENodW5rLnRvU3RyaW5nKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGFwcGVuZCBuZXcgY2h1bmtcbiAgICAgICAgICB0aGlzLmNodW5rcy5wdXNoKHRhaWxDaHVuayk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGFpbENodW5rIGluc3RhbmNlb2YgQ2h1bmtzVGFpbERldGFpbHMpIHtcbiAgICAgICAgaWYgKHRhaWxDaHVuay5zdG9wID09IG51bGwpIHtcbiAgICAgICAgICAvLyB1bndyYXAgZmxvYXRpbmcgY2h1bmtzIHRvIHBhcmVudCwga2VlcGluZyBgZnJvbWAgcG9zXG4gICAgICAgICAgdmFyIGZpcnN0VGFpbENodW5rO1xuXG4gICAgICAgICAgd2hpbGUgKHRhaWxDaHVuay5jaHVua3MubGVuZ3RoICYmIHRhaWxDaHVuay5jaHVua3NbMF0uc3RvcCA9PSBudWxsKSB7XG4gICAgICAgICAgICBmaXJzdFRhaWxDaHVuayA9IHRhaWxDaHVuay5jaHVua3Muc2hpZnQoKTtcbiAgICAgICAgICAgIGZpcnN0VGFpbENodW5rLmZyb20gKz0gdGFpbENodW5rLmZyb207XG4gICAgICAgICAgICB0aGlzLmV4dGVuZChmaXJzdFRhaWxDaHVuayk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIGlmIHRhaWwgY2h1bmsgc3RpbGwgaGFzIHZhbHVlXG5cblxuICAgICAgICBpZiAodGFpbENodW5rLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICAvLyBpZiBjaHVua3MgY29udGFpbnMgc3RvcHMsIHRoZW4gcG9wdXAgc3RvcCB0byBjb250YWluZXJcbiAgICAgICAgICB0YWlsQ2h1bmsuc3RvcCA9IHRhaWxDaHVuay5ibG9ja0luZGV4O1xuICAgICAgICAgIHRoaXMuY2h1bmtzLnB1c2godGFpbENodW5rKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhcHBlbmRUb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRUbyhtYXNrZWQpIHtcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIGlmICghKG1hc2tlZCBpbnN0YW5jZW9mIElNYXNrLk1hc2tlZFBhdHRlcm4pKSB7XG4gICAgICAgIHZhciB0YWlsID0gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscyh0aGlzLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gdGFpbC5hcHBlbmRUbyhtYXNrZWQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cbiAgICAgIGZvciAodmFyIGNpID0gMDsgY2kgPCB0aGlzLmNodW5rcy5sZW5ndGggJiYgIWRldGFpbHMuc2tpcDsgKytjaSkge1xuICAgICAgICB2YXIgY2h1bmsgPSB0aGlzLmNodW5rc1tjaV07XG5cbiAgICAgICAgdmFyIGxhc3RCbG9ja0l0ZXIgPSBtYXNrZWQuX21hcFBvc1RvQmxvY2sobWFza2VkLnZhbHVlLmxlbmd0aCk7XG5cbiAgICAgICAgdmFyIHN0b3AgPSBjaHVuay5zdG9wO1xuICAgICAgICB2YXIgY2h1bmtCbG9jayA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoc3RvcCAhPSBudWxsICYmICggLy8gaWYgYmxvY2sgbm90IGZvdW5kIG9yIHN0b3AgaXMgYmVoaW5kIGxhc3RCbG9ja1xuICAgICAgICAhbGFzdEJsb2NrSXRlciB8fCBsYXN0QmxvY2tJdGVyLmluZGV4IDw9IHN0b3ApKSB7XG4gICAgICAgICAgaWYgKGNodW5rIGluc3RhbmNlb2YgQ2h1bmtzVGFpbERldGFpbHMgfHwgLy8gZm9yIGNvbnRpbnVvdXMgYmxvY2sgYWxzbyBjaGVjayBpZiBzdG9wIGlzIGV4aXN0XG4gICAgICAgICAgbWFza2VkLl9zdG9wcy5pbmRleE9mKHN0b3ApID49IDApIHtcbiAgICAgICAgICAgIGRldGFpbHMuYWdncmVnYXRlKG1hc2tlZC5fYXBwZW5kUGxhY2Vob2xkZXIoc3RvcCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNodW5rQmxvY2sgPSBjaHVuayBpbnN0YW5jZW9mIENodW5rc1RhaWxEZXRhaWxzICYmIG1hc2tlZC5fYmxvY2tzW3N0b3BdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW5rQmxvY2spIHtcbiAgICAgICAgICB2YXIgdGFpbERldGFpbHMgPSBjaHVua0Jsb2NrLmFwcGVuZFRhaWwoY2h1bmspO1xuICAgICAgICAgIHRhaWxEZXRhaWxzLnNraXAgPSBmYWxzZTsgLy8gYWx3YXlzIGlnbm9yZSBza2lwLCBpdCB3aWxsIGJlIHNldCBvbiBsYXN0XG5cbiAgICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZSh0YWlsRGV0YWlscyk7XG4gICAgICAgICAgbWFza2VkLl92YWx1ZSArPSB0YWlsRGV0YWlscy5pbnNlcnRlZDsgLy8gZ2V0IG5vdCBpbnNlcnRlZCBjaGFyc1xuXG4gICAgICAgICAgdmFyIHJlbWFpbkNoYXJzID0gY2h1bmsudG9TdHJpbmcoKS5zbGljZSh0YWlsRGV0YWlscy5yYXdJbnNlcnRlZC5sZW5ndGgpO1xuICAgICAgICAgIGlmIChyZW1haW5DaGFycykgZGV0YWlscy5hZ2dyZWdhdGUobWFza2VkLmFwcGVuZChyZW1haW5DaGFycywge1xuICAgICAgICAgICAgdGFpbDogdHJ1ZVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZShtYXNrZWQuYXBwZW5kKGNodW5rLnRvU3RyaW5nKCksIHtcbiAgICAgICAgICAgIHRhaWw6IHRydWVcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdGF0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2h1bmtzOiB0aGlzLmNodW5rcy5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICByZXR1cm4gYy5zdGF0ZTtcbiAgICAgICAgfSksXG4gICAgICAgIGZyb206IHRoaXMuZnJvbSxcbiAgICAgICAgc3RvcDogdGhpcy5zdG9wLFxuICAgICAgICBibG9ja0luZGV4OiB0aGlzLmJsb2NrSW5kZXhcbiAgICAgIH07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdGF0ZSkge1xuICAgICAgdmFyIGNodW5rcyA9IHN0YXRlLmNodW5rcyxcbiAgICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzdGF0ZSwgX2V4Y2x1ZGVkKTtcblxuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wcyk7XG4gICAgICB0aGlzLmNodW5rcyA9IGNodW5rcy5tYXAoZnVuY3Rpb24gKGNzdGF0ZSkge1xuICAgICAgICB2YXIgY2h1bmsgPSBcImNodW5rc1wiIGluIGNzdGF0ZSA/IG5ldyBDaHVua3NUYWlsRGV0YWlscygpIDogbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscygpOyAvLyAkRmxvd0ZpeE1lIGFscmVhZHkgY2hlY2tlZCBhYm92ZVxuXG4gICAgICAgIGNodW5rLnN0YXRlID0gY3N0YXRlO1xuICAgICAgICByZXR1cm4gY2h1bms7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidW5zaGlmdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnNoaWZ0KGJlZm9yZVBvcykge1xuICAgICAgaWYgKCF0aGlzLmNodW5rcy5sZW5ndGggfHwgYmVmb3JlUG9zICE9IG51bGwgJiYgdGhpcy5mcm9tID49IGJlZm9yZVBvcykgcmV0dXJuICcnO1xuICAgICAgdmFyIGNodW5rU2hpZnRQb3MgPSBiZWZvcmVQb3MgIT0gbnVsbCA/IGJlZm9yZVBvcyAtIHRoaXMuZnJvbSA6IGJlZm9yZVBvcztcbiAgICAgIHZhciBjaSA9IDA7XG5cbiAgICAgIHdoaWxlIChjaSA8IHRoaXMuY2h1bmtzLmxlbmd0aCkge1xuICAgICAgICB2YXIgY2h1bmsgPSB0aGlzLmNodW5rc1tjaV07XG4gICAgICAgIHZhciBzaGlmdENoYXIgPSBjaHVuay51bnNoaWZ0KGNodW5rU2hpZnRQb3MpO1xuXG4gICAgICAgIGlmIChjaHVuay50b1N0cmluZygpKSB7XG4gICAgICAgICAgLy8gY2h1bmsgc3RpbGwgY29udGFpbnMgdmFsdWVcbiAgICAgICAgICAvLyBidXQgbm90IHNoaWZ0ZWQgLSBtZWFucyBubyBtb3JlIGF2YWlsYWJsZSBjaGFycyB0byBzaGlmdFxuICAgICAgICAgIGlmICghc2hpZnRDaGFyKSBicmVhaztcbiAgICAgICAgICArK2NpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNsZWFuIGlmIGNodW5rIGhhcyBubyB2YWx1ZVxuICAgICAgICAgIHRoaXMuY2h1bmtzLnNwbGljZShjaSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hpZnRDaGFyKSByZXR1cm4gc2hpZnRDaGFyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNoaWZ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNoaWZ0KCkge1xuICAgICAgaWYgKCF0aGlzLmNodW5rcy5sZW5ndGgpIHJldHVybiAnJztcbiAgICAgIHZhciBjaSA9IHRoaXMuY2h1bmtzLmxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlICgwIDw9IGNpKSB7XG4gICAgICAgIHZhciBjaHVuayA9IHRoaXMuY2h1bmtzW2NpXTtcbiAgICAgICAgdmFyIHNoaWZ0Q2hhciA9IGNodW5rLnNoaWZ0KCk7XG5cbiAgICAgICAgaWYgKGNodW5rLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICAvLyBjaHVuayBzdGlsbCBjb250YWlucyB2YWx1ZVxuICAgICAgICAgIC8vIGJ1dCBub3Qgc2hpZnRlZCAtIG1lYW5zIG5vIG1vcmUgYXZhaWxhYmxlIGNoYXJzIHRvIHNoaWZ0XG4gICAgICAgICAgaWYgKCFzaGlmdENoYXIpIGJyZWFrO1xuICAgICAgICAgIC0tY2k7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY2xlYW4gaWYgY2h1bmsgaGFzIG5vIHZhbHVlXG4gICAgICAgICAgdGhpcy5jaHVua3Muc3BsaWNlKGNpLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaGlmdENoYXIpIHJldHVybiBzaGlmdENoYXI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2h1bmtzVGFpbERldGFpbHM7XG59KCk7XG5cbmV4cG9ydCB7IENodW5rc1RhaWxEZXRhaWxzIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IF8gYXMgX2NyZWF0ZUNsYXNzLCBhIGFzIF9jbGFzc0NhbGxDaGVjayB9IGZyb20gJy4uLy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNjdiYmE3ZmIuanMnO1xuaW1wb3J0IHsgRElSRUNUSU9OIH0gZnJvbSAnLi4vLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgJy4uLy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuXG52YXIgUGF0dGVybkN1cnNvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBhdHRlcm5DdXJzb3IobWFza2VkLCBwb3MpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF0dGVybkN1cnNvcik7XG5cbiAgICB0aGlzLm1hc2tlZCA9IG1hc2tlZDtcbiAgICB0aGlzLl9sb2cgPSBbXTtcblxuICAgIHZhciBfcmVmID0gbWFza2VkLl9tYXBQb3NUb0Jsb2NrKHBvcykgfHwgKHBvcyA8IDAgPyAvLyBmaXJzdFxuICAgIHtcbiAgICAgIGluZGV4OiAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSA6IC8vIGxhc3RcbiAgICB7XG4gICAgICBpbmRleDogdGhpcy5tYXNrZWQuX2Jsb2Nrcy5sZW5ndGgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9KSxcbiAgICAgICAgb2Zmc2V0ID0gX3JlZi5vZmZzZXQsXG4gICAgICAgIGluZGV4ID0gX3JlZi5pbmRleDtcblxuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB0aGlzLm9rID0gZmFsc2U7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGF0dGVybkN1cnNvciwgW3tcbiAgICBrZXk6IFwiYmxvY2tcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hc2tlZC5fYmxvY2tzW3RoaXMuaW5kZXhdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwb3NcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hc2tlZC5fYmxvY2tTdGFydFBvcyh0aGlzLmluZGV4KSArIHRoaXMub2Zmc2V0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdGF0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQsXG4gICAgICAgIG9rOiB0aGlzLm9rXG4gICAgICB9O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQocykge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicHVzaFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1c2hTdGF0ZSgpIHtcbiAgICAgIHRoaXMuX2xvZy5wdXNoKHRoaXMuc3RhdGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwb3BTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3BTdGF0ZSgpIHtcbiAgICAgIHZhciBzID0gdGhpcy5fbG9nLnBvcCgpO1xuXG4gICAgICB0aGlzLnN0YXRlID0gcztcbiAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJiaW5kQmxvY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEJsb2NrKCkge1xuICAgICAgaWYgKHRoaXMuYmxvY2spIHJldHVybjtcblxuICAgICAgaWYgKHRoaXMuaW5kZXggPCAwKSB7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLm9mZnNldCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmluZGV4ID49IHRoaXMubWFza2VkLl9ibG9ja3MubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLm1hc2tlZC5fYmxvY2tzLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5ibG9jay52YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9wdXNoTGVmdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcHVzaExlZnQoZm4pIHtcbiAgICAgIHRoaXMucHVzaFN0YXRlKCk7XG5cbiAgICAgIGZvciAodGhpcy5iaW5kQmxvY2soKTsgMCA8PSB0aGlzLmluZGV4OyAtLXRoaXMuaW5kZXgsIHRoaXMub2Zmc2V0ID0gKChfdGhpcyRibG9jayA9IHRoaXMuYmxvY2spID09PSBudWxsIHx8IF90aGlzJGJsb2NrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRibG9jay52YWx1ZS5sZW5ndGgpIHx8IDApIHtcbiAgICAgICAgdmFyIF90aGlzJGJsb2NrO1xuXG4gICAgICAgIGlmIChmbigpKSByZXR1cm4gdGhpcy5vayA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLm9rID0gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9wdXNoUmlnaHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3B1c2hSaWdodChmbikge1xuICAgICAgdGhpcy5wdXNoU3RhdGUoKTtcblxuICAgICAgZm9yICh0aGlzLmJpbmRCbG9jaygpOyB0aGlzLmluZGV4IDwgdGhpcy5tYXNrZWQuX2Jsb2Nrcy5sZW5ndGg7ICsrdGhpcy5pbmRleCwgdGhpcy5vZmZzZXQgPSAwKSB7XG4gICAgICAgIGlmIChmbigpKSByZXR1cm4gdGhpcy5vayA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLm9rID0gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInB1c2hMZWZ0QmVmb3JlRmlsbGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1c2hMZWZ0QmVmb3JlRmlsbGVkKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuX3B1c2hMZWZ0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLmJsb2NrLmlzRml4ZWQgfHwgIV90aGlzLmJsb2NrLnZhbHVlKSByZXR1cm47XG4gICAgICAgIF90aGlzLm9mZnNldCA9IF90aGlzLmJsb2NrLm5lYXJlc3RJbnB1dFBvcyhfdGhpcy5vZmZzZXQsIERJUkVDVElPTi5GT1JDRV9MRUZUKTtcbiAgICAgICAgaWYgKF90aGlzLm9mZnNldCAhPT0gMCkgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicHVzaExlZnRCZWZvcmVJbnB1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdXNoTGVmdEJlZm9yZUlucHV0KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIC8vIGNhc2VzOlxuICAgICAgLy8gZmlsbGVkIGlucHV0OiAwMHxcbiAgICAgIC8vIG9wdGlvbmFsIGVtcHR5IGlucHV0OiAwMFtdfFxuICAgICAgLy8gbmVzdGVkIGJsb2NrOiBYWDxbXT58XG4gICAgICByZXR1cm4gdGhpcy5fcHVzaExlZnQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMyLmJsb2NrLmlzRml4ZWQpIHJldHVybjtcbiAgICAgICAgX3RoaXMyLm9mZnNldCA9IF90aGlzMi5ibG9jay5uZWFyZXN0SW5wdXRQb3MoX3RoaXMyLm9mZnNldCwgRElSRUNUSU9OLkxFRlQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwdXNoTGVmdEJlZm9yZVJlcXVpcmVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1c2hMZWZ0QmVmb3JlUmVxdWlyZWQoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuX3B1c2hMZWZ0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzMy5ibG9jay5pc0ZpeGVkIHx8IF90aGlzMy5ibG9jay5pc09wdGlvbmFsICYmICFfdGhpczMuYmxvY2sudmFsdWUpIHJldHVybjtcbiAgICAgICAgX3RoaXMzLm9mZnNldCA9IF90aGlzMy5ibG9jay5uZWFyZXN0SW5wdXRQb3MoX3RoaXMzLm9mZnNldCwgRElSRUNUSU9OLkxFRlQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwdXNoUmlnaHRCZWZvcmVGaWxsZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaFJpZ2h0QmVmb3JlRmlsbGVkKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLl9wdXNoUmlnaHQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXM0LmJsb2NrLmlzRml4ZWQgfHwgIV90aGlzNC5ibG9jay52YWx1ZSkgcmV0dXJuO1xuICAgICAgICBfdGhpczQub2Zmc2V0ID0gX3RoaXM0LmJsb2NrLm5lYXJlc3RJbnB1dFBvcyhfdGhpczQub2Zmc2V0LCBESVJFQ1RJT04uRk9SQ0VfUklHSFQpO1xuICAgICAgICBpZiAoX3RoaXM0Lm9mZnNldCAhPT0gX3RoaXM0LmJsb2NrLnZhbHVlLmxlbmd0aCkgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicHVzaFJpZ2h0QmVmb3JlSW5wdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaFJpZ2h0QmVmb3JlSW5wdXQoKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuX3B1c2hSaWdodChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpczUuYmxvY2suaXNGaXhlZCkgcmV0dXJuOyAvLyBjb25zdCBvID0gdGhpcy5vZmZzZXQ7XG5cbiAgICAgICAgX3RoaXM1Lm9mZnNldCA9IF90aGlzNS5ibG9jay5uZWFyZXN0SW5wdXRQb3MoX3RoaXM1Lm9mZnNldCwgRElSRUNUSU9OLk5PTkUpOyAvLyBIQUNLIGNhc2VzIGxpa2UgKFNUSUxMIERPRVMgTk9UIFdPUksgRk9SIE5FU1RFRClcbiAgICAgICAgLy8gYWF8WFxuICAgICAgICAvLyBhYTxYfFtdPlhfICAgIC0gdGhpcyB3aWxsIG5vdCB3b3JrXG4gICAgICAgIC8vIGlmIChvICYmIG8gPT09IHRoaXMub2Zmc2V0ICYmIHRoaXMuYmxvY2sgaW5zdGFuY2VvZiBQYXR0ZXJuSW5wdXREZWZpbml0aW9uKSBjb250aW51ZTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwdXNoUmlnaHRCZWZvcmVSZXF1aXJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdXNoUmlnaHRCZWZvcmVSZXF1aXJlZCgpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5fcHVzaFJpZ2h0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzNi5ibG9jay5pc0ZpeGVkIHx8IF90aGlzNi5ibG9jay5pc09wdGlvbmFsICYmICFfdGhpczYuYmxvY2sudmFsdWUpIHJldHVybjsgLy8gVE9ETyBjaGVjayB8WypdWFhfXG5cbiAgICAgICAgX3RoaXM2Lm9mZnNldCA9IF90aGlzNi5ibG9jay5uZWFyZXN0SW5wdXRQb3MoX3RoaXM2Lm9mZnNldCwgRElSRUNUSU9OLk5PTkUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQYXR0ZXJuQ3Vyc29yO1xufSgpO1xuXG5leHBvcnQgeyBQYXR0ZXJuQ3Vyc29yIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IF8gYXMgX2NyZWF0ZUNsYXNzLCBhIGFzIF9jbGFzc0NhbGxDaGVjayB9IGZyb20gJy4uLy4uL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMtNjdiYmE3ZmIuanMnO1xuaW1wb3J0IENoYW5nZURldGFpbHMgZnJvbSAnLi4vLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgeyBESVJFQ1RJT04sIGlzU3RyaW5nIH0gZnJvbSAnLi4vLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgQ29udGludW91c1RhaWxEZXRhaWxzIGZyb20gJy4uLy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuXG52YXIgUGF0dGVybkZpeGVkRGVmaW5pdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuICBmdW5jdGlvbiBQYXR0ZXJuRml4ZWREZWZpbml0aW9uKG9wdHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF0dGVybkZpeGVkRGVmaW5pdGlvbik7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdHMpO1xuICAgIHRoaXMuX3ZhbHVlID0gJyc7XG4gICAgdGhpcy5pc0ZpeGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQYXR0ZXJuRml4ZWREZWZpbml0aW9uLCBbe1xuICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1bm1hc2tlZFZhbHVlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1VubWFza2luZyA/IHRoaXMudmFsdWUgOiAnJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICB0aGlzLl9pc1Jhd0lucHV0ID0gZmFsc2U7XG4gICAgICB0aGlzLl92YWx1ZSA9ICcnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIGZyb21Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICB2YXIgdG9Qb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMuX3ZhbHVlLmxlbmd0aDtcbiAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fdmFsdWUuc2xpY2UoMCwgZnJvbVBvcykgKyB0aGlzLl92YWx1ZS5zbGljZSh0b1Bvcyk7XG4gICAgICBpZiAoIXRoaXMuX3ZhbHVlKSB0aGlzLl9pc1Jhd0lucHV0ID0gZmFsc2U7XG4gICAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibmVhcmVzdElucHV0UG9zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5lYXJlc3RJbnB1dFBvcyhjdXJzb3JQb3MpIHtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IERJUkVDVElPTi5OT05FO1xuICAgICAgdmFyIG1pblBvcyA9IDA7XG4gICAgICB2YXIgbWF4UG9zID0gdGhpcy5fdmFsdWUubGVuZ3RoO1xuXG4gICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIERJUkVDVElPTi5MRUZUOlxuICAgICAgICBjYXNlIERJUkVDVElPTi5GT1JDRV9MRUZUOlxuICAgICAgICAgIHJldHVybiBtaW5Qb3M7XG5cbiAgICAgICAgY2FzZSBESVJFQ1RJT04uTk9ORTpcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uUklHSFQ6XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX1JJR0hUOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBtYXhQb3M7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4dHJhY3RJbnB1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0SW5wdXQoKSB7XG4gICAgICB2YXIgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5fdmFsdWUubGVuZ3RoO1xuICAgICAgdmFyIGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHJldHVybiBmbGFncy5yYXcgJiYgdGhpcy5faXNSYXdJbnB1dCAmJiB0aGlzLl92YWx1ZS5zbGljZShmcm9tUG9zLCB0b1BvcykgfHwgJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzQ29tcGxldGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0ZpbGxlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fdmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfYXBwZW5kQ2hhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kQ2hhcihjaCkge1xuICAgICAgdmFyIGZsYWdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICAgIGlmICh0aGlzLl92YWx1ZSkgcmV0dXJuIGRldGFpbHM7XG4gICAgICB2YXIgYXBwZW5kZWQgPSB0aGlzLmNoYXIgPT09IGNoO1xuICAgICAgdmFyIGlzUmVzb2x2ZWQgPSBhcHBlbmRlZCAmJiAodGhpcy5pc1VubWFza2luZyB8fCBmbGFncy5pbnB1dCB8fCBmbGFncy5yYXcpICYmICghZmxhZ3MucmF3IHx8ICF0aGlzLmVhZ2VyKSAmJiAhZmxhZ3MudGFpbDtcbiAgICAgIGlmIChpc1Jlc29sdmVkKSBkZXRhaWxzLnJhd0luc2VydGVkID0gdGhpcy5jaGFyO1xuICAgICAgdGhpcy5fdmFsdWUgPSBkZXRhaWxzLmluc2VydGVkID0gdGhpcy5jaGFyO1xuICAgICAgdGhpcy5faXNSYXdJbnB1dCA9IGlzUmVzb2x2ZWQgJiYgKGZsYWdzLnJhdyB8fCBmbGFncy5pbnB1dCk7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FwcGVuZEVhZ2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRFYWdlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hcHBlbmRDaGFyKHRoaXMuY2hhciwge1xuICAgICAgICB0YWlsOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FwcGVuZFBsYWNlaG9sZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRQbGFjZWhvbGRlcigpIHtcbiAgICAgIHZhciBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICAgIGlmICh0aGlzLl92YWx1ZSkgcmV0dXJuIGRldGFpbHM7XG4gICAgICB0aGlzLl92YWx1ZSA9IGRldGFpbHMuaW5zZXJ0ZWQgPSB0aGlzLmNoYXI7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXh0cmFjdFRhaWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdFRhaWwoKSB7XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgICAgcmV0dXJuIG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoJycpO1xuICAgIH0gLy8gJEZsb3dGaXhNZSBubyBpZGVhc1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYXBwZW5kVGFpbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRUYWlsKHRhaWwpIHtcbiAgICAgIGlmIChpc1N0cmluZyh0YWlsKSkgdGFpbCA9IG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoU3RyaW5nKHRhaWwpKTtcbiAgICAgIHJldHVybiB0YWlsLmFwcGVuZFRvKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhcHBlbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kKHN0ciwgZmxhZ3MsIHRhaWwpIHtcbiAgICAgIHZhciBkZXRhaWxzID0gdGhpcy5fYXBwZW5kQ2hhcihzdHJbMF0sIGZsYWdzKTtcblxuICAgICAgaWYgKHRhaWwgIT0gbnVsbCkge1xuICAgICAgICBkZXRhaWxzLnRhaWxTaGlmdCArPSB0aGlzLmFwcGVuZFRhaWwodGFpbCkudGFpbFNoaWZ0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZG9Db21taXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG9Db21taXQoKSB7fVxuICB9LCB7XG4gICAga2V5OiBcInN0YXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfdmFsdWU6IHRoaXMuX3ZhbHVlLFxuICAgICAgICBfaXNSYXdJbnB1dDogdGhpcy5faXNSYXdJbnB1dFxuICAgICAgfTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHN0YXRlKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHN0YXRlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGF0dGVybkZpeGVkRGVmaW5pdGlvbjtcbn0oKTtcblxuZXhwb3J0IHsgUGF0dGVybkZpeGVkRGVmaW5pdGlvbiBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBfIGFzIF9jcmVhdGVDbGFzcywgYSBhcyBfY2xhc3NDYWxsQ2hlY2ssIGIgYXMgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vLi4vX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy02N2JiYTdmYi5qcyc7XG5pbXBvcnQgY3JlYXRlTWFzayBmcm9tICcuLi9mYWN0b3J5LmpzJztcbmltcG9ydCBDaGFuZ2VEZXRhaWxzIGZyb20gJy4uLy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IHsgRElSRUNUSU9OIH0gZnJvbSAnLi4vLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgJy4uLy4uL2NvcmUvaG9sZGVyLmpzJztcblxudmFyIF9leGNsdWRlZCA9IFtcIm1hc2tcIl07XG52YXIgREVGQVVMVF9JTlBVVF9ERUZJTklUSU9OUyA9IHtcbiAgJzAnOiAvXFxkLyxcbiAgJ2EnOiAvW1xcdTAwNDEtXFx1MDA1QVxcdTAwNjEtXFx1MDA3QVxcdTAwQUFcXHUwMEI1XFx1MDBCQVxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJDMVxcdTAyQzYtXFx1MDJEMVxcdTAyRTAtXFx1MDJFNFxcdTAyRUNcXHUwMkVFXFx1MDM3MC1cXHUwMzc0XFx1MDM3NlxcdTAzNzdcXHUwMzdBLVxcdTAzN0RcXHUwMzg2XFx1MDM4OC1cXHUwMzhBXFx1MDM4Q1xcdTAzOEUtXFx1MDNBMVxcdTAzQTMtXFx1MDNGNVxcdTAzRjctXFx1MDQ4MVxcdTA0OEEtXFx1MDUyN1xcdTA1MzEtXFx1MDU1NlxcdTA1NTlcXHUwNTYxLVxcdTA1ODdcXHUwNUQwLVxcdTA1RUFcXHUwNUYwLVxcdTA1RjJcXHUwNjIwLVxcdTA2NEFcXHUwNjZFXFx1MDY2RlxcdTA2NzEtXFx1MDZEM1xcdTA2RDVcXHUwNkU1XFx1MDZFNlxcdTA2RUVcXHUwNkVGXFx1MDZGQS1cXHUwNkZDXFx1MDZGRlxcdTA3MTBcXHUwNzEyLVxcdTA3MkZcXHUwNzRELVxcdTA3QTVcXHUwN0IxXFx1MDdDQS1cXHUwN0VBXFx1MDdGNFxcdTA3RjVcXHUwN0ZBXFx1MDgwMC1cXHUwODE1XFx1MDgxQVxcdTA4MjRcXHUwODI4XFx1MDg0MC1cXHUwODU4XFx1MDhBMFxcdTA4QTItXFx1MDhBQ1xcdTA5MDQtXFx1MDkzOVxcdTA5M0RcXHUwOTUwXFx1MDk1OC1cXHUwOTYxXFx1MDk3MS1cXHUwOTc3XFx1MDk3OS1cXHUwOTdGXFx1MDk4NS1cXHUwOThDXFx1MDk4RlxcdTA5OTBcXHUwOTkzLVxcdTA5QThcXHUwOUFBLVxcdTA5QjBcXHUwOUIyXFx1MDlCNi1cXHUwOUI5XFx1MDlCRFxcdTA5Q0VcXHUwOURDXFx1MDlERFxcdTA5REYtXFx1MDlFMVxcdTA5RjBcXHUwOUYxXFx1MEEwNS1cXHUwQTBBXFx1MEEwRlxcdTBBMTBcXHUwQTEzLVxcdTBBMjhcXHUwQTJBLVxcdTBBMzBcXHUwQTMyXFx1MEEzM1xcdTBBMzVcXHUwQTM2XFx1MEEzOFxcdTBBMzlcXHUwQTU5LVxcdTBBNUNcXHUwQTVFXFx1MEE3Mi1cXHUwQTc0XFx1MEE4NS1cXHUwQThEXFx1MEE4Ri1cXHUwQTkxXFx1MEE5My1cXHUwQUE4XFx1MEFBQS1cXHUwQUIwXFx1MEFCMlxcdTBBQjNcXHUwQUI1LVxcdTBBQjlcXHUwQUJEXFx1MEFEMFxcdTBBRTBcXHUwQUUxXFx1MEIwNS1cXHUwQjBDXFx1MEIwRlxcdTBCMTBcXHUwQjEzLVxcdTBCMjhcXHUwQjJBLVxcdTBCMzBcXHUwQjMyXFx1MEIzM1xcdTBCMzUtXFx1MEIzOVxcdTBCM0RcXHUwQjVDXFx1MEI1RFxcdTBCNUYtXFx1MEI2MVxcdTBCNzFcXHUwQjgzXFx1MEI4NS1cXHUwQjhBXFx1MEI4RS1cXHUwQjkwXFx1MEI5Mi1cXHUwQjk1XFx1MEI5OVxcdTBCOUFcXHUwQjlDXFx1MEI5RVxcdTBCOUZcXHUwQkEzXFx1MEJBNFxcdTBCQTgtXFx1MEJBQVxcdTBCQUUtXFx1MEJCOVxcdTBCRDBcXHUwQzA1LVxcdTBDMENcXHUwQzBFLVxcdTBDMTBcXHUwQzEyLVxcdTBDMjhcXHUwQzJBLVxcdTBDMzNcXHUwQzM1LVxcdTBDMzlcXHUwQzNEXFx1MEM1OFxcdTBDNTlcXHUwQzYwXFx1MEM2MVxcdTBDODUtXFx1MEM4Q1xcdTBDOEUtXFx1MEM5MFxcdTBDOTItXFx1MENBOFxcdTBDQUEtXFx1MENCM1xcdTBDQjUtXFx1MENCOVxcdTBDQkRcXHUwQ0RFXFx1MENFMFxcdTBDRTFcXHUwQ0YxXFx1MENGMlxcdTBEMDUtXFx1MEQwQ1xcdTBEMEUtXFx1MEQxMFxcdTBEMTItXFx1MEQzQVxcdTBEM0RcXHUwRDRFXFx1MEQ2MFxcdTBENjFcXHUwRDdBLVxcdTBEN0ZcXHUwRDg1LVxcdTBEOTZcXHUwRDlBLVxcdTBEQjFcXHUwREIzLVxcdTBEQkJcXHUwREJEXFx1MERDMC1cXHUwREM2XFx1MEUwMS1cXHUwRTMwXFx1MEUzMlxcdTBFMzNcXHUwRTQwLVxcdTBFNDZcXHUwRTgxXFx1MEU4MlxcdTBFODRcXHUwRTg3XFx1MEU4OFxcdTBFOEFcXHUwRThEXFx1MEU5NC1cXHUwRTk3XFx1MEU5OS1cXHUwRTlGXFx1MEVBMS1cXHUwRUEzXFx1MEVBNVxcdTBFQTdcXHUwRUFBXFx1MEVBQlxcdTBFQUQtXFx1MEVCMFxcdTBFQjJcXHUwRUIzXFx1MEVCRFxcdTBFQzAtXFx1MEVDNFxcdTBFQzZcXHUwRURDLVxcdTBFREZcXHUwRjAwXFx1MEY0MC1cXHUwRjQ3XFx1MEY0OS1cXHUwRjZDXFx1MEY4OC1cXHUwRjhDXFx1MTAwMC1cXHUxMDJBXFx1MTAzRlxcdTEwNTAtXFx1MTA1NVxcdTEwNUEtXFx1MTA1RFxcdTEwNjFcXHUxMDY1XFx1MTA2NlxcdTEwNkUtXFx1MTA3MFxcdTEwNzUtXFx1MTA4MVxcdTEwOEVcXHUxMEEwLVxcdTEwQzVcXHUxMEM3XFx1MTBDRFxcdTEwRDAtXFx1MTBGQVxcdTEwRkMtXFx1MTI0OFxcdTEyNEEtXFx1MTI0RFxcdTEyNTAtXFx1MTI1NlxcdTEyNThcXHUxMjVBLVxcdTEyNURcXHUxMjYwLVxcdTEyODhcXHUxMjhBLVxcdTEyOERcXHUxMjkwLVxcdTEyQjBcXHUxMkIyLVxcdTEyQjVcXHUxMkI4LVxcdTEyQkVcXHUxMkMwXFx1MTJDMi1cXHUxMkM1XFx1MTJDOC1cXHUxMkQ2XFx1MTJEOC1cXHUxMzEwXFx1MTMxMi1cXHUxMzE1XFx1MTMxOC1cXHUxMzVBXFx1MTM4MC1cXHUxMzhGXFx1MTNBMC1cXHUxM0Y0XFx1MTQwMS1cXHUxNjZDXFx1MTY2Ri1cXHUxNjdGXFx1MTY4MS1cXHUxNjlBXFx1MTZBMC1cXHUxNkVBXFx1MTcwMC1cXHUxNzBDXFx1MTcwRS1cXHUxNzExXFx1MTcyMC1cXHUxNzMxXFx1MTc0MC1cXHUxNzUxXFx1MTc2MC1cXHUxNzZDXFx1MTc2RS1cXHUxNzcwXFx1MTc4MC1cXHUxN0IzXFx1MTdEN1xcdTE3RENcXHUxODIwLVxcdTE4NzdcXHUxODgwLVxcdTE4QThcXHUxOEFBXFx1MThCMC1cXHUxOEY1XFx1MTkwMC1cXHUxOTFDXFx1MTk1MC1cXHUxOTZEXFx1MTk3MC1cXHUxOTc0XFx1MTk4MC1cXHUxOUFCXFx1MTlDMS1cXHUxOUM3XFx1MUEwMC1cXHUxQTE2XFx1MUEyMC1cXHUxQTU0XFx1MUFBN1xcdTFCMDUtXFx1MUIzM1xcdTFCNDUtXFx1MUI0QlxcdTFCODMtXFx1MUJBMFxcdTFCQUVcXHUxQkFGXFx1MUJCQS1cXHUxQkU1XFx1MUMwMC1cXHUxQzIzXFx1MUM0RC1cXHUxQzRGXFx1MUM1QS1cXHUxQzdEXFx1MUNFOS1cXHUxQ0VDXFx1MUNFRS1cXHUxQ0YxXFx1MUNGNVxcdTFDRjZcXHUxRDAwLVxcdTFEQkZcXHUxRTAwLVxcdTFGMTVcXHUxRjE4LVxcdTFGMURcXHUxRjIwLVxcdTFGNDVcXHUxRjQ4LVxcdTFGNERcXHUxRjUwLVxcdTFGNTdcXHUxRjU5XFx1MUY1QlxcdTFGNURcXHUxRjVGLVxcdTFGN0RcXHUxRjgwLVxcdTFGQjRcXHUxRkI2LVxcdTFGQkNcXHUxRkJFXFx1MUZDMi1cXHUxRkM0XFx1MUZDNi1cXHUxRkNDXFx1MUZEMC1cXHUxRkQzXFx1MUZENi1cXHUxRkRCXFx1MUZFMC1cXHUxRkVDXFx1MUZGMi1cXHUxRkY0XFx1MUZGNi1cXHUxRkZDXFx1MjA3MVxcdTIwN0ZcXHUyMDkwLVxcdTIwOUNcXHUyMTAyXFx1MjEwN1xcdTIxMEEtXFx1MjExM1xcdTIxMTVcXHUyMTE5LVxcdTIxMURcXHUyMTI0XFx1MjEyNlxcdTIxMjhcXHUyMTJBLVxcdTIxMkRcXHUyMTJGLVxcdTIxMzlcXHUyMTNDLVxcdTIxM0ZcXHUyMTQ1LVxcdTIxNDlcXHUyMTRFXFx1MjE4M1xcdTIxODRcXHUyQzAwLVxcdTJDMkVcXHUyQzMwLVxcdTJDNUVcXHUyQzYwLVxcdTJDRTRcXHUyQ0VCLVxcdTJDRUVcXHUyQ0YyXFx1MkNGM1xcdTJEMDAtXFx1MkQyNVxcdTJEMjdcXHUyRDJEXFx1MkQzMC1cXHUyRDY3XFx1MkQ2RlxcdTJEODAtXFx1MkQ5NlxcdTJEQTAtXFx1MkRBNlxcdTJEQTgtXFx1MkRBRVxcdTJEQjAtXFx1MkRCNlxcdTJEQjgtXFx1MkRCRVxcdTJEQzAtXFx1MkRDNlxcdTJEQzgtXFx1MkRDRVxcdTJERDAtXFx1MkRENlxcdTJERDgtXFx1MkRERVxcdTJFMkZcXHUzMDA1XFx1MzAwNlxcdTMwMzEtXFx1MzAzNVxcdTMwM0JcXHUzMDNDXFx1MzA0MS1cXHUzMDk2XFx1MzA5RC1cXHUzMDlGXFx1MzBBMS1cXHUzMEZBXFx1MzBGQy1cXHUzMEZGXFx1MzEwNS1cXHUzMTJEXFx1MzEzMS1cXHUzMThFXFx1MzFBMC1cXHUzMUJBXFx1MzFGMC1cXHUzMUZGXFx1MzQwMC1cXHU0REI1XFx1NEUwMC1cXHU5RkNDXFx1QTAwMC1cXHVBNDhDXFx1QTREMC1cXHVBNEZEXFx1QTUwMC1cXHVBNjBDXFx1QTYxMC1cXHVBNjFGXFx1QTYyQVxcdUE2MkJcXHVBNjQwLVxcdUE2NkVcXHVBNjdGLVxcdUE2OTdcXHVBNkEwLVxcdUE2RTVcXHVBNzE3LVxcdUE3MUZcXHVBNzIyLVxcdUE3ODhcXHVBNzhCLVxcdUE3OEVcXHVBNzkwLVxcdUE3OTNcXHVBN0EwLVxcdUE3QUFcXHVBN0Y4LVxcdUE4MDFcXHVBODAzLVxcdUE4MDVcXHVBODA3LVxcdUE4MEFcXHVBODBDLVxcdUE4MjJcXHVBODQwLVxcdUE4NzNcXHVBODgyLVxcdUE4QjNcXHVBOEYyLVxcdUE4RjdcXHVBOEZCXFx1QTkwQS1cXHVBOTI1XFx1QTkzMC1cXHVBOTQ2XFx1QTk2MC1cXHVBOTdDXFx1QTk4NC1cXHVBOUIyXFx1QTlDRlxcdUFBMDAtXFx1QUEyOFxcdUFBNDAtXFx1QUE0MlxcdUFBNDQtXFx1QUE0QlxcdUFBNjAtXFx1QUE3NlxcdUFBN0FcXHVBQTgwLVxcdUFBQUZcXHVBQUIxXFx1QUFCNVxcdUFBQjZcXHVBQUI5LVxcdUFBQkRcXHVBQUMwXFx1QUFDMlxcdUFBREItXFx1QUFERFxcdUFBRTAtXFx1QUFFQVxcdUFBRjItXFx1QUFGNFxcdUFCMDEtXFx1QUIwNlxcdUFCMDktXFx1QUIwRVxcdUFCMTEtXFx1QUIxNlxcdUFCMjAtXFx1QUIyNlxcdUFCMjgtXFx1QUIyRVxcdUFCQzAtXFx1QUJFMlxcdUFDMDAtXFx1RDdBM1xcdUQ3QjAtXFx1RDdDNlxcdUQ3Q0ItXFx1RDdGQlxcdUY5MDAtXFx1RkE2RFxcdUZBNzAtXFx1RkFEOVxcdUZCMDAtXFx1RkIwNlxcdUZCMTMtXFx1RkIxN1xcdUZCMURcXHVGQjFGLVxcdUZCMjhcXHVGQjJBLVxcdUZCMzZcXHVGQjM4LVxcdUZCM0NcXHVGQjNFXFx1RkI0MFxcdUZCNDFcXHVGQjQzXFx1RkI0NFxcdUZCNDYtXFx1RkJCMVxcdUZCRDMtXFx1RkQzRFxcdUZENTAtXFx1RkQ4RlxcdUZEOTItXFx1RkRDN1xcdUZERjAtXFx1RkRGQlxcdUZFNzAtXFx1RkU3NFxcdUZFNzYtXFx1RkVGQ1xcdUZGMjEtXFx1RkYzQVxcdUZGNDEtXFx1RkY1QVxcdUZGNjYtXFx1RkZCRVxcdUZGQzItXFx1RkZDN1xcdUZGQ0EtXFx1RkZDRlxcdUZGRDItXFx1RkZEN1xcdUZGREEtXFx1RkZEQ10vLFxuICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjA3NTA3MFxuICAnKic6IC8uL1xufTtcbi8qKiAqL1xuXG52YXIgUGF0dGVybklucHV0RGVmaW5pdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuICBmdW5jdGlvbiBQYXR0ZXJuSW5wdXREZWZpbml0aW9uKG9wdHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF0dGVybklucHV0RGVmaW5pdGlvbik7XG5cbiAgICB2YXIgbWFzayA9IG9wdHMubWFzayxcbiAgICAgICAgYmxvY2tPcHRzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9wdHMsIF9leGNsdWRlZCk7XG5cbiAgICB0aGlzLm1hc2tlZCA9IGNyZWF0ZU1hc2soe1xuICAgICAgbWFzazogbWFza1xuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgYmxvY2tPcHRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQYXR0ZXJuSW5wdXREZWZpbml0aW9uLCBbe1xuICAgIGtleTogXCJyZXNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHRoaXMuaXNGaWxsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMubWFza2VkLnJlc2V0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICB2YXIgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG5cbiAgICAgIGlmIChmcm9tUG9zID09PSAwICYmIHRvUG9zID49IDEpIHtcbiAgICAgICAgdGhpcy5pc0ZpbGxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5tYXNrZWQucmVtb3ZlKGZyb21Qb3MsIHRvUG9zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInZhbHVlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXNrZWQudmFsdWUgfHwgKHRoaXMuaXNGaWxsZWQgJiYgIXRoaXMuaXNPcHRpb25hbCA/IHRoaXMucGxhY2Vob2xkZXJDaGFyIDogJycpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1bm1hc2tlZFZhbHVlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXNrZWQudW5tYXNrZWRWYWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNDb21wbGV0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5tYXNrZWQudmFsdWUpIHx8IHRoaXMuaXNPcHRpb25hbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FwcGVuZENoYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZENoYXIoY2gpIHtcbiAgICAgIHZhciBmbGFncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICBpZiAodGhpcy5pc0ZpbGxlZCkgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLm1hc2tlZC5zdGF0ZTsgLy8gc2ltdWxhdGUgaW5wdXRcblxuICAgICAgdmFyIGRldGFpbHMgPSB0aGlzLm1hc2tlZC5fYXBwZW5kQ2hhcihjaCwgZmxhZ3MpO1xuXG4gICAgICBpZiAoZGV0YWlscy5pbnNlcnRlZCAmJiB0aGlzLmRvVmFsaWRhdGUoZmxhZ3MpID09PSBmYWxzZSkge1xuICAgICAgICBkZXRhaWxzLmluc2VydGVkID0gZGV0YWlscy5yYXdJbnNlcnRlZCA9ICcnO1xuICAgICAgICB0aGlzLm1hc2tlZC5zdGF0ZSA9IHN0YXRlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRldGFpbHMuaW5zZXJ0ZWQgJiYgIXRoaXMuaXNPcHRpb25hbCAmJiAhdGhpcy5sYXp5ICYmICFmbGFncy5pbnB1dCkge1xuICAgICAgICBkZXRhaWxzLmluc2VydGVkID0gdGhpcy5wbGFjZWhvbGRlckNoYXI7XG4gICAgICB9XG5cbiAgICAgIGRldGFpbHMuc2tpcCA9ICFkZXRhaWxzLmluc2VydGVkICYmICF0aGlzLmlzT3B0aW9uYWw7XG4gICAgICB0aGlzLmlzRmlsbGVkID0gQm9vbGVhbihkZXRhaWxzLmluc2VydGVkKTtcbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhcHBlbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kKCkge1xuICAgICAgdmFyIF90aGlzJG1hc2tlZDtcblxuICAgICAgLy8gVE9ETyBwcm9iYWJseSBzaG91bGQgYmUgZG9uZSB2aWEgX2FwcGVuZENoYXJcbiAgICAgIHJldHVybiAoX3RoaXMkbWFza2VkID0gdGhpcy5tYXNrZWQpLmFwcGVuZC5hcHBseShfdGhpcyRtYXNrZWQsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBlbmRQbGFjZWhvbGRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kUGxhY2Vob2xkZXIoKSB7XG4gICAgICB2YXIgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgICBpZiAodGhpcy5pc0ZpbGxlZCB8fCB0aGlzLmlzT3B0aW9uYWwpIHJldHVybiBkZXRhaWxzO1xuICAgICAgdGhpcy5pc0ZpbGxlZCA9IHRydWU7XG4gICAgICBkZXRhaWxzLmluc2VydGVkID0gdGhpcy5wbGFjZWhvbGRlckNoYXI7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FwcGVuZEVhZ2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRFYWdlcigpIHtcbiAgICAgIHJldHVybiBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleHRyYWN0VGFpbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0VGFpbCgpIHtcbiAgICAgIHZhciBfdGhpcyRtYXNrZWQyO1xuXG4gICAgICByZXR1cm4gKF90aGlzJG1hc2tlZDIgPSB0aGlzLm1hc2tlZCkuZXh0cmFjdFRhaWwuYXBwbHkoX3RoaXMkbWFza2VkMiwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYXBwZW5kVGFpbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRUYWlsKCkge1xuICAgICAgdmFyIF90aGlzJG1hc2tlZDM7XG5cbiAgICAgIHJldHVybiAoX3RoaXMkbWFza2VkMyA9IHRoaXMubWFza2VkKS5hcHBlbmRUYWlsLmFwcGx5KF90aGlzJG1hc2tlZDMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4dHJhY3RJbnB1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0SW5wdXQoKSB7XG4gICAgICB2YXIgZnJvbVBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgIHZhciB0b1BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgICB2YXIgZmxhZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0aGlzLm1hc2tlZC5leHRyYWN0SW5wdXQoZnJvbVBvcywgdG9Qb3MsIGZsYWdzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibmVhcmVzdElucHV0UG9zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5lYXJlc3RJbnB1dFBvcyhjdXJzb3JQb3MpIHtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IERJUkVDVElPTi5OT05FO1xuICAgICAgdmFyIG1pblBvcyA9IDA7XG4gICAgICB2YXIgbWF4UG9zID0gdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgICB2YXIgYm91bmRQb3MgPSBNYXRoLm1pbihNYXRoLm1heChjdXJzb3JQb3MsIG1pblBvcyksIG1heFBvcyk7XG5cbiAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX0xFRlQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaXNDb21wbGV0ZSA/IGJvdW5kUG9zIDogbWluUG9zO1xuXG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICBjYXNlIERJUkVDVElPTi5GT1JDRV9SSUdIVDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5pc0NvbXBsZXRlID8gYm91bmRQb3MgOiBtYXhQb3M7XG5cbiAgICAgICAgY2FzZSBESVJFQ1RJT04uTk9ORTpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gYm91bmRQb3M7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRvVmFsaWRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG9WYWxpZGF0ZSgpIHtcbiAgICAgIHZhciBfdGhpcyRtYXNrZWQ0LCBfdGhpcyRwYXJlbnQ7XG5cbiAgICAgIHJldHVybiAoX3RoaXMkbWFza2VkNCA9IHRoaXMubWFza2VkKS5kb1ZhbGlkYXRlLmFwcGx5KF90aGlzJG1hc2tlZDQsIGFyZ3VtZW50cykgJiYgKCF0aGlzLnBhcmVudCB8fCAoX3RoaXMkcGFyZW50ID0gdGhpcy5wYXJlbnQpLmRvVmFsaWRhdGUuYXBwbHkoX3RoaXMkcGFyZW50LCBhcmd1bWVudHMpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZG9Db21taXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG9Db21taXQoKSB7XG4gICAgICB0aGlzLm1hc2tlZC5kb0NvbW1pdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdGF0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWFza2VkOiB0aGlzLm1hc2tlZC5zdGF0ZSxcbiAgICAgICAgaXNGaWxsZWQ6IHRoaXMuaXNGaWxsZWRcbiAgICAgIH07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdGF0ZSkge1xuICAgICAgdGhpcy5tYXNrZWQuc3RhdGUgPSBzdGF0ZS5tYXNrZWQ7XG4gICAgICB0aGlzLmlzRmlsbGVkID0gc3RhdGUuaXNGaWxsZWQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBhdHRlcm5JbnB1dERlZmluaXRpb247XG59KCk7XG5cbmV4cG9ydCB7IERFRkFVTFRfSU5QVVRfREVGSU5JVElPTlMsIFBhdHRlcm5JbnB1dERlZmluaXRpb24gYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IGNyZWF0ZU1hc2sgZnJvbSAnLi9mYWN0b3J5LmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0ICcuLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTY3YmJhN2ZiLmpzJztcbmltcG9ydCAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5cbi8qKiBNYXNrIHBpcGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyAqL1xuXG52YXIgUElQRV9UWVBFID0ge1xuICBNQVNLRUQ6ICd2YWx1ZScsXG4gIFVOTUFTS0VEOiAndW5tYXNrZWRWYWx1ZScsXG4gIFRZUEVEOiAndHlwZWRWYWx1ZSdcbn07XG4vKiogQ3JlYXRlcyBuZXcgcGlwZSBmdW5jdGlvbiBkZXBlbmRpbmcgb24gbWFzayB0eXBlLCBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIG9wdGlvbnMgKi9cblxuZnVuY3Rpb24gY3JlYXRlUGlwZShtYXNrKSB7XG4gIHZhciBmcm9tID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBQSVBFX1RZUEUuTUFTS0VEO1xuICB2YXIgdG8gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFBJUEVfVFlQRS5NQVNLRUQ7XG4gIHZhciBtYXNrZWQgPSBjcmVhdGVNYXNrKG1hc2spO1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIG1hc2tlZC5ydW5Jc29sYXRlZChmdW5jdGlvbiAobSkge1xuICAgICAgbVtmcm9tXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIG1bdG9dO1xuICAgIH0pO1xuICB9O1xufVxuLyoqIFBpcGVzIHZhbHVlIHRocm91Z2ggbWFzayBkZXBlbmRpbmcgb24gbWFzayB0eXBlLCBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIG9wdGlvbnMgKi9cblxuZnVuY3Rpb24gcGlwZSh2YWx1ZSkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGlwZUFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHBpcGVBcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVQaXBlLmFwcGx5KHZvaWQgMCwgcGlwZUFyZ3MpKHZhbHVlKTtcbn1cbklNYXNrLlBJUEVfVFlQRSA9IFBJUEVfVFlQRTtcbklNYXNrLmNyZWF0ZVBpcGUgPSBjcmVhdGVQaXBlO1xuSU1hc2sucGlwZSA9IHBpcGU7XG5cbmV4cG9ydCB7IFBJUEVfVFlQRSwgY3JlYXRlUGlwZSwgcGlwZSB9O1xuIiwiaW1wb3J0IHsgZCBhcyBfaW5oZXJpdHMsIGUgYXMgX2NyZWF0ZVN1cGVyLCBfIGFzIF9jcmVhdGVDbGFzcywgYSBhcyBfY2xhc3NDYWxsQ2hlY2ssIGcgYXMgX2dldCwgaCBhcyBfZ2V0UHJvdG90eXBlT2YsIGYgYXMgX3NsaWNlZFRvQXJyYXkgfSBmcm9tICcuLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTY3YmJhN2ZiLmpzJztcbmltcG9ydCBNYXNrZWRQYXR0ZXJuIGZyb20gJy4vcGF0dGVybi5qcyc7XG5pbXBvcnQgeyBub3JtYWxpemVQcmVwYXJlIH0gZnJvbSAnLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9iYXNlLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9pbnB1dC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCAnLi9mYWN0b3J5LmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2ZpeGVkLWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vY2h1bmstdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2N1cnNvci5qcyc7XG5pbXBvcnQgJy4vcmVnZXhwLmpzJztcblxuLyoqIFBhdHRlcm4gd2hpY2ggYWNjZXB0cyByYW5nZXMgKi9cblxudmFyIE1hc2tlZFJhbmdlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTWFza2VkUGF0dGVybikge1xuICBfaW5oZXJpdHMoTWFza2VkUmFuZ2UsIF9NYXNrZWRQYXR0ZXJuKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE1hc2tlZFJhbmdlKTtcblxuICBmdW5jdGlvbiBNYXNrZWRSYW5nZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2VkUmFuZ2UpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1hc2tlZFJhbmdlLCBbe1xuICAgIGtleTogXCJfbWF0Y2hGcm9tXCIsXG4gICAgZ2V0OlxuICAgIC8qKlxuICAgICAgT3B0aW9uYWxseSBzZXRzIG1heCBsZW5ndGggb2YgcGF0dGVybi5cbiAgICAgIFVzZWQgd2hlbiBwYXR0ZXJuIGxlbmd0aCBpcyBsb25nZXIgdGhlbiBgdG9gIHBhcmFtIGxlbmd0aC4gUGFkcyB6ZXJvcyBhdCBzdGFydCBpbiB0aGlzIGNhc2UuXG4gICAgKi9cblxuICAgIC8qKiBNaW4gYm91bmQgKi9cblxuICAgIC8qKiBNYXggYm91bmQgKi9cblxuICAgIC8qKiAqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1heExlbmd0aCAtIFN0cmluZyh0aGlzLmZyb20pLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlKG9wdHMpIHtcbiAgICAgIC8vIFRPRE8gdHlwZVxuICAgICAgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICB0bzogdGhpcy50byB8fCAwLFxuICAgICAgICBmcm9tOiB0aGlzLmZyb20gfHwgMCxcbiAgICAgICAgbWF4TGVuZ3RoOiB0aGlzLm1heExlbmd0aCB8fCAwXG4gICAgICB9LCBvcHRzKTtcbiAgICAgIHZhciBtYXhMZW5ndGggPSBTdHJpbmcob3B0cy50bykubGVuZ3RoO1xuICAgICAgaWYgKG9wdHMubWF4TGVuZ3RoICE9IG51bGwpIG1heExlbmd0aCA9IE1hdGgubWF4KG1heExlbmd0aCwgb3B0cy5tYXhMZW5ndGgpO1xuICAgICAgb3B0cy5tYXhMZW5ndGggPSBtYXhMZW5ndGg7XG4gICAgICB2YXIgZnJvbVN0ciA9IFN0cmluZyhvcHRzLmZyb20pLnBhZFN0YXJ0KG1heExlbmd0aCwgJzAnKTtcbiAgICAgIHZhciB0b1N0ciA9IFN0cmluZyhvcHRzLnRvKS5wYWRTdGFydChtYXhMZW5ndGgsICcwJyk7XG4gICAgICB2YXIgc2FtZUNoYXJzQ291bnQgPSAwO1xuXG4gICAgICB3aGlsZSAoc2FtZUNoYXJzQ291bnQgPCB0b1N0ci5sZW5ndGggJiYgdG9TdHJbc2FtZUNoYXJzQ291bnRdID09PSBmcm9tU3RyW3NhbWVDaGFyc0NvdW50XSkge1xuICAgICAgICArK3NhbWVDaGFyc0NvdW50O1xuICAgICAgfVxuXG4gICAgICBvcHRzLm1hc2sgPSB0b1N0ci5zbGljZSgwLCBzYW1lQ2hhcnNDb3VudCkucmVwbGFjZSgvMC9nLCAnXFxcXDAnKSArICcwJy5yZXBlYXQobWF4TGVuZ3RoIC0gc2FtZUNoYXJzQ291bnQpO1xuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRSYW5nZS5wcm90b3R5cGUpLCBcIl91cGRhdGVcIiwgdGhpcykuY2FsbCh0aGlzLCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNDb21wbGV0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9nZXQoX2dldFByb3RvdHlwZU9mKE1hc2tlZFJhbmdlLnByb3RvdHlwZSksIFwiaXNDb21wbGV0ZVwiLCB0aGlzKSAmJiBCb29sZWFuKHRoaXMudmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJib3VuZGFyaWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJvdW5kYXJpZXMoc3RyKSB7XG4gICAgICB2YXIgbWluc3RyID0gJyc7XG4gICAgICB2YXIgbWF4c3RyID0gJyc7XG5cbiAgICAgIHZhciBfcmVmID0gc3RyLm1hdGNoKC9eKFxcRCopKFxcZCopKFxcRCopLykgfHwgW10sXG4gICAgICAgICAgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAzKSxcbiAgICAgICAgICBwbGFjZWhvbGRlciA9IF9yZWYyWzFdLFxuICAgICAgICAgIG51bSA9IF9yZWYyWzJdO1xuXG4gICAgICBpZiAobnVtKSB7XG4gICAgICAgIG1pbnN0ciA9ICcwJy5yZXBlYXQocGxhY2Vob2xkZXIubGVuZ3RoKSArIG51bTtcbiAgICAgICAgbWF4c3RyID0gJzknLnJlcGVhdChwbGFjZWhvbGRlci5sZW5ndGgpICsgbnVtO1xuICAgICAgfVxuXG4gICAgICBtaW5zdHIgPSBtaW5zdHIucGFkRW5kKHRoaXMubWF4TGVuZ3RoLCAnMCcpO1xuICAgICAgbWF4c3RyID0gbWF4c3RyLnBhZEVuZCh0aGlzLm1heExlbmd0aCwgJzknKTtcbiAgICAgIHJldHVybiBbbWluc3RyLCBtYXhzdHJdO1xuICAgIH0gLy8gVE9ETyBzdHIgaXMgYSBzaW5nbGUgY2hhciBldmVyeXRpbWVcblxuICAgIC8qKlxuICAgICAgQG92ZXJyaWRlXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRvUHJlcGFyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb1ByZXBhcmUoY2gpIHtcbiAgICAgIHZhciBmbGFncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgZGV0YWlscztcblxuICAgICAgdmFyIF9ub3JtYWxpemVQcmVwYXJlID0gbm9ybWFsaXplUHJlcGFyZShfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRSYW5nZS5wcm90b3R5cGUpLCBcImRvUHJlcGFyZVwiLCB0aGlzKS5jYWxsKHRoaXMsIGNoLnJlcGxhY2UoL1xcRC9nLCAnJyksIGZsYWdzKSk7XG5cbiAgICAgIHZhciBfbm9ybWFsaXplUHJlcGFyZTIgPSBfc2xpY2VkVG9BcnJheShfbm9ybWFsaXplUHJlcGFyZSwgMik7XG5cbiAgICAgIGNoID0gX25vcm1hbGl6ZVByZXBhcmUyWzBdO1xuICAgICAgZGV0YWlscyA9IF9ub3JtYWxpemVQcmVwYXJlMlsxXTtcbiAgICAgIGlmICghdGhpcy5hdXRvZml4IHx8ICFjaCkgcmV0dXJuIGNoO1xuICAgICAgdmFyIGZyb21TdHIgPSBTdHJpbmcodGhpcy5mcm9tKS5wYWRTdGFydCh0aGlzLm1heExlbmd0aCwgJzAnKTtcbiAgICAgIHZhciB0b1N0ciA9IFN0cmluZyh0aGlzLnRvKS5wYWRTdGFydCh0aGlzLm1heExlbmd0aCwgJzAnKTtcbiAgICAgIHZhciBuZXh0VmFsID0gdGhpcy52YWx1ZSArIGNoO1xuICAgICAgaWYgKG5leHRWYWwubGVuZ3RoID4gdGhpcy5tYXhMZW5ndGgpIHJldHVybiAnJztcblxuICAgICAgdmFyIF90aGlzJGJvdW5kYXJpZXMgPSB0aGlzLmJvdW5kYXJpZXMobmV4dFZhbCksXG4gICAgICAgICAgX3RoaXMkYm91bmRhcmllczIgPSBfc2xpY2VkVG9BcnJheShfdGhpcyRib3VuZGFyaWVzLCAyKSxcbiAgICAgICAgICBtaW5zdHIgPSBfdGhpcyRib3VuZGFyaWVzMlswXSxcbiAgICAgICAgICBtYXhzdHIgPSBfdGhpcyRib3VuZGFyaWVzMlsxXTtcblxuICAgICAgaWYgKE51bWJlcihtYXhzdHIpIDwgdGhpcy5mcm9tKSByZXR1cm4gZnJvbVN0cltuZXh0VmFsLmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAoTnVtYmVyKG1pbnN0cikgPiB0aGlzLnRvKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9maXggPT09ICdwYWQnICYmIG5leHRWYWwubGVuZ3RoIDwgdGhpcy5tYXhMZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gWycnLCBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLmFwcGVuZChmcm9tU3RyW25leHRWYWwubGVuZ3RoIC0gMV0gKyBjaCwgZmxhZ3MpKV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9TdHJbbmV4dFZhbC5sZW5ndGggLSAxXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoO1xuICAgIH1cbiAgICAvKipcbiAgICAgIEBvdmVycmlkZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkb1ZhbGlkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvVmFsaWRhdGUoKSB7XG4gICAgICB2YXIgX2dldDI7XG5cbiAgICAgIHZhciBzdHIgPSB0aGlzLnZhbHVlO1xuICAgICAgdmFyIGZpcnN0Tm9uWmVybyA9IHN0ci5zZWFyY2goL1teMF0vKTtcbiAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IC0xICYmIHN0ci5sZW5ndGggPD0gdGhpcy5fbWF0Y2hGcm9tKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgdmFyIF90aGlzJGJvdW5kYXJpZXMzID0gdGhpcy5ib3VuZGFyaWVzKHN0ciksXG4gICAgICAgICAgX3RoaXMkYm91bmRhcmllczQgPSBfc2xpY2VkVG9BcnJheShfdGhpcyRib3VuZGFyaWVzMywgMiksXG4gICAgICAgICAgbWluc3RyID0gX3RoaXMkYm91bmRhcmllczRbMF0sXG4gICAgICAgICAgbWF4c3RyID0gX3RoaXMkYm91bmRhcmllczRbMV07XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5mcm9tIDw9IE51bWJlcihtYXhzdHIpICYmIE51bWJlcihtaW5zdHIpIDw9IHRoaXMudG8gJiYgKF9nZXQyID0gX2dldChfZ2V0UHJvdG90eXBlT2YoTWFza2VkUmFuZ2UucHJvdG90eXBlKSwgXCJkb1ZhbGlkYXRlXCIsIHRoaXMpKS5jYWxsLmFwcGx5KF9nZXQyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWFza2VkUmFuZ2U7XG59KE1hc2tlZFBhdHRlcm4pO1xuSU1hc2suTWFza2VkUmFuZ2UgPSBNYXNrZWRSYW5nZTtcblxuZXhwb3J0IHsgTWFza2VkUmFuZ2UgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgZCBhcyBfaW5oZXJpdHMsIGUgYXMgX2NyZWF0ZVN1cGVyLCBfIGFzIF9jcmVhdGVDbGFzcywgYSBhcyBfY2xhc3NDYWxsQ2hlY2ssIGcgYXMgX2dldCwgaCBhcyBfZ2V0UHJvdG90eXBlT2YgfSBmcm9tICcuLi9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLTY3YmJhN2ZiLmpzJztcbmltcG9ydCBNYXNrZWQgZnJvbSAnLi9iYXNlLmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NvbnRpbnVvdXMtdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi4vY29yZS91dGlscy5qcyc7XG5cbi8qKiBNYXNraW5nIGJ5IFJlZ0V4cCAqL1xuXG52YXIgTWFza2VkUmVnRXhwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTWFza2VkKSB7XG4gIF9pbmhlcml0cyhNYXNrZWRSZWdFeHAsIF9NYXNrZWQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTWFza2VkUmVnRXhwKTtcblxuICBmdW5jdGlvbiBNYXNrZWRSZWdFeHAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tlZFJlZ0V4cCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWFza2VkUmVnRXhwLCBbe1xuICAgIGtleTogXCJfdXBkYXRlXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICBAb3ZlcnJpZGVcbiAgICAgIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICAgKi9cbiAgICBmdW5jdGlvbiBfdXBkYXRlKG9wdHMpIHtcbiAgICAgIGlmIChvcHRzLm1hc2spIG9wdHMudmFsaWRhdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnNlYXJjaChvcHRzLm1hc2spID49IDA7XG4gICAgICB9O1xuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihNYXNrZWRSZWdFeHAucHJvdG90eXBlKSwgXCJfdXBkYXRlXCIsIHRoaXMpLmNhbGwodGhpcywgb3B0cyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1hc2tlZFJlZ0V4cDtcbn0oTWFza2VkKTtcbklNYXNrLk1hc2tlZFJlZ0V4cCA9IE1hc2tlZFJlZ0V4cDtcblxuZXhwb3J0IHsgTWFza2VkUmVnRXhwIGFzIGRlZmF1bHQgfTtcbiIsIi8qKlxuICogRG9tNyA0LjAuNlxuICogTWluaW1hbGlzdGljIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgRE9NIG1hbmlwdWxhdGlvbiwgd2l0aCBhIGpRdWVyeS1jb21wYXRpYmxlIEFQSVxuICogaHR0cHM6Ly9mcmFtZXdvcms3LmlvL2RvY3MvZG9tNy5odG1sXG4gKlxuICogQ29weXJpZ2h0IDIwMjMsIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgTUlUXG4gKlxuICogUmVsZWFzZWQgb246IEZlYnJ1YXJ5IDIsIDIwMjNcbiAqL1xuaW1wb3J0IHsgZ2V0V2luZG93LCBnZXREb2N1bWVudCB9IGZyb20gJ3Nzci13aW5kb3cnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuZnVuY3Rpb24gbWFrZVJlYWN0aXZlKG9iaikge1xuICBjb25zdCBwcm90byA9IG9iai5fX3Byb3RvX187XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICdfX3Byb3RvX18nLCB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHByb3RvO1xuICAgIH0sXG5cbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHByb3RvLl9fcHJvdG9fXyA9IHZhbHVlO1xuICAgIH1cblxuICB9KTtcbn1cblxuY2xhc3MgRG9tNyBleHRlbmRzIEFycmF5IHtcbiAgY29uc3RydWN0b3IoaXRlbXMpIHtcbiAgICBpZiAodHlwZW9mIGl0ZW1zID09PSAnbnVtYmVyJykge1xuICAgICAgc3VwZXIoaXRlbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXBlciguLi4oaXRlbXMgfHwgW10pKTtcbiAgICAgIG1ha2VSZWFjdGl2ZSh0aGlzKTtcbiAgICB9XG4gIH1cblxufVxuXG5mdW5jdGlvbiBhcnJheUZsYXQoYXJyID0gW10pIHtcbiAgY29uc3QgcmVzID0gW107XG4gIGFyci5mb3JFYWNoKGVsID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlbCkpIHtcbiAgICAgIHJlcy5wdXNoKC4uLmFycmF5RmxhdChlbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMucHVzaChlbCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGFycmF5RmlsdGVyKGFyciwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhcnIsIGNhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGFycmF5VW5pcXVlKGFycikge1xuICBjb25zdCB1bmlxdWVBcnJheSA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHVuaXF1ZUFycmF5LmluZGV4T2YoYXJyW2ldKSA9PT0gLTEpIHVuaXF1ZUFycmF5LnB1c2goYXJyW2ldKTtcbiAgfVxuXG4gIHJldHVybiB1bmlxdWVBcnJheTtcbn1cbmZ1bmN0aW9uIHRvQ2FtZWxDYXNlKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvLSguKS9nLCAobWF0Y2gsIGdyb3VwKSA9PiBncm91cC50b1VwcGVyQ2FzZSgpKTtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbmZ1bmN0aW9uIHFzYShzZWxlY3RvciwgY29udGV4dCkge1xuICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBbc2VsZWN0b3JdO1xuICB9XG5cbiAgY29uc3QgYSA9IFtdO1xuICBjb25zdCByZXMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgYS5wdXNoKHJlc1tpXSk7XG4gIH1cblxuICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gJChzZWxlY3RvciwgY29udGV4dCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBsZXQgYXJyID0gW107XG5cbiAgaWYgKCFjb250ZXh0ICYmIHNlbGVjdG9yIGluc3RhbmNlb2YgRG9tNykge1xuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfVxuXG4gIGlmICghc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IERvbTcoYXJyKTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgaHRtbCA9IHNlbGVjdG9yLnRyaW0oKTtcblxuICAgIGlmIChodG1sLmluZGV4T2YoJzwnKSA+PSAwICYmIGh0bWwuaW5kZXhPZignPicpID49IDApIHtcbiAgICAgIGxldCB0b0NyZWF0ZSA9ICdkaXYnO1xuICAgICAgaWYgKGh0bWwuaW5kZXhPZignPGxpJykgPT09IDApIHRvQ3JlYXRlID0gJ3VsJztcbiAgICAgIGlmIChodG1sLmluZGV4T2YoJzx0cicpID09PSAwKSB0b0NyZWF0ZSA9ICd0Ym9keSc7XG4gICAgICBpZiAoaHRtbC5pbmRleE9mKCc8dGQnKSA9PT0gMCB8fCBodG1sLmluZGV4T2YoJzx0aCcpID09PSAwKSB0b0NyZWF0ZSA9ICd0cic7XG4gICAgICBpZiAoaHRtbC5pbmRleE9mKCc8dGJvZHknKSA9PT0gMCkgdG9DcmVhdGUgPSAndGFibGUnO1xuICAgICAgaWYgKGh0bWwuaW5kZXhPZignPG9wdGlvbicpID09PSAwKSB0b0NyZWF0ZSA9ICdzZWxlY3QnO1xuICAgICAgY29uc3QgdGVtcFBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodG9DcmVhdGUpO1xuICAgICAgdGVtcFBhcmVudC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlbXBQYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnIucHVzaCh0ZW1wUGFyZW50LmNoaWxkTm9kZXNbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhcnIgPSBxc2Eoc2VsZWN0b3IudHJpbSgpLCBjb250ZXh0IHx8IGRvY3VtZW50KTtcbiAgICB9IC8vIGFyciA9IHFzYShzZWxlY3RvciwgZG9jdW1lbnQpO1xuXG4gIH0gZWxzZSBpZiAoc2VsZWN0b3Iubm9kZVR5cGUgfHwgc2VsZWN0b3IgPT09IHdpbmRvdyB8fCBzZWxlY3RvciA9PT0gZG9jdW1lbnQpIHtcbiAgICBhcnIucHVzaChzZWxlY3Rvcik7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzZWxlY3RvcikpIHtcbiAgICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBEb203KSByZXR1cm4gc2VsZWN0b3I7XG4gICAgYXJyID0gc2VsZWN0b3I7XG4gIH1cblxuICByZXR1cm4gbmV3IERvbTcoYXJyYXlVbmlxdWUoYXJyKSk7XG59XG5cbiQuZm4gPSBEb203LnByb3RvdHlwZTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbmZ1bmN0aW9uIGFkZENsYXNzKC4uLmNsYXNzZXMpIHtcbiAgY29uc3QgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChjID0+IGMuc3BsaXQoJyAnKSkpO1xuICB0aGlzLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lcyk7XG4gIH0pO1xuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoLi4uY2xhc3Nlcykge1xuICBjb25zdCBjbGFzc05hbWVzID0gYXJyYXlGbGF0KGNsYXNzZXMubWFwKGMgPT4gYy5zcGxpdCgnICcpKSk7XG4gIHRoaXMuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc05hbWVzKTtcbiAgfSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVDbGFzcyguLi5jbGFzc2VzKSB7XG4gIGNvbnN0IGNsYXNzTmFtZXMgPSBhcnJheUZsYXQoY2xhc3Nlcy5tYXAoYyA9PiBjLnNwbGl0KCcgJykpKTtcbiAgdGhpcy5mb3JFYWNoKGVsID0+IHtcbiAgICBjbGFzc05hbWVzLmZvckVhY2goY2xhc3NOYW1lID0+IHtcbiAgICAgIGVsLmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhc0NsYXNzKC4uLmNsYXNzZXMpIHtcbiAgY29uc3QgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChjID0+IGMuc3BsaXQoJyAnKSkpO1xuICByZXR1cm4gYXJyYXlGaWx0ZXIodGhpcywgZWwgPT4ge1xuICAgIHJldHVybiBjbGFzc05hbWVzLmZpbHRlcihjbGFzc05hbWUgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpLmxlbmd0aCA+IDA7XG4gIH0pLmxlbmd0aCA+IDA7XG59XG5cbmZ1bmN0aW9uIGF0dHIoYXR0cnMsIHZhbHVlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhdHRycyA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBHZXQgYXR0clxuICAgIGlmICh0aGlzWzBdKSByZXR1cm4gdGhpc1swXS5nZXRBdHRyaWJ1dGUoYXR0cnMpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gLy8gU2V0IGF0dHJzXG5cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8gU3RyaW5nXG4gICAgICB0aGlzW2ldLnNldEF0dHJpYnV0ZShhdHRycywgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPYmplY3RcbiAgICAgIGZvciAoY29uc3QgYXR0ck5hbWUgaW4gYXR0cnMpIHtcbiAgICAgICAgdGhpc1tpXVthdHRyTmFtZV0gPSBhdHRyc1thdHRyTmFtZV07XG4gICAgICAgIHRoaXNbaV0uc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyc1thdHRyTmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBdHRyKGF0dHIpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhpc1tpXS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcHJvcChwcm9wcywgdmFsdWUpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIHByb3BzID09PSAnc3RyaW5nJykge1xuICAgIC8vIEdldCBwcm9wXG4gICAgaWYgKHRoaXNbMF0pIHJldHVybiB0aGlzWzBdW3Byb3BzXTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTZXQgcHJvcHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIC8vIFN0cmluZ1xuICAgICAgICB0aGlzW2ldW3Byb3BzXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT2JqZWN0XG4gICAgICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gcHJvcHMpIHtcbiAgICAgICAgICB0aGlzW2ldW3Byb3BOYW1lXSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGRhdGEoa2V5LCB2YWx1ZSkge1xuICBsZXQgZWw7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbCA9IHRoaXNbMF07XG4gICAgaWYgKCFlbCkgcmV0dXJuIHVuZGVmaW5lZDsgLy8gR2V0IHZhbHVlXG5cbiAgICBpZiAoZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSAmJiBrZXkgaW4gZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSkge1xuICAgICAgcmV0dXJuIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2Vba2V5XTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhS2V5ID0gZWwuZ2V0QXR0cmlidXRlKGBkYXRhLSR7a2V5fWApO1xuXG4gICAgaWYgKGRhdGFLZXkpIHtcbiAgICAgIHJldHVybiBkYXRhS2V5O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gLy8gU2V0IHZhbHVlXG5cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBlbCA9IHRoaXNbaV07XG4gICAgaWYgKCFlbC5kb203RWxlbWVudERhdGFTdG9yYWdlKSBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlID0ge307XG4gICAgZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRGF0YShrZXkpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzW2ldO1xuXG4gICAgaWYgKGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UgJiYgZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtrZXldKSB7XG4gICAgICBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV0gPSBudWxsO1xuICAgICAgZGVsZXRlIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2Vba2V5XTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGF0YXNldCgpIHtcbiAgY29uc3QgZWwgPSB0aGlzWzBdO1xuICBpZiAoIWVsKSByZXR1cm4gdW5kZWZpbmVkO1xuICBjb25zdCBkYXRhc2V0ID0ge307IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICBpZiAoZWwuZGF0YXNldCkge1xuICAgIGZvciAoY29uc3QgZGF0YUtleSBpbiBlbC5kYXRhc2V0KSB7XG4gICAgICBkYXRhc2V0W2RhdGFLZXldID0gZWwuZGF0YXNldFtkYXRhS2V5XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBhdHRyID0gZWwuYXR0cmlidXRlc1tpXTtcblxuICAgICAgaWYgKGF0dHIubmFtZS5pbmRleE9mKCdkYXRhLScpID49IDApIHtcbiAgICAgICAgZGF0YXNldFt0b0NhbWVsQ2FzZShhdHRyLm5hbWUuc3BsaXQoJ2RhdGEtJylbMV0pXSA9IGF0dHIudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gZGF0YXNldCkge1xuICAgIGlmIChkYXRhc2V0W2tleV0gPT09ICdmYWxzZScpIGRhdGFzZXRba2V5XSA9IGZhbHNlO2Vsc2UgaWYgKGRhdGFzZXRba2V5XSA9PT0gJ3RydWUnKSBkYXRhc2V0W2tleV0gPSB0cnVlO2Vsc2UgaWYgKHBhcnNlRmxvYXQoZGF0YXNldFtrZXldKSA9PT0gZGF0YXNldFtrZXldICogMSkgZGF0YXNldFtrZXldICo9IDE7XG4gIH1cblxuICByZXR1cm4gZGF0YXNldDtcbn1cblxuZnVuY3Rpb24gdmFsKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gZ2V0IHZhbHVlXG4gICAgY29uc3QgZWwgPSB0aGlzWzBdO1xuICAgIGlmICghZWwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZWwubXVsdGlwbGUgJiYgZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsLnNlbGVjdGVkT3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YWx1ZXMucHVzaChlbC5zZWxlY3RlZE9wdGlvbnNbaV0udmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHJldHVybiBlbC52YWx1ZTtcbiAgfSAvLyBzZXQgdmFsdWVcblxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGVsID0gdGhpc1tpXTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiBlbC5tdWx0aXBsZSAmJiBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2VsZWN0Jykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbC5vcHRpb25zLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGVsLm9wdGlvbnNbal0uc2VsZWN0ZWQgPSB2YWx1ZS5pbmRleE9mKGVsLm9wdGlvbnNbal0udmFsdWUpID49IDA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHZhbHVlKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLnZhbCh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhpc1tpXS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbihkdXJhdGlvbikge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzW2ldLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHR5cGVvZiBkdXJhdGlvbiAhPT0gJ3N0cmluZycgPyBgJHtkdXJhdGlvbn1tc2AgOiBkdXJhdGlvbjtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBvbiguLi5hcmdzKSB7XG4gIGxldCBbZXZlbnRUeXBlLCB0YXJnZXRTZWxlY3RvciwgbGlzdGVuZXIsIGNhcHR1cmVdID0gYXJncztcblxuICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBbZXZlbnRUeXBlLCBsaXN0ZW5lciwgY2FwdHVyZV0gPSBhcmdzO1xuICAgIHRhcmdldFNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKCFjYXB0dXJlKSBjYXB0dXJlID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gaGFuZGxlTGl2ZUV2ZW50KGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuO1xuICAgIGNvbnN0IGV2ZW50RGF0YSA9IGUudGFyZ2V0LmRvbTdFdmVudERhdGEgfHwgW107XG5cbiAgICBpZiAoZXZlbnREYXRhLmluZGV4T2YoZSkgPCAwKSB7XG4gICAgICBldmVudERhdGEudW5zaGlmdChlKTtcbiAgICB9XG5cbiAgICBpZiAoJCh0YXJnZXQpLmlzKHRhcmdldFNlbGVjdG9yKSkgbGlzdGVuZXIuYXBwbHkodGFyZ2V0LCBldmVudERhdGEpO2Vsc2Uge1xuICAgICAgY29uc3QgcGFyZW50cyA9ICQodGFyZ2V0KS5wYXJlbnRzKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBwYXJlbnRzLmxlbmd0aDsgayArPSAxKSB7XG4gICAgICAgIGlmICgkKHBhcmVudHNba10pLmlzKHRhcmdldFNlbGVjdG9yKSkgbGlzdGVuZXIuYXBwbHkocGFyZW50c1trXSwgZXZlbnREYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFdmVudChlKSB7XG4gICAgY29uc3QgZXZlbnREYXRhID0gZSAmJiBlLnRhcmdldCA/IGUudGFyZ2V0LmRvbTdFdmVudERhdGEgfHwgW10gOiBbXTtcblxuICAgIGlmIChldmVudERhdGEuaW5kZXhPZihlKSA8IDApIHtcbiAgICAgIGV2ZW50RGF0YS51bnNoaWZ0KGUpO1xuICAgIH1cblxuICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGV2ZW50RGF0YSk7XG4gIH1cblxuICBjb25zdCBldmVudHMgPSBldmVudFR5cGUuc3BsaXQoJyAnKTtcbiAgbGV0IGo7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzW2ldO1xuXG4gICAgaWYgKCF0YXJnZXRTZWxlY3Rvcikge1xuICAgICAgZm9yIChqID0gMDsgaiA8IGV2ZW50cy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1tqXTtcbiAgICAgICAgaWYgKCFlbC5kb203TGlzdGVuZXJzKSBlbC5kb203TGlzdGVuZXJzID0ge307XG4gICAgICAgIGlmICghZWwuZG9tN0xpc3RlbmVyc1tldmVudF0pIGVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdID0gW107XG4gICAgICAgIGVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdLnB1c2goe1xuICAgICAgICAgIGxpc3RlbmVyLFxuICAgICAgICAgIHByb3h5TGlzdGVuZXI6IGhhbmRsZUV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVFdmVudCwgY2FwdHVyZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExpdmUgZXZlbnRzXG4gICAgICBmb3IgKGogPSAwOyBqIDwgZXZlbnRzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzW2pdO1xuICAgICAgICBpZiAoIWVsLmRvbTdMaXZlTGlzdGVuZXJzKSBlbC5kb203TGl2ZUxpc3RlbmVycyA9IHt9O1xuICAgICAgICBpZiAoIWVsLmRvbTdMaXZlTGlzdGVuZXJzW2V2ZW50XSkgZWwuZG9tN0xpdmVMaXN0ZW5lcnNbZXZlbnRdID0gW107XG4gICAgICAgIGVsLmRvbTdMaXZlTGlzdGVuZXJzW2V2ZW50XS5wdXNoKHtcbiAgICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgICBwcm94eUxpc3RlbmVyOiBoYW5kbGVMaXZlRXZlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZUxpdmVFdmVudCwgY2FwdHVyZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIG9mZiguLi5hcmdzKSB7XG4gIGxldCBbZXZlbnRUeXBlLCB0YXJnZXRTZWxlY3RvciwgbGlzdGVuZXIsIGNhcHR1cmVdID0gYXJncztcblxuICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBbZXZlbnRUeXBlLCBsaXN0ZW5lciwgY2FwdHVyZV0gPSBhcmdzO1xuICAgIHRhcmdldFNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKCFjYXB0dXJlKSBjYXB0dXJlID0gZmFsc2U7XG4gIGNvbnN0IGV2ZW50cyA9IGV2ZW50VHlwZS5zcGxpdCgnICcpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIGNvbnN0IGVsID0gdGhpc1tqXTtcbiAgICAgIGxldCBoYW5kbGVycztcblxuICAgICAgaWYgKCF0YXJnZXRTZWxlY3RvciAmJiBlbC5kb203TGlzdGVuZXJzKSB7XG4gICAgICAgIGhhbmRsZXJzID0gZWwuZG9tN0xpc3RlbmVyc1tldmVudF07XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldFNlbGVjdG9yICYmIGVsLmRvbTdMaXZlTGlzdGVuZXJzKSB7XG4gICAgICAgIGhhbmRsZXJzID0gZWwuZG9tN0xpdmVMaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFuZGxlcnMgJiYgaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGsgPSBoYW5kbGVycy5sZW5ndGggLSAxOyBrID49IDA7IGsgLT0gMSkge1xuICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1trXTtcblxuICAgICAgICAgIGlmIChsaXN0ZW5lciAmJiBoYW5kbGVyLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlci5wcm94eUxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShrLCAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RlbmVyICYmIGhhbmRsZXIubGlzdGVuZXIgJiYgaGFuZGxlci5saXN0ZW5lci5kb203cHJveHkgJiYgaGFuZGxlci5saXN0ZW5lci5kb203cHJveHkgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLnByb3h5TGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGssIDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLnByb3h5TGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGssIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBvbmNlKC4uLmFyZ3MpIHtcbiAgY29uc3QgZG9tID0gdGhpcztcbiAgbGV0IFtldmVudE5hbWUsIHRhcmdldFNlbGVjdG9yLCBsaXN0ZW5lciwgY2FwdHVyZV0gPSBhcmdzO1xuXG4gIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFtldmVudE5hbWUsIGxpc3RlbmVyLCBjYXB0dXJlXSA9IGFyZ3M7XG4gICAgdGFyZ2V0U2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBvbmNlSGFuZGxlciguLi5ldmVudEFyZ3MpIHtcbiAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBldmVudEFyZ3MpO1xuICAgIGRvbS5vZmYoZXZlbnROYW1lLCB0YXJnZXRTZWxlY3Rvciwgb25jZUhhbmRsZXIsIGNhcHR1cmUpO1xuXG4gICAgaWYgKG9uY2VIYW5kbGVyLmRvbTdwcm94eSkge1xuICAgICAgZGVsZXRlIG9uY2VIYW5kbGVyLmRvbTdwcm94eTtcbiAgICB9XG4gIH1cblxuICBvbmNlSGFuZGxlci5kb203cHJveHkgPSBsaXN0ZW5lcjtcbiAgcmV0dXJuIGRvbS5vbihldmVudE5hbWUsIHRhcmdldFNlbGVjdG9yLCBvbmNlSGFuZGxlciwgY2FwdHVyZSk7XG59XG5cbmZ1bmN0aW9uIHRyaWdnZXIoLi4uYXJncykge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZXZlbnRzID0gYXJnc1swXS5zcGxpdCgnICcpO1xuICBjb25zdCBldmVudERhdGEgPSBhcmdzWzFdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIGNvbnN0IGVsID0gdGhpc1tqXTtcblxuICAgICAgaWYgKHdpbmRvdy5DdXN0b21FdmVudCkge1xuICAgICAgICBjb25zdCBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KGV2ZW50LCB7XG4gICAgICAgICAgZGV0YWlsOiBldmVudERhdGEsXG4gICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBlbC5kb203RXZlbnREYXRhID0gYXJncy5maWx0ZXIoKGRhdGEsIGRhdGFJbmRleCkgPT4gZGF0YUluZGV4ID4gMCk7XG4gICAgICAgIGVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgICAgZWwuZG9tN0V2ZW50RGF0YSA9IFtdO1xuICAgICAgICBkZWxldGUgZWwuZG9tN0V2ZW50RGF0YTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvblN0YXJ0KGNhbGxiYWNrKSB7XG4gIGNvbnN0IGRvbSA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gZmlyZUNhbGxCYWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGUpO1xuICAgIGRvbS5vZmYoJ3RyYW5zaXRpb25zdGFydCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cblxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBkb20ub24oJ3RyYW5zaXRpb25zdGFydCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChjYWxsYmFjaykge1xuICBjb25zdCBkb20gPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGZpcmVDYWxsQmFjayhlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzLCBlKTtcbiAgICBkb20ub2ZmKCd0cmFuc2l0aW9uZW5kJywgZmlyZUNhbGxCYWNrKTtcbiAgfVxuXG4gIGlmIChjYWxsYmFjaykge1xuICAgIGRvbS5vbigndHJhbnNpdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gYW5pbWF0aW9uRW5kKGNhbGxiYWNrKSB7XG4gIGNvbnN0IGRvbSA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gZmlyZUNhbGxCYWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGUpO1xuICAgIGRvbS5vZmYoJ2FuaW1hdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cblxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBkb20ub24oJ2FuaW1hdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gd2lkdGgoKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuXG4gIGlmICh0aGlzWzBdID09PSB3aW5kb3cpIHtcbiAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGg7XG4gIH1cblxuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy5jc3MoJ3dpZHRoJykpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG91dGVyV2lkdGgoaW5jbHVkZU1hcmdpbnMpIHtcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIGlmIChpbmNsdWRlTWFyZ2lucykge1xuICAgICAgY29uc3Qgc3R5bGVzID0gdGhpcy5zdHlsZXMoKTtcbiAgICAgIHJldHVybiB0aGlzWzBdLm9mZnNldFdpZHRoICsgcGFyc2VGbG9hdChzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLXJpZ2h0JykpICsgcGFyc2VGbG9hdChzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWxlZnQnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGg7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaGVpZ2h0KCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcblxuICBpZiAodGhpc1swXSA9PT0gd2luZG93KSB7XG4gICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLmNzcygnaGVpZ2h0JykpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG91dGVySGVpZ2h0KGluY2x1ZGVNYXJnaW5zKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoaW5jbHVkZU1hcmdpbnMpIHtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IHRoaXMuc3R5bGVzKCk7XG4gICAgICByZXR1cm4gdGhpc1swXS5vZmZzZXRIZWlnaHQgKyBwYXJzZUZsb2F0KHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tdG9wJykpICsgcGFyc2VGbG9hdChzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWJvdHRvbScpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1swXS5vZmZzZXRIZWlnaHQ7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gb2Zmc2V0KCkge1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGNvbnN0IGVsID0gdGhpc1swXTtcbiAgICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICBjb25zdCBjbGllbnRUb3AgPSBlbC5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMDtcbiAgICBjb25zdCBjbGllbnRMZWZ0ID0gZWwuY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMDtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSBlbCA9PT0gd2luZG93ID8gd2luZG93LnNjcm9sbFkgOiBlbC5zY3JvbGxUb3A7XG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWCA6IGVsLnNjcm9sbExlZnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogYm94LnRvcCArIHNjcm9sbFRvcCAtIGNsaWVudFRvcCxcbiAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgc2Nyb2xsTGVmdCAtIGNsaWVudExlZnRcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGhpZGUoKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBzaG93KCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBlbCA9IHRoaXNbaV07XG5cbiAgICBpZiAoZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXNwbGF5JykgPT09ICdub25lJykge1xuICAgICAgLy8gU3RpbGwgbm90IHZpc2libGVcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBzdHlsZXMoKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBpZiAodGhpc1swXSkgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0sIG51bGwpO1xuICByZXR1cm4ge307XG59XG5cbmZ1bmN0aW9uIGNzcyhwcm9wcywgdmFsdWUpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBpO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIC5jc3MoJ3dpZHRoJylcbiAgICAgIGlmICh0aGlzWzBdKSByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpc1swXSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIC5jc3MoeyB3aWR0aDogJzEwMHB4JyB9KVxuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIGluIHByb3BzKSB7XG4gICAgICAgICAgdGhpc1tpXS5zdHlsZVtwcm9wXSA9IHByb3BzW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyICYmIHR5cGVvZiBwcm9wcyA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyAuY3NzKCd3aWR0aCcsICcxMDBweCcpXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHRoaXNbaV0uc3R5bGVbcHJvcHNdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZWFjaChjYWxsYmFjaykge1xuICBpZiAoIWNhbGxiYWNrKSByZXR1cm4gdGhpcztcbiAgdGhpcy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICBjYWxsYmFjay5hcHBseShlbCwgW2VsLCBpbmRleF0pO1xuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGZpbHRlcihjYWxsYmFjaykge1xuICBjb25zdCByZXN1bHQgPSBhcnJheUZpbHRlcih0aGlzLCBjYWxsYmFjayk7XG4gIHJldHVybiAkKHJlc3VsdCk7XG59XG5cbmZ1bmN0aW9uIGh0bWwoaHRtbCkge1xuICBpZiAodHlwZW9mIGh0bWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLmlubmVySFRNTCA6IG51bGw7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzW2ldLmlubmVySFRNTCA9IGh0bWw7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdGV4dCh0ZXh0KSB7XG4gIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdGhpc1swXSA/IHRoaXNbMF0udGV4dENvbnRlbnQudHJpbSgpIDogbnVsbDtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXNbaV0udGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGlzKHNlbGVjdG9yKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IGVsID0gdGhpc1swXTtcbiAgbGV0IGNvbXBhcmVXaXRoO1xuICBsZXQgaTtcbiAgaWYgKCFlbCB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoZWwubWF0Y2hlcykgcmV0dXJuIGVsLm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgIGlmIChlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IpIHJldHVybiBlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIGlmIChlbC5tc01hdGNoZXNTZWxlY3RvcikgcmV0dXJuIGVsLm1zTWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICBjb21wYXJlV2l0aCA9ICQoc2VsZWN0b3IpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGNvbXBhcmVXaXRoLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoY29tcGFyZVdpdGhbaV0gPT09IGVsKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoc2VsZWN0b3IgPT09IGRvY3VtZW50KSB7XG4gICAgcmV0dXJuIGVsID09PSBkb2N1bWVudDtcbiAgfVxuXG4gIGlmIChzZWxlY3RvciA9PT0gd2luZG93KSB7XG4gICAgcmV0dXJuIGVsID09PSB3aW5kb3c7XG4gIH1cblxuICBpZiAoc2VsZWN0b3Iubm9kZVR5cGUgfHwgc2VsZWN0b3IgaW5zdGFuY2VvZiBEb203KSB7XG4gICAgY29tcGFyZVdpdGggPSBzZWxlY3Rvci5ub2RlVHlwZSA/IFtzZWxlY3Rvcl0gOiBzZWxlY3RvcjtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBjb21wYXJlV2l0aC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKGNvbXBhcmVXaXRoW2ldID09PSBlbCkgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpbmRleCgpIHtcbiAgbGV0IGNoaWxkID0gdGhpc1swXTtcbiAgbGV0IGk7XG5cbiAgaWYgKGNoaWxkKSB7XG4gICAgaSA9IDA7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgd2hpbGUgKChjaGlsZCA9IGNoaWxkLnByZXZpb3VzU2libGluZykgIT09IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgaSArPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBpO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZXEoaW5kZXgpIHtcbiAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzO1xuICBjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aDtcblxuICBpZiAoaW5kZXggPiBsZW5ndGggLSAxKSB7XG4gICAgcmV0dXJuICQoW10pO1xuICB9XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIGNvbnN0IHJldHVybkluZGV4ID0gbGVuZ3RoICsgaW5kZXg7XG4gICAgaWYgKHJldHVybkluZGV4IDwgMCkgcmV0dXJuICQoW10pO1xuICAgIHJldHVybiAkKFt0aGlzW3JldHVybkluZGV4XV0pO1xuICB9XG5cbiAgcmV0dXJuICQoW3RoaXNbaW5kZXhdXSk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZCguLi5lbHMpIHtcbiAgbGV0IG5ld0NoaWxkO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG5cbiAgZm9yIChsZXQgayA9IDA7IGsgPCBlbHMubGVuZ3RoOyBrICs9IDEpIHtcbiAgICBuZXdDaGlsZCA9IGVsc1trXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZW1wRGl2LmlubmVySFRNTCA9IG5ld0NoaWxkO1xuXG4gICAgICAgIHdoaWxlICh0ZW1wRGl2LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICB0aGlzW2ldLmFwcGVuZENoaWxkKHRlbXBEaXYuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobmV3Q2hpbGQgaW5zdGFuY2VvZiBEb203KSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmV3Q2hpbGQubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICB0aGlzW2ldLmFwcGVuZENoaWxkKG5ld0NoaWxkW2pdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpc1tpXS5hcHBlbmRDaGlsZChuZXdDaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFRvKHBhcmVudCkge1xuICAkKHBhcmVudCkuYXBwZW5kKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcHJlcGVuZChuZXdDaGlsZCkge1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGxldCBpO1xuICBsZXQgajtcblxuICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCB0ZW1wRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0ZW1wRGl2LmlubmVySFRNTCA9IG5ld0NoaWxkO1xuXG4gICAgICBmb3IgKGogPSB0ZW1wRGl2LmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqIC09IDEpIHtcbiAgICAgICAgdGhpc1tpXS5pbnNlcnRCZWZvcmUodGVtcERpdi5jaGlsZE5vZGVzW2pdLCB0aGlzW2ldLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmV3Q2hpbGQgaW5zdGFuY2VvZiBEb203KSB7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgbmV3Q2hpbGQubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgdGhpc1tpXS5pbnNlcnRCZWZvcmUobmV3Q2hpbGRbal0sIHRoaXNbaV0uY2hpbGROb2Rlc1swXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXNbaV0uaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLCB0aGlzW2ldLmNoaWxkTm9kZXNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBwcmVwZW5kVG8ocGFyZW50KSB7XG4gICQocGFyZW50KS5wcmVwZW5kKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKHNlbGVjdG9yKSB7XG4gIGNvbnN0IGJlZm9yZSA9ICQoc2VsZWN0b3IpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChiZWZvcmUubGVuZ3RoID09PSAxKSB7XG4gICAgICBiZWZvcmVbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXSwgYmVmb3JlWzBdKTtcbiAgICB9IGVsc2UgaWYgKGJlZm9yZS5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJlZm9yZS5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBiZWZvcmVbal0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXS5jbG9uZU5vZGUodHJ1ZSksIGJlZm9yZVtqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc2VydEFmdGVyKHNlbGVjdG9yKSB7XG4gIGNvbnN0IGFmdGVyID0gJChzZWxlY3Rvcik7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGFmdGVyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgYWZ0ZXJbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXSwgYWZ0ZXJbMF0ubmV4dFNpYmxpbmcpO1xuICAgIH0gZWxzZSBpZiAoYWZ0ZXIubGVuZ3RoID4gMSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhZnRlci5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBhZnRlcltqXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzW2ldLmNsb25lTm9kZSh0cnVlKSwgYWZ0ZXJbal0ubmV4dFNpYmxpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBuZXh0KHNlbGVjdG9yKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmICh0aGlzWzBdLm5leHRFbGVtZW50U2libGluZyAmJiAkKHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nKS5pcyhzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuICQoW3RoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkKFtdKTtcbiAgICB9XG5cbiAgICBpZiAodGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcpIHJldHVybiAkKFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10pO1xuICAgIHJldHVybiAkKFtdKTtcbiAgfVxuXG4gIHJldHVybiAkKFtdKTtcbn1cblxuZnVuY3Rpb24gbmV4dEFsbChzZWxlY3Rvcikge1xuICBjb25zdCBuZXh0RWxzID0gW107XG4gIGxldCBlbCA9IHRoaXNbMF07XG4gIGlmICghZWwpIHJldHVybiAkKFtdKTtcblxuICB3aGlsZSAoZWwubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgY29uc3QgbmV4dCA9IGVsLm5leHRFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAoJChuZXh0KS5pcyhzZWxlY3RvcikpIG5leHRFbHMucHVzaChuZXh0KTtcbiAgICB9IGVsc2UgbmV4dEVscy5wdXNoKG5leHQpO1xuXG4gICAgZWwgPSBuZXh0O1xuICB9XG5cbiAgcmV0dXJuICQobmV4dEVscyk7XG59XG5cbmZ1bmN0aW9uIHByZXYoc2VsZWN0b3IpIHtcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGVsID0gdGhpc1swXTtcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgJChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKS5pcyhzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuICQoW2VsLnByZXZpb3VzRWxlbWVudFNpYmxpbmddKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICQoW10pO1xuICAgIH1cblxuICAgIGlmIChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSByZXR1cm4gJChbZWwucHJldmlvdXNFbGVtZW50U2libGluZ10pO1xuICAgIHJldHVybiAkKFtdKTtcbiAgfVxuXG4gIHJldHVybiAkKFtdKTtcbn1cblxuZnVuY3Rpb24gcHJldkFsbChzZWxlY3Rvcikge1xuICBjb25zdCBwcmV2RWxzID0gW107XG4gIGxldCBlbCA9IHRoaXNbMF07XG4gIGlmICghZWwpIHJldHVybiAkKFtdKTtcblxuICB3aGlsZSAoZWwucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgIGNvbnN0IHByZXYgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmICgkKHByZXYpLmlzKHNlbGVjdG9yKSkgcHJldkVscy5wdXNoKHByZXYpO1xuICAgIH0gZWxzZSBwcmV2RWxzLnB1c2gocHJldik7XG5cbiAgICBlbCA9IHByZXY7XG4gIH1cblxuICByZXR1cm4gJChwcmV2RWxzKTtcbn1cblxuZnVuY3Rpb24gc2libGluZ3Moc2VsZWN0b3IpIHtcbiAgcmV0dXJuIHRoaXMubmV4dEFsbChzZWxlY3RvcikuYWRkKHRoaXMucHJldkFsbChzZWxlY3RvcikpO1xufVxuXG5mdW5jdGlvbiBwYXJlbnQoc2VsZWN0b3IpIHtcbiAgY29uc3QgcGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHRoaXNbaV0ucGFyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgIGlmICgkKHRoaXNbaV0ucGFyZW50Tm9kZSkuaXMoc2VsZWN0b3IpKSBwYXJlbnRzLnB1c2godGhpc1tpXS5wYXJlbnROb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudHMucHVzaCh0aGlzW2ldLnBhcmVudE5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAkKHBhcmVudHMpO1xufVxuXG5mdW5jdGlvbiBwYXJlbnRzKHNlbGVjdG9yKSB7XG4gIGNvbnN0IHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGxldCBwYXJlbnQgPSB0aGlzW2ldLnBhcmVudE5vZGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBpZiAoJChwYXJlbnQpLmlzKHNlbGVjdG9yKSkgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICAgIH1cblxuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICQocGFyZW50cyk7XG59XG5cbmZ1bmN0aW9uIGNsb3Nlc3Qoc2VsZWN0b3IpIHtcbiAgbGV0IGNsb3Nlc3QgPSB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gJChbXSk7XG4gIH1cblxuICBpZiAoIWNsb3Nlc3QuaXMoc2VsZWN0b3IpKSB7XG4gICAgY2xvc2VzdCA9IGNsb3Nlc3QucGFyZW50cyhzZWxlY3RvcikuZXEoMCk7XG4gIH1cblxuICByZXR1cm4gY2xvc2VzdDtcbn1cblxuZnVuY3Rpb24gZmluZChzZWxlY3Rvcikge1xuICBjb25zdCBmb3VuZEVsZW1lbnRzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgZm91bmQgPSB0aGlzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBmb3VuZC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgZm91bmRFbGVtZW50cy5wdXNoKGZvdW5kW2pdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJChmb3VuZEVsZW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gY2hpbGRyZW4oc2VsZWN0b3IpIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGNoaWxkTm9kZXMgPSB0aGlzW2ldLmNoaWxkcmVuO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaGlsZE5vZGVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICBpZiAoIXNlbGVjdG9yIHx8ICQoY2hpbGROb2Rlc1tqXSkuaXMoc2VsZWN0b3IpKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGROb2Rlc1tqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICQoY2hpbGRyZW4pO1xufVxuXG5mdW5jdGlvbiByZW1vdmUoKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0aGlzW2ldLnBhcmVudE5vZGUpIHRoaXNbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzW2ldKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBkZXRhY2goKSB7XG4gIHJldHVybiB0aGlzLnJlbW92ZSgpO1xufVxuXG5mdW5jdGlvbiBhZGQoLi4uZWxzKSB7XG4gIGNvbnN0IGRvbSA9IHRoaXM7XG4gIGxldCBpO1xuICBsZXQgajtcblxuICBmb3IgKGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgdG9BZGQgPSAkKGVsc1tpXSk7XG5cbiAgICBmb3IgKGogPSAwOyBqIDwgdG9BZGQubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIGRvbS5wdXNoKHRvQWRkW2pdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZG9tO1xufVxuXG5mdW5jdGlvbiBlbXB0eSgpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzW2ldO1xuXG4gICAgaWYgKGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVsLmNoaWxkTm9kZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgaWYgKGVsLmNoaWxkTm9kZXNbal0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGVsLmNoaWxkTm9kZXNbal0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbC5jaGlsZE5vZGVzW2pdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBlbC50ZXh0Q29udGVudCA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuZnVuY3Rpb24gc2Nyb2xsVG8oLi4uYXJncykge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IFtsZWZ0LCB0b3AsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrXSA9IGFyZ3M7XG5cbiAgaWYgKGFyZ3MubGVuZ3RoID09PSA0ICYmIHR5cGVvZiBlYXNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IGVhc2luZztcbiAgICBbbGVmdCwgdG9wLCBkdXJhdGlvbiwgY2FsbGJhY2ssIGVhc2luZ10gPSBhcmdzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlYXNpbmcgPT09ICd1bmRlZmluZWQnKSBlYXNpbmcgPSAnc3dpbmcnO1xuICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIGFuaW1hdGUoKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzO1xuICAgIGxldCBjdXJyZW50VG9wO1xuICAgIGxldCBjdXJyZW50TGVmdDtcbiAgICBsZXQgbWF4VG9wO1xuICAgIGxldCBtYXhMZWZ0O1xuICAgIGxldCBuZXdUb3A7XG4gICAgbGV0IG5ld0xlZnQ7XG4gICAgbGV0IHNjcm9sbFRvcDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgbGV0IHNjcm9sbExlZnQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGxldCBhbmltYXRlVG9wID0gdG9wID4gMCB8fCB0b3AgPT09IDA7XG4gICAgbGV0IGFuaW1hdGVMZWZ0ID0gbGVmdCA+IDAgfHwgbGVmdCA9PT0gMDtcblxuICAgIGlmICh0eXBlb2YgZWFzaW5nID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZWFzaW5nID0gJ3N3aW5nJztcbiAgICB9XG5cbiAgICBpZiAoYW5pbWF0ZVRvcCkge1xuICAgICAgY3VycmVudFRvcCA9IGVsLnNjcm9sbFRvcDtcblxuICAgICAgaWYgKCFkdXJhdGlvbikge1xuICAgICAgICBlbC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFuaW1hdGVMZWZ0KSB7XG4gICAgICBjdXJyZW50TGVmdCA9IGVsLnNjcm9sbExlZnQ7XG5cbiAgICAgIGlmICghZHVyYXRpb24pIHtcbiAgICAgICAgZWwuc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFkdXJhdGlvbikgcmV0dXJuO1xuXG4gICAgaWYgKGFuaW1hdGVUb3ApIHtcbiAgICAgIG1heFRvcCA9IGVsLnNjcm9sbEhlaWdodCAtIGVsLm9mZnNldEhlaWdodDtcbiAgICAgIG5ld1RvcCA9IE1hdGgubWF4KE1hdGgubWluKHRvcCwgbWF4VG9wKSwgMCk7XG4gICAgfVxuXG4gICAgaWYgKGFuaW1hdGVMZWZ0KSB7XG4gICAgICBtYXhMZWZ0ID0gZWwuc2Nyb2xsV2lkdGggLSBlbC5vZmZzZXRXaWR0aDtcbiAgICAgIG5ld0xlZnQgPSBNYXRoLm1heChNYXRoLm1pbihsZWZ0LCBtYXhMZWZ0KSwgMCk7XG4gICAgfVxuXG4gICAgbGV0IHN0YXJ0VGltZSA9IG51bGw7XG4gICAgaWYgKGFuaW1hdGVUb3AgJiYgbmV3VG9wID09PSBjdXJyZW50VG9wKSBhbmltYXRlVG9wID0gZmFsc2U7XG4gICAgaWYgKGFuaW1hdGVMZWZ0ICYmIG5ld0xlZnQgPT09IGN1cnJlbnRMZWZ0KSBhbmltYXRlTGVmdCA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gcmVuZGVyKHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSkge1xuICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgICBzdGFydFRpbWUgPSB0aW1lO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKCh0aW1lIC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uLCAxKSwgMCk7XG4gICAgICBjb25zdCBlYXNlUHJvZ3Jlc3MgPSBlYXNpbmcgPT09ICdsaW5lYXInID8gcHJvZ3Jlc3MgOiAwLjUgLSBNYXRoLmNvcyhwcm9ncmVzcyAqIE1hdGguUEkpIC8gMjtcbiAgICAgIGxldCBkb25lO1xuICAgICAgaWYgKGFuaW1hdGVUb3ApIHNjcm9sbFRvcCA9IGN1cnJlbnRUb3AgKyBlYXNlUHJvZ3Jlc3MgKiAobmV3VG9wIC0gY3VycmVudFRvcCk7XG4gICAgICBpZiAoYW5pbWF0ZUxlZnQpIHNjcm9sbExlZnQgPSBjdXJyZW50TGVmdCArIGVhc2VQcm9ncmVzcyAqIChuZXdMZWZ0IC0gY3VycmVudExlZnQpO1xuXG4gICAgICBpZiAoYW5pbWF0ZVRvcCAmJiBuZXdUb3AgPiBjdXJyZW50VG9wICYmIHNjcm9sbFRvcCA+PSBuZXdUb3ApIHtcbiAgICAgICAgZWwuc2Nyb2xsVG9wID0gbmV3VG9wO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFuaW1hdGVUb3AgJiYgbmV3VG9wIDwgY3VycmVudFRvcCAmJiBzY3JvbGxUb3AgPD0gbmV3VG9wKSB7XG4gICAgICAgIGVsLnNjcm9sbFRvcCA9IG5ld1RvcDtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRlTGVmdCAmJiBuZXdMZWZ0ID4gY3VycmVudExlZnQgJiYgc2Nyb2xsTGVmdCA+PSBuZXdMZWZ0KSB7XG4gICAgICAgIGVsLnNjcm9sbExlZnQgPSBuZXdMZWZ0O1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFuaW1hdGVMZWZ0ICYmIG5ld0xlZnQgPCBjdXJyZW50TGVmdCAmJiBzY3JvbGxMZWZ0IDw9IG5ld0xlZnQpIHtcbiAgICAgICAgZWwuc2Nyb2xsTGVmdCA9IG5ld0xlZnQ7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFuaW1hdGVUb3ApIGVsLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgIGlmIChhbmltYXRlTGVmdCkgZWwuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgfVxuXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICB9KTtcbn0gLy8gc2Nyb2xsVG9wKHRvcCwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spIHtcblxuXG5mdW5jdGlvbiBzY3JvbGxUb3AoLi4uYXJncykge1xuICBsZXQgW3RvcCwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2tdID0gYXJncztcblxuICBpZiAoYXJncy5sZW5ndGggPT09IDMgJiYgdHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFt0b3AsIGR1cmF0aW9uLCBjYWxsYmFjaywgZWFzaW5nXSA9IGFyZ3M7XG4gIH1cblxuICBjb25zdCBkb20gPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChkb20ubGVuZ3RoID4gMCkgcmV0dXJuIGRvbVswXS5zY3JvbGxUb3A7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gZG9tLnNjcm9sbFRvKHVuZGVmaW5lZCwgdG9wLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIHNjcm9sbExlZnQoLi4uYXJncykge1xuICBsZXQgW2xlZnQsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrXSA9IGFyZ3M7XG5cbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAzICYmIHR5cGVvZiBlYXNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBbbGVmdCwgZHVyYXRpb24sIGNhbGxiYWNrLCBlYXNpbmddID0gYXJncztcbiAgfVxuXG4gIGNvbnN0IGRvbSA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiBsZWZ0ID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChkb20ubGVuZ3RoID4gMCkgcmV0dXJuIGRvbVswXS5zY3JvbGxMZWZ0O1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGRvbS5zY3JvbGxUbyhsZWZ0LCB1bmRlZmluZWQsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKTtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbmZ1bmN0aW9uIGFuaW1hdGUoaW5pdGlhbFByb3BzLCBpbml0aWFsUGFyYW1zKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBlbHMgPSB0aGlzO1xuICBjb25zdCBhID0ge1xuICAgIHByb3BzOiBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsUHJvcHMpLFxuICAgIHBhcmFtczogT2JqZWN0LmFzc2lnbih7XG4gICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgZWFzaW5nOiAnc3dpbmcnIC8vIG9yICdsaW5lYXInXG5cbiAgICAgIC8qIENhbGxiYWNrc1xuICAgICAgYmVnaW4oZWxlbWVudHMpXG4gICAgICBjb21wbGV0ZShlbGVtZW50cylcbiAgICAgIHByb2dyZXNzKGVsZW1lbnRzLCBjb21wbGV0ZSwgcmVtYWluaW5nLCBzdGFydCwgdHdlZW5WYWx1ZSlcbiAgICAgICovXG5cbiAgICB9LCBpbml0aWFsUGFyYW1zKSxcbiAgICBlbGVtZW50czogZWxzLFxuICAgIGFuaW1hdGluZzogZmFsc2UsXG4gICAgcXVlOiBbXSxcblxuICAgIGVhc2luZ1Byb2dyZXNzKGVhc2luZywgcHJvZ3Jlc3MpIHtcbiAgICAgIGlmIChlYXNpbmcgPT09ICdzd2luZycpIHtcbiAgICAgICAgcmV0dXJuIDAuNSAtIE1hdGguY29zKHByb2dyZXNzICogTWF0aC5QSSkgLyAyO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZWFzaW5nKHByb2dyZXNzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb2dyZXNzO1xuICAgIH0sXG5cbiAgICBzdG9wKCkge1xuICAgICAgaWYgKGEuZnJhbWVJZCkge1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYS5mcmFtZUlkKTtcbiAgICAgIH1cblxuICAgICAgYS5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgIGEuZWxlbWVudHMuZWFjaChlbCA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbDtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnQuZG9tN0FuaW1hdGVJbnN0YW5jZTtcbiAgICAgIH0pO1xuICAgICAgYS5xdWUgPSBbXTtcbiAgICB9LFxuXG4gICAgZG9uZShjb21wbGV0ZSkge1xuICAgICAgYS5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgIGEuZWxlbWVudHMuZWFjaChlbCA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbDtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnQuZG9tN0FuaW1hdGVJbnN0YW5jZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbXBsZXRlKSBjb21wbGV0ZShlbHMpO1xuXG4gICAgICBpZiAoYS5xdWUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBxdWUgPSBhLnF1ZS5zaGlmdCgpO1xuICAgICAgICBhLmFuaW1hdGUocXVlWzBdLCBxdWVbMV0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhbmltYXRlKHByb3BzLCBwYXJhbXMpIHtcbiAgICAgIGlmIChhLmFuaW1hdGluZykge1xuICAgICAgICBhLnF1ZS5wdXNoKFtwcm9wcywgcGFyYW1zXSk7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlbGVtZW50cyA9IFtdOyAvLyBEZWZpbmUgJiBDYWNoZSBJbml0aWFscyAmIFVuaXRzXG5cbiAgICAgIGEuZWxlbWVudHMuZWFjaCgoZWwsIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCBpbml0aWFsRnVsbFZhbHVlO1xuICAgICAgICBsZXQgaW5pdGlhbFZhbHVlO1xuICAgICAgICBsZXQgdW5pdDtcbiAgICAgICAgbGV0IGZpbmFsVmFsdWU7XG4gICAgICAgIGxldCBmaW5hbEZ1bGxWYWx1ZTtcbiAgICAgICAgaWYgKCFlbC5kb203QW5pbWF0ZUluc3RhbmNlKSBhLmVsZW1lbnRzW2luZGV4XS5kb203QW5pbWF0ZUluc3RhbmNlID0gYTtcbiAgICAgICAgZWxlbWVudHNbaW5kZXhdID0ge1xuICAgICAgICAgIGNvbnRhaW5lcjogZWxcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgICAgaW5pdGlhbEZ1bGxWYWx1ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApLnJlcGxhY2UoJywnLCAnLicpO1xuICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IHBhcnNlRmxvYXQoaW5pdGlhbEZ1bGxWYWx1ZSk7XG4gICAgICAgICAgdW5pdCA9IGluaXRpYWxGdWxsVmFsdWUucmVwbGFjZShpbml0aWFsVmFsdWUsICcnKTtcbiAgICAgICAgICBmaW5hbFZhbHVlID0gcGFyc2VGbG9hdChwcm9wc1twcm9wXSk7XG4gICAgICAgICAgZmluYWxGdWxsVmFsdWUgPSBwcm9wc1twcm9wXSArIHVuaXQ7XG4gICAgICAgICAgZWxlbWVudHNbaW5kZXhdW3Byb3BdID0ge1xuICAgICAgICAgICAgaW5pdGlhbEZ1bGxWYWx1ZSxcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZSxcbiAgICAgICAgICAgIHVuaXQsXG4gICAgICAgICAgICBmaW5hbFZhbHVlLFxuICAgICAgICAgICAgZmluYWxGdWxsVmFsdWUsXG4gICAgICAgICAgICBjdXJyZW50VmFsdWU6IGluaXRpYWxWYWx1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBsZXQgc3RhcnRUaW1lID0gbnVsbDtcbiAgICAgIGxldCB0aW1lO1xuICAgICAgbGV0IGVsZW1lbnRzRG9uZSA9IDA7XG4gICAgICBsZXQgcHJvcHNEb25lID0gMDtcbiAgICAgIGxldCBkb25lO1xuICAgICAgbGV0IGJlZ2FuID0gZmFsc2U7XG4gICAgICBhLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBsZXQgcHJvZ3Jlc3M7XG4gICAgICAgIGxldCBlYXNlUHJvZ3Jlc3M7IC8vIGxldCBlbDtcblxuICAgICAgICBpZiAoIWJlZ2FuKSB7XG4gICAgICAgICAgYmVnYW4gPSB0cnVlO1xuICAgICAgICAgIGlmIChwYXJhbXMuYmVnaW4pIHBhcmFtcy5iZWdpbihlbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHN0YXJ0VGltZSA9IHRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLnByb2dyZXNzKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgcGFyYW1zLnByb2dyZXNzKGVscywgTWF0aC5tYXgoTWF0aC5taW4oKHRpbWUgLSBzdGFydFRpbWUpIC8gcGFyYW1zLmR1cmF0aW9uLCAxKSwgMCksIHN0YXJ0VGltZSArIHBhcmFtcy5kdXJhdGlvbiAtIHRpbWUgPCAwID8gMCA6IHN0YXJ0VGltZSArIHBhcmFtcy5kdXJhdGlvbiAtIHRpbWUsIHN0YXJ0VGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgIGNvbnN0IGVsID0gZWxlbWVudDtcbiAgICAgICAgICBpZiAoZG9uZSB8fCBlbC5kb25lKSByZXR1cm47XG4gICAgICAgICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgICAgICBpZiAoZG9uZSB8fCBlbC5kb25lKSByZXR1cm47XG4gICAgICAgICAgICBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKCh0aW1lIC0gc3RhcnRUaW1lKSAvIHBhcmFtcy5kdXJhdGlvbiwgMSksIDApO1xuICAgICAgICAgICAgZWFzZVByb2dyZXNzID0gYS5lYXNpbmdQcm9ncmVzcyhwYXJhbXMuZWFzaW5nLCBwcm9ncmVzcyk7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIGluaXRpYWxWYWx1ZSxcbiAgICAgICAgICAgICAgZmluYWxWYWx1ZSxcbiAgICAgICAgICAgICAgdW5pdFxuICAgICAgICAgICAgfSA9IGVsW3Byb3BdO1xuICAgICAgICAgICAgZWxbcHJvcF0uY3VycmVudFZhbHVlID0gaW5pdGlhbFZhbHVlICsgZWFzZVByb2dyZXNzICogKGZpbmFsVmFsdWUgLSBpbml0aWFsVmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gZWxbcHJvcF0uY3VycmVudFZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoZmluYWxWYWx1ZSA+IGluaXRpYWxWYWx1ZSAmJiBjdXJyZW50VmFsdWUgPj0gZmluYWxWYWx1ZSB8fCBmaW5hbFZhbHVlIDwgaW5pdGlhbFZhbHVlICYmIGN1cnJlbnRWYWx1ZSA8PSBmaW5hbFZhbHVlKSB7XG4gICAgICAgICAgICAgIGVsLmNvbnRhaW5lci5zdHlsZVtwcm9wXSA9IGZpbmFsVmFsdWUgKyB1bml0O1xuICAgICAgICAgICAgICBwcm9wc0RvbmUgKz0gMTtcblxuICAgICAgICAgICAgICBpZiAocHJvcHNEb25lID09PSBPYmplY3Qua2V5cyhwcm9wcykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZWwuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNEb25lICs9IDE7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZWxlbWVudHNEb25lID09PSBlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICBhLmRvbmUocGFyYW1zLmNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbC5jb250YWluZXIuc3R5bGVbcHJvcF0gPSBjdXJyZW50VmFsdWUgKyB1bml0O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjsgLy8gVGhlbiBjYWxsXG5cbiAgICAgICAgYS5mcmFtZUlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgfVxuXG4gICAgICBhLmZyYW1lSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgICByZXR1cm4gYTtcbiAgICB9XG5cbiAgfTtcblxuICBpZiAoYS5lbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZWxzO1xuICB9XG5cbiAgbGV0IGFuaW1hdGVJbnN0YW5jZTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGEuZWxlbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoYS5lbGVtZW50c1tpXS5kb203QW5pbWF0ZUluc3RhbmNlKSB7XG4gICAgICBhbmltYXRlSW5zdGFuY2UgPSBhLmVsZW1lbnRzW2ldLmRvbTdBbmltYXRlSW5zdGFuY2U7XG4gICAgfSBlbHNlIGEuZWxlbWVudHNbaV0uZG9tN0FuaW1hdGVJbnN0YW5jZSA9IGE7XG4gIH1cblxuICBpZiAoIWFuaW1hdGVJbnN0YW5jZSkge1xuICAgIGFuaW1hdGVJbnN0YW5jZSA9IGE7XG4gIH1cblxuICBpZiAoaW5pdGlhbFByb3BzID09PSAnc3RvcCcpIHtcbiAgICBhbmltYXRlSW5zdGFuY2Uuc3RvcCgpO1xuICB9IGVsc2Uge1xuICAgIGFuaW1hdGVJbnN0YW5jZS5hbmltYXRlKGEucHJvcHMsIGEucGFyYW1zKTtcbiAgfVxuXG4gIHJldHVybiBlbHM7XG59XG5cbmZ1bmN0aW9uIHN0b3AoKSB7XG4gIGNvbnN0IGVscyA9IHRoaXM7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoZWxzW2ldLmRvbTdBbmltYXRlSW5zdGFuY2UpIHtcbiAgICAgIGVsc1tpXS5kb203QW5pbWF0ZUluc3RhbmNlLnN0b3AoKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3Qgbm9UcmlnZ2VyID0gJ3Jlc2l6ZSBzY3JvbGwnLnNwbGl0KCcgJyk7XG5cbmZ1bmN0aW9uIHNob3J0Y3V0KG5hbWUpIHtcbiAgZnVuY3Rpb24gZXZlbnRIYW5kbGVyKC4uLmFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG5vVHJpZ2dlci5pbmRleE9mKG5hbWUpIDwgMCkge1xuICAgICAgICAgIGlmIChuYW1lIGluIHRoaXNbaV0pIHRoaXNbaV1bbmFtZV0oKTtlbHNlIHtcbiAgICAgICAgICAgICQodGhpc1tpXSkudHJpZ2dlcihuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgLi4uYXJncyk7XG4gIH1cblxuICByZXR1cm4gZXZlbnRIYW5kbGVyO1xufVxuXG5jb25zdCBjbGljayA9IHNob3J0Y3V0KCdjbGljaycpO1xuY29uc3QgYmx1ciA9IHNob3J0Y3V0KCdibHVyJyk7XG5jb25zdCBmb2N1cyA9IHNob3J0Y3V0KCdmb2N1cycpO1xuY29uc3QgZm9jdXNpbiA9IHNob3J0Y3V0KCdmb2N1c2luJyk7XG5jb25zdCBmb2N1c291dCA9IHNob3J0Y3V0KCdmb2N1c291dCcpO1xuY29uc3Qga2V5dXAgPSBzaG9ydGN1dCgna2V5dXAnKTtcbmNvbnN0IGtleWRvd24gPSBzaG9ydGN1dCgna2V5ZG93bicpO1xuY29uc3Qga2V5cHJlc3MgPSBzaG9ydGN1dCgna2V5cHJlc3MnKTtcbmNvbnN0IHN1Ym1pdCA9IHNob3J0Y3V0KCdzdWJtaXQnKTtcbmNvbnN0IGNoYW5nZSA9IHNob3J0Y3V0KCdjaGFuZ2UnKTtcbmNvbnN0IG1vdXNlZG93biA9IHNob3J0Y3V0KCdtb3VzZWRvd24nKTtcbmNvbnN0IG1vdXNlbW92ZSA9IHNob3J0Y3V0KCdtb3VzZW1vdmUnKTtcbmNvbnN0IG1vdXNldXAgPSBzaG9ydGN1dCgnbW91c2V1cCcpO1xuY29uc3QgbW91c2VlbnRlciA9IHNob3J0Y3V0KCdtb3VzZWVudGVyJyk7XG5jb25zdCBtb3VzZWxlYXZlID0gc2hvcnRjdXQoJ21vdXNlbGVhdmUnKTtcbmNvbnN0IG1vdXNlb3V0ID0gc2hvcnRjdXQoJ21vdXNlb3V0Jyk7XG5jb25zdCBtb3VzZW92ZXIgPSBzaG9ydGN1dCgnbW91c2VvdmVyJyk7XG5jb25zdCB0b3VjaHN0YXJ0ID0gc2hvcnRjdXQoJ3RvdWNoc3RhcnQnKTtcbmNvbnN0IHRvdWNoZW5kID0gc2hvcnRjdXQoJ3RvdWNoZW5kJyk7XG5jb25zdCB0b3VjaG1vdmUgPSBzaG9ydGN1dCgndG91Y2htb3ZlJyk7XG5jb25zdCByZXNpemUgPSBzaG9ydGN1dCgncmVzaXplJyk7XG5jb25zdCBzY3JvbGwgPSBzaG9ydGN1dCgnc2Nyb2xsJyk7XG5cbmV4cG9ydCBkZWZhdWx0ICQ7XG5leHBvcnQgeyAkLCBhZGQsIGFkZENsYXNzLCBhbmltYXRlLCBhbmltYXRpb25FbmQsIGFwcGVuZCwgYXBwZW5kVG8sIGF0dHIsIGJsdXIsIGNoYW5nZSwgY2hpbGRyZW4sIGNsaWNrLCBjbG9zZXN0LCBjc3MsIGRhdGEsIGRhdGFzZXQsIGRldGFjaCwgZWFjaCwgZW1wdHksIGVxLCBmaWx0ZXIsIGZpbmQsIGZvY3VzLCBmb2N1c2luLCBmb2N1c291dCwgaGFzQ2xhc3MsIGhlaWdodCwgaGlkZSwgaHRtbCwgaW5kZXgsIGluc2VydEFmdGVyLCBpbnNlcnRCZWZvcmUsIGlzLCBrZXlkb3duLCBrZXlwcmVzcywga2V5dXAsIG1vdXNlZG93biwgbW91c2VlbnRlciwgbW91c2VsZWF2ZSwgbW91c2Vtb3ZlLCBtb3VzZW91dCwgbW91c2VvdmVyLCBtb3VzZXVwLCBuZXh0LCBuZXh0QWxsLCBvZmYsIG9mZnNldCwgb24sIG9uY2UsIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoLCBwYXJlbnQsIHBhcmVudHMsIHByZXBlbmQsIHByZXBlbmRUbywgcHJldiwgcHJldkFsbCwgcHJvcCwgcmVtb3ZlLCByZW1vdmVBdHRyLCByZW1vdmVDbGFzcywgcmVtb3ZlRGF0YSwgcmVzaXplLCBzY3JvbGwsIHNjcm9sbExlZnQsIHNjcm9sbFRvLCBzY3JvbGxUb3AsIHNob3csIHNpYmxpbmdzLCBzdG9wLCBzdHlsZXMsIHN1Ym1pdCwgdGV4dCwgdG9nZ2xlQ2xhc3MsIHRvdWNoZW5kLCB0b3VjaG1vdmUsIHRvdWNoc3RhcnQsIHRyYW5zZm9ybSwgdHJhbnNpdGlvbiwgdHJhbnNpdGlvbkVuZCwgdHJhbnNpdGlvblN0YXJ0LCB0cmlnZ2VyLCB2YWwsIHZhbHVlLCB3aWR0aCB9O1xuIiwiaW1wb3J0IHJvb3QgZnJvbSAnLi9fcm9vdC5qcyc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5leHBvcnQgZGVmYXVsdCBTeW1ib2w7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5pbXBvcnQgZ2V0UmF3VGFnIGZyb20gJy4vX2dldFJhd1RhZy5qcyc7XG5pbXBvcnQgb2JqZWN0VG9TdHJpbmcgZnJvbSAnLi9fb2JqZWN0VG9TdHJpbmcuanMnO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZUdldFRhZztcbiIsImltcG9ydCB0cmltbWVkRW5kSW5kZXggZnJvbSAnLi9fdHJpbW1lZEVuZEluZGV4LmpzJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdcbiAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgIDogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlVHJpbTtcbiIsIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbmV4cG9ydCBkZWZhdWx0IGZyZWVHbG9iYWw7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0UmF3VGFnO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG9iamVjdFRvU3RyaW5nO1xuIiwiaW1wb3J0IGZyZWVHbG9iYWwgZnJvbSAnLi9fZnJlZUdsb2JhbC5qcyc7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuZXhwb3J0IGRlZmF1bHQgcm9vdDtcbiIsIi8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xudmFyIHJlV2hpdGVzcGFjZSA9IC9cXHMvO1xuXG4vKipcbiAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2VcbiAqIGNoYXJhY3RlciBvZiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gKi9cbmZ1bmN0aW9uIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpIHtcbiAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICB3aGlsZSAoaW5kZXgtLSAmJiByZVdoaXRlc3BhY2UudGVzdChzdHJpbmcuY2hhckF0KGluZGV4KSkpIHt9XG4gIHJldHVybiBpbmRleDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdHJpbW1lZEVuZEluZGV4O1xuIiwiaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuaW1wb3J0IG5vdyBmcm9tICcuL25vdy5qcyc7XG5pbXBvcnQgdG9OdW1iZXIgZnJvbSAnLi90b051bWJlci5qcyc7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gKiBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICogICAndHJhaWxpbmcnOiBmYWxzZVxuICogfSkpO1xuICpcbiAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxhc3RBcmdzLFxuICAgICAgbGFzdFRoaXMsXG4gICAgICBtYXhXYWl0LFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZXJJZCxcbiAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmdcbiAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgIDogdGltZVdhaXRpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkZWJvdW5jZTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc09iamVjdDtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc09iamVjdExpa2U7XG4iLCJpbXBvcnQgYmFzZUdldFRhZyBmcm9tICcuL19iYXNlR2V0VGFnLmpzJztcbmltcG9ydCBpc09iamVjdExpa2UgZnJvbSAnLi9pc09iamVjdExpa2UuanMnO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzU3ltYm9sO1xuIiwiaW1wb3J0IHJvb3QgZnJvbSAnLi9fcm9vdC5qcyc7XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG5vdztcbiIsImltcG9ydCBkZWJvdW5jZSBmcm9tICcuL2RlYm91bmNlLmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0LmpzJztcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gKlxuICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG4gIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdGhyb3R0bGU7XG4iLCJpbXBvcnQgYmFzZVRyaW0gZnJvbSAnLi9fYmFzZVRyaW0uanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuaW1wb3J0IGlzU3ltYm9sIGZyb20gJy4vaXNTeW1ib2wuanMnO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9OdW1iZXI7XG4iLCIvKipcbiAqIHNpbXBsZWJhci1jb3JlIC0gdjEuMi40XG4gKiBTY3JvbGxiYXJzLCBzaW1wbGVyLlxuICogaHR0cHM6Ly9ncnNtdG8uZ2l0aHViLmlvL3NpbXBsZWJhci9cbiAqXG4gKiBNYWRlIGJ5IEFkcmllbiBEZW5hdCBmcm9tIGEgZm9yayBieSBKb25hdGhhbiBOaWNvbFxuICogVW5kZXIgTUlUIExpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyB0aHJvdHRsZSwgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gtZXMnO1xuaW1wb3J0IGNhblVzZURPTSBmcm9tICdjYW4tdXNlLWRvbSc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIGNhY2hlZFNjcm9sbGJhcldpZHRoID0gbnVsbDtcbnZhciBjYWNoZWREZXZpY2VQaXhlbFJhdGlvID0gbnVsbDtcbmlmIChjYW5Vc2VET00pIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2FjaGVkRGV2aWNlUGl4ZWxSYXRpbyAhPT0gd2luZG93LmRldmljZVBpeGVsUmF0aW8pIHtcbiAgICAgICAgICAgIGNhY2hlZERldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgICAgIGNhY2hlZFNjcm9sbGJhcldpZHRoID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gc2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgaWYgKGNhY2hlZFNjcm9sbGJhcldpZHRoID09PSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjYWNoZWRTY3JvbGxiYXJXaWR0aCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2Nyb2xsYmFyV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB2YXIgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdzaW1wbGViYXItaGlkZS1zY3JvbGxiYXInKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChib3gpO1xuICAgICAgICB2YXIgd2lkdGggPSBib3guZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XG4gICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoYm94KTtcbiAgICAgICAgY2FjaGVkU2Nyb2xsYmFyV2lkdGggPSB3aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZFNjcm9sbGJhcldpZHRoO1xufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50V2luZG93JDEoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudCB8fFxuICAgICAgICAhZWxlbWVudC5vd25lckRvY3VtZW50IHx8XG4gICAgICAgICFlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnREb2N1bWVudCQxKGVsZW1lbnQpIHtcbiAgICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQub3duZXJEb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG59XG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgb3B0aW9ucyBmcm9tIGVsZW1lbnQgYXR0cmlidXRlc1xudmFyIGdldE9wdGlvbnMkMSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgaW5pdGlhbE9iaiA9IHt9O1xuICAgIHZhciBvcHRpb25zID0gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgZnVuY3Rpb24gKGFjYywgYXR0cmlidXRlKSB7XG4gICAgICAgIHZhciBvcHRpb24gPSBhdHRyaWJ1dGUubmFtZS5tYXRjaCgvZGF0YS1zaW1wbGViYXItKC4rKS8pO1xuICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gb3B0aW9uWzFdLnJlcGxhY2UoL1xcVysoLikvZywgZnVuY3Rpb24gKF8sIGNocikgeyByZXR1cm4gY2hyLnRvVXBwZXJDYXNlKCk7IH0pO1xuICAgICAgICAgICAgc3dpdGNoIChhdHRyaWJ1dGUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0cnVlJzpcbiAgICAgICAgICAgICAgICAgICAgYWNjW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmYWxzZSc6XG4gICAgICAgICAgICAgICAgICAgIGFjY1trZXldID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGFjY1trZXldID0gYXR0cmlidXRlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgaW5pdGlhbE9iaik7XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59O1xuZnVuY3Rpb24gYWRkQ2xhc3NlcyQxKGVsLCBjbGFzc2VzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghZWwpXG4gICAgICAgIHJldHVybjtcbiAgICAoX2EgPSBlbC5jbGFzc0xpc3QpLmFkZC5hcHBseShfYSwgY2xhc3Nlcy5zcGxpdCgnICcpKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMkMShlbCwgY2xhc3Nlcykge1xuICAgIGlmICghZWwpXG4gICAgICAgIHJldHVybjtcbiAgICBjbGFzc2VzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNsYXNzTmFtZXNUb1F1ZXJ5JDEoY2xhc3NOYW1lcykge1xuICAgIHJldHVybiBcIi5cIi5jb25jYXQoY2xhc3NOYW1lcy5zcGxpdCgnICcpLmpvaW4oJy4nKSk7XG59XG5cbnZhciBoZWxwZXJzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBnZXRFbGVtZW50V2luZG93OiBnZXRFbGVtZW50V2luZG93JDEsXG4gICAgZ2V0RWxlbWVudERvY3VtZW50OiBnZXRFbGVtZW50RG9jdW1lbnQkMSxcbiAgICBnZXRPcHRpb25zOiBnZXRPcHRpb25zJDEsXG4gICAgYWRkQ2xhc3NlczogYWRkQ2xhc3NlcyQxLFxuICAgIHJlbW92ZUNsYXNzZXM6IHJlbW92ZUNsYXNzZXMkMSxcbiAgICBjbGFzc05hbWVzVG9RdWVyeTogY2xhc3NOYW1lc1RvUXVlcnkkMVxufSk7XG5cbnZhciBnZXRFbGVtZW50V2luZG93ID0gZ2V0RWxlbWVudFdpbmRvdyQxLCBnZXRFbGVtZW50RG9jdW1lbnQgPSBnZXRFbGVtZW50RG9jdW1lbnQkMSwgZ2V0T3B0aW9ucyA9IGdldE9wdGlvbnMkMSwgYWRkQ2xhc3NlcyA9IGFkZENsYXNzZXMkMSwgcmVtb3ZlQ2xhc3NlcyA9IHJlbW92ZUNsYXNzZXMkMSwgY2xhc3NOYW1lc1RvUXVlcnkgPSBjbGFzc05hbWVzVG9RdWVyeSQxO1xudmFyIFNpbXBsZUJhckNvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlQmFyQ29yZShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVtb3ZlUHJldmVudENsaWNrSWQgPSBudWxsO1xuICAgICAgICB0aGlzLm1pblNjcm9sbGJhcldpZHRoID0gMjA7XG4gICAgICAgIHRoaXMuc3RvcFNjcm9sbERlbGF5ID0gMTc1O1xuICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNNb3VzZUVudGVyaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2Nyb2xsWFRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY3JvbGxZVGlja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLndyYXBwZXJFbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGVudFdyYXBwZXJFbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGVudEVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5vZmZzZXRFbCA9IG51bGw7XG4gICAgICAgIHRoaXMubWFza0VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlckVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWwgPSBudWxsO1xuICAgICAgICB0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5ydGxIZWxwZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmVsU3R5bGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc1J0bCA9IG51bGw7XG4gICAgICAgIHRoaXMubW91c2VYID0gMDtcbiAgICAgICAgdGhpcy5tb3VzZVkgPSAwO1xuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB0aGlzLm9uV2luZG93UmVzaXplID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB0aGlzLm9uU3RvcFNjcm9sbGluZyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9uIHNjcm9sbCBldmVudCBoYW5kbGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3coX3RoaXMuZWwpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5zY3JvbGxYVGlja2luZykge1xuICAgICAgICAgICAgICAgIGVsV2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy5zY3JvbGxYKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxYVGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIV90aGlzLnNjcm9sbFlUaWNraW5nKSB7XG4gICAgICAgICAgICAgICAgZWxXaW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLnNjcm9sbFkpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNjcm9sbFlUaWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1Njcm9sbGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NlcyhfdGhpcy5lbCwgX3RoaXMuY2xhc3NOYW1lcy5zY3JvbGxpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2hvd1Njcm9sbGJhcigneCcpO1xuICAgICAgICAgICAgX3RoaXMuc2hvd1Njcm9sbGJhcigneScpO1xuICAgICAgICAgICAgX3RoaXMub25TdG9wU2Nyb2xsaW5nKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2Nyb2xsWCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZykge1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc2l0aW9uU2Nyb2xsYmFyKCd4Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zY3JvbGxYVGlja2luZyA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNjcm9sbFkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3NpdGlvblNjcm9sbGJhcigneScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2Nyb2xsWVRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fb25TdG9wU2Nyb2xsaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3NlcyhfdGhpcy5lbCwgX3RoaXMuY2xhc3NOYW1lcy5zY3JvbGxpbmcpO1xuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuYXV0b0hpZGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlU2Nyb2xsYmFyKCd4Jyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZVNjcm9sbGJhcigneScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmlzTW91c2VFbnRlcmluZykge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzZXMoX3RoaXMuZWwsIF90aGlzLmNsYXNzTmFtZXMubW91c2VFbnRlcmVkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93U2Nyb2xsYmFyKCd4Jyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvd1Njcm9sbGJhcigneScpO1xuICAgICAgICAgICAgICAgIF90aGlzLmlzTW91c2VFbnRlcmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5vbk1vdXNlRW50ZXJlZCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vbk1vdXNlRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMoX3RoaXMuZWwsIF90aGlzLmNsYXNzTmFtZXMubW91c2VFbnRlcmVkKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmF1dG9IaWRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZVNjcm9sbGJhcigneCcpO1xuICAgICAgICAgICAgICAgIF90aGlzLmhpZGVTY3JvbGxiYXIoJ3knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmlzTW91c2VFbnRlcmluZyA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5tb3VzZVggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICBfdGhpcy5tb3VzZVkgPSBlLmNsaWVudFk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmcgfHwgX3RoaXMuYXhpcy54LmZvcmNlVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uTW91c2VNb3ZlRm9yQXhpcygneCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmF4aXMueS5pc092ZXJmbG93aW5nIHx8IF90aGlzLmF4aXMueS5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbk1vdXNlTW92ZUZvckF4aXMoJ3knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5vbk1vdXNlTW92ZS5jYW5jZWwoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZyB8fCBfdGhpcy5heGlzLnguZm9yY2VWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25Nb3VzZUxlYXZlRm9yQXhpcygneCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmF4aXMueS5pc092ZXJmbG93aW5nIHx8IF90aGlzLmF4aXMueS5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbk1vdXNlTGVhdmVGb3JBeGlzKCd5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5tb3VzZVggPSAtMTtcbiAgICAgICAgICAgIF90aGlzLm1vdXNlWSA9IC0xO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vbldpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFJlY2FsY3VsYXRlIHNjcm9sbGJhcldpZHRoIGluIGNhc2UgaXQncyBhIHpvb21cbiAgICAgICAgICAgIF90aGlzLnNjcm9sbGJhcldpZHRoID0gX3RoaXMuZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICAgICAgICAgIF90aGlzLmhpZGVOYXRpdmVTY3JvbGxiYXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJFdmVudCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmF4aXMueC50cmFjay5lbCB8fFxuICAgICAgICAgICAgICAgICFfdGhpcy5heGlzLnkudHJhY2suZWwgfHxcbiAgICAgICAgICAgICAgICAhX3RoaXMuYXhpcy54LnNjcm9sbGJhci5lbCB8fFxuICAgICAgICAgICAgICAgICFfdGhpcy5heGlzLnkuc2Nyb2xsYmFyLmVsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpc1dpdGhpblRyYWNrWEJvdW5kcywgaXNXaXRoaW5UcmFja1lCb3VuZHM7XG4gICAgICAgICAgICBfdGhpcy5heGlzLngudHJhY2sucmVjdCA9IF90aGlzLmF4aXMueC50cmFjay5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIF90aGlzLmF4aXMueS50cmFjay5yZWN0ID0gX3RoaXMuYXhpcy55LnRyYWNrLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmF4aXMueC5pc092ZXJmbG93aW5nIHx8IF90aGlzLmF4aXMueC5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBpc1dpdGhpblRyYWNrWEJvdW5kcyA9IF90aGlzLmlzV2l0aGluQm91bmRzKF90aGlzLmF4aXMueC50cmFjay5yZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZyB8fCBfdGhpcy5heGlzLnkuZm9yY2VWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgaXNXaXRoaW5UcmFja1lCb3VuZHMgPSBfdGhpcy5pc1dpdGhpbkJvdW5kcyhfdGhpcy5heGlzLnkudHJhY2sucmVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBhbnkgcG9pbnRlciBldmVudCBpcyBjYWxsZWQgb24gdGhlIHNjcm9sbGJhclxuICAgICAgICAgICAgaWYgKGlzV2l0aGluVHJhY2tYQm91bmRzIHx8IGlzV2l0aGluVHJhY2tZQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBldmVudCBsZWFraW5nXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09PSAncG9pbnRlcmRvd24nICYmIGUucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2l0aGluVHJhY2tYQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5heGlzLnguc2Nyb2xsYmFyLnJlY3QgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmF4aXMueC5zY3JvbGxiYXIuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNXaXRoaW5Cb3VuZHMoX3RoaXMuYXhpcy54LnNjcm9sbGJhci5yZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRHJhZ1N0YXJ0KGUsICd4Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vblRyYWNrQ2xpY2soZSwgJ3gnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNXaXRoaW5UcmFja1lCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmF4aXMueS5zY3JvbGxiYXIucmVjdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXhpcy55LnNjcm9sbGJhci5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1dpdGhpbkJvdW5kcyhfdGhpcy5heGlzLnkuc2Nyb2xsYmFyLnJlY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25EcmFnU3RhcnQoZSwgJ3knKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uVHJhY2tDbGljayhlLCAneScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRHJhZyBzY3JvbGxiYXIgaGFuZGxlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYWcgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbDtcbiAgICAgICAgICAgIGlmICghX3RoaXMuZHJhZ2dlZEF4aXMgfHwgIV90aGlzLmNvbnRlbnRXcmFwcGVyRWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIGV2ZW50T2Zmc2V0O1xuICAgICAgICAgICAgdmFyIHRyYWNrID0gX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10udHJhY2s7XG4gICAgICAgICAgICB2YXIgdHJhY2tTaXplID0gKF9iID0gKF9hID0gdHJhY2sucmVjdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW190aGlzLmF4aXNbX3RoaXMuZHJhZ2dlZEF4aXNdLnNpemVBdHRyXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbiAgICAgICAgICAgIHZhciBzY3JvbGxiYXIgPSBfdGhpcy5heGlzW190aGlzLmRyYWdnZWRBeGlzXS5zY3JvbGxiYXI7XG4gICAgICAgICAgICB2YXIgY29udGVudFNpemUgPSAoX2QgPSAoX2MgPSBfdGhpcy5jb250ZW50V3JhcHBlckVsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10uc2Nyb2xsU2l6ZUF0dHJdKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAwO1xuICAgICAgICAgICAgdmFyIGhvc3RTaXplID0gcGFyc2VJbnQoKF9mID0gKF9lID0gX3RoaXMuZWxTdHlsZXMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZVtfdGhpcy5heGlzW190aGlzLmRyYWdnZWRBeGlzXS5zaXplQXR0cl0pICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6ICcwcHgnLCAxMCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmRyYWdnZWRBeGlzID09PSAneScpIHtcbiAgICAgICAgICAgICAgICBldmVudE9mZnNldCA9IGUucGFnZVk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBldmVudE9mZnNldCA9IGUucGFnZVg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgaG93IGZhciB0aGUgdXNlcidzIG1vdXNlIGlzIGZyb20gdGhlIHRvcC9sZWZ0IG9mIHRoZSBzY3JvbGxiYXIgKG1pbnVzIHRoZSBkcmFnT2Zmc2V0KS5cbiAgICAgICAgICAgIHZhciBkcmFnUG9zID0gZXZlbnRPZmZzZXQgLVxuICAgICAgICAgICAgICAgICgoX2ggPSAoX2cgPSB0cmFjay5yZWN0KSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dbX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10ub2Zmc2V0QXR0cl0pICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IDApIC1cbiAgICAgICAgICAgICAgICBfdGhpcy5heGlzW190aGlzLmRyYWdnZWRBeGlzXS5kcmFnT2Zmc2V0O1xuICAgICAgICAgICAgZHJhZ1BvcyA9IF90aGlzLmRyYWdnZWRBeGlzID09PSAneCcgJiYgX3RoaXMuaXNSdGxcbiAgICAgICAgICAgICAgICA/ICgoX2sgPSAoX2ogPSB0cmFjay5yZWN0KSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2pbX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10uc2l6ZUF0dHJdKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiAwKSAtXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhci5zaXplIC1cbiAgICAgICAgICAgICAgICAgICAgZHJhZ1Bvc1xuICAgICAgICAgICAgICAgIDogZHJhZ1BvcztcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIG1vdXNlIHBvc2l0aW9uIGludG8gYSBwZXJjZW50YWdlIG9mIHRoZSBzY3JvbGxiYXIgaGVpZ2h0L3dpZHRoLlxuICAgICAgICAgICAgdmFyIGRyYWdQZXJjID0gZHJhZ1BvcyAvICh0cmFja1NpemUgLSBzY3JvbGxiYXIuc2l6ZSk7XG4gICAgICAgICAgICAvLyBTY3JvbGwgdGhlIGNvbnRlbnQgYnkgdGhlIHNhbWUgcGVyY2VudGFnZS5cbiAgICAgICAgICAgIHZhciBzY3JvbGxQb3MgPSBkcmFnUGVyYyAqIChjb250ZW50U2l6ZSAtIGhvc3RTaXplKTtcbiAgICAgICAgICAgIC8vIEZpeCBicm93c2VycyBpbmNvbnNpc3RlbmN5IG9uIFJUTFxuICAgICAgICAgICAgaWYgKF90aGlzLmRyYWdnZWRBeGlzID09PSAneCcgJiYgX3RoaXMuaXNSdGwpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxQb3MgPSAoKF9sID0gU2ltcGxlQmFyQ29yZS5nZXRSdGxIZWxwZXJzKCkpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5pc1Njcm9sbGluZ1RvTmVnYXRpdmUpXG4gICAgICAgICAgICAgICAgICAgID8gLXNjcm9sbFBvc1xuICAgICAgICAgICAgICAgICAgICA6IHNjcm9sbFBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmNvbnRlbnRXcmFwcGVyRWxbX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10uc2Nyb2xsT2Zmc2V0QXR0cl0gPVxuICAgICAgICAgICAgICAgIHNjcm9sbFBvcztcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuZCBzY3JvbGwgaGFuZGxlIGRyYWdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FbmREcmFnID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBlbERvY3VtZW50ID0gZ2V0RWxlbWVudERvY3VtZW50KF90aGlzLmVsKTtcbiAgICAgICAgICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3coX3RoaXMuZWwpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMoX3RoaXMuZWwsIF90aGlzLmNsYXNzTmFtZXMuZHJhZ2dpbmcpO1xuICAgICAgICAgICAgZWxEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5kcmFnLCB0cnVlKTtcbiAgICAgICAgICAgIGVsRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLm9uRW5kRHJhZywgdHJ1ZSk7XG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVQcmV2ZW50Q2xpY2tJZCA9IGVsV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGVzZSBhc3luY2hyb25vdXNseSBzbyB3ZSBzdGlsbCBzdXBwcmVzcyBjbGljayBldmVudHNcbiAgICAgICAgICAgICAgICAvLyBnZW5lcmF0ZWQgc2ltdWx0YW5lb3VzbHkgd2l0aCBtb3VzZXVwLlxuICAgICAgICAgICAgICAgIGVsRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5wcmV2ZW50Q2xpY2ssIHRydWUpO1xuICAgICAgICAgICAgICAgIGVsRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBfdGhpcy5wcmV2ZW50Q2xpY2ssIHRydWUpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZVByZXZlbnRDbGlja0lkID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlciB0byBpZ25vcmUgY2xpY2sgZXZlbnRzIGR1cmluZyBkcmFnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZlbnRDbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVsID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIFNpbXBsZUJhckNvcmUuZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jbGFzc05hbWVzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIFNpbXBsZUJhckNvcmUuZGVmYXVsdE9wdGlvbnMuY2xhc3NOYW1lcyksIG9wdGlvbnMuY2xhc3NOYW1lcyk7XG4gICAgICAgIHRoaXMuYXhpcyA9IHtcbiAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXRBdHRyOiAnc2Nyb2xsTGVmdCcsXG4gICAgICAgICAgICAgICAgc2l6ZUF0dHI6ICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgc2Nyb2xsU2l6ZUF0dHI6ICdzY3JvbGxXaWR0aCcsXG4gICAgICAgICAgICAgICAgb2Zmc2V0U2l6ZUF0dHI6ICdvZmZzZXRXaWR0aCcsXG4gICAgICAgICAgICAgICAgb2Zmc2V0QXR0cjogJ2xlZnQnLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93QXR0cjogJ292ZXJmbG93WCcsXG4gICAgICAgICAgICAgICAgZHJhZ09mZnNldDogMCxcbiAgICAgICAgICAgICAgICBpc092ZXJmbG93aW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZvcmNlVmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHJhY2s6IHsgc2l6ZTogbnVsbCwgZWw6IG51bGwsIHJlY3Q6IG51bGwsIGlzVmlzaWJsZTogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXI6IHsgc2l6ZTogbnVsbCwgZWw6IG51bGwsIHJlY3Q6IG51bGwsIGlzVmlzaWJsZTogZmFsc2UgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXRBdHRyOiAnc2Nyb2xsVG9wJyxcbiAgICAgICAgICAgICAgICBzaXplQXR0cjogJ2hlaWdodCcsXG4gICAgICAgICAgICAgICAgc2Nyb2xsU2l6ZUF0dHI6ICdzY3JvbGxIZWlnaHQnLFxuICAgICAgICAgICAgICAgIG9mZnNldFNpemVBdHRyOiAnb2Zmc2V0SGVpZ2h0JyxcbiAgICAgICAgICAgICAgICBvZmZzZXRBdHRyOiAndG9wJyxcbiAgICAgICAgICAgICAgICBvdmVyZmxvd0F0dHI6ICdvdmVyZmxvd1knLFxuICAgICAgICAgICAgICAgIGRyYWdPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgaXNPdmVyZmxvd2luZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmb3JjZVZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRyYWNrOiB7IHNpemU6IG51bGwsIGVsOiBudWxsLCByZWN0OiBudWxsLCBpc1Zpc2libGU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyOiB7IHNpemU6IG51bGwsIGVsOiBudWxsLCByZWN0OiBudWxsLCBpc1Zpc2libGU6IGZhbHNlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmVsICE9PSAnb2JqZWN0JyB8fCAhdGhpcy5lbC5ub2RlTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgcGFzc2VkIHRvIFNpbXBsZUJhciBtdXN0IGJlIGFuIEhUTUwgZWxlbWVudCBpbnN0ZWFkIG9mIFwiLmNvbmNhdCh0aGlzLmVsKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbk1vdXNlTW92ZSA9IHRocm90dGxlKHRoaXMuX29uTW91c2VNb3ZlLCA2NCk7XG4gICAgICAgIHRoaXMub25XaW5kb3dSZXNpemUgPSBkZWJvdW5jZSh0aGlzLl9vbldpbmRvd1Jlc2l6ZSwgNjQsIHsgbGVhZGluZzogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5vblN0b3BTY3JvbGxpbmcgPSBkZWJvdW5jZSh0aGlzLl9vblN0b3BTY3JvbGxpbmcsIHRoaXMuc3RvcFNjcm9sbERlbGF5KTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRW50ZXJlZCA9IGRlYm91bmNlKHRoaXMuX29uTW91c2VFbnRlcmVkLCB0aGlzLnN0b3BTY3JvbGxEZWxheSk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgdG8gZml4IGJyb3dzZXJzIGluY29uc2lzdGVuY3kgb24gUlRMOlxuICAgICAqICAtIEZpcmVmb3ggaW52ZXJ0cyB0aGUgc2Nyb2xsYmFyIGluaXRpYWwgcG9zaXRpb25cbiAgICAgKiAgLSBJRTExIGludmVydHMgYm90aCBzY3JvbGxiYXIgcG9zaXRpb24gYW5kIHNjcm9sbGluZyBvZmZzZXRcbiAgICAgKiBEaXJlY3RseSBpbnNwaXJlZCBieSBAS2luZ1NvcmEncyBPdmVybGF5U2Nyb2xsYmFycyBodHRwczovL2dpdGh1Yi5jb20vS2luZ1NvcmEvT3ZlcmxheVNjcm9sbGJhcnMvYmxvYi9tYXN0ZXIvanMvT3ZlcmxheVNjcm9sbGJhcnMuanMjTDE2MzRcbiAgICAgKi9cbiAgICBTaW1wbGVCYXJDb3JlLmdldFJ0bEhlbHBlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChTaW1wbGVCYXJDb3JlLnJ0bEhlbHBlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBTaW1wbGVCYXJDb3JlLnJ0bEhlbHBlcnM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGR1bW15RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGR1bW15RGl2LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNpbXBsZWJhci1kdW1teS1zY3JvbGxiYXItc2l6ZVwiPjxkaXY+PC9kaXY+PC9kaXY+JztcbiAgICAgICAgdmFyIHNjcm9sbGJhckR1bW15RWwgPSBkdW1teURpdi5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgdmFyIGR1bW15Q2hpbGQgPSBzY3JvbGxiYXJEdW1teUVsID09PSBudWxsIHx8IHNjcm9sbGJhckR1bW15RWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNjcm9sbGJhckR1bW15RWwuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgIGlmICghZHVtbXlDaGlsZClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbGJhckR1bW15RWwpO1xuICAgICAgICBzY3JvbGxiYXJEdW1teUVsLnNjcm9sbExlZnQgPSAwO1xuICAgICAgICB2YXIgZHVtbXlDb250YWluZXJPZmZzZXQgPSBTaW1wbGVCYXJDb3JlLmdldE9mZnNldChzY3JvbGxiYXJEdW1teUVsKTtcbiAgICAgICAgdmFyIGR1bW15Q2hpbGRPZmZzZXQgPSBTaW1wbGVCYXJDb3JlLmdldE9mZnNldChkdW1teUNoaWxkKTtcbiAgICAgICAgc2Nyb2xsYmFyRHVtbXlFbC5zY3JvbGxMZWZ0ID0gLTk5OTtcbiAgICAgICAgdmFyIGR1bW15Q2hpbGRPZmZzZXRBZnRlclNjcm9sbCA9IFNpbXBsZUJhckNvcmUuZ2V0T2Zmc2V0KGR1bW15Q2hpbGQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbGJhckR1bW15RWwpO1xuICAgICAgICBTaW1wbGVCYXJDb3JlLnJ0bEhlbHBlcnMgPSB7XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmVzIGlmIHRoZSBzY3JvbGxpbmcgaXMgcmVzcG9uZGluZyB3aXRoIG5lZ2F0aXZlIHZhbHVlc1xuICAgICAgICAgICAgaXNTY3JvbGxPcmlnaW5BdFplcm86IGR1bW15Q29udGFpbmVyT2Zmc2V0LmxlZnQgIT09IGR1bW15Q2hpbGRPZmZzZXQubGVmdCxcbiAgICAgICAgICAgIC8vIGRldGVybWluZXMgaWYgdGhlIG9yaWdpbiBzY3JvbGxiYXIgcG9zaXRpb24gaXMgaW52ZXJ0ZWQgb3Igbm90IChwb3NpdGlvbmVkIG9uIGxlZnQgb3IgcmlnaHQpXG4gICAgICAgICAgICBpc1Njcm9sbGluZ1RvTmVnYXRpdmU6IGR1bW15Q2hpbGRPZmZzZXQubGVmdCAhPT0gZHVtbXlDaGlsZE9mZnNldEFmdGVyU2Nyb2xsLmxlZnRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFNpbXBsZUJhckNvcmUucnRsSGVscGVycztcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmdldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUcnkvY2F0Y2ggZm9yIEZGIDU2IHRocm93aW5nIG9uIHVuZGVmaW5lZCBjb21wdXRlZFN0eWxlc1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRGV0ZWN0IGJyb3dzZXJzIHN1cHBvcnRpbmcgQ1NTIHNjcm9sbGJhciBzdHlsaW5nIGFuZCBkbyBub3QgY2FsY3VsYXRlXG4gICAgICAgICAgICBpZiAoKHRoaXMuY29udGVudFdyYXBwZXJFbCAmJlxuICAgICAgICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUodGhpcy5jb250ZW50V3JhcHBlckVsLCAnOjotd2Via2l0LXNjcm9sbGJhcicpXG4gICAgICAgICAgICAgICAgICAgIC5kaXNwbGF5ID09PSAnbm9uZScpIHx8XG4gICAgICAgICAgICAgICAgJ3Njcm9sbGJhcldpZHRoJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgfHxcbiAgICAgICAgICAgICAgICAnLW1zLW92ZXJmbG93LXN0eWxlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGgoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5nZXRPZmZzZXQgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGVsRG9jdW1lbnQgPSBnZXRFbGVtZW50RG9jdW1lbnQoZWwpO1xuICAgICAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KGVsKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgK1xuICAgICAgICAgICAgICAgIChlbFdpbmRvdy5wYWdlWU9mZnNldCB8fCBlbERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLFxuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICtcbiAgICAgICAgICAgICAgICAoZWxXaW5kb3cucGFnZVhPZmZzZXQgfHwgZWxEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdClcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdlIHN0b3AgaGVyZSBvbiBzZXJ2ZXItc2lkZVxuICAgICAgICBpZiAoY2FuVXNlRE9NKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRET00oKTtcbiAgICAgICAgICAgIHRoaXMucnRsSGVscGVycyA9IFNpbXBsZUJhckNvcmUuZ2V0UnRsSGVscGVycygpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IHRoaXMuZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGVCYXJDb3JlLnByb3RvdHlwZS5pbml0RE9NID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAvLyBhc3N1bWUgdGhhdCBlbGVtZW50IGhhcyBoaXMgRE9NIGFscmVhZHkgaW5pdGlhdGVkXG4gICAgICAgIHRoaXMud3JhcHBlckVsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKGNsYXNzTmFtZXNUb1F1ZXJ5KHRoaXMuY2xhc3NOYW1lcy53cmFwcGVyKSk7XG4gICAgICAgIHRoaXMuY29udGVudFdyYXBwZXJFbCA9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2Nyb2xsYWJsZU5vZGUgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLmNvbnRlbnRXcmFwcGVyKSk7XG4gICAgICAgIHRoaXMuY29udGVudEVsID1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jb250ZW50Tm9kZSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcihjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMuY29udGVudEVsKSk7XG4gICAgICAgIHRoaXMub2Zmc2V0RWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLm9mZnNldCkpO1xuICAgICAgICB0aGlzLm1hc2tFbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcihjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMubWFzaykpO1xuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyRWwgPSB0aGlzLmZpbmRDaGlsZCh0aGlzLndyYXBwZXJFbCwgY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLnBsYWNlaG9sZGVyKSk7XG4gICAgICAgIHRoaXMuaGVpZ2h0QXV0b09ic2VydmVyV3JhcHBlckVsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKGNsYXNzTmFtZXNUb1F1ZXJ5KHRoaXMuY2xhc3NOYW1lcy5oZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWwpKTtcbiAgICAgICAgdGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJFbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcihjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMuaGVpZ2h0QXV0b09ic2VydmVyRWwpKTtcbiAgICAgICAgdGhpcy5heGlzLngudHJhY2suZWwgPSB0aGlzLmZpbmRDaGlsZCh0aGlzLmVsLCBcIlwiLmNvbmNhdChjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMudHJhY2spKS5jb25jYXQoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLmhvcml6b250YWwpKSk7XG4gICAgICAgIHRoaXMuYXhpcy55LnRyYWNrLmVsID0gdGhpcy5maW5kQ2hpbGQodGhpcy5lbCwgXCJcIi5jb25jYXQoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLnRyYWNrKSkuY29uY2F0KGNsYXNzTmFtZXNUb1F1ZXJ5KHRoaXMuY2xhc3NOYW1lcy52ZXJ0aWNhbCkpKTtcbiAgICAgICAgdGhpcy5heGlzLnguc2Nyb2xsYmFyLmVsID1cbiAgICAgICAgICAgICgoX2EgPSB0aGlzLmF4aXMueC50cmFjay5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3IoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLnNjcm9sbGJhcikpKSB8fCBudWxsO1xuICAgICAgICB0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwgPVxuICAgICAgICAgICAgKChfYiA9IHRoaXMuYXhpcy55LnRyYWNrLmVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucXVlcnlTZWxlY3RvcihjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYmFyKSkpIHx8IG51bGw7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmF1dG9IaWRlKSB7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKHRoaXMuYXhpcy54LnNjcm9sbGJhci5lbCwgdGhpcy5jbGFzc05hbWVzLnZpc2libGUpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwsIHRoaXMuY2xhc3NOYW1lcy52aXNpYmxlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuaW5pdExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KHRoaXMuZWwpO1xuICAgICAgICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlKTtcbiAgICAgICAgKF9hID0gdGhpcy5jb250ZW50V3JhcHBlckVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIC8vIEJyb3dzZXIgem9vbSB0cmlnZ2VycyBhIHdpbmRvdyByZXNpemVcbiAgICAgICAgZWxXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZSk7XG4gICAgICAgIGlmICghdGhpcy5jb250ZW50RWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh3aW5kb3cuUmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIC8vIEhhY2sgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL1Jlc2l6ZU9ic2VydmVyL2lzc3Vlcy8zOFxuICAgICAgICAgICAgdmFyIHJlc2l6ZU9ic2VydmVyU3RhcnRlZF8xID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcmVzaXplT2JzZXJ2ZXIgPSBlbFdpbmRvdy5SZXNpemVPYnNlcnZlciB8fCBSZXNpemVPYnNlcnZlcjtcbiAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgcmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghcmVzaXplT2JzZXJ2ZXJTdGFydGVkXzEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBlbFdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWNhbGN1bGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5lbCk7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5jb250ZW50RWwpO1xuICAgICAgICAgICAgZWxXaW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXNpemVPYnNlcnZlclN0YXJ0ZWRfMSA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIHRvIGRldGVjdCBob3Jpem9udGFsIHNjcm9sbC4gVmVydGljYWwgc2Nyb2xsIG9ubHkgbmVlZHMgdGhlIHJlc2l6ZU9ic2VydmVyLlxuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgZWxXaW5kb3cuTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlbFdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuY29udGVudEVsLCB7XG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLnJlY2FsY3VsYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0QXV0b09ic2VydmVyRWwgfHxcbiAgICAgICAgICAgICF0aGlzLmNvbnRlbnRFbCB8fFxuICAgICAgICAgICAgIXRoaXMuY29udGVudFdyYXBwZXJFbCB8fFxuICAgICAgICAgICAgIXRoaXMud3JhcHBlckVsIHx8XG4gICAgICAgICAgICAhdGhpcy5wbGFjZWhvbGRlckVsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KHRoaXMuZWwpO1xuICAgICAgICB0aGlzLmVsU3R5bGVzID0gZWxXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsKTtcbiAgICAgICAgdGhpcy5pc1J0bCA9IHRoaXMuZWxTdHlsZXMuZGlyZWN0aW9uID09PSAncnRsJztcbiAgICAgICAgdmFyIGNvbnRlbnRFbE9mZnNldFdpZHRoID0gdGhpcy5jb250ZW50RWwub2Zmc2V0V2lkdGg7XG4gICAgICAgIHZhciBpc0hlaWdodEF1dG8gPSB0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsLm9mZnNldEhlaWdodCA8PSAxO1xuICAgICAgICB2YXIgaXNXaWR0aEF1dG8gPSB0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsLm9mZnNldFdpZHRoIDw9IDEgfHwgY29udGVudEVsT2Zmc2V0V2lkdGggPiAwO1xuICAgICAgICB2YXIgY29udGVudFdyYXBwZXJFbE9mZnNldFdpZHRoID0gdGhpcy5jb250ZW50V3JhcHBlckVsLm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgZWxPdmVyZmxvd1ggPSB0aGlzLmVsU3R5bGVzLm92ZXJmbG93WDtcbiAgICAgICAgdmFyIGVsT3ZlcmZsb3dZID0gdGhpcy5lbFN0eWxlcy5vdmVyZmxvd1k7XG4gICAgICAgIHRoaXMuY29udGVudEVsLnN0eWxlLnBhZGRpbmcgPSBcIlwiLmNvbmNhdCh0aGlzLmVsU3R5bGVzLnBhZGRpbmdUb3AsIFwiIFwiKS5jb25jYXQodGhpcy5lbFN0eWxlcy5wYWRkaW5nUmlnaHQsIFwiIFwiKS5jb25jYXQodGhpcy5lbFN0eWxlcy5wYWRkaW5nQm90dG9tLCBcIiBcIikuY29uY2F0KHRoaXMuZWxTdHlsZXMucGFkZGluZ0xlZnQpO1xuICAgICAgICB0aGlzLndyYXBwZXJFbC5zdHlsZS5tYXJnaW4gPSBcIi1cIi5jb25jYXQodGhpcy5lbFN0eWxlcy5wYWRkaW5nVG9wLCBcIiAtXCIpLmNvbmNhdCh0aGlzLmVsU3R5bGVzLnBhZGRpbmdSaWdodCwgXCIgLVwiKS5jb25jYXQodGhpcy5lbFN0eWxlcy5wYWRkaW5nQm90dG9tLCBcIiAtXCIpLmNvbmNhdCh0aGlzLmVsU3R5bGVzLnBhZGRpbmdMZWZ0KTtcbiAgICAgICAgdmFyIGNvbnRlbnRFbFNjcm9sbEhlaWdodCA9IHRoaXMuY29udGVudEVsLnNjcm9sbEhlaWdodDtcbiAgICAgICAgdmFyIGNvbnRlbnRFbFNjcm9sbFdpZHRoID0gdGhpcy5jb250ZW50RWwuc2Nyb2xsV2lkdGg7XG4gICAgICAgIHRoaXMuY29udGVudFdyYXBwZXJFbC5zdHlsZS5oZWlnaHQgPSBpc0hlaWdodEF1dG8gPyAnYXV0bycgOiAnMTAwJSc7XG4gICAgICAgIC8vIERldGVybWluZSBwbGFjZWhvbGRlciBzaXplXG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXJFbC5zdHlsZS53aWR0aCA9IGlzV2lkdGhBdXRvXG4gICAgICAgICAgICA/IFwiXCIuY29uY2F0KGNvbnRlbnRFbE9mZnNldFdpZHRoIHx8IGNvbnRlbnRFbFNjcm9sbFdpZHRoLCBcInB4XCIpXG4gICAgICAgICAgICA6ICdhdXRvJztcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlckVsLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KGNvbnRlbnRFbFNjcm9sbEhlaWdodCwgXCJweFwiKTtcbiAgICAgICAgdmFyIGNvbnRlbnRXcmFwcGVyRWxPZmZzZXRIZWlnaHQgPSB0aGlzLmNvbnRlbnRXcmFwcGVyRWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB0aGlzLmF4aXMueC5pc092ZXJmbG93aW5nID1cbiAgICAgICAgICAgIGNvbnRlbnRFbE9mZnNldFdpZHRoICE9PSAwICYmIGNvbnRlbnRFbFNjcm9sbFdpZHRoID4gY29udGVudEVsT2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmcgPVxuICAgICAgICAgICAgY29udGVudEVsU2Nyb2xsSGVpZ2h0ID4gY29udGVudFdyYXBwZXJFbE9mZnNldEhlaWdodDtcbiAgICAgICAgLy8gU2V0IGlzT3ZlcmZsb3dpbmcgdG8gZmFsc2UgaWYgdXNlciBleHBsaWNpdGVseSBzZXQgaGlkZGVuIG92ZXJmbG93XG4gICAgICAgIHRoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmcgPVxuICAgICAgICAgICAgZWxPdmVyZmxvd1ggPT09ICdoaWRkZW4nID8gZmFsc2UgOiB0aGlzLmF4aXMueC5pc092ZXJmbG93aW5nO1xuICAgICAgICB0aGlzLmF4aXMueS5pc092ZXJmbG93aW5nID1cbiAgICAgICAgICAgIGVsT3ZlcmZsb3dZID09PSAnaGlkZGVuJyA/IGZhbHNlIDogdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZztcbiAgICAgICAgdGhpcy5heGlzLnguZm9yY2VWaXNpYmxlID1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5mb3JjZVZpc2libGUgPT09ICd4JyB8fCB0aGlzLm9wdGlvbnMuZm9yY2VWaXNpYmxlID09PSB0cnVlO1xuICAgICAgICB0aGlzLmF4aXMueS5mb3JjZVZpc2libGUgPVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvcmNlVmlzaWJsZSA9PT0gJ3knIHx8IHRoaXMub3B0aW9ucy5mb3JjZVZpc2libGUgPT09IHRydWU7XG4gICAgICAgIHRoaXMuaGlkZU5hdGl2ZVNjcm9sbGJhcigpO1xuICAgICAgICAvLyBTZXQgaXNPdmVyZmxvd2luZyB0byBmYWxzZSBpZiBzY3JvbGxiYXIgaXMgbm90IG5lY2Vzc2FyeSAoY29udGVudCBpcyBzaG9ydGVyIHRoYW4gb2Zmc2V0KVxuICAgICAgICB2YXIgb2Zmc2V0Rm9yWFNjcm9sbGJhciA9IHRoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmdcbiAgICAgICAgICAgID8gdGhpcy5zY3JvbGxiYXJXaWR0aFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB2YXIgb2Zmc2V0Rm9yWVNjcm9sbGJhciA9IHRoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmdcbiAgICAgICAgICAgID8gdGhpcy5zY3JvbGxiYXJXaWR0aFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB0aGlzLmF4aXMueC5pc092ZXJmbG93aW5nID1cbiAgICAgICAgICAgIHRoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmcgJiZcbiAgICAgICAgICAgICAgICBjb250ZW50RWxTY3JvbGxXaWR0aCA+IGNvbnRlbnRXcmFwcGVyRWxPZmZzZXRXaWR0aCAtIG9mZnNldEZvcllTY3JvbGxiYXI7XG4gICAgICAgIHRoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmcgPVxuICAgICAgICAgICAgdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZyAmJlxuICAgICAgICAgICAgICAgIGNvbnRlbnRFbFNjcm9sbEhlaWdodCA+XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXcmFwcGVyRWxPZmZzZXRIZWlnaHQgLSBvZmZzZXRGb3JYU2Nyb2xsYmFyO1xuICAgICAgICB0aGlzLmF4aXMueC5zY3JvbGxiYXIuc2l6ZSA9IHRoaXMuZ2V0U2Nyb2xsYmFyU2l6ZSgneCcpO1xuICAgICAgICB0aGlzLmF4aXMueS5zY3JvbGxiYXIuc2l6ZSA9IHRoaXMuZ2V0U2Nyb2xsYmFyU2l6ZSgneScpO1xuICAgICAgICBpZiAodGhpcy5heGlzLnguc2Nyb2xsYmFyLmVsKVxuICAgICAgICAgICAgdGhpcy5heGlzLnguc2Nyb2xsYmFyLmVsLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQodGhpcy5heGlzLnguc2Nyb2xsYmFyLnNpemUsIFwicHhcIik7XG4gICAgICAgIGlmICh0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwpXG4gICAgICAgICAgICB0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQodGhpcy5heGlzLnkuc2Nyb2xsYmFyLnNpemUsIFwicHhcIik7XG4gICAgICAgIHRoaXMucG9zaXRpb25TY3JvbGxiYXIoJ3gnKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvblNjcm9sbGJhcigneScpO1xuICAgICAgICB0aGlzLnRvZ2dsZVRyYWNrVmlzaWJpbGl0eSgneCcpO1xuICAgICAgICB0aGlzLnRvZ2dsZVRyYWNrVmlzaWJpbGl0eSgneScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHNjcm9sbGJhciBzaXplXG4gICAgICovXG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuZ2V0U2Nyb2xsYmFyU2l6ZSA9IGZ1bmN0aW9uIChheGlzKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChheGlzID09PSB2b2lkIDApIHsgYXhpcyA9ICd5JzsgfVxuICAgICAgICBpZiAoIXRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nIHx8ICF0aGlzLmNvbnRlbnRFbCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRlbnRTaXplID0gdGhpcy5jb250ZW50RWxbdGhpcy5heGlzW2F4aXNdLnNjcm9sbFNpemVBdHRyXTtcbiAgICAgICAgdmFyIHRyYWNrU2l6ZSA9IChfYiA9IChfYSA9IHRoaXMuYXhpc1theGlzXS50cmFjay5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3RoaXMuYXhpc1theGlzXS5vZmZzZXRTaXplQXR0cl0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgICAgIHZhciBzY3JvbGxiYXJSYXRpbyA9IHRyYWNrU2l6ZSAvIGNvbnRlbnRTaXplO1xuICAgICAgICB2YXIgc2Nyb2xsYmFyU2l6ZTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG5ldyBoZWlnaHQvcG9zaXRpb24gb2YgZHJhZyBoYW5kbGUuXG4gICAgICAgIHNjcm9sbGJhclNpemUgPSBNYXRoLm1heCh+fihzY3JvbGxiYXJSYXRpbyAqIHRyYWNrU2l6ZSksIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJNaW5TaXplKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zY3JvbGxiYXJNYXhTaXplKSB7XG4gICAgICAgICAgICBzY3JvbGxiYXJTaXplID0gTWF0aC5taW4oc2Nyb2xsYmFyU2l6ZSwgdGhpcy5vcHRpb25zLnNjcm9sbGJhck1heFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY3JvbGxiYXJTaXplO1xuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUucG9zaXRpb25TY3JvbGxiYXIgPSBmdW5jdGlvbiAoYXhpcykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKGF4aXMgPT09IHZvaWQgMCkgeyBheGlzID0gJ3knOyB9XG4gICAgICAgIHZhciBzY3JvbGxiYXIgPSB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyO1xuICAgICAgICBpZiAoIXRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nIHx8XG4gICAgICAgICAgICAhdGhpcy5jb250ZW50V3JhcHBlckVsIHx8XG4gICAgICAgICAgICAhc2Nyb2xsYmFyLmVsIHx8XG4gICAgICAgICAgICAhdGhpcy5lbFN0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZW50U2l6ZSA9IHRoaXMuY29udGVudFdyYXBwZXJFbFt0aGlzLmF4aXNbYXhpc10uc2Nyb2xsU2l6ZUF0dHJdO1xuICAgICAgICB2YXIgdHJhY2tTaXplID0gKChfYSA9IHRoaXMuYXhpc1theGlzXS50cmFjay5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3RoaXMuYXhpc1theGlzXS5vZmZzZXRTaXplQXR0cl0pIHx8IDA7XG4gICAgICAgIHZhciBob3N0U2l6ZSA9IHBhcnNlSW50KHRoaXMuZWxTdHlsZXNbdGhpcy5heGlzW2F4aXNdLnNpemVBdHRyXSwgMTApO1xuICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5jb250ZW50V3JhcHBlckVsW3RoaXMuYXhpc1theGlzXS5zY3JvbGxPZmZzZXRBdHRyXTtcbiAgICAgICAgc2Nyb2xsT2Zmc2V0ID1cbiAgICAgICAgICAgIGF4aXMgPT09ICd4JyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuaXNSdGwgJiZcbiAgICAgICAgICAgICAgICAoKF9iID0gU2ltcGxlQmFyQ29yZS5nZXRSdGxIZWxwZXJzKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pc1Njcm9sbE9yaWdpbkF0WmVybylcbiAgICAgICAgICAgICAgICA/IC1zY3JvbGxPZmZzZXRcbiAgICAgICAgICAgICAgICA6IHNjcm9sbE9mZnNldDtcbiAgICAgICAgaWYgKGF4aXMgPT09ICd4JyAmJiB0aGlzLmlzUnRsKSB7XG4gICAgICAgICAgICBzY3JvbGxPZmZzZXQgPSAoKF9jID0gU2ltcGxlQmFyQ29yZS5nZXRSdGxIZWxwZXJzKCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pc1Njcm9sbGluZ1RvTmVnYXRpdmUpXG4gICAgICAgICAgICAgICAgPyBzY3JvbGxPZmZzZXRcbiAgICAgICAgICAgICAgICA6IC1zY3JvbGxPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjcm9sbFBvdXJjZW50ID0gc2Nyb2xsT2Zmc2V0IC8gKGNvbnRlbnRTaXplIC0gaG9zdFNpemUpO1xuICAgICAgICB2YXIgaGFuZGxlT2Zmc2V0ID0gfn4oKHRyYWNrU2l6ZSAtIHNjcm9sbGJhci5zaXplKSAqIHNjcm9sbFBvdXJjZW50KTtcbiAgICAgICAgaGFuZGxlT2Zmc2V0ID1cbiAgICAgICAgICAgIGF4aXMgPT09ICd4JyAmJiB0aGlzLmlzUnRsXG4gICAgICAgICAgICAgICAgPyAtaGFuZGxlT2Zmc2V0ICsgKHRyYWNrU2l6ZSAtIHNjcm9sbGJhci5zaXplKVxuICAgICAgICAgICAgICAgIDogaGFuZGxlT2Zmc2V0O1xuICAgICAgICBzY3JvbGxiYXIuZWwuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgICAgIGF4aXMgPT09ICd4J1xuICAgICAgICAgICAgICAgID8gXCJ0cmFuc2xhdGUzZChcIi5jb25jYXQoaGFuZGxlT2Zmc2V0LCBcInB4LCAwLCAwKVwiKVxuICAgICAgICAgICAgICAgIDogXCJ0cmFuc2xhdGUzZCgwLCBcIi5jb25jYXQoaGFuZGxlT2Zmc2V0LCBcInB4LCAwKVwiKTtcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLnRvZ2dsZVRyYWNrVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChheGlzKSB7XG4gICAgICAgIGlmIChheGlzID09PSB2b2lkIDApIHsgYXhpcyA9ICd5JzsgfVxuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLmF4aXNbYXhpc10udHJhY2suZWw7XG4gICAgICAgIHZhciBzY3JvbGxiYXIgPSB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLmVsO1xuICAgICAgICBpZiAoIXRyYWNrIHx8ICFzY3JvbGxiYXIgfHwgIXRoaXMuY29udGVudFdyYXBwZXJFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nIHx8IHRoaXMuYXhpc1theGlzXS5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgICAgIHRyYWNrLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwuc3R5bGVbdGhpcy5heGlzW2F4aXNdLm92ZXJmbG93QXR0cl0gPSAnc2Nyb2xsJztcbiAgICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChcIlwiLmNvbmNhdCh0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYWJsZSwgXCItXCIpLmNvbmNhdChheGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFjay5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwuc3R5bGVbdGhpcy5heGlzW2F4aXNdLm92ZXJmbG93QXR0cl0gPSAnaGlkZGVuJztcbiAgICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZShcIlwiLmNvbmNhdCh0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYWJsZSwgXCItXCIpLmNvbmNhdChheGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXZlbiBpZiBmb3JjZVZpc2libGUgaXMgZW5hYmxlZCwgc2Nyb2xsYmFyIGl0c2VsZiBzaG91bGQgYmUgaGlkZGVuXG4gICAgICAgIGlmICh0aGlzLmF4aXNbYXhpc10uaXNPdmVyZmxvd2luZykge1xuICAgICAgICAgICAgc2Nyb2xsYmFyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2Nyb2xsYmFyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLnNob3dTY3JvbGxiYXIgPSBmdW5jdGlvbiAoYXhpcykge1xuICAgICAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7IGF4aXMgPSAneSc7IH1cbiAgICAgICAgaWYgKHRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nICYmICF0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLmVsLCB0aGlzLmNsYXNzTmFtZXMudmlzaWJsZSk7XG4gICAgICAgICAgICB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmhpZGVTY3JvbGxiYXIgPSBmdW5jdGlvbiAoYXhpcykge1xuICAgICAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7IGF4aXMgPSAneSc7IH1cbiAgICAgICAgaWYgKHRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nICYmIHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICByZW1vdmVDbGFzc2VzKHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuZWwsIHRoaXMuY2xhc3NOYW1lcy52aXNpYmxlKTtcbiAgICAgICAgICAgIHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmhpZGVOYXRpdmVTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5vZmZzZXRFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vZmZzZXRFbC5zdHlsZVt0aGlzLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0J10gPVxuICAgICAgICAgICAgdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZyB8fCB0aGlzLmF4aXMueS5mb3JjZVZpc2libGVcbiAgICAgICAgICAgICAgICA/IFwiLVwiLmNvbmNhdCh0aGlzLnNjcm9sbGJhcldpZHRoLCBcInB4XCIpXG4gICAgICAgICAgICAgICAgOiAnMHB4JztcbiAgICAgICAgdGhpcy5vZmZzZXRFbC5zdHlsZS5ib3R0b20gPVxuICAgICAgICAgICAgdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZyB8fCB0aGlzLmF4aXMueC5mb3JjZVZpc2libGVcbiAgICAgICAgICAgICAgICA/IFwiLVwiLmNvbmNhdCh0aGlzLnNjcm9sbGJhcldpZHRoLCBcInB4XCIpXG4gICAgICAgICAgICAgICAgOiAnMHB4JztcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLm9uTW91c2VNb3ZlRm9yQXhpcyA9IGZ1bmN0aW9uIChheGlzKSB7XG4gICAgICAgIGlmIChheGlzID09PSB2b2lkIDApIHsgYXhpcyA9ICd5JzsgfVxuICAgICAgICB2YXIgY3VycmVudEF4aXMgPSB0aGlzLmF4aXNbYXhpc107XG4gICAgICAgIGlmICghY3VycmVudEF4aXMudHJhY2suZWwgfHwgIWN1cnJlbnRBeGlzLnNjcm9sbGJhci5lbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY3VycmVudEF4aXMudHJhY2sucmVjdCA9IGN1cnJlbnRBeGlzLnRyYWNrLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjdXJyZW50QXhpcy5zY3JvbGxiYXIucmVjdCA9XG4gICAgICAgICAgICBjdXJyZW50QXhpcy5zY3JvbGxiYXIuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmICh0aGlzLmlzV2l0aGluQm91bmRzKGN1cnJlbnRBeGlzLnRyYWNrLnJlY3QpKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dTY3JvbGxiYXIoYXhpcyk7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKGN1cnJlbnRBeGlzLnRyYWNrLmVsLCB0aGlzLmNsYXNzTmFtZXMuaG92ZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNXaXRoaW5Cb3VuZHMoY3VycmVudEF4aXMuc2Nyb2xsYmFyLnJlY3QpKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NlcyhjdXJyZW50QXhpcy5zY3JvbGxiYXIuZWwsIHRoaXMuY2xhc3NOYW1lcy5ob3Zlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzc2VzKGN1cnJlbnRBeGlzLnNjcm9sbGJhci5lbCwgdGhpcy5jbGFzc05hbWVzLmhvdmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMoY3VycmVudEF4aXMudHJhY2suZWwsIHRoaXMuY2xhc3NOYW1lcy5ob3Zlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9IaWRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlU2Nyb2xsYmFyKGF4aXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGVCYXJDb3JlLnByb3RvdHlwZS5vbk1vdXNlTGVhdmVGb3JBeGlzID0gZnVuY3Rpb24gKGF4aXMpIHtcbiAgICAgICAgaWYgKGF4aXMgPT09IHZvaWQgMCkgeyBheGlzID0gJ3knOyB9XG4gICAgICAgIHJlbW92ZUNsYXNzZXModGhpcy5heGlzW2F4aXNdLnRyYWNrLmVsLCB0aGlzLmNsYXNzTmFtZXMuaG92ZXIpO1xuICAgICAgICByZW1vdmVDbGFzc2VzKHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuZWwsIHRoaXMuY2xhc3NOYW1lcy5ob3Zlcik7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0hpZGUpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZVNjcm9sbGJhcihheGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogb24gc2Nyb2xsYmFyIGhhbmRsZSBkcmFnIG1vdmVtZW50IHN0YXJ0c1xuICAgICAqL1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLm9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGUsIGF4aXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7IGF4aXMgPSAneSc7IH1cbiAgICAgICAgdmFyIGVsRG9jdW1lbnQgPSBnZXRFbGVtZW50RG9jdW1lbnQodGhpcy5lbCk7XG4gICAgICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3codGhpcy5lbCk7XG4gICAgICAgIHZhciBzY3JvbGxiYXIgPSB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyO1xuICAgICAgICAvLyBNZWFzdXJlIGhvdyBmYXIgdGhlIHVzZXIncyBtb3VzZSBpcyBmcm9tIHRoZSB0b3Agb2YgdGhlIHNjcm9sbGJhciBkcmFnIGhhbmRsZS5cbiAgICAgICAgdmFyIGV2ZW50T2Zmc2V0ID0gYXhpcyA9PT0gJ3knID8gZS5wYWdlWSA6IGUucGFnZVg7XG4gICAgICAgIHRoaXMuYXhpc1theGlzXS5kcmFnT2Zmc2V0ID1cbiAgICAgICAgICAgIGV2ZW50T2Zmc2V0IC0gKCgoX2EgPSBzY3JvbGxiYXIucmVjdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3RoaXMuYXhpc1theGlzXS5vZmZzZXRBdHRyXSkgfHwgMCk7XG4gICAgICAgIHRoaXMuZHJhZ2dlZEF4aXMgPSBheGlzO1xuICAgICAgICBhZGRDbGFzc2VzKHRoaXMuZWwsIHRoaXMuY2xhc3NOYW1lcy5kcmFnZ2luZyk7XG4gICAgICAgIGVsRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5kcmFnLCB0cnVlKTtcbiAgICAgICAgZWxEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbkVuZERyYWcsIHRydWUpO1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVQcmV2ZW50Q2xpY2tJZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZWxEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucHJldmVudENsaWNrLCB0cnVlKTtcbiAgICAgICAgICAgIGVsRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLnByZXZlbnRDbGljaywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbFdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZW1vdmVQcmV2ZW50Q2xpY2tJZCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVByZXZlbnRDbGlja0lkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUub25UcmFja0NsaWNrID0gZnVuY3Rpb24gKGUsIGF4aXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7IGF4aXMgPSAneSc7IH1cbiAgICAgICAgdmFyIGN1cnJlbnRBeGlzID0gdGhpcy5heGlzW2F4aXNdO1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5jbGlja09uVHJhY2sgfHxcbiAgICAgICAgICAgICFjdXJyZW50QXhpcy5zY3JvbGxiYXIuZWwgfHxcbiAgICAgICAgICAgICF0aGlzLmNvbnRlbnRXcmFwcGVyRWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIFByZXZlbnRpbmcgdGhlIGV2ZW50J3MgZGVmYXVsdCB0byB0cmlnZ2VyIGNsaWNrIHVuZGVybmVhdGhcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KHRoaXMuZWwpO1xuICAgICAgICB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLnJlY3QgPVxuICAgICAgICAgICAgY3VycmVudEF4aXMuc2Nyb2xsYmFyLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgc2Nyb2xsYmFyID0gdGhpcy5heGlzW2F4aXNdLnNjcm9sbGJhcjtcbiAgICAgICAgdmFyIHNjcm9sbGJhck9mZnNldCA9IChfYiA9IChfYSA9IHNjcm9sbGJhci5yZWN0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbdGhpcy5heGlzW2F4aXNdLm9mZnNldEF0dHJdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICB2YXIgaG9zdFNpemUgPSBwYXJzZUludCgoX2QgPSAoX2MgPSB0aGlzLmVsU3R5bGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbdGhpcy5heGlzW2F4aXNdLnNpemVBdHRyXSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJzBweCcsIDEwKTtcbiAgICAgICAgdmFyIHNjcm9sbGVkID0gdGhpcy5jb250ZW50V3JhcHBlckVsW3RoaXMuYXhpc1theGlzXS5zY3JvbGxPZmZzZXRBdHRyXTtcbiAgICAgICAgdmFyIHQgPSBheGlzID09PSAneSdcbiAgICAgICAgICAgID8gdGhpcy5tb3VzZVkgLSBzY3JvbGxiYXJPZmZzZXRcbiAgICAgICAgICAgIDogdGhpcy5tb3VzZVggLSBzY3JvbGxiYXJPZmZzZXQ7XG4gICAgICAgIHZhciBkaXIgPSB0IDwgMCA/IC0xIDogMTtcbiAgICAgICAgdmFyIHNjcm9sbFNpemUgPSBkaXIgPT09IC0xID8gc2Nyb2xsZWQgLSBob3N0U2l6ZSA6IHNjcm9sbGVkICsgaG9zdFNpemU7XG4gICAgICAgIHZhciBzcGVlZCA9IDQwO1xuICAgICAgICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmNvbnRlbnRXcmFwcGVyRWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGRpciA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsZWQgPiBzY3JvbGxTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVkIC09IHNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb250ZW50V3JhcHBlckVsW190aGlzLmF4aXNbYXhpc10uc2Nyb2xsT2Zmc2V0QXR0cl0gPSBzY3JvbGxlZDtcbiAgICAgICAgICAgICAgICAgICAgZWxXaW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbFRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsZWQgPCBzY3JvbGxTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVkICs9IHNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb250ZW50V3JhcHBlckVsW190aGlzLmF4aXNbYXhpc10uc2Nyb2xsT2Zmc2V0QXR0cl0gPSBzY3JvbGxlZDtcbiAgICAgICAgICAgICAgICAgICAgZWxXaW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbFRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNjcm9sbFRvKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZm9yIGNvbnRlbnQgZWxlbWVudFxuICAgICAqL1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmdldENvbnRlbnRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50RWw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZm9yIG9yaWdpbmFsIHNjcm9sbGluZyBlbGVtZW50XG4gICAgICovXG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuZ2V0U2Nyb2xsRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudFdyYXBwZXJFbDtcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsV2luZG93ID0gZ2V0RWxlbWVudFdpbmRvdyh0aGlzLmVsKTtcbiAgICAgICAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25Nb3VzZUVudGVyKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRXZlbnQsIHRydWUpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZSk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRXcmFwcGVyRWwpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudFdyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgICAgfVxuICAgICAgICBlbFdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKTtcbiAgICAgICAgaWYgKHRoaXMubXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXNpemVPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FuY2VsIGFsbCBkZWJvdW5jZWQgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMub25XaW5kb3dSZXNpemUuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMub25TdG9wU2Nyb2xsaW5nLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLm9uTW91c2VFbnRlcmVkLmNhbmNlbCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSBET00gbm9kZXNcbiAgICAgKi9cbiAgICBTaW1wbGVCYXJDb3JlLnByb3RvdHlwZS51bk1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgbW91c2UgaXMgd2l0aGluIGJvdW5kc1xuICAgICAqL1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmlzV2l0aGluQm91bmRzID0gZnVuY3Rpb24gKGJib3gpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1vdXNlWCA+PSBiYm94LmxlZnQgJiZcbiAgICAgICAgICAgIHRoaXMubW91c2VYIDw9IGJib3gubGVmdCArIGJib3gud2lkdGggJiZcbiAgICAgICAgICAgIHRoaXMubW91c2VZID49IGJib3gudG9wICYmXG4gICAgICAgICAgICB0aGlzLm1vdXNlWSA8PSBiYm94LnRvcCArIGJib3guaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmQgZWxlbWVudCBjaGlsZHJlbiBtYXRjaGVzIHF1ZXJ5XG4gICAgICovXG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuZmluZENoaWxkID0gZnVuY3Rpb24gKGVsLCBxdWVyeSkge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IGVsLm1hdGNoZXMgfHxcbiAgICAgICAgICAgIGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgZWwubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBlbC5tc01hdGNoZXNTZWxlY3RvcjtcbiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbC5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGNoaWxkLCBxdWVyeSk7XG4gICAgICAgIH0pWzBdO1xuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5ydGxIZWxwZXJzID0gbnVsbDtcbiAgICBTaW1wbGVCYXJDb3JlLmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBmb3JjZVZpc2libGU6IGZhbHNlLFxuICAgICAgICBjbGlja09uVHJhY2s6IHRydWUsXG4gICAgICAgIHNjcm9sbGJhck1pblNpemU6IDI1LFxuICAgICAgICBzY3JvbGxiYXJNYXhTaXplOiAwLFxuICAgICAgICBhcmlhTGFiZWw6ICdzY3JvbGxhYmxlIGNvbnRlbnQnLFxuICAgICAgICBjbGFzc05hbWVzOiB7XG4gICAgICAgICAgICBjb250ZW50RWw6ICdzaW1wbGViYXItY29udGVudCcsXG4gICAgICAgICAgICBjb250ZW50V3JhcHBlcjogJ3NpbXBsZWJhci1jb250ZW50LXdyYXBwZXInLFxuICAgICAgICAgICAgb2Zmc2V0OiAnc2ltcGxlYmFyLW9mZnNldCcsXG4gICAgICAgICAgICBtYXNrOiAnc2ltcGxlYmFyLW1hc2snLFxuICAgICAgICAgICAgd3JhcHBlcjogJ3NpbXBsZWJhci13cmFwcGVyJyxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnc2ltcGxlYmFyLXBsYWNlaG9sZGVyJyxcbiAgICAgICAgICAgIHNjcm9sbGJhcjogJ3NpbXBsZWJhci1zY3JvbGxiYXInLFxuICAgICAgICAgICAgdHJhY2s6ICdzaW1wbGViYXItdHJhY2snLFxuICAgICAgICAgICAgaGVpZ2h0QXV0b09ic2VydmVyV3JhcHBlckVsOiAnc2ltcGxlYmFyLWhlaWdodC1hdXRvLW9ic2VydmVyLXdyYXBwZXInLFxuICAgICAgICAgICAgaGVpZ2h0QXV0b09ic2VydmVyRWw6ICdzaW1wbGViYXItaGVpZ2h0LWF1dG8tb2JzZXJ2ZXInLFxuICAgICAgICAgICAgdmlzaWJsZTogJ3NpbXBsZWJhci12aXNpYmxlJyxcbiAgICAgICAgICAgIGhvcml6b250YWw6ICdzaW1wbGViYXItaG9yaXpvbnRhbCcsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogJ3NpbXBsZWJhci12ZXJ0aWNhbCcsXG4gICAgICAgICAgICBob3ZlcjogJ3NpbXBsZWJhci1ob3ZlcicsXG4gICAgICAgICAgICBkcmFnZ2luZzogJ3NpbXBsZWJhci1kcmFnZ2luZycsXG4gICAgICAgICAgICBzY3JvbGxpbmc6ICdzaW1wbGViYXItc2Nyb2xsaW5nJyxcbiAgICAgICAgICAgIHNjcm9sbGFibGU6ICdzaW1wbGViYXItc2Nyb2xsYWJsZScsXG4gICAgICAgICAgICBtb3VzZUVudGVyZWQ6ICdzaW1wbGViYXItbW91c2UtZW50ZXJlZCdcbiAgICAgICAgfSxcbiAgICAgICAgc2Nyb2xsYWJsZU5vZGU6IG51bGwsXG4gICAgICAgIGNvbnRlbnROb2RlOiBudWxsLFxuICAgICAgICBhdXRvSGlkZTogdHJ1ZVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhdGljIGZ1bmN0aW9uc1xuICAgICAqL1xuICAgIFNpbXBsZUJhckNvcmUuZ2V0T3B0aW9ucyA9IGdldE9wdGlvbnM7XG4gICAgU2ltcGxlQmFyQ29yZS5oZWxwZXJzID0gaGVscGVycztcbiAgICByZXR1cm4gU2ltcGxlQmFyQ29yZTtcbn0oKSk7XG5cbmV4cG9ydCB7IFNpbXBsZUJhckNvcmUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiLyoqXG4gKiBzaW1wbGViYXIgLSB2Ni4yLjVcbiAqIFNjcm9sbGJhcnMsIHNpbXBsZXIuXG4gKiBodHRwczovL2dyc210by5naXRodWIuaW8vc2ltcGxlYmFyL1xuICpcbiAqIE1hZGUgYnkgQWRyaWVuIERlbmF0IGZyb20gYSBmb3JrIGJ5IEpvbmF0aGFuIE5pY29sXG4gKiBVbmRlciBNSVQgTGljZW5zZVxuICovXG5cbmltcG9ydCBjYW5Vc2VET00gZnJvbSAnY2FuLXVzZS1kb20nO1xuaW1wb3J0IFNpbXBsZUJhckNvcmUgZnJvbSAnc2ltcGxlYmFyLWNvcmUnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIF9hID0gU2ltcGxlQmFyQ29yZS5oZWxwZXJzLCBnZXRPcHRpb25zID0gX2EuZ2V0T3B0aW9ucywgYWRkQ2xhc3NlcyA9IF9hLmFkZENsYXNzZXM7XG52YXIgU2ltcGxlQmFyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVCYXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2ltcGxlQmFyKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmdzKSB8fCB0aGlzO1xuICAgICAgICAvLyAvLyBTYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBpbnN0YW5jZSwgc28gd2Uga25vdyB0aGlzIERPTSBub2RlIGhhcyBhbHJlYWR5IGJlZW4gaW5zdGFuY2llZFxuICAgICAgICBTaW1wbGVCYXIuaW5zdGFuY2VzLnNldChhcmdzWzBdLCBfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2ltcGxlQmFyLmluaXRET01Mb2FkZWRFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHRoaXMuaW5pdERPTUxvYWRlZEVsZW1lbnRzKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLmluaXRET01Mb2FkZWRFbGVtZW50cyk7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2ltcGxlYmFyXScpLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2ltcGxlYmFyJykgIT09ICdpbml0JyAmJlxuICAgICAgICAgICAgICAgICFTaW1wbGVCYXIuaW5zdGFuY2VzLmhhcyhlbCkpXG4gICAgICAgICAgICAgICAgbmV3IFNpbXBsZUJhcihlbCwgZ2V0T3B0aW9ucyhlbC5hdHRyaWJ1dGVzKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2ltcGxlQmFyLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IFNpbXBsZUJhci5nbG9iYWxPYnNlcnZlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIFNpbXBsZUJhci5wcm90b3R5cGUuaW5pdERPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGlzIGVsZW1lbnQgZG9lc24ndCBoYXZlIHRoZSBlbGVtZW50cyB5ZXRcbiAgICAgICAgaWYgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodGhpcy5lbC5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKF90aGlzLmNsYXNzTmFtZXMud3JhcHBlcik7XG4gICAgICAgIH0pLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gUHJlcGFyZSBET01cbiAgICAgICAgICAgIHRoaXMud3JhcHBlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMubWFza0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGhpcy5wbGFjZWhvbGRlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGlzLmhlaWdodEF1dG9PYnNlcnZlcldyYXBwZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLndyYXBwZXJFbCwgdGhpcy5jbGFzc05hbWVzLndyYXBwZXIpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmNvbnRlbnRXcmFwcGVyRWwsIHRoaXMuY2xhc3NOYW1lcy5jb250ZW50V3JhcHBlcik7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKHRoaXMub2Zmc2V0RWwsIHRoaXMuY2xhc3NOYW1lcy5vZmZzZXQpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLm1hc2tFbCwgdGhpcy5jbGFzc05hbWVzLm1hc2spO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmNvbnRlbnRFbCwgdGhpcy5jbGFzc05hbWVzLmNvbnRlbnRFbCk7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKHRoaXMucGxhY2Vob2xkZXJFbCwgdGhpcy5jbGFzc05hbWVzLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgIGFkZENsYXNzZXModGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWwsIHRoaXMuY2xhc3NOYW1lcy5oZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWwpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsLCB0aGlzLmNsYXNzTmFtZXMuaGVpZ2h0QXV0b09ic2VydmVyRWwpO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuZWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKHRoaXMuZWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RWwpO1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRFbC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRXcmFwcGVyRWwpO1xuICAgICAgICAgICAgdGhpcy5tYXNrRWwuYXBwZW5kQ2hpbGQodGhpcy5vZmZzZXRFbCk7XG4gICAgICAgICAgICB0aGlzLmhlaWdodEF1dG9PYnNlcnZlcldyYXBwZXJFbC5hcHBlbmRDaGlsZCh0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsKTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHRoaXMuaGVpZ2h0QXV0b09ic2VydmVyV3JhcHBlckVsKTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHRoaXMubWFza0VsKTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHRoaXMucGxhY2Vob2xkZXJFbCk7XG4gICAgICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMud3JhcHBlckVsKTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuY29udGVudFdyYXBwZXJFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICAgICAgKF9iID0gdGhpcy5jb250ZW50V3JhcHBlckVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3JlZ2lvbicpO1xuICAgICAgICAgICAgKF9jID0gdGhpcy5jb250ZW50V3JhcHBlckVsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdGhpcy5vcHRpb25zLmFyaWFMYWJlbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmF4aXMueC50cmFjay5lbCB8fCAhdGhpcy5heGlzLnkudHJhY2suZWwpIHtcbiAgICAgICAgICAgIHZhciB0cmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdmFyIHNjcm9sbGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0cmFjaywgdGhpcy5jbGFzc05hbWVzLnRyYWNrKTtcbiAgICAgICAgICAgIGFkZENsYXNzZXMoc2Nyb2xsYmFyLCB0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYmFyKTtcbiAgICAgICAgICAgIHRyYWNrLmFwcGVuZENoaWxkKHNjcm9sbGJhcik7XG4gICAgICAgICAgICB0aGlzLmF4aXMueC50cmFjay5lbCA9IHRyYWNrLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgIGFkZENsYXNzZXModGhpcy5heGlzLngudHJhY2suZWwsIHRoaXMuY2xhc3NOYW1lcy5ob3Jpem9udGFsKTtcbiAgICAgICAgICAgIHRoaXMuYXhpcy55LnRyYWNrLmVsID0gdHJhY2suY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmF4aXMueS50cmFjay5lbCwgdGhpcy5jbGFzc05hbWVzLnZlcnRpY2FsKTtcbiAgICAgICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5heGlzLngudHJhY2suZWwpO1xuICAgICAgICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLmF4aXMueS50cmFjay5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuaW5pdERPTS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zaW1wbGViYXInLCAnaW5pdCcpO1xuICAgIH07XG4gICAgU2ltcGxlQmFyLnByb3RvdHlwZS51bk1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBTaW1wbGVCYXJDb3JlLnByb3RvdHlwZS51bk1vdW50LmNhbGwodGhpcyk7XG4gICAgICAgIFNpbXBsZUJhci5pbnN0YW5jZXNbXCJkZWxldGVcIl0odGhpcy5lbCk7XG4gICAgfTtcbiAgICBTaW1wbGVCYXIuaW5pdEh0bWxBcGkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdERPTUxvYWRlZEVsZW1lbnRzID0gdGhpcy5pbml0RE9NTG9hZGVkRWxlbWVudHMuYmluZCh0aGlzKTtcbiAgICAgICAgLy8gTXV0YXRpb25PYnNlcnZlciBpcyBJRTExK1xuICAgICAgICBpZiAodHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBNdXRhdGlvbiBvYnNlcnZlciB0byBvYnNlcnZlIGR5bmFtaWNhbGx5IGFkZGVkIGVsZW1lbnRzXG4gICAgICAgICAgICB0aGlzLmdsb2JhbE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoU2ltcGxlQmFyLmhhbmRsZU11dGF0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmdsb2JhbE9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRha2VuIGZyb20galF1ZXJ5IGByZWFkeWAgZnVuY3Rpb25cbiAgICAgICAgLy8gSW5zdGFudGlhdGUgZWxlbWVudHMgYWxyZWFkeSBwcmVzZW50IG9uIHRoZSBwYWdlXG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnIHx8IC8vIEB0cy1pZ25vcmU6IElFIHNwZWNpZmljXG4gICAgICAgICAgICAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgaW5pdFxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5pbml0RE9NTG9hZGVkRWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHRoaXMuaW5pdERPTUxvYWRlZEVsZW1lbnRzKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5pbml0RE9NTG9hZGVkRWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGVCYXIuaGFuZGxlTXV0YXRpb25zID0gZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoYWRkZWROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFkZGVkTm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWROb2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS1zaW1wbGViYXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgIVNpbXBsZUJhci5pbnN0YW5jZXMuaGFzKGFkZGVkTm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYWRkZWROb2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTaW1wbGVCYXIoYWRkZWROb2RlLCBnZXRPcHRpb25zKGFkZGVkTm9kZS5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRlZE5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2ltcGxlYmFyXScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zaW1wbGViYXInKSAhPT0gJ2luaXQnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFTaW1wbGVCYXIuaW5zdGFuY2VzLmhhcyhlbCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGVsKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNpbXBsZUJhcihlbCwgZ2V0T3B0aW9ucyhlbC5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbXV0YXRpb24ucmVtb3ZlZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKHJlbW92ZWROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWROb2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkTm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2ltcGxlYmFyJykgPT09ICdpbml0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2ltcGxlQmFyLmluc3RhbmNlcy5oYXMocmVtb3ZlZE5vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhyZW1vdmVkTm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW1wbGVCYXIuaW5zdGFuY2VzLmdldChyZW1vdmVkTm9kZSkudW5Nb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChyZW1vdmVkTm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaW1wbGViYXI9XCJpbml0XCJdJyksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbXBsZUJhci5pbnN0YW5jZXMuaGFzKGVsKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGVsKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW1wbGVCYXIuaW5zdGFuY2VzLmdldChlbCkudW5Nb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTaW1wbGVCYXIuaW5zdGFuY2VzID0gbmV3IFdlYWtNYXAoKTtcbiAgICByZXR1cm4gU2ltcGxlQmFyO1xufShTaW1wbGVCYXJDb3JlKSk7XG4vKipcbiAqIEhUTUwgQVBJXG4gKiBDYWxsZWQgb25seSBpbiBhIGJyb3dzZXIgZW52LlxuICovXG5pZiAoY2FuVXNlRE9NKSB7XG4gICAgU2ltcGxlQmFyLmluaXRIdG1sQXBpKCk7XG59XG5cbmV4cG9ydCB7IFNpbXBsZUJhciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJmdW5jdGlvbiBnZW5lcmF0ZUlEKCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTApO1xufVxuZnVuY3Rpb24gaGFzQ2xhc3NJblRyZWUoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgZnVuY3Rpb24gaGFzQ2xhc3MoZSwgYykge1xuICAgICAgICBpZiAoYyAmJiBlICYmIGUuY2xhc3NMaXN0ICYmIGUuY2xhc3NMaXN0LmNvbnRhaW5zKGMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyAmJiBlICYmIGUuZGF0YXNldCAmJiBlLmRhdGFzZXQuaWQgJiYgZS5kYXRhc2V0LmlkID09PSBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJlbnRCeUNsYXNzKGUsIGMpIHtcbiAgICAgICAgaWYgKCFlIHx8IGUgPT09IGRvY3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoYXNDbGFzcyhlLCBjKSkge1xuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50QnlDbGFzcyhlLnBhcmVudE5vZGUsIGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHx8IHBhcmVudEJ5Q2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQgPSA1MCwgaW1tZWRpYXRlID0gZmFsc2UpIHtcbiAgICBsZXQgdGltZW91dDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHNlbGY7XG4gICAgICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgICBpZiAoY2FsbE5vdykge1xuICAgICAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBpc0VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYSkgPT09IEpTT04uc3RyaW5naWZ5KGIpO1xufVxuZnVuY3Rpb24ga2ViYWJDYXNlKHN0cikge1xuICAgIGNvbnN0IHJlc3VsdCA9IHN0ci5yZXBsYWNlKC9bQS1aXFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMERFXS9nLCAobWF0Y2gpID0+ICctJyArIG1hdGNoLnRvTG93ZXJDYXNlKCkpO1xuICAgIHJldHVybiBzdHJbMF0gPT09IHN0clswXS50b1VwcGVyQ2FzZSgpID8gcmVzdWx0LnN1YnN0cmluZygxKSA6IHJlc3VsdDtcbn1cblxuY2xhc3MgU2V0dGluZ3Mge1xuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuaWQgPSAnJztcbiAgICAgICAgdGhpcy5zdHlsZSA9ICcnO1xuICAgICAgICB0aGlzLmNsYXNzID0gW107XG4gICAgICAgIHRoaXMuaXNNdWx0aXBsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzRnVsbE9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbE1vdmUgPSBudWxsO1xuICAgICAgICBpZiAoIXNldHRpbmdzKSB7XG4gICAgICAgICAgICBzZXR0aW5ncyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaWQgPSAnc3MtJyArIGdlbmVyYXRlSUQoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHNldHRpbmdzLnN0eWxlIHx8ICcnO1xuICAgICAgICB0aGlzLmNsYXNzID0gc2V0dGluZ3MuY2xhc3MgfHwgW107XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBzZXR0aW5ncy5kaXNhYmxlZCAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3MuZGlzYWJsZWQgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5hbHdheXNPcGVuID0gc2V0dGluZ3MuYWx3YXlzT3BlbiAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3MuYWx3YXlzT3BlbiA6IGZhbHNlO1xuICAgICAgICB0aGlzLnNob3dTZWFyY2ggPSBzZXR0aW5ncy5zaG93U2VhcmNoICE9PSB1bmRlZmluZWQgPyBzZXR0aW5ncy5zaG93U2VhcmNoIDogdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWFyY2hQbGFjZWhvbGRlciA9IHNldHRpbmdzLnNlYXJjaFBsYWNlaG9sZGVyIHx8ICdTZWFyY2gnO1xuICAgICAgICB0aGlzLnNlYXJjaFRleHQgPSBzZXR0aW5ncy5zZWFyY2hUZXh0IHx8ICdObyBSZXN1bHRzJztcbiAgICAgICAgdGhpcy5zZWFyY2hpbmdUZXh0ID0gc2V0dGluZ3Muc2VhcmNoaW5nVGV4dCB8fCAnU2VhcmNoaW5nLi4uJztcbiAgICAgICAgdGhpcy5zZWFyY2hIaWdobGlnaHQgPSBzZXR0aW5ncy5zZWFyY2hIaWdobGlnaHQgIT09IHVuZGVmaW5lZCA/IHNldHRpbmdzLnNlYXJjaEhpZ2hsaWdodCA6IGZhbHNlO1xuICAgICAgICB0aGlzLmNsb3NlT25TZWxlY3QgPSBzZXR0aW5ncy5jbG9zZU9uU2VsZWN0ICE9PSB1bmRlZmluZWQgPyBzZXR0aW5ncy5jbG9zZU9uU2VsZWN0IDogdHJ1ZTtcbiAgICAgICAgdGhpcy5jb250ZW50TG9jYXRpb24gPSBzZXR0aW5ncy5jb250ZW50TG9jYXRpb24gfHwgZG9jdW1lbnQuYm9keTtcbiAgICAgICAgdGhpcy5jb250ZW50UG9zaXRpb24gPSBzZXR0aW5ncy5jb250ZW50UG9zaXRpb24gfHwgJ2Fic29sdXRlJztcbiAgICAgICAgdGhpcy5vcGVuUG9zaXRpb24gPSBzZXR0aW5ncy5vcGVuUG9zaXRpb24gfHwgJ2F1dG8nO1xuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyVGV4dCA9IHNldHRpbmdzLnBsYWNlaG9sZGVyVGV4dCAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3MucGxhY2Vob2xkZXJUZXh0IDogJ1NlbGVjdCBWYWx1ZSc7XG4gICAgICAgIHRoaXMuYWxsb3dEZXNlbGVjdCA9IHNldHRpbmdzLmFsbG93RGVzZWxlY3QgIT09IHVuZGVmaW5lZCA/IHNldHRpbmdzLmFsbG93RGVzZWxlY3QgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5oaWRlU2VsZWN0ZWQgPSBzZXR0aW5ncy5oaWRlU2VsZWN0ZWQgIT09IHVuZGVmaW5lZCA/IHNldHRpbmdzLmhpZGVTZWxlY3RlZCA6IGZhbHNlO1xuICAgICAgICB0aGlzLnNob3dPcHRpb25Ub29sdGlwcyA9IHNldHRpbmdzLnNob3dPcHRpb25Ub29sdGlwcyAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3Muc2hvd09wdGlvblRvb2x0aXBzIDogZmFsc2U7XG4gICAgICAgIHRoaXMubWluU2VsZWN0ZWQgPSBzZXR0aW5ncy5taW5TZWxlY3RlZCB8fCAwO1xuICAgICAgICB0aGlzLm1heFNlbGVjdGVkID0gc2V0dGluZ3MubWF4U2VsZWN0ZWQgfHwgMTAwMDtcbiAgICAgICAgdGhpcy50aW1lb3V0RGVsYXkgPSBzZXR0aW5ncy50aW1lb3V0RGVsYXkgfHwgMjAwO1xuICAgICAgICB0aGlzLm1heFZhbHVlc1Nob3duID0gc2V0dGluZ3MubWF4VmFsdWVzU2hvd24gfHwgMjA7XG4gICAgICAgIHRoaXMubWF4VmFsdWVzTWVzc2FnZSA9IHNldHRpbmdzLm1heFZhbHVlc01lc3NhZ2UgfHwgJ3tudW1iZXJ9IHNlbGVjdGVkJztcbiAgICB9XG59XG5cbmNsYXNzIE9wdGdyb3VwIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRncm91cCkge1xuICAgICAgICB0aGlzLmlkID0gIW9wdGdyb3VwLmlkIHx8IG9wdGdyb3VwLmlkID09PSAnJyA/IGdlbmVyYXRlSUQoKSA6IG9wdGdyb3VwLmlkO1xuICAgICAgICB0aGlzLmxhYmVsID0gb3B0Z3JvdXAubGFiZWwgfHwgJyc7XG4gICAgICAgIHRoaXMuc2VsZWN0QWxsID0gb3B0Z3JvdXAuc2VsZWN0QWxsID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IG9wdGdyb3VwLnNlbGVjdEFsbDtcbiAgICAgICAgdGhpcy5jbG9zYWJsZSA9IG9wdGdyb3VwLmNsb3NhYmxlIHx8ICdvZmYnO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKG9wdGdyb3VwLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBvcHRncm91cC5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnB1c2gobmV3IE9wdGlvbihvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBPcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbikge1xuICAgICAgICB0aGlzLmlkID0gIW9wdGlvbi5pZCB8fCBvcHRpb24uaWQgPT09ICcnID8gZ2VuZXJhdGVJRCgpIDogb3B0aW9uLmlkO1xuICAgICAgICB0aGlzLnZhbHVlID0gb3B0aW9uLnZhbHVlID09PSB1bmRlZmluZWQgPyBvcHRpb24udGV4dCA6IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgdGhpcy50ZXh0ID0gb3B0aW9uLnRleHQgfHwgJyc7XG4gICAgICAgIHRoaXMuaHRtbCA9IG9wdGlvbi5odG1sIHx8ICcnO1xuICAgICAgICB0aGlzLnNlbGVjdGVkID0gb3B0aW9uLnNlbGVjdGVkICE9PSB1bmRlZmluZWQgPyBvcHRpb24uc2VsZWN0ZWQgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gb3B0aW9uLmRpc3BsYXkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbi5kaXNwbGF5IDogdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IG9wdGlvbi5kaXNhYmxlZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9uLmRpc2FibGVkIDogZmFsc2U7XG4gICAgICAgIHRoaXMubWFuZGF0b3J5ID0gb3B0aW9uLm1hbmRhdG9yeSAhPT0gdW5kZWZpbmVkID8gb3B0aW9uLm1hbmRhdG9yeSA6IGZhbHNlO1xuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyID0gb3B0aW9uLnBsYWNlaG9sZGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb24ucGxhY2Vob2xkZXIgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5jbGFzcyA9IG9wdGlvbi5jbGFzcyB8fCAnJztcbiAgICAgICAgdGhpcy5zdHlsZSA9IG9wdGlvbi5zdHlsZSB8fCAnJztcbiAgICAgICAgdGhpcy5kYXRhID0gb3B0aW9uLmRhdGEgfHwge307XG4gICAgfVxufVxuY2xhc3MgU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHR5cGUsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RUeXBlID0gJ3NpbmdsZSc7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgICB0aGlzLnNlbGVjdFR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnNldERhdGEoZGF0YSk7XG4gICAgfVxuICAgIHZhbGlkYXRlRGF0YUFycmF5KGRhdGEpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdEYXRhIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBkYXRhT2JqIG9mIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhT2JqIGluc3RhbmNlb2YgT3B0Z3JvdXAgfHwgJ2xhYmVsJyBpbiBkYXRhT2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoJ2xhYmVsJyBpbiBkYXRhT2JqKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdPcHRncm91cCBtdXN0IGhhdmUgYSBsYWJlbCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoJ29wdGlvbnMnIGluIGRhdGFPYmogJiYgZGF0YU9iai5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG9wdGlvbiBvZiBkYXRhT2JqLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlT3B0aW9uKG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhT2JqIGluc3RhbmNlb2YgT3B0aW9uIHx8ICd0ZXh0JyBpbiBkYXRhT2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVPcHRpb24oZGF0YU9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdEYXRhIG9iamVjdCBtdXN0IGJlIGEgdmFsaWQgb3B0Z3JvdXAgb3Igb3B0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhbGlkYXRlT3B0aW9uKG9wdGlvbikge1xuICAgICAgICBpZiAoISgndGV4dCcgaW4gb3B0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignT3B0aW9uIG11c3QgaGF2ZSBhIHRleHQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcGFydGlhbFRvRnVsbERhdGEoZGF0YSkge1xuICAgICAgICBsZXQgZGF0YUZpbmFsID0gW107XG4gICAgICAgIGRhdGEuZm9yRWFjaCgoZGF0YU9iaikgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGFPYmogaW5zdGFuY2VvZiBPcHRncm91cCB8fCAnbGFiZWwnIGluIGRhdGFPYmopIHtcbiAgICAgICAgICAgICAgICBsZXQgb3B0T3B0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIGlmICgnb3B0aW9ucycgaW4gZGF0YU9iaiAmJiBkYXRhT2JqLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YU9iai5vcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0T3B0aW9ucy5wdXNoKG5ldyBPcHRpb24ob3B0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0T3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFGaW5hbC5wdXNoKG5ldyBPcHRncm91cChkYXRhT2JqKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGFPYmogaW5zdGFuY2VvZiBPcHRpb24gfHwgJ3RleHQnIGluIGRhdGFPYmopIHtcbiAgICAgICAgICAgICAgICBkYXRhRmluYWwucHVzaChuZXcgT3B0aW9uKGRhdGFPYmopKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkYXRhRmluYWw7XG4gICAgfVxuICAgIHNldERhdGEoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLnBhcnRpYWxUb0Z1bGxEYXRhKGRhdGEpO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RUeXBlID09PSAnc2luZ2xlJykge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEJ5KCd2YWx1ZScsIHRoaXMuZ2V0U2VsZWN0ZWQoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKG51bGwsIHRydWUpO1xuICAgIH1cbiAgICBnZXREYXRhT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKG51bGwsIGZhbHNlKTtcbiAgICB9XG4gICAgYWRkT3B0aW9uKG9wdGlvbikge1xuICAgICAgICB0aGlzLnNldERhdGEodGhpcy5nZXREYXRhKCkuY29uY2F0KG5ldyBPcHRpb24ob3B0aW9uKSkpO1xuICAgIH1cbiAgICBzZXRTZWxlY3RlZEJ5KHNlbGVjdGVkVHlwZSwgc2VsZWN0ZWRWYWx1ZXMpIHtcbiAgICAgICAgbGV0IGZpcnN0T3B0aW9uID0gbnVsbDtcbiAgICAgICAgbGV0IGhhc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGRhdGFPYmogb2YgdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YU9iaiBpbnN0YW5jZW9mIE9wdGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgb3B0aW9uIG9mIGRhdGFPYmoub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0T3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE9wdGlvbiA9IG9wdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBoYXNTZWxlY3RlZCA/IGZhbHNlIDogc2VsZWN0ZWRWYWx1ZXMuaW5jbHVkZXMob3B0aW9uW3NlbGVjdGVkVHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkICYmIHRoaXMuc2VsZWN0VHlwZSA9PT0gJ3NpbmdsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhT2JqIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaXJzdE9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdE9wdGlvbiA9IGRhdGFPYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRhdGFPYmouc2VsZWN0ZWQgPSBoYXNTZWxlY3RlZCA/IGZhbHNlIDogc2VsZWN0ZWRWYWx1ZXMuaW5jbHVkZXMoZGF0YU9ialtzZWxlY3RlZFR5cGVdKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YU9iai5zZWxlY3RlZCAmJiB0aGlzLnNlbGVjdFR5cGUgPT09ICdzaW5nbGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0VHlwZSA9PT0gJ3NpbmdsZScgJiYgZmlyc3RPcHRpb24gJiYgIWhhc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICBmaXJzdE9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWQoKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZE9wdGlvbnMgPSB0aGlzLmdldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICBsZXQgc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcbiAgICAgICAgc2VsZWN0ZWRPcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZXMucHVzaChvcHRpb24udmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkVmFsdWVzO1xuICAgIH1cbiAgICBnZXRTZWxlY3RlZE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcigob3B0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gb3B0LnNlbGVjdGVkO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxuICAgIGdldFNlbGVjdGVkSURzKCkge1xuICAgICAgICBsZXQgc2VsZWN0ZWRPcHRpb25zID0gdGhpcy5nZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICAgICAgbGV0IHNlbGVjdGVkSURzID0gW107XG4gICAgICAgIHNlbGVjdGVkT3B0aW9ucy5mb3JFYWNoKChvcCkgPT4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRJRHMucHVzaChvcC5pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRJRHM7XG4gICAgfVxuICAgIGdldE9wdGdyb3VwQnlJRChpZCkge1xuICAgICAgICBmb3IgKGxldCBkYXRhT2JqIG9mIHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGFPYmogaW5zdGFuY2VvZiBPcHRncm91cCAmJiBkYXRhT2JqLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhT2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRPcHRpb25CeUlEKGlkKSB7XG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5maWx0ZXIoKG9wdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG9wdC5pZCA9PT0gaWQ7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMubGVuZ3RoID8gb3B0aW9uc1swXSA6IG51bGw7XG4gICAgfVxuICAgIHNlYXJjaChzZWFyY2gsIHNlYXJjaEZpbHRlcikge1xuICAgICAgICBzZWFyY2ggPSBzZWFyY2gudHJpbSgpO1xuICAgICAgICBpZiAoc2VhcmNoID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcigob3B0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc2VhcmNoRmlsdGVyKG9wdCwgc2VhcmNoKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZpbHRlcihmaWx0ZXIsIGluY2x1ZGVPcHRncm91cCkge1xuICAgICAgICBjb25zdCBkYXRhU2VhcmNoID0gW107XG4gICAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKChkYXRhT2JqKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGF0YU9iaiBpbnN0YW5jZW9mIE9wdGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9wdE9wdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICBkYXRhT2JqLm9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcihvcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluY2x1ZGVPcHRncm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTZWFyY2gucHVzaChuZXcgT3B0aW9uKG9wdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0T3B0aW9ucy5wdXNoKG5ldyBPcHRpb24ob3B0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAob3B0T3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvcHRncm91cCA9IG5ldyBPcHRncm91cChkYXRhT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXAub3B0aW9ucyA9IG9wdE9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFTZWFyY2gucHVzaChvcHRncm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGFPYmogaW5zdGFuY2VvZiBPcHRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoZGF0YU9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVNlYXJjaC5wdXNoKG5ldyBPcHRpb24oZGF0YU9iaikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkYXRhU2VhcmNoO1xuICAgIH1cbiAgICBnZXRTZWxlY3RUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RUeXBlO1xuICAgIH1cbn1cblxuY2xhc3MgUmVuZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgc3RvcmUsIGNhbGxiYWNrcykge1xuICAgICAgICB0aGlzLmNsYXNzZXMgPSB7XG4gICAgICAgICAgICBtYWluOiAnc3MtbWFpbicsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogJ3NzLXBsYWNlaG9sZGVyJyxcbiAgICAgICAgICAgIHZhbHVlczogJ3NzLXZhbHVlcycsXG4gICAgICAgICAgICBzaW5nbGU6ICdzcy1zaW5nbGUnLFxuICAgICAgICAgICAgbWF4OiAnc3MtbWF4JyxcbiAgICAgICAgICAgIHZhbHVlOiAnc3MtdmFsdWUnLFxuICAgICAgICAgICAgdmFsdWVUZXh0OiAnc3MtdmFsdWUtdGV4dCcsXG4gICAgICAgICAgICB2YWx1ZURlbGV0ZTogJ3NzLXZhbHVlLWRlbGV0ZScsXG4gICAgICAgICAgICB2YWx1ZU91dDogJ3NzLXZhbHVlLW91dCcsXG4gICAgICAgICAgICBkZXNlbGVjdDogJ3NzLWRlc2VsZWN0JyxcbiAgICAgICAgICAgIGRlc2VsZWN0UGF0aDogJ00xMCwxMCBMOTAsOTAgTTEwLDkwIEw5MCwxMCcsXG4gICAgICAgICAgICBhcnJvdzogJ3NzLWFycm93JyxcbiAgICAgICAgICAgIGFycm93Q2xvc2U6ICdNMTAsMzAgTDUwLDcwIEw5MCwzMCcsXG4gICAgICAgICAgICBhcnJvd09wZW46ICdNMTAsNzAgTDUwLDMwIEw5MCw3MCcsXG4gICAgICAgICAgICBjb250ZW50OiAnc3MtY29udGVudCcsXG4gICAgICAgICAgICBvcGVuQWJvdmU6ICdzcy1vcGVuLWFib3ZlJyxcbiAgICAgICAgICAgIG9wZW5CZWxvdzogJ3NzLW9wZW4tYmVsb3cnLFxuICAgICAgICAgICAgc2VhcmNoOiAnc3Mtc2VhcmNoJyxcbiAgICAgICAgICAgIHNlYXJjaEhpZ2hsaWdodGVyOiAnc3Mtc2VhcmNoLWhpZ2hsaWdodCcsXG4gICAgICAgICAgICBzZWFyY2hpbmc6ICdzcy1zZWFyY2hpbmcnLFxuICAgICAgICAgICAgYWRkYWJsZTogJ3NzLWFkZGFibGUnLFxuICAgICAgICAgICAgYWRkYWJsZVBhdGg6ICdNNTAsMTAgTDUwLDkwIE0xMCw1MCBMOTAsNTAnLFxuICAgICAgICAgICAgbGlzdDogJ3NzLWxpc3QnLFxuICAgICAgICAgICAgb3B0Z3JvdXA6ICdzcy1vcHRncm91cCcsXG4gICAgICAgICAgICBvcHRncm91cExhYmVsOiAnc3Mtb3B0Z3JvdXAtbGFiZWwnLFxuICAgICAgICAgICAgb3B0Z3JvdXBMYWJlbFRleHQ6ICdzcy1vcHRncm91cC1sYWJlbC10ZXh0JyxcbiAgICAgICAgICAgIG9wdGdyb3VwQWN0aW9uczogJ3NzLW9wdGdyb3VwLWFjdGlvbnMnLFxuICAgICAgICAgICAgb3B0Z3JvdXBTZWxlY3RBbGw6ICdzcy1zZWxlY3RhbGwnLFxuICAgICAgICAgICAgb3B0Z3JvdXBTZWxlY3RBbGxCb3g6ICdNNjAsMTAgTDEwLDEwIEwxMCw5MCBMOTAsOTAgTDkwLDUwJyxcbiAgICAgICAgICAgIG9wdGdyb3VwU2VsZWN0QWxsQ2hlY2s6ICdNMzAsNDUgTDUwLDcwIEw5MCwxMCcsXG4gICAgICAgICAgICBvcHRncm91cENsb3NhYmxlOiAnc3MtY2xvc2FibGUnLFxuICAgICAgICAgICAgb3B0aW9uOiAnc3Mtb3B0aW9uJyxcbiAgICAgICAgICAgIG9wdGlvbkRlbGV0ZTogJ00xMCwxMCBMOTAsOTAgTTEwLDkwIEw5MCwxMCcsXG4gICAgICAgICAgICBoaWdobGlnaHRlZDogJ3NzLWhpZ2hsaWdodGVkJyxcbiAgICAgICAgICAgIG9wZW46ICdzcy1vcGVuJyxcbiAgICAgICAgICAgIGNsb3NlOiAnc3MtY2xvc2UnLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6ICdzcy1zZWxlY3RlZCcsXG4gICAgICAgICAgICBlcnJvcjogJ3NzLWVycm9yJyxcbiAgICAgICAgICAgIGRpc2FibGVkOiAnc3MtZGlzYWJsZWQnLFxuICAgICAgICAgICAgaGlkZTogJ3NzLWhpZGUnLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gICAgICAgIHRoaXMubWFpbiA9IHRoaXMubWFpbkRpdigpO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnREaXYoKTtcbiAgICAgICAgdGhpcy51cGRhdGVDbGFzc1N0eWxlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUFyaWFBdHRyaWJ1dGVzKCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29udGVudExvY2F0aW9uLmFwcGVuZENoaWxkKHRoaXMuY29udGVudC5tYWluKTtcbiAgICB9XG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLm1haW4ubWFpbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY2xhc3Nlcy5kaXNhYmxlZCk7XG4gICAgICAgIHRoaXMuY29udGVudC5zZWFyY2guaW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5tYWluLm1haW4uY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuZGlzYWJsZWQpO1xuICAgICAgICB0aGlzLmNvbnRlbnQuc2VhcmNoLmlucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgb3BlbigpIHtcbiAgICAgICAgdGhpcy5tYWluLmFycm93LnBhdGguc2V0QXR0cmlidXRlKCdkJywgdGhpcy5jbGFzc2VzLmFycm93T3Blbik7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLmNsYXNzTGlzdC5hZGQodGhpcy5zZXR0aW5ncy5vcGVuUG9zaXRpb24gPT09ICd1cCcgPyB0aGlzLmNsYXNzZXMub3BlbkFib3ZlIDogdGhpcy5jbGFzc2VzLm9wZW5CZWxvdyk7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgICAgIHRoaXMubW92ZUNvbnRlbnQoKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25zID0gdGhpcy5zdG9yZS5nZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSWQgPSBzZWxlY3RlZE9wdGlvbnNbc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCAtIDFdLmlkO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0aGlzLmNvbnRlbnQubGlzdC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pZD1cIicgKyBzZWxlY3RlZElkICsgJ1wiXScpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnN1cmVFbGVtZW50SW5WaWV3KHRoaXMuY29udGVudC5saXN0LCBzZWxlY3RlZE9wdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbGFzc2VzLm9wZW5BYm92ZSk7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbGFzc2VzLm9wZW5CZWxvdyk7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICB0aGlzLmNvbnRlbnQubWFpbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY2xhc3Nlcy5vcGVuQWJvdmUpO1xuICAgICAgICB0aGlzLmNvbnRlbnQubWFpbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY2xhc3Nlcy5vcGVuQmVsb3cpO1xuICAgICAgICB0aGlzLm1haW4uYXJyb3cucGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCB0aGlzLmNsYXNzZXMuYXJyb3dDbG9zZSk7XG4gICAgfVxuICAgIHVwZGF0ZUNsYXNzU3R5bGVzKCkge1xuICAgICAgICB0aGlzLm1haW4ubWFpbi5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgdGhpcy5tYWluLm1haW4ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICB0aGlzLmNvbnRlbnQubWFpbi5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgdGhpcy5jb250ZW50Lm1haW4ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICB0aGlzLm1haW4ubWFpbi5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5tYWluKTtcbiAgICAgICAgdGhpcy5jb250ZW50Lm1haW4uY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuY29udGVudCk7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnN0eWxlICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1haW4uc3R5bGUuY3NzVGV4dCA9IHRoaXMuc2V0dGluZ3Muc3R5bGU7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQubWFpbi5zdHlsZS5jc3NUZXh0ID0gdGhpcy5zZXR0aW5ncy5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jbGFzcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLnNldHRpbmdzLmNsYXNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGMudHJpbSgpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4ubWFpbi5jbGFzc0xpc3QuYWRkKGMudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Lm1haW4uY2xhc3NMaXN0LmFkZChjLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNvbnRlbnRQb3NpdGlvbiA9PT0gJ3JlbGF0aXZlJykge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50Lm1haW4uY2xhc3NMaXN0LmFkZCgnc3MtJyArIHRoaXMuc2V0dGluZ3MuY29udGVudFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVBcmlhQXR0cmlidXRlcygpIHtcbiAgICAgICAgdGhpcy5tYWluLm1haW4ucm9sZSA9ICdjb21ib2JveCc7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLnNldEF0dHJpYnV0ZSgnYXJpYS1oYXNwb3B1cCcsICdsaXN0Ym94Jyk7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIHRoaXMuY29udGVudC5tYWluLmlkKTtcbiAgICAgICAgdGhpcy5tYWluLm1haW4uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIHRoaXMuY29udGVudC5tYWluLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0Ym94Jyk7XG4gICAgfVxuICAgIG1haW5EaXYoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtYWluLmRhdGFzZXQuaWQgPSB0aGlzLnNldHRpbmdzLmlkO1xuICAgICAgICBtYWluLmlkID0gdGhpcy5zZXR0aW5ncy5pZDtcbiAgICAgICAgbWFpbi50YWJJbmRleCA9IDA7XG4gICAgICAgIG1haW4ub25rZXlkb3duID0gKGUpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIGUua2V5ID09PSAnQXJyb3dEb3duJyA/IHRoaXMuaGlnaGxpZ2h0KCdkb3duJykgOiB0aGlzLmhpZ2hsaWdodCgndXAnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1RhYic6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Mub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWdobGlnaHRlZCA9IHRoaXMuY29udGVudC5saXN0LnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5jbGFzc2VzLmhpZ2hsaWdodGVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpZ2hsaWdodGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRlZC5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1haW4ub25jbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuaXNPcGVuID8gdGhpcy5jYWxsYmFja3MuY2xvc2UoKSA6IHRoaXMuY2FsbGJhY2tzLm9wZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHZhbHVlcy5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy52YWx1ZXMpO1xuICAgICAgICBtYWluLmFwcGVuZENoaWxkKHZhbHVlcyk7XG4gICAgICAgIGNvbnN0IGRlc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRlc2VsZWN0LmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLmRlc2VsZWN0KTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25zID0gKF9hID0gdGhpcy5zdG9yZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuYWxsb3dEZXNlbGVjdCB8fCAodGhpcy5zZXR0aW5ncy5pc011bHRpcGxlICYmIHNlbGVjdGVkT3B0aW9ucyAmJiBzZWxlY3RlZE9wdGlvbnMubGVuZ3RoIDw9IDApKSB7XG4gICAgICAgICAgICBkZXNlbGVjdC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5oaWRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlc2VsZWN0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbGFzc2VzLmhpZGUpO1xuICAgICAgICB9XG4gICAgICAgIGRlc2VsZWN0Lm9uY2xpY2sgPSAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHNob3VsZERlbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBiZWZvcmUgPSB0aGlzLnN0b3JlLmdldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICAgICAgY29uc3QgYWZ0ZXIgPSBbXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrcy5iZWZvcmVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBzaG91bGREZWxldGUgPSB0aGlzLmNhbGxiYWNrcy5iZWZvcmVDaGFuZ2UoYWZ0ZXIsIGJlZm9yZSkgPT09IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5zZXRTZWxlY3RlZChbXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURlc2VsZWN0QWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5zZXRTZWxlY3RlZChbJyddLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNsb3NlT25TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLmFmdGVyQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLmFmdGVyQ2hhbmdlKGFmdGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRlc2VsZWN0U3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICAgICAgZGVzZWxlY3RTdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAxMDAgMTAwJyk7XG4gICAgICAgIGNvbnN0IGRlc2VsZWN0UGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgICAgICBkZXNlbGVjdFBhdGguc2V0QXR0cmlidXRlKCdkJywgdGhpcy5jbGFzc2VzLmRlc2VsZWN0UGF0aCk7XG4gICAgICAgIGRlc2VsZWN0U3ZnLmFwcGVuZENoaWxkKGRlc2VsZWN0UGF0aCk7XG4gICAgICAgIGRlc2VsZWN0LmFwcGVuZENoaWxkKGRlc2VsZWN0U3ZnKTtcbiAgICAgICAgbWFpbi5hcHBlbmRDaGlsZChkZXNlbGVjdCk7XG4gICAgICAgIGNvbnN0IGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICAgICAgYXJyb3cuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuYXJyb3cpO1xuICAgICAgICBhcnJvdy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDEwMCAxMDAnKTtcbiAgICAgICAgY29uc3QgYXJyb3dQYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgICAgIGFycm93UGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCB0aGlzLmNsYXNzZXMuYXJyb3dDbG9zZSk7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmFsd2F5c09wZW4pIHtcbiAgICAgICAgICAgIGFycm93LmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLmhpZGUpO1xuICAgICAgICB9XG4gICAgICAgIGFycm93LmFwcGVuZENoaWxkKGFycm93UGF0aCk7XG4gICAgICAgIG1haW4uYXBwZW5kQ2hpbGQoYXJyb3cpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWFpbjogbWFpbixcbiAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICAgICAgZGVzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICBtYWluOiBkZXNlbGVjdCxcbiAgICAgICAgICAgICAgICBzdmc6IGRlc2VsZWN0U3ZnLFxuICAgICAgICAgICAgICAgIHBhdGg6IGRlc2VsZWN0UGF0aCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcnJvdzoge1xuICAgICAgICAgICAgICAgIG1haW46IGFycm93LFxuICAgICAgICAgICAgICAgIHBhdGg6IGFycm93UGF0aCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIG1haW5Gb2N1cyhldmVudFR5cGUpIHtcbiAgICAgICAgaWYgKGV2ZW50VHlwZSAhPT0gJ2NsaWNrJykge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1haW4uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBsYWNlaG9sZGVyKCkge1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlck9wdGlvbiA9IHRoaXMuc3RvcmUuZmlsdGVyKChvKSA9PiBvLnBsYWNlaG9sZGVyLCBmYWxzZSk7XG4gICAgICAgIGxldCBwbGFjZWhvbGRlclRleHQgPSB0aGlzLnNldHRpbmdzLnBsYWNlaG9sZGVyVGV4dDtcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyT3B0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyT3B0aW9uWzBdLmh0bWwgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJUZXh0ID0gcGxhY2Vob2xkZXJPcHRpb25bMF0uaHRtbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBsYWNlaG9sZGVyT3B0aW9uWzBdLnRleHQgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJUZXh0ID0gcGxhY2Vob2xkZXJPcHRpb25bMF0udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwbGFjZWhvbGRlci5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5wbGFjZWhvbGRlcik7XG4gICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9IHBsYWNlaG9sZGVyVGV4dDtcbiAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyO1xuICAgIH1cbiAgICByZW5kZXJWYWx1ZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5pc011bHRpcGxlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclNpbmdsZVZhbHVlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJNdWx0aXBsZVZhbHVlcygpO1xuICAgIH1cbiAgICByZW5kZXJTaW5nbGVWYWx1ZSgpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnN0b3JlLmZpbHRlcigobykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG8uc2VsZWN0ZWQgJiYgIW8ucGxhY2Vob2xkZXI7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRTaW5nbGUgPSBzZWxlY3RlZC5sZW5ndGggPiAwID8gc2VsZWN0ZWRbMF0gOiBudWxsO1xuICAgICAgICBpZiAoIXNlbGVjdGVkU2luZ2xlKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4udmFsdWVzLmlubmVySFRNTCA9IHRoaXMucGxhY2Vob2xkZXIoKS5vdXRlckhUTUw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzaW5nbGVWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgc2luZ2xlVmFsdWUuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuc2luZ2xlKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFNpbmdsZS5odG1sKSB7XG4gICAgICAgICAgICAgICAgc2luZ2xlVmFsdWUuaW5uZXJIVE1MID0gc2VsZWN0ZWRTaW5nbGUuaHRtbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNpbmdsZVZhbHVlLmlubmVyVGV4dCA9IHNlbGVjdGVkU2luZ2xlLnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1haW4udmFsdWVzLmlubmVySFRNTCA9IHNpbmdsZVZhbHVlLm91dGVySFRNTDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuYWxsb3dEZXNlbGVjdCB8fCAhc2VsZWN0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uZGVzZWxlY3QubWFpbi5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5oaWRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5kZXNlbGVjdC5tYWluLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbGFzc2VzLmhpZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlck11bHRpcGxlVmFsdWVzKCkge1xuICAgICAgICBsZXQgY3VycmVudE5vZGVzID0gdGhpcy5tYWluLnZhbHVlcy5jaGlsZE5vZGVzO1xuICAgICAgICBsZXQgc2VsZWN0ZWRPcHRpb25zID0gdGhpcy5zdG9yZS5maWx0ZXIoKG9wdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG9wdC5zZWxlY3RlZCAmJiBvcHQuZGlzcGxheTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5tYWluLnZhbHVlcy5pbm5lckhUTUwgPSB0aGlzLnBsYWNlaG9sZGVyKCkub3V0ZXJIVE1MO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSB0aGlzLm1haW4udmFsdWVzLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5jbGFzc2VzLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbnMubGVuZ3RoID4gdGhpcy5zZXR0aW5ncy5tYXhWYWx1ZXNTaG93bikge1xuICAgICAgICAgICAgY29uc3Qgc2luZ2xlVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHNpbmdsZVZhbHVlLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLm1heCk7XG4gICAgICAgICAgICBzaW5nbGVWYWx1ZS50ZXh0Q29udGVudCA9IHRoaXMuc2V0dGluZ3MubWF4VmFsdWVzTWVzc2FnZS5yZXBsYWNlKCd7bnVtYmVyfScsIHNlbGVjdGVkT3B0aW9ucy5sZW5ndGgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLm1haW4udmFsdWVzLmlubmVySFRNTCA9IHNpbmdsZVZhbHVlLm91dGVySFRNTDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1heFZhbHVlc01lc3NhZ2UgPSB0aGlzLm1haW4udmFsdWVzLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5jbGFzc2VzLm1heCk7XG4gICAgICAgICAgICBpZiAobWF4VmFsdWVzTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIG1heFZhbHVlc01lc3NhZ2UucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlbW92ZU5vZGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gY3VycmVudE5vZGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBzZWxlY3RlZE9wdGlvbnMuZmlsdGVyKChvcHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdC5pZCA9PT0gaWQ7XG4gICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICghZm91bmQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiByZW1vdmVOb2Rlcykge1xuICAgICAgICAgICAgbi5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy52YWx1ZU91dCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYWluLnZhbHVlcy5oYXNDaGlsZE5vZGVzKCkgJiYgdGhpcy5tYWluLnZhbHVlcy5jb250YWlucyhuKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4udmFsdWVzLnJlbW92ZUNoaWxkKG4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudE5vZGVzID0gdGhpcy5tYWluLnZhbHVlcy5jaGlsZE5vZGVzO1xuICAgICAgICBmb3IgKGxldCBkID0gMDsgZCA8IHNlbGVjdGVkT3B0aW9ucy5sZW5ndGg7IGQrKykge1xuICAgICAgICAgICAgbGV0IHNob3VsZEFkZCA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbnNbZF0uaWQgPT09IFN0cmluZyhjdXJyZW50Tm9kZXNbaV0uZGF0YXNldC5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkQWRkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNob3VsZEFkZCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi52YWx1ZXMuYXBwZW5kQ2hpbGQodGhpcy5tdWx0aXBsZVZhbHVlKHNlbGVjdGVkT3B0aW9uc1tkXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbi52YWx1ZXMuaW5zZXJ0QmVmb3JlKHRoaXMubXVsdGlwbGVWYWx1ZShzZWxlY3RlZE9wdGlvbnNbZF0pLCBjdXJyZW50Tm9kZXNbZF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGVzW2QgLSAxXS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgdGhpcy5tdWx0aXBsZVZhbHVlKHNlbGVjdGVkT3B0aW9uc1tkXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZURlc2VsZWN0QWxsKCk7XG4gICAgfVxuICAgIG11bHRpcGxlVmFsdWUob3B0aW9uKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHZhbHVlLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLnZhbHVlKTtcbiAgICAgICAgdmFsdWUuZGF0YXNldC5pZCA9IG9wdGlvbi5pZDtcbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZXh0LmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLnZhbHVlVGV4dCk7XG4gICAgICAgIHRleHQuaW5uZXJUZXh0ID0gb3B0aW9uLnRleHQ7XG4gICAgICAgIHZhbHVlLmFwcGVuZENoaWxkKHRleHQpO1xuICAgICAgICBpZiAoIW9wdGlvbi5tYW5kYXRvcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGVsZXRlRGl2LmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLnZhbHVlRGVsZXRlKTtcbiAgICAgICAgICAgIGRlbGV0ZURpdi5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBzaG91bGREZWxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJlZm9yZSA9IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWZ0ZXIgPSBiZWZvcmUuZmlsdGVyKChvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvLnNlbGVjdGVkICYmIG8uaWQgIT09IG9wdGlvbi5pZDtcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5taW5TZWxlY3RlZCAmJiBhZnRlci5sZW5ndGggPCB0aGlzLnNldHRpbmdzLm1pblNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLmJlZm9yZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGREZWxldGUgPSB0aGlzLmNhbGxiYWNrcy5iZWZvcmVDaGFuZ2UoYWZ0ZXIsIGJlZm9yZSkgPT09IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaG91bGREZWxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBhZnRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gaW5zdGFuY2VvZiBPcHRncm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYyBvZiBvLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZXMucHVzaChjLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobyBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVmFsdWVzLnB1c2goby52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Muc2V0U2VsZWN0ZWQoc2VsZWN0ZWRWYWx1ZXMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY2xvc2VPblNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFja3MuYWZ0ZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLmFmdGVyQ2hhbmdlKGFmdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURlc2VsZWN0QWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZVN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgICAgICAgICBkZWxldGVTdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAxMDAgMTAwJyk7XG4gICAgICAgICAgICBjb25zdCBkZWxldGVQYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgICAgICAgICBkZWxldGVQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIHRoaXMuY2xhc3Nlcy5vcHRpb25EZWxldGUpO1xuICAgICAgICAgICAgZGVsZXRlU3ZnLmFwcGVuZENoaWxkKGRlbGV0ZVBhdGgpO1xuICAgICAgICAgICAgZGVsZXRlRGl2LmFwcGVuZENoaWxkKGRlbGV0ZVN2Zyk7XG4gICAgICAgICAgICB2YWx1ZS5hcHBlbmRDaGlsZChkZWxldGVEaXYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29udGVudERpdigpIHtcbiAgICAgICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtYWluLmRhdGFzZXQuaWQgPSB0aGlzLnNldHRpbmdzLmlkO1xuICAgICAgICBtYWluLmlkID0gdGhpcy5zZXR0aW5ncy5pZDtcbiAgICAgICAgY29uc3Qgc2VhcmNoID0gdGhpcy5zZWFyY2hEaXYoKTtcbiAgICAgICAgbWFpbi5hcHBlbmRDaGlsZChzZWFyY2gubWFpbik7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3REaXYoKTtcbiAgICAgICAgbWFpbi5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1haW46IG1haW4sXG4gICAgICAgICAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICAgICAgICAgIGxpc3Q6IGxpc3QsXG4gICAgICAgIH07XG4gICAgfVxuICAgIG1vdmVDb250ZW50KCkge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jb250ZW50UG9zaXRpb24gPT09ICdyZWxhdGl2ZScpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUNvbnRlbnRCZWxvdygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm9wZW5Qb3NpdGlvbiA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVDb250ZW50QmVsb3coKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNldHRpbmdzLm9wZW5Qb3NpdGlvbiA9PT0gJ3VwJykge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ29udGVudEFib3ZlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHV0Q29udGVudCgpID09PSAndXAnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVDb250ZW50QWJvdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUNvbnRlbnRCZWxvdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlYXJjaERpdigpIHtcbiAgICAgICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IGFkZGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWFpbi5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5zZWFyY2gpO1xuICAgICAgICBjb25zdCBzZWFyY2hSZXR1cm4gPSB7XG4gICAgICAgICAgICBtYWluLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5zaG93U2VhcmNoKSB7XG4gICAgICAgICAgICBtYWluLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLmhpZGUpO1xuICAgICAgICAgICAgaW5wdXQucmVhZE9ubHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0LnR5cGUgPSAnc2VhcmNoJztcbiAgICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLnNldHRpbmdzLnNlYXJjaFBsYWNlaG9sZGVyO1xuICAgICAgICBpbnB1dC50YWJJbmRleCA9IC0xO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLnNldHRpbmdzLnNlYXJjaFBsYWNlaG9sZGVyKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdhdXRvY2FwaXRhbGl6ZScsICdvZmYnKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXV0b2NvcnJlY3QnLCAnb2ZmJyk7XG4gICAgICAgIGlucHV0Lm9uaW5wdXQgPSBkZWJvdW5jZSgoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Muc2VhcmNoKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgaW5wdXQub25rZXlkb3duID0gKGUpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICAgICAgICBlLmtleSA9PT0gJ0Fycm93RG93bicgPyB0aGlzLmhpZ2hsaWdodCgnZG93bicpIDogdGhpcy5oaWdobGlnaHQoJ3VwJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBjYXNlICdUYWInOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFja3MuYWRkYWJsZSAmJiBlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGFibGUuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hsaWdodGVkID0gdGhpcy5jb250ZW50Lmxpc3QucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLmNsYXNzZXMuaGlnaGxpZ2h0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhpZ2hsaWdodGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0ZWQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1haW4uYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICBpZiAodGhpcy5jYWxsYmFja3MuYWRkYWJsZSkge1xuICAgICAgICAgICAgYWRkYWJsZS5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5hZGRhYmxlKTtcbiAgICAgICAgICAgIGNvbnN0IHBsdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICAgICAgICAgICAgcGx1cy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDEwMCAxMDAnKTtcbiAgICAgICAgICAgIGNvbnN0IHBsdXNQYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgICAgICAgICBwbHVzUGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCB0aGlzLmNsYXNzZXMuYWRkYWJsZVBhdGgpO1xuICAgICAgICAgICAgcGx1cy5hcHBlbmRDaGlsZChwbHVzUGF0aCk7XG4gICAgICAgICAgICBhZGRhYmxlLmFwcGVuZENoaWxkKHBsdXMpO1xuICAgICAgICAgICAgYWRkYWJsZS5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FsbGJhY2tzLmFkZGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFZhbHVlID0gdGhpcy5jb250ZW50LnNlYXJjaC5pbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0VmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5zZWFyY2guaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBydW5GaW5pc2ggPSAob28pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld09wdGlvbiA9IG5ldyBPcHRpb24ob28pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5hZGRPcHRpb24obmV3T3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlcyA9IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKG5ld09wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5zZXRTZWxlY3RlZCh2YWx1ZXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Muc2V0U2VsZWN0ZWQoW25ld09wdGlvbi52YWx1ZV0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnNlYXJjaCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNsb3NlT25TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRhYmxlVmFsdWUgPSB0aGlzLmNhbGxiYWNrcy5hZGRhYmxlKGlucHV0VmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChhZGRhYmxlVmFsdWUgPT09IGZhbHNlIHx8IGFkZGFibGVWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGFkZGFibGVWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhZGRhYmxlVmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZGFibGVWYWx1ZS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW5GaW5pc2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuRmluaXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhZGRhYmxlVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bkZpbmlzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhZGRhYmxlVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYWRkYWJsZVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bkZpbmlzaChhZGRhYmxlVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbWFpbi5hcHBlbmRDaGlsZChhZGRhYmxlKTtcbiAgICAgICAgICAgIHNlYXJjaFJldHVybi5hZGRhYmxlID0ge1xuICAgICAgICAgICAgICAgIG1haW46IGFkZGFibGUsXG4gICAgICAgICAgICAgICAgc3ZnOiBwbHVzLFxuICAgICAgICAgICAgICAgIHBhdGg6IHBsdXNQYXRoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VhcmNoUmV0dXJuO1xuICAgIH1cbiAgICBzZWFyY2hGb2N1cygpIHtcbiAgICAgICAgdGhpcy5jb250ZW50LnNlYXJjaC5pbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgICBnZXRPcHRpb25zKG5vdFBsYWNlaG9sZGVyID0gZmFsc2UsIG5vdERpc2FibGVkID0gZmFsc2UsIG5vdEhpZGRlbiA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBxdWVyeSA9ICcuJyArIHRoaXMuY2xhc3Nlcy5vcHRpb247XG4gICAgICAgIGlmIChub3RQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgcXVlcnkgKz0gJzpub3QoLicgKyB0aGlzLmNsYXNzZXMucGxhY2Vob2xkZXIgKyAnKSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdERpc2FibGVkKSB7XG4gICAgICAgICAgICBxdWVyeSArPSAnOm5vdCguJyArIHRoaXMuY2xhc3Nlcy5kaXNhYmxlZCArICcpJztcbiAgICAgICAgfVxuICAgICAgICBpZiAobm90SGlkZGVuKSB7XG4gICAgICAgICAgICBxdWVyeSArPSAnOm5vdCguJyArIHRoaXMuY2xhc3Nlcy5oaWRlICsgJyknO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY29udGVudC5saXN0LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpKTtcbiAgICB9XG4gICAgaGlnaGxpZ2h0KGRpcikge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9uc1swXS5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jbGFzc2VzLmhpZ2hsaWdodGVkKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNbMF0uY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuaGlnaGxpZ2h0ZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zW2ldLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNsYXNzZXMuaGlnaGxpZ2h0ZWQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldk9wdGlvbiA9IG9wdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgcHJldk9wdGlvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY2xhc3Nlcy5oaWdobGlnaHRlZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlBhcmVudCA9IHByZXZPcHRpb24ucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAocHJldlBhcmVudCAmJiBwcmV2UGFyZW50LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNsYXNzZXMub3BlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0Z3JvdXBMYWJlbCA9IHByZXZQYXJlbnQucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLmNsYXNzZXMub3B0Z3JvdXBMYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRncm91cExhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRncm91cExhYmVsLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdE9wdGlvbiA9IG9wdGlvbnNbZGlyID09PSAnZG93bicgPyAoaSArIDEgPCBvcHRpb25zLmxlbmd0aCA/IGkgKyAxIDogMCkgOiBpIC0gMSA+PSAwID8gaSAtIDEgOiBvcHRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIHNlbGVjdE9wdGlvbi5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5oaWdobGlnaHRlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnN1cmVFbGVtZW50SW5WaWV3KHRoaXMuY29udGVudC5saXN0LCBzZWxlY3RPcHRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdFBhcmVudCA9IHNlbGVjdE9wdGlvbi5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RQYXJlbnQgJiYgc2VsZWN0UGFyZW50LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNsYXNzZXMuY2xvc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGdyb3VwTGFiZWwgPSBzZWxlY3RQYXJlbnQucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLmNsYXNzZXMub3B0Z3JvdXBMYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRncm91cExhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRncm91cExhYmVsLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnNbZGlyID09PSAnZG93bicgPyAwIDogb3B0aW9ucy5sZW5ndGggLSAxXS5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5oaWdobGlnaHRlZCk7XG4gICAgICAgIHRoaXMuZW5zdXJlRWxlbWVudEluVmlldyh0aGlzLmNvbnRlbnQubGlzdCwgb3B0aW9uc1tkaXIgPT09ICdkb3duJyA/IDAgOiBvcHRpb25zLmxlbmd0aCAtIDFdKTtcbiAgICB9XG4gICAgbGlzdERpdigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBvcHRpb25zLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLmxpc3QpO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICAgcmVuZGVyRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5jb250ZW50Lmxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IGVycm9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVycm9yRGl2LmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLmVycm9yKTtcbiAgICAgICAgZXJyb3JEaXYudGV4dENvbnRlbnQgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5jb250ZW50Lmxpc3QuYXBwZW5kQ2hpbGQoZXJyb3JEaXYpO1xuICAgIH1cbiAgICByZW5kZXJTZWFyY2hpbmcoKSB7XG4gICAgICAgIHRoaXMuY29udGVudC5saXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBzZWFyY2hpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc2VhcmNoaW5nRGl2LmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLnNlYXJjaGluZyk7XG4gICAgICAgIHNlYXJjaGluZ0Rpdi50ZXh0Q29udGVudCA9IHRoaXMuc2V0dGluZ3Muc2VhcmNoaW5nVGV4dDtcbiAgICAgICAgdGhpcy5jb250ZW50Lmxpc3QuYXBwZW5kQ2hpbGQoc2VhcmNoaW5nRGl2KTtcbiAgICB9XG4gICAgcmVuZGVyT3B0aW9ucyhkYXRhKSB7XG4gICAgICAgIHRoaXMuY29udGVudC5saXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5vUmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbm9SZXN1bHRzLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLnNlYXJjaCk7XG4gICAgICAgICAgICBub1Jlc3VsdHMuaW5uZXJIVE1MID0gdGhpcy5zZXR0aW5ncy5zZWFyY2hUZXh0O1xuICAgICAgICAgICAgdGhpcy5jb250ZW50Lmxpc3QuYXBwZW5kQ2hpbGQobm9SZXN1bHRzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGQgaW5zdGFuY2VvZiBPcHRncm91cCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGdyb3VwRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBvcHRncm91cEVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLm9wdGdyb3VwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRncm91cExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgb3B0Z3JvdXBMYWJlbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5vcHRncm91cExhYmVsKTtcbiAgICAgICAgICAgICAgICBvcHRncm91cEVsLmFwcGVuZENoaWxkKG9wdGdyb3VwTGFiZWwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGdyb3VwTGFiZWxUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgb3B0Z3JvdXBMYWJlbFRleHQuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMub3B0Z3JvdXBMYWJlbFRleHQpO1xuICAgICAgICAgICAgICAgIG9wdGdyb3VwTGFiZWxUZXh0LnRleHRDb250ZW50ID0gZC5sYWJlbDtcbiAgICAgICAgICAgICAgICBvcHRncm91cExhYmVsLmFwcGVuZENoaWxkKG9wdGdyb3VwTGFiZWxUZXh0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRncm91cEFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBvcHRncm91cEFjdGlvbnMuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMub3B0Z3JvdXBBY3Rpb25zKTtcbiAgICAgICAgICAgICAgICBvcHRncm91cExhYmVsLmFwcGVuZENoaWxkKG9wdGdyb3VwQWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaXNNdWx0aXBsZSAmJiBkLnNlbGVjdEFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RBbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLm9wdGdyb3VwU2VsZWN0QWxsKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFsbFNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIGQub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEFsbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5zZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0QWxsVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsVGV4dC50ZXh0Q29udGVudCA9ICdTZWxlY3QgQWxsJztcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsLmFwcGVuZENoaWxkKHNlbGVjdEFsbFRleHQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RBbGxTdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGxTdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAxMDAgMTAwJyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEFsbC5hcHBlbmRDaGlsZChzZWxlY3RBbGxTdmcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RBbGxCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsQm94LnNldEF0dHJpYnV0ZSgnZCcsIHRoaXMuY2xhc3Nlcy5vcHRncm91cFNlbGVjdEFsbEJveCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEFsbFN2Zy5hcHBlbmRDaGlsZChzZWxlY3RBbGxCb3gpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RBbGxDaGVjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGxDaGVjay5zZXRBdHRyaWJ1dGUoJ2QnLCB0aGlzLmNsYXNzZXMub3B0Z3JvdXBTZWxlY3RBbGxDaGVjayk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEFsbFN2Zy5hcHBlbmRDaGlsZChzZWxlY3RBbGxDaGVjayk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEFsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNlbGVjdGVkID0gdGhpcy5zdG9yZS5nZXRTZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbFNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U2VsZWN0ZWQgPSBjdXJyZW50U2VsZWN0ZWQuZmlsdGVyKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBkLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09PSBvLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnNldFNlbGVjdGVkKG5ld1NlbGVjdGVkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTZWxlY3RlZCA9IGN1cnJlbnRTZWxlY3RlZC5jb25jYXQoZC5vcHRpb25zLm1hcCgobykgPT4gby52YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnNldFNlbGVjdGVkKG5ld1NlbGVjdGVkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwQWN0aW9ucy5hcHBlbmRDaGlsZChzZWxlY3RBbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZC5jbG9zYWJsZSAhPT0gJ29mZicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0Z3JvdXBDbG9zYWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBvcHRncm91cENsb3NhYmxlLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLm9wdGdyb3VwQ2xvc2FibGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRncm91cENsb3NhYmxlU3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXBDbG9zYWJsZVN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDEwMCAxMDAnKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXBDbG9zYWJsZVN2Zy5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5hcnJvdyk7XG4gICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwQ2xvc2FibGUuYXBwZW5kQ2hpbGQob3B0Z3JvdXBDbG9zYWJsZVN2Zyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGdyb3VwQ2xvc2FibGVBcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgICAgICAgICAgICAgICAgICBvcHRncm91cENsb3NhYmxlU3ZnLmFwcGVuZENoaWxkKG9wdGdyb3VwQ2xvc2FibGVBcnJvdyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkLm9wdGlvbnMuc29tZSgobykgPT4gby5zZWxlY3RlZCkgfHwgdGhpcy5jb250ZW50LnNlYXJjaC5pbnB1dC52YWx1ZS50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRncm91cENsb3NhYmxlLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLm9wZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXBDbG9zYWJsZUFycm93LnNldEF0dHJpYnV0ZSgnZCcsIHRoaXMuY2xhc3Nlcy5hcnJvd09wZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGQuY2xvc2FibGUgPT09ICdvcGVuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXBFbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5vcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwQ2xvc2FibGVBcnJvdy5zZXRBdHRyaWJ1dGUoJ2QnLCB0aGlzLmNsYXNzZXMuYXJyb3dPcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkLmNsb3NhYmxlID09PSAnY2xvc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRncm91cEVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLmNsb3NlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwQ2xvc2FibGVBcnJvdy5zZXRBdHRyaWJ1dGUoJ2QnLCB0aGlzLmNsYXNzZXMuYXJyb3dDbG9zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXBMYWJlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGdyb3VwRWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY2xhc3Nlcy5jbG9zZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRncm91cEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbGFzc2VzLmNsb3NlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRncm91cEVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLm9wZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwQ2xvc2FibGVBcnJvdy5zZXRBdHRyaWJ1dGUoJ2QnLCB0aGlzLmNsYXNzZXMuYXJyb3dPcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNsYXNzZXMub3Blbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXBFbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5jbG9zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXBDbG9zYWJsZUFycm93LnNldEF0dHJpYnV0ZSgnZCcsIHRoaXMuY2xhc3Nlcy5hcnJvd0Nsb3NlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwQWN0aW9ucy5hcHBlbmRDaGlsZChvcHRncm91cENsb3NhYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0Z3JvdXBFbC5hcHBlbmRDaGlsZChvcHRncm91cExhYmVsKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG8gb2YgZC5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwRWwuYXBwZW5kQ2hpbGQodGhpcy5vcHRpb24obykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQubGlzdC5hcHBlbmRDaGlsZChvcHRncm91cEVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Lmxpc3QuYXBwZW5kQ2hpbGQodGhpcy5vcHRpb24oZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgaWYgKG9wdGlvbi5wbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLm9wdGlvbik7XG4gICAgICAgICAgICBwbGFjZWhvbGRlci5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5oaWRlKTtcbiAgICAgICAgICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBvcHRpb25FbC5kYXRhc2V0LmlkID0gb3B0aW9uLmlkO1xuICAgICAgICBvcHRpb25FbC5pZCA9IG9wdGlvbi5pZDtcbiAgICAgICAgb3B0aW9uRWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMub3B0aW9uKTtcbiAgICAgICAgb3B0aW9uRWwuc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpZiAob3B0aW9uLmNsYXNzKSB7XG4gICAgICAgICAgICBvcHRpb24uY2xhc3Muc3BsaXQoJyAnKS5mb3JFYWNoKChkYXRhQ2xhc3MpID0+IHtcbiAgICAgICAgICAgICAgICBvcHRpb25FbC5jbGFzc0xpc3QuYWRkKGRhdGFDbGFzcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9uLnN0eWxlKSB7XG4gICAgICAgICAgICBvcHRpb25FbC5zdHlsZS5jc3NUZXh0ID0gb3B0aW9uLnN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNlYXJjaEhpZ2hsaWdodCAmJiB0aGlzLmNvbnRlbnQuc2VhcmNoLmlucHV0LnZhbHVlLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgICAgIG9wdGlvbkVsLmlubmVySFRNTCA9IHRoaXMuaGlnaGxpZ2h0VGV4dChvcHRpb24uaHRtbCAhPT0gJycgPyBvcHRpb24uaHRtbCA6IG9wdGlvbi50ZXh0LCB0aGlzLmNvbnRlbnQuc2VhcmNoLmlucHV0LnZhbHVlLCB0aGlzLmNsYXNzZXMuc2VhcmNoSGlnaGxpZ2h0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbi5odG1sICE9PSAnJykge1xuICAgICAgICAgICAgb3B0aW9uRWwuaW5uZXJIVE1MID0gb3B0aW9uLmh0bWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25FbC50ZXh0Q29udGVudCA9IG9wdGlvbi50ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNob3dPcHRpb25Ub29sdGlwcyAmJiBvcHRpb25FbC50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgb3B0aW9uRWwuc2V0QXR0cmlidXRlKCd0aXRsZScsIG9wdGlvbkVsLnRleHRDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbi5kaXNwbGF5KSB7XG4gICAgICAgICAgICBvcHRpb25FbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5oaWRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICBvcHRpb25FbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3Nlcy5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCAmJiB0aGlzLnNldHRpbmdzLmhpZGVTZWxlY3RlZCkge1xuICAgICAgICAgICAgb3B0aW9uRWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuaGlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgb3B0aW9uRWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuc2VsZWN0ZWQpO1xuICAgICAgICAgICAgb3B0aW9uRWwuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tYWluLnNldEF0dHJpYnV0ZSgnYXJpYS1hY3RpdmVkZXNjZW5kYW50Jywgb3B0aW9uRWwuaWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9uRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNsYXNzZXMuc2VsZWN0ZWQpO1xuICAgICAgICAgICAgb3B0aW9uRWwuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9uRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9ucyA9IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWQoKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50SUQgPSBTdHJpbmcoZWxlbWVudC5kYXRhc2V0LmlkKTtcbiAgICAgICAgICAgIGlmIChvcHRpb24uZGlzYWJsZWQgfHwgKG9wdGlvbi5zZWxlY3RlZCAmJiAhdGhpcy5zZXR0aW5ncy5hbGxvd0Rlc2VsZWN0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGhpcy5zZXR0aW5ncy5pc011bHRpcGxlICYmIHRoaXMuc2V0dGluZ3MubWF4U2VsZWN0ZWQgPD0gc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCAmJiAhb3B0aW9uLnNlbGVjdGVkKSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLnNldHRpbmdzLmlzTXVsdGlwbGUgJiYgdGhpcy5zZXR0aW5ncy5taW5TZWxlY3RlZCA+PSBzZWxlY3RlZE9wdGlvbnMubGVuZ3RoICYmIG9wdGlvbi5zZWxlY3RlZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBiZWZvcmUgPSB0aGlzLnN0b3JlLmdldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICAgICAgbGV0IGFmdGVyID0gW107XG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pc011bHRpcGxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBhZnRlciA9IGJlZm9yZS5maWx0ZXIoKG8pID0+IG8uaWQgIT09IGVsZW1lbnRJRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZnRlciA9IGJlZm9yZS5jb25jYXQob3B0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFmdGVyID0gW29wdGlvbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhbGxiYWNrcy5iZWZvcmVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLmJlZm9yZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrcy5iZWZvcmVDaGFuZ2UoYWZ0ZXIsIGJlZm9yZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0b3JlLmdldE9wdGlvbkJ5SUQoZWxlbWVudElEKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5hZGRPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Muc2V0U2VsZWN0ZWQoYWZ0ZXIubWFwKChvKSA9PiBvLnZhbHVlKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNsb3NlT25TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLmFmdGVyQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLmFmdGVyQ2hhbmdlKGFmdGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9uRWw7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmNvbnRlbnQubWFpbi5yZW1vdmUoKTtcbiAgICB9XG4gICAgaGlnaGxpZ2h0VGV4dChzdHIsIHNlYXJjaCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGxldCBjb21wbGV0ZWRTdHJpbmcgPSBzdHI7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgnKCcgKyBzZWFyY2gudHJpbSgpICsgJykoPyFbXjxdKj5bXjw+XSo8LyknLCAnaScpO1xuICAgICAgICBpZiAoIXN0ci5tYXRjaChyZWdleCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF0Y2hTdGFydFBvc2l0aW9uID0gc3RyLm1hdGNoKHJlZ2V4KS5pbmRleDtcbiAgICAgICAgY29uc3QgbWF0Y2hFbmRQb3NpdGlvbiA9IG1hdGNoU3RhcnRQb3NpdGlvbiArIHN0ci5tYXRjaChyZWdleClbMF0udG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dEZvdW5kQnlSZWdleCA9IHN0ci5zdWJzdHJpbmcobWF0Y2hTdGFydFBvc2l0aW9uLCBtYXRjaEVuZFBvc2l0aW9uKTtcbiAgICAgICAgY29tcGxldGVkU3RyaW5nID0gY29tcGxldGVkU3RyaW5nLnJlcGxhY2UocmVnZXgsIGA8bWFyayBjbGFzcz1cIiR7Y2xhc3NOYW1lfVwiPiR7b3JpZ2luYWxUZXh0Rm91bmRCeVJlZ2V4fTwvbWFyaz5gKTtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlZFN0cmluZztcbiAgICB9XG4gICAgbW92ZUNvbnRlbnRBYm92ZSgpIHtcbiAgICAgICAgY29uc3QgbWFpbkhlaWdodCA9IHRoaXMubWFpbi5tYWluLm9mZnNldEhlaWdodDtcbiAgICAgICAgY29uc3QgY29udGVudEhlaWdodCA9IHRoaXMuY29udGVudC5tYWluLm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5tYWluLm1haW4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNsYXNzZXMub3BlbkJlbG93KTtcbiAgICAgICAgdGhpcy5tYWluLm1haW4uY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMub3BlbkFib3ZlKTtcbiAgICAgICAgdGhpcy5jb250ZW50Lm1haW4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNsYXNzZXMub3BlbkJlbG93KTtcbiAgICAgICAgdGhpcy5jb250ZW50Lm1haW4uY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMub3BlbkFib3ZlKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IHRoaXMubWFpbi5tYWluLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmNvbnRlbnQubWFpbi5zdHlsZS5tYXJnaW4gPSAnLScgKyAobWFpbkhlaWdodCArIGNvbnRlbnRIZWlnaHQgLSAxKSArICdweCAwcHggMHB4IDBweCc7XG4gICAgICAgIHRoaXMuY29udGVudC5tYWluLnN0eWxlLnRvcCA9IGNvbnRhaW5lclJlY3QudG9wICsgY29udGFpbmVyUmVjdC5oZWlnaHQgKyB3aW5kb3cuc2Nyb2xsWSArICdweCc7XG4gICAgICAgIHRoaXMuY29udGVudC5tYWluLnN0eWxlLmxlZnQgPSBjb250YWluZXJSZWN0LmxlZnQgKyB3aW5kb3cuc2Nyb2xsWCArICdweCc7XG4gICAgICAgIHRoaXMuY29udGVudC5tYWluLnN0eWxlLndpZHRoID0gY29udGFpbmVyUmVjdC53aWR0aCArICdweCc7XG4gICAgfVxuICAgIG1vdmVDb250ZW50QmVsb3coKSB7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbGFzc2VzLm9wZW5BYm92ZSk7XG4gICAgICAgIHRoaXMubWFpbi5tYWluLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLm9wZW5CZWxvdyk7XG4gICAgICAgIHRoaXMuY29udGVudC5tYWluLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbGFzc2VzLm9wZW5BYm92ZSk7XG4gICAgICAgIHRoaXMuY29udGVudC5tYWluLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc2VzLm9wZW5CZWxvdyk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSB0aGlzLm1haW4ubWFpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5jb250ZW50Lm1haW4uc3R5bGUubWFyZ2luID0gJy0xcHggMHB4IDBweCAwcHgnO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jb250ZW50UG9zaXRpb24gIT09ICdyZWxhdGl2ZScpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5tYWluLnN0eWxlLnRvcCA9IGNvbnRhaW5lclJlY3QudG9wICsgY29udGFpbmVyUmVjdC5oZWlnaHQgKyB3aW5kb3cuc2Nyb2xsWSArICdweCc7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQubWFpbi5zdHlsZS5sZWZ0ID0gY29udGFpbmVyUmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFggKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50Lm1haW4uc3R5bGUud2lkdGggPSBjb250YWluZXJSZWN0LndpZHRoICsgJ3B4JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbnN1cmVFbGVtZW50SW5WaWV3KGNvbnRhaW5lciwgZWxlbWVudCkge1xuICAgICAgICBjb25zdCBjVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcCArIGNvbnRhaW5lci5vZmZzZXRUb3A7XG4gICAgICAgIGNvbnN0IGNCb3R0b20gPSBjVG9wICsgY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICAgICAgY29uc3QgZVRvcCA9IGVsZW1lbnQub2Zmc2V0VG9wO1xuICAgICAgICBjb25zdCBlQm90dG9tID0gZVRvcCArIGVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICBpZiAoZVRvcCA8IGNUb3ApIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgLT0gY1RvcCAtIGVUb3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZUJvdHRvbSA+IGNCb3R0b20pIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgKz0gZUJvdHRvbSAtIGNCb3R0b207XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHV0Q29udGVudCgpIHtcbiAgICAgICAgY29uc3QgbWFpbkhlaWdodCA9IHRoaXMubWFpbi5tYWluLm9mZnNldEhlaWdodDtcbiAgICAgICAgY29uc3QgbWFpblJlY3QgPSB0aGlzLm1haW4ubWFpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgY29udGVudEhlaWdodCA9IHRoaXMuY29udGVudC5tYWluLm9mZnNldEhlaWdodDtcbiAgICAgICAgY29uc3Qgc3BhY2VCZWxvdyA9IHdpbmRvdy5pbm5lckhlaWdodCAtIChtYWluUmVjdC50b3AgKyBtYWluSGVpZ2h0KTtcbiAgICAgICAgaWYgKHNwYWNlQmVsb3cgPD0gY29udGVudEhlaWdodCkge1xuICAgICAgICAgICAgaWYgKG1haW5SZWN0LnRvcCA+IGNvbnRlbnRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VwJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAnZG93bic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdkb3duJztcbiAgICB9XG4gICAgdXBkYXRlRGVzZWxlY3RBbGwoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdG9yZSB8fCAhdGhpcy5zZXR0aW5ncykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zdG9yZS5nZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgaGFzU2VsZWN0ZWRJdGVtcyA9IHNlbGVjdGVkICYmIHNlbGVjdGVkLmxlbmd0aCA+IDA7XG4gICAgICAgIGNvbnN0IGlzTXVsdGlwbGUgPSB0aGlzLnNldHRpbmdzLmlzTXVsdGlwbGU7XG4gICAgICAgIGNvbnN0IGFsbG93RGVzZWxlY3QgPSB0aGlzLnNldHRpbmdzLmFsbG93RGVzZWxlY3Q7XG4gICAgICAgIGNvbnN0IGRlc2VsZWN0QnV0dG9uID0gdGhpcy5tYWluLmRlc2VsZWN0Lm1haW47XG4gICAgICAgIGNvbnN0IGhpZGVDbGFzcyA9IHRoaXMuY2xhc3Nlcy5oaWRlO1xuICAgICAgICBpZiAoYWxsb3dEZXNlbGVjdCAmJiAhKGlzTXVsdGlwbGUgJiYgIWhhc1NlbGVjdGVkSXRlbXMpKSB7XG4gICAgICAgICAgICBkZXNlbGVjdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKGhpZGVDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZXNlbGVjdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGhpZGVDbGFzcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIFNlbGVjdCB7XG4gICAgY29uc3RydWN0b3Ioc2VsZWN0KSB7XG4gICAgICAgIHRoaXMubGlzdGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IHNlbGVjdDtcbiAgICAgICAgdGhpcy5zZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy52YWx1ZUNoYW5nZS5iaW5kKHRoaXMpLCB7XG4gICAgICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMub2JzZXJ2ZUNhbGwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuKHRydWUpO1xuICAgIH1cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaGlkZVVJKCkge1xuICAgICAgICB0aGlzLnNlbGVjdC50YWJJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLnNlbGVjdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLnNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICB9XG4gICAgc2hvd1VJKCkge1xuICAgICAgICB0aGlzLnNlbGVjdC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgIHRoaXMuc2VsZWN0LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgdGhpcy5zZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuICAgIH1cbiAgICBjaGFuZ2VMaXN0ZW4obGlzdGVuKSB7XG4gICAgICAgIHRoaXMubGlzdGVuID0gbGlzdGVuO1xuICAgICAgICBpZiAobGlzdGVuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnNlbGVjdCwge1xuICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsaXN0ZW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFsdWVDaGFuZ2UoZXYpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuICYmIHRoaXMub25WYWx1ZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlKHRoaXMuZ2V0U2VsZWN0ZWRWYWx1ZXMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG9ic2VydmVDYWxsKG11dGF0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNsYXNzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZGlzYWJsZWRDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBvcHRncm91cE9wdGlvbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBtIG9mIG11dGF0aW9ucykge1xuICAgICAgICAgICAgaWYgKG0udGFyZ2V0ID09PSB0aGlzLnNlbGVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChtLmF0dHJpYnV0ZU5hbWUgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG0uYXR0cmlidXRlTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtLnRhcmdldC5ub2RlTmFtZSA9PT0gJ09QVEdST1VQJyB8fCBtLnRhcmdldC5ub2RlTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAgICAgICBvcHRncm91cE9wdGlvbkNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjbGFzc0NoYW5nZWQgJiYgdGhpcy5vbkNsYXNzQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xhc3NDaGFuZ2UodGhpcy5zZWxlY3QuY2xhc3NOYW1lLnNwbGl0KCcgJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNhYmxlZENoYW5nZWQgJiYgdGhpcy5vbkRpc2FibGVkQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZUxpc3RlbihmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLm9uRGlzYWJsZWRDaGFuZ2UodGhpcy5zZWxlY3QuZGlzYWJsZWQpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW4odHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGdyb3VwT3B0aW9uQ2hhbmdlZCAmJiB0aGlzLm9uT3B0aW9uc0NoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW4oZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5vbk9wdGlvbnNDaGFuZ2UodGhpcy5nZXREYXRhKCkpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW4odHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBbXTtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLnNlbGVjdC5jaGlsZE5vZGVzO1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChuLm5vZGVOYW1lID09PSAnT1BUR1JPVVAnKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHRoaXMuZ2V0RGF0YUZyb21PcHRncm91cChuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobi5ub2RlTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2godGhpcy5nZXREYXRhRnJvbU9wdGlvbihuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGdldERhdGFGcm9tT3B0Z3JvdXAob3B0Z3JvdXApIHtcbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBpZDogb3B0Z3JvdXAuaWQsXG4gICAgICAgICAgICBsYWJlbDogb3B0Z3JvdXAubGFiZWwsXG4gICAgICAgICAgICBzZWxlY3RBbGw6IG9wdGdyb3VwLmRhdGFzZXQgPyBvcHRncm91cC5kYXRhc2V0LnNlbGVjdGFsbCA9PT0gJ3RydWUnIDogZmFsc2UsXG4gICAgICAgICAgICBjbG9zYWJsZTogb3B0Z3JvdXAuZGF0YXNldCA/IG9wdGdyb3VwLmRhdGFzZXQuY2xvc2FibGUgOiAnb2ZmJyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0Z3JvdXAuY2hpbGROb2RlcztcbiAgICAgICAgZm9yIChjb25zdCBvIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvLm5vZGVOYW1lID09PSAnT1BUSU9OJykge1xuICAgICAgICAgICAgICAgIGRhdGEub3B0aW9ucy5wdXNoKHRoaXMuZ2V0RGF0YUZyb21PcHRpb24obykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBnZXREYXRhRnJvbU9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBvcHRpb24uaWQsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlLFxuICAgICAgICAgICAgdGV4dDogb3B0aW9uLnRleHQsXG4gICAgICAgICAgICBodG1sOiBvcHRpb24uZGF0YXNldCAmJiBvcHRpb24uZGF0YXNldC5odG1sID8gb3B0aW9uLmRhdGFzZXQuaHRtbCA6ICcnLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IG9wdGlvbi5zZWxlY3RlZCxcbiAgICAgICAgICAgIGRpc3BsYXk6IG9wdGlvbi5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyBmYWxzZSA6IHRydWUsXG4gICAgICAgICAgICBkaXNhYmxlZDogb3B0aW9uLmRpc2FibGVkLFxuICAgICAgICAgICAgbWFuZGF0b3J5OiBvcHRpb24uZGF0YXNldCA/IG9wdGlvbi5kYXRhc2V0Lm1hbmRhdG9yeSA9PT0gJ3RydWUnIDogZmFsc2UsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogb3B0aW9uLmRhdGFzZXQucGxhY2Vob2xkZXIgPT09ICd0cnVlJyxcbiAgICAgICAgICAgIGNsYXNzOiBvcHRpb24uY2xhc3NOYW1lLFxuICAgICAgICAgICAgc3R5bGU6IG9wdGlvbi5zdHlsZS5jc3NUZXh0LFxuICAgICAgICAgICAgZGF0YTogb3B0aW9uLmRhdGFzZXQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFNlbGVjdGVkVmFsdWVzKCkge1xuICAgICAgICBsZXQgdmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnNlbGVjdC5jaGlsZE5vZGVzO1xuICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG8ubm9kZU5hbWUgPT09ICdPUFRHUk9VUCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRncm91cE9wdGlvbnMgPSBvLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvbyBvZiBvcHRncm91cE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9vLm5vZGVOYW1lID09PSAnT1BUSU9OJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gb287XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvLm5vZGVOYW1lID09PSAnT1BUSU9OJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IG87XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbiAgICBzZXRTZWxlY3RlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNoYW5nZUxpc3RlbihmYWxzZSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnNlbGVjdC5jaGlsZE5vZGVzO1xuICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG8ubm9kZU5hbWUgPT09ICdPUFRHUk9VUCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRncm91cCA9IG87XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0Z3JvdXBPcHRpb25zID0gb3B0Z3JvdXAuY2hpbGROb2RlcztcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9vIG9mIG9wdGdyb3VwT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob28ubm9kZU5hbWUgPT09ICdPUFRJT04nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBvbztcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLmluY2x1ZGVzKG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoby5ub2RlTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBvO1xuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLmluY2x1ZGVzKG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW4odHJ1ZSk7XG4gICAgfVxuICAgIHVwZGF0ZVNlbGVjdChpZCwgc3R5bGUsIGNsYXNzZXMpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW4oZmFsc2UpO1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0LmRhdGFzZXQuaWQgPSBpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0LnN0eWxlLmNzc1RleHQgPSBzdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xhc3Nlcykge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3QuY2xhc3NOYW1lID0gJyc7XG4gICAgICAgICAgICBjbGFzc2VzLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYy50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0LmNsYXNzTGlzdC5hZGQoYy50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuKHRydWUpO1xuICAgIH1cbiAgICB1cGRhdGVPcHRpb25zKGRhdGEpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW4oZmFsc2UpO1xuICAgICAgICB0aGlzLnNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgZm9yIChjb25zdCBkIG9mIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkIGluc3RhbmNlb2YgT3B0Z3JvdXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZU9wdGdyb3VwKGQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVPcHRpb24oZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7XG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuKHRydWUpO1xuICAgIH1cbiAgICBjcmVhdGVPcHRncm91cChvcHRncm91cCkge1xuICAgICAgICBjb25zdCBvcHRncm91cEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0Z3JvdXAnKTtcbiAgICAgICAgb3B0Z3JvdXBFbC5pZCA9IG9wdGdyb3VwLmlkO1xuICAgICAgICBvcHRncm91cEVsLmxhYmVsID0gb3B0Z3JvdXAubGFiZWw7XG4gICAgICAgIGlmIChvcHRncm91cC5zZWxlY3RBbGwpIHtcbiAgICAgICAgICAgIG9wdGdyb3VwRWwuZGF0YXNldC5zZWxlY3RBbGwgPSAndHJ1ZSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGdyb3VwLmNsb3NhYmxlICE9PSAnb2ZmJykge1xuICAgICAgICAgICAgb3B0Z3JvdXBFbC5kYXRhc2V0LmNsb3NhYmxlID0gb3B0Z3JvdXAuY2xvc2FibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGdyb3VwLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBvcHRncm91cC5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgb3B0Z3JvdXBFbC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZU9wdGlvbihvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGdyb3VwRWw7XG4gICAgfVxuICAgIGNyZWF0ZU9wdGlvbihpbmZvKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbkVsLmlkID0gaW5mby5pZDtcbiAgICAgICAgb3B0aW9uRWwudmFsdWUgPSBpbmZvLnZhbHVlO1xuICAgICAgICBvcHRpb25FbC5pbm5lckhUTUwgPSBpbmZvLnRleHQ7XG4gICAgICAgIGlmIChpbmZvLmh0bWwgIT09ICcnKSB7XG4gICAgICAgICAgICBvcHRpb25FbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaHRtbCcsIGluZm8uaHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZm8uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbkVsLnNlbGVjdGVkID0gaW5mby5zZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5mby5kaXNhYmxlZCkge1xuICAgICAgICAgICAgb3B0aW9uRWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmZvLmRpc3BsYXkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvcHRpb25FbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmZvLnBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICBvcHRpb25FbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGxhY2Vob2xkZXInLCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmZvLm1hbmRhdG9yeSkge1xuICAgICAgICAgICAgb3B0aW9uRWwuc2V0QXR0cmlidXRlKCdkYXRhLW1hbmRhdG9yeScsICd0cnVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZm8uY2xhc3MpIHtcbiAgICAgICAgICAgIGluZm8uY2xhc3Muc3BsaXQoJyAnKS5mb3JFYWNoKChvcHRpb25DbGFzcykgPT4ge1xuICAgICAgICAgICAgICAgIG9wdGlvbkVsLmNsYXNzTGlzdC5hZGQob3B0aW9uQ2xhc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZm8uZGF0YSAmJiB0eXBlb2YgaW5mby5kYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoaW5mby5kYXRhKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBvcHRpb25FbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtlYmFiQ2FzZShrZXkpLCBpbmZvLmRhdGFba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9uRWw7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZWxlY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy52YWx1ZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuc2VsZWN0LmRhdGFzZXQuaWQ7XG4gICAgICAgIHRoaXMuc2hvd1VJKCk7XG4gICAgfVxufVxuXG5jbGFzcyBTbGltU2VsZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IHtcbiAgICAgICAgICAgIHNlYXJjaDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2VhcmNoRmlsdGVyOiAob3B0LCBzZWFyY2gpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0LnRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaC50b0xvd2VyQ2FzZSgpKSAhPT0gLTE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkYWJsZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYmVmb3JlQ2hhbmdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhZnRlckNoYW5nZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYmVmb3JlT3BlbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYWZ0ZXJPcGVuOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBiZWZvcmVDbG9zZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYWZ0ZXJDbG9zZTogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLndpbmRvd1Jlc2l6ZSA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5pc09wZW4gJiYgIXRoaXMuc2V0dGluZ3MuaXNGdWxsT3Blbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVuZGVyLm1vdmVDb250ZW50KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndpbmRvd1Njcm9sbCA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5pc09wZW4gJiYgIXRoaXMuc2V0dGluZ3MuaXNGdWxsT3Blbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVuZGVyLm1vdmVDb250ZW50KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRvY3VtZW50Q2xpY2sgPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlLnRhcmdldCAmJiAhaGFzQ2xhc3NJblRyZWUoZS50YXJnZXQsIHRoaXMuc2V0dGluZ3MuaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZShlLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLndpbmRvd1Zpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbGVjdEVsID0gKHR5cGVvZiBjb25maWcuc2VsZWN0ID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnNlbGVjdCkgOiBjb25maWcuc2VsZWN0KTtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdEVsKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLmV2ZW50cyAmJiBjb25maWcuZXZlbnRzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmV2ZW50cy5lcnJvcihuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIHNlbGVjdCBlbGVtZW50JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdEVsLnRhZ05hbWUgIT09ICdTRUxFQ1QnKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLmV2ZW50cyAmJiBjb25maWcuZXZlbnRzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmV2ZW50cy5lcnJvcihuZXcgRXJyb3IoJ0VsZW1lbnQgaXNudCBvZiB0eXBlIHNlbGVjdCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZWxlY3RFbC5kYXRhc2V0LnNzaWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoY29uZmlnLnNldHRpbmdzKTtcbiAgICAgICAgY29uc3QgZGVib3VuY2VFdmVudHMgPSBbJ2FmdGVyQ2hhbmdlJywgJ2JlZm9yZU9wZW4nLCAnYWZ0ZXJPcGVuJywgJ2JlZm9yZUNsb3NlJywgJ2FmdGVyQ2xvc2UnXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnLmV2ZW50cykge1xuICAgICAgICAgICAgaWYgKCFjb25maWcuZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWJvdW5jZUV2ZW50cy5pbmRleE9mKGtleSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHNba2V5XSA9IGRlYm91bmNlKGNvbmZpZy5ldmVudHNba2V5XSwgMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzW2tleV0gPSBjb25maWcuZXZlbnRzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kaXNhYmxlZCA9ICgoX2EgPSBjb25maWcuc2V0dGluZ3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNhYmxlZCkgPyBjb25maWcuc2V0dGluZ3MuZGlzYWJsZWQgOiB0aGlzLnNlbGVjdEVsLmRpc2FibGVkO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmlzTXVsdGlwbGUgPSB0aGlzLnNlbGVjdEVsLm11bHRpcGxlO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnN0eWxlID0gdGhpcy5zZWxlY3RFbC5zdHlsZS5jc3NUZXh0O1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNsYXNzID0gdGhpcy5zZWxlY3RFbC5jbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICAgICAgdGhpcy5zZWxlY3QgPSBuZXcgU2VsZWN0KHRoaXMuc2VsZWN0RWwpO1xuICAgICAgICB0aGlzLnNlbGVjdC51cGRhdGVTZWxlY3QodGhpcy5zZXR0aW5ncy5pZCwgdGhpcy5zZXR0aW5ncy5zdHlsZSwgdGhpcy5zZXR0aW5ncy5jbGFzcyk7XG4gICAgICAgIHRoaXMuc2VsZWN0LmhpZGVVSSgpO1xuICAgICAgICB0aGlzLnNlbGVjdC5vblZhbHVlQ2hhbmdlID0gKHZhbHVlcykgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZCh2YWx1ZXMpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbGVjdC5vbkNsYXNzQ2hhbmdlID0gKGNsYXNzZXMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuY2xhc3MgPSBjbGFzc2VzO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIudXBkYXRlQ2xhc3NTdHlsZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZWxlY3Qub25EaXNhYmxlZENoYW5nZSA9IChkaXNhYmxlZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbGVjdC5vbk9wdGlvbnNDaGFuZ2UgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFN0b3JlKHRoaXMuc2V0dGluZ3MuaXNNdWx0aXBsZSA/ICdtdWx0aXBsZScgOiAnc2luZ2xlJywgY29uZmlnLmRhdGEgPyBjb25maWcuZGF0YSA6IHRoaXMuc2VsZWN0LmdldERhdGEoKSk7XG4gICAgICAgIGlmIChjb25maWcuZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3QudXBkYXRlT3B0aW9ucyh0aGlzLnN0b3JlLmdldERhdGEoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0ge1xuICAgICAgICAgICAgb3BlbjogdGhpcy5vcGVuLmJpbmQodGhpcyksXG4gICAgICAgICAgICBjbG9zZTogdGhpcy5jbG9zZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgYWRkYWJsZTogdGhpcy5ldmVudHMuYWRkYWJsZSA/IHRoaXMuZXZlbnRzLmFkZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZXRTZWxlY3RlZDogdGhpcy5zZXRTZWxlY3RlZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgYWRkT3B0aW9uOiB0aGlzLmFkZE9wdGlvbi5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgYmVmb3JlQ2hhbmdlOiB0aGlzLmV2ZW50cy5iZWZvcmVDaGFuZ2UsXG4gICAgICAgICAgICBhZnRlckNoYW5nZTogdGhpcy5ldmVudHMuYWZ0ZXJDaGFuZ2UsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVuZGVyID0gbmV3IFJlbmRlcih0aGlzLnNldHRpbmdzLCB0aGlzLnN0b3JlLCBjYWxsYmFja3MpO1xuICAgICAgICB0aGlzLnJlbmRlci5yZW5kZXJWYWx1ZXMoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIucmVuZGVyT3B0aW9ucyh0aGlzLnN0b3JlLmdldERhdGEoKSk7XG4gICAgICAgIGNvbnN0IHNlbGVjdEFyaWFMYWJlbCA9IHRoaXMuc2VsZWN0RWwuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdEFyaWFMYWJlbGxlZEJ5ID0gdGhpcy5zZWxlY3RFbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScpO1xuICAgICAgICBpZiAoc2VsZWN0QXJpYUxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlci5tYWluLm1haW4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgc2VsZWN0QXJpYUxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzZWxlY3RBcmlhTGFiZWxsZWRCeSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIubWFpbi5tYWluLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5Jywgc2VsZWN0QXJpYUxhYmVsbGVkQnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdEVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0RWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5yZW5kZXIubWFpbi5tYWluLCB0aGlzLnNlbGVjdEVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZG9jdW1lbnRDbGljayk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLndpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5vcGVuUG9zaXRpb24gPT09ICdhdXRvJykge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMud2luZG93U2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMud2luZG93VmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hbHdheXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdEVsLnNsaW0gPSB0aGlzO1xuICAgIH1cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW5hYmxlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyLmVuYWJsZSgpO1xuICAgIH1cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3QuZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLnJlbmRlci5kaXNhYmxlKCk7XG4gICAgfVxuICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLmdldERhdGEoKTtcbiAgICB9XG4gICAgc2V0RGF0YShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zdG9yZS5nZXRTZWxlY3RlZCgpO1xuICAgICAgICBjb25zdCBlcnIgPSB0aGlzLnN0b3JlLnZhbGlkYXRlRGF0YUFycmF5KGRhdGEpO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RvcmUuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgY29uc3QgZGF0YUNsZWFuID0gdGhpcy5zdG9yZS5nZXREYXRhKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0LnVwZGF0ZU9wdGlvbnMoZGF0YUNsZWFuKTtcbiAgICAgICAgdGhpcy5yZW5kZXIucmVuZGVyVmFsdWVzKCk7XG4gICAgICAgIHRoaXMucmVuZGVyLnJlbmRlck9wdGlvbnMoZGF0YUNsZWFuKTtcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmFmdGVyQ2hhbmdlICYmICFpc0VxdWFsKHNlbGVjdGVkLCB0aGlzLnN0b3JlLmdldFNlbGVjdGVkKCkpKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5hZnRlckNoYW5nZSh0aGlzLnN0b3JlLmdldFNlbGVjdGVkT3B0aW9ucygpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTZWxlY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWQoKTtcbiAgICB9XG4gICAgc2V0U2VsZWN0ZWQodmFsdWUsIHJ1bkFmdGVyQ2hhbmdlID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWQoKTtcbiAgICAgICAgdGhpcy5zdG9yZS5zZXRTZWxlY3RlZEJ5KCd2YWx1ZScsIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuc3RvcmUuZ2V0RGF0YSgpO1xuICAgICAgICB0aGlzLnNlbGVjdC51cGRhdGVPcHRpb25zKGRhdGEpO1xuICAgICAgICB0aGlzLnJlbmRlci5yZW5kZXJWYWx1ZXMoKTtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyLmNvbnRlbnQuc2VhcmNoLmlucHV0LnZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5zZWFyY2godGhpcy5yZW5kZXIuY29udGVudC5zZWFyY2guaW5wdXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIucmVuZGVyT3B0aW9ucyhkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocnVuQWZ0ZXJDaGFuZ2UgJiYgdGhpcy5ldmVudHMuYWZ0ZXJDaGFuZ2UgJiYgIWlzRXF1YWwoc2VsZWN0ZWQsIHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWQoKSkpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmFmdGVyQ2hhbmdlKHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRPcHRpb25zKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZE9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnN0b3JlLmdldFNlbGVjdGVkKCk7XG4gICAgICAgIGlmICghdGhpcy5zdG9yZS5nZXREYXRhT3B0aW9ucygpLnNvbWUoKG8pID0+IHsgdmFyIF9hOyByZXR1cm4gby52YWx1ZSA9PT0gKChfYSA9IG9wdGlvbi52YWx1ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogb3B0aW9uLnRleHQpOyB9KSkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5hZGRPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5zdG9yZS5nZXREYXRhKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0LnVwZGF0ZU9wdGlvbnMoZGF0YSk7XG4gICAgICAgIHRoaXMucmVuZGVyLnJlbmRlclZhbHVlcygpO1xuICAgICAgICB0aGlzLnJlbmRlci5yZW5kZXJPcHRpb25zKGRhdGEpO1xuICAgICAgICBpZiAodGhpcy5ldmVudHMuYWZ0ZXJDaGFuZ2UgJiYgIWlzRXF1YWwoc2VsZWN0ZWQsIHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWQoKSkpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmFmdGVyQ2hhbmdlKHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRPcHRpb25zKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9wZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRpc2FibGVkIHx8IHRoaXMuc2V0dGluZ3MuaXNPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmJlZm9yZU9wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmJlZm9yZU9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlci5vcGVuKCk7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNob3dTZWFyY2gpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyLnNlYXJjaEZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXR0aW5ncy5pc09wZW4gPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5hZnRlck9wZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5hZnRlck9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuaXNGdWxsT3BlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MudGltZW91dERlbGF5KTtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY29udGVudFBvc2l0aW9uID09PSAnYWJzb2x1dGUnKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbnRlcnZhbE1vdmUpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc2V0dGluZ3MuaW50ZXJ2YWxNb3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuaW50ZXJ2YWxNb3ZlID0gc2V0SW50ZXJ2YWwodGhpcy5yZW5kZXIubW92ZUNvbnRlbnQuYmluZCh0aGlzLnJlbmRlciksIDUwMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoZXZlbnRUeXBlID0gbnVsbCkge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaXNPcGVuIHx8IHRoaXMuc2V0dGluZ3MuYWx3YXlzT3Blbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5iZWZvcmVDbG9zZSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuYmVmb3JlQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlci5jbG9zZSgpO1xuICAgICAgICBpZiAodGhpcy5yZW5kZXIuY29udGVudC5zZWFyY2guaW5wdXQudmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaCgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXIubWFpbkZvY3VzKGV2ZW50VHlwZSk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuaXNGdWxsT3BlbiA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5hZnRlckNsb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuYWZ0ZXJDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLnNldHRpbmdzLnRpbWVvdXREZWxheSk7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmludGVydmFsTW92ZSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNldHRpbmdzLmludGVydmFsTW92ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VhcmNoKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlci5jb250ZW50LnNlYXJjaC5pbnB1dC52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyLmNvbnRlbnQuc2VhcmNoLmlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50cy5zZWFyY2gpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyLnJlbmRlck9wdGlvbnModmFsdWUgPT09ICcnID8gdGhpcy5zdG9yZS5nZXREYXRhKCkgOiB0aGlzLnN0b3JlLnNlYXJjaCh2YWx1ZSwgdGhpcy5ldmVudHMuc2VhcmNoRmlsdGVyKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXIucmVuZGVyU2VhcmNoaW5nKCk7XG4gICAgICAgIGNvbnN0IHNlYXJjaFJlc3AgPSB0aGlzLmV2ZW50cy5zZWFyY2godmFsdWUsIHRoaXMuc3RvcmUuZ2V0U2VsZWN0ZWRPcHRpb25zKCkpO1xuICAgICAgICBpZiAoc2VhcmNoUmVzcCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHNlYXJjaFJlc3BcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyLnJlbmRlck9wdGlvbnModGhpcy5zdG9yZS5wYXJ0aWFsVG9GdWxsRGF0YShkYXRhKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIucmVuZGVyRXJyb3IodHlwZW9mIGVyciA9PT0gJ3N0cmluZycgPyBlcnIgOiBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNlYXJjaFJlc3ApKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlci5yZW5kZXJPcHRpb25zKHRoaXMuc3RvcmUucGFydGlhbFRvRnVsbERhdGEoc2VhcmNoUmVzcCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIucmVuZGVyRXJyb3IoJ1NlYXJjaCBldmVudCBtdXN0IHJldHVybiBhIHByb21pc2Ugb3IgYW4gYXJyYXkgb2YgZGF0YScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kb2N1bWVudENsaWNrKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMud2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm9wZW5Qb3NpdGlvbiA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy53aW5kb3dTY3JvbGwsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy53aW5kb3dWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgICAgdGhpcy5zdG9yZS5zZXREYXRhKFtdKTtcbiAgICAgICAgdGhpcy5yZW5kZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnNlbGVjdC5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBTbGltU2VsZWN0IGFzIGRlZmF1bHQgfTtcbiIsIi8qKlxuICogU1NSIFdpbmRvdyA0LjAuMlxuICogQmV0dGVyIGhhbmRsaW5nIGZvciB3aW5kb3cgb2JqZWN0IGluIFNTUiBlbnZpcm9ubWVudFxuICogaHR0cHM6Ly9naXRodWIuY29tL25vbGltaXRzNHdlYi9zc3Itd2luZG93XG4gKlxuICogQ29weXJpZ2h0IDIwMjEsIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgTUlUXG4gKlxuICogUmVsZWFzZWQgb246IERlY2VtYmVyIDEzLCAyMDIxXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgICByZXR1cm4gKG9iaiAhPT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAnY29uc3RydWN0b3InIGluIG9iaiAmJlxuICAgICAgICBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdCk7XG59XG5mdW5jdGlvbiBleHRlbmQodGFyZ2V0ID0ge30sIHNyYyA9IHt9KSB7XG4gICAgT2JqZWN0LmtleXMoc3JjKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRba2V5XSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNyY1trZXldO1xuICAgICAgICBlbHNlIGlmIChpc09iamVjdChzcmNba2V5XSkgJiZcbiAgICAgICAgICAgIGlzT2JqZWN0KHRhcmdldFtrZXldKSAmJlxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3JjW2tleV0pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGV4dGVuZCh0YXJnZXRba2V5XSwgc3JjW2tleV0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IHNzckRvY3VtZW50ID0ge1xuICAgIGJvZHk6IHt9LFxuICAgIGFkZEV2ZW50TGlzdGVuZXIoKSB7IH0sXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHsgfSxcbiAgICBhY3RpdmVFbGVtZW50OiB7XG4gICAgICAgIGJsdXIoKSB7IH0sXG4gICAgICAgIG5vZGVOYW1lOiAnJyxcbiAgICB9LFxuICAgIHF1ZXJ5U2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgcXVlcnlTZWxlY3RvckFsbCgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG4gICAgZ2V0RWxlbWVudEJ5SWQoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgY3JlYXRlRXZlbnQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbml0RXZlbnQoKSB7IH0sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGVFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgY2hpbGROb2RlczogW10sXG4gICAgICAgICAgICBzdHlsZToge30sXG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGUoKSB7IH0sXG4gICAgICAgICAgICBnZXRFbGVtZW50c0J5VGFnTmFtZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlRWxlbWVudE5TKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBpbXBvcnROb2RlKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIGhhc2g6ICcnLFxuICAgICAgICBob3N0OiAnJyxcbiAgICAgICAgaG9zdG5hbWU6ICcnLFxuICAgICAgICBocmVmOiAnJyxcbiAgICAgICAgb3JpZ2luOiAnJyxcbiAgICAgICAgcGF0aG5hbWU6ICcnLFxuICAgICAgICBwcm90b2NvbDogJycsXG4gICAgICAgIHNlYXJjaDogJycsXG4gICAgfSxcbn07XG5mdW5jdGlvbiBnZXREb2N1bWVudCgpIHtcbiAgICBjb25zdCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiB7fTtcbiAgICBleHRlbmQoZG9jLCBzc3JEb2N1bWVudCk7XG4gICAgcmV0dXJuIGRvYztcbn1cblxuY29uc3Qgc3NyV2luZG93ID0ge1xuICAgIGRvY3VtZW50OiBzc3JEb2N1bWVudCxcbiAgICBuYXZpZ2F0b3I6IHtcbiAgICAgICAgdXNlckFnZW50OiAnJyxcbiAgICB9LFxuICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIGhhc2g6ICcnLFxuICAgICAgICBob3N0OiAnJyxcbiAgICAgICAgaG9zdG5hbWU6ICcnLFxuICAgICAgICBocmVmOiAnJyxcbiAgICAgICAgb3JpZ2luOiAnJyxcbiAgICAgICAgcGF0aG5hbWU6ICcnLFxuICAgICAgICBwcm90b2NvbDogJycsXG4gICAgICAgIHNlYXJjaDogJycsXG4gICAgfSxcbiAgICBoaXN0b3J5OiB7XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgpIHsgfSxcbiAgICAgICAgcHVzaFN0YXRlKCkgeyB9LFxuICAgICAgICBnbygpIHsgfSxcbiAgICAgICAgYmFjaygpIHsgfSxcbiAgICB9LFxuICAgIEN1c3RvbUV2ZW50OiBmdW5jdGlvbiBDdXN0b21FdmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBhZGRFdmVudExpc3RlbmVyKCkgeyB9LFxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7IH0sXG4gICAgZ2V0Q29tcHV0ZWRTdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldFByb3BlcnR5VmFsdWUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIEltYWdlKCkgeyB9LFxuICAgIERhdGUoKSB7IH0sXG4gICAgc2NyZWVuOiB7fSxcbiAgICBzZXRUaW1lb3V0KCkgeyB9LFxuICAgIGNsZWFyVGltZW91dCgpIHsgfSxcbiAgICBtYXRjaE1lZGlhKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbiAgICB9LFxuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gZ2V0V2luZG93KCkge1xuICAgIGNvbnN0IHdpbiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4gICAgZXh0ZW5kKHdpbiwgc3NyV2luZG93KTtcbiAgICByZXR1cm4gd2luO1xufVxuXG5leHBvcnQgeyBleHRlbmQsIGdldERvY3VtZW50LCBnZXRXaW5kb3csIHNzckRvY3VtZW50LCBzc3JXaW5kb3cgfTtcbiIsImltcG9ydCB7IGdldFdpbmRvdyB9IGZyb20gJ3Nzci13aW5kb3cnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0QnJlYWtwb2ludChicmVha3BvaW50cywgYmFzZSA9ICd3aW5kb3cnLCBjb250YWluZXJFbCkge1xuICBpZiAoIWJyZWFrcG9pbnRzIHx8IGJhc2UgPT09ICdjb250YWluZXInICYmICFjb250YWluZXJFbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgbGV0IGJyZWFrcG9pbnQgPSBmYWxzZTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGN1cnJlbnRIZWlnaHQgPSBiYXNlID09PSAnd2luZG93JyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IGNvbnRhaW5lckVsLmNsaWVudEhlaWdodDtcbiAgY29uc3QgcG9pbnRzID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLm1hcChwb2ludCA9PiB7XG4gICAgaWYgKHR5cGVvZiBwb2ludCA9PT0gJ3N0cmluZycgJiYgcG9pbnQuaW5kZXhPZignQCcpID09PSAwKSB7XG4gICAgICBjb25zdCBtaW5SYXRpbyA9IHBhcnNlRmxvYXQocG9pbnQuc3Vic3RyKDEpKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gY3VycmVudEhlaWdodCAqIG1pblJhdGlvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHBvaW50XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogcG9pbnQsXG4gICAgICBwb2ludFxuICAgIH07XG4gIH0pO1xuICBwb2ludHMuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYS52YWx1ZSwgMTApIC0gcGFyc2VJbnQoYi52YWx1ZSwgMTApKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHBvaW50LFxuICAgICAgdmFsdWVcbiAgICB9ID0gcG9pbnRzW2ldO1xuXG4gICAgaWYgKGJhc2UgPT09ICd3aW5kb3cnKSB7XG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoYChtaW4td2lkdGg6ICR7dmFsdWV9cHgpYCkubWF0Y2hlcykge1xuICAgICAgICBicmVha3BvaW50ID0gcG9pbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA8PSBjb250YWluZXJFbC5jbGllbnRXaWR0aCkge1xuICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBicmVha3BvaW50IHx8ICdtYXgnO1xufSIsImltcG9ydCBzZXRCcmVha3BvaW50IGZyb20gJy4vc2V0QnJlYWtwb2ludC5qcyc7XG5pbXBvcnQgZ2V0QnJlYWtwb2ludCBmcm9tICcuL2dldEJyZWFrcG9pbnQuanMnO1xuZXhwb3J0IGRlZmF1bHQge1xuICBzZXRCcmVha3BvaW50LFxuICBnZXRCcmVha3BvaW50XG59OyIsImltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5cbmNvbnN0IGlzR3JpZEVuYWJsZWQgPSAoc3dpcGVyLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0QnJlYWtwb2ludCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUluZGV4LFxuICAgIGluaXRpYWxpemVkLFxuICAgIGxvb3BlZFNsaWRlcyA9IDAsXG4gICAgcGFyYW1zLFxuICAgICRlbFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBicmVha3BvaW50cyA9IHBhcmFtcy5icmVha3BvaW50cztcbiAgaWYgKCFicmVha3BvaW50cyB8fCBicmVha3BvaW50cyAmJiBPYmplY3Qua2V5cyhicmVha3BvaW50cykubGVuZ3RoID09PSAwKSByZXR1cm47IC8vIEdldCBicmVha3BvaW50IGZvciB3aW5kb3cgd2lkdGggYW5kIHVwZGF0ZSBwYXJhbWV0ZXJzXG5cbiAgY29uc3QgYnJlYWtwb2ludCA9IHN3aXBlci5nZXRCcmVha3BvaW50KGJyZWFrcG9pbnRzLCBzd2lwZXIucGFyYW1zLmJyZWFrcG9pbnRzQmFzZSwgc3dpcGVyLmVsKTtcbiAgaWYgKCFicmVha3BvaW50IHx8IHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9PT0gYnJlYWtwb2ludCkgcmV0dXJuO1xuICBjb25zdCBicmVha3BvaW50T25seVBhcmFtcyA9IGJyZWFrcG9pbnQgaW4gYnJlYWtwb2ludHMgPyBicmVha3BvaW50c1ticmVha3BvaW50XSA6IHVuZGVmaW5lZDtcbiAgY29uc3QgYnJlYWtwb2ludFBhcmFtcyA9IGJyZWFrcG9pbnRPbmx5UGFyYW1zIHx8IHN3aXBlci5vcmlnaW5hbFBhcmFtcztcbiAgY29uc3Qgd2FzTXVsdGlSb3cgPSBpc0dyaWRFbmFibGVkKHN3aXBlciwgcGFyYW1zKTtcbiAgY29uc3QgaXNNdWx0aVJvdyA9IGlzR3JpZEVuYWJsZWQoc3dpcGVyLCBicmVha3BvaW50UGFyYW1zKTtcbiAgY29uc3Qgd2FzRW5hYmxlZCA9IHBhcmFtcy5lbmFibGVkO1xuXG4gIGlmICh3YXNNdWx0aVJvdyAmJiAhaXNNdWx0aVJvdykge1xuICAgICRlbC5yZW1vdmVDbGFzcyhgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkICR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZC1jb2x1bW5gKTtcbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgfSBlbHNlIGlmICghd2FzTXVsdGlSb3cgJiYgaXNNdWx0aVJvdykge1xuICAgICRlbC5hZGRDbGFzcyhgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkYCk7XG5cbiAgICBpZiAoYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgJiYgYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgPT09ICdjb2x1bW4nIHx8ICFicmVha3BvaW50UGFyYW1zLmdyaWQuZmlsbCAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJykge1xuICAgICAgJGVsLmFkZENsYXNzKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWQtY29sdW1uYCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gIH0gLy8gVG9nZ2xlIG5hdmlnYXRpb24sIHBhZ2luYXRpb24sIHNjcm9sbGJhclxuXG5cbiAgWyduYXZpZ2F0aW9uJywgJ3BhZ2luYXRpb24nLCAnc2Nyb2xsYmFyJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICBjb25zdCB3YXNNb2R1bGVFbmFibGVkID0gcGFyYW1zW3Byb3BdICYmIHBhcmFtc1twcm9wXS5lbmFibGVkO1xuICAgIGNvbnN0IGlzTW9kdWxlRW5hYmxlZCA9IGJyZWFrcG9pbnRQYXJhbXNbcHJvcF0gJiYgYnJlYWtwb2ludFBhcmFtc1twcm9wXS5lbmFibGVkO1xuXG4gICAgaWYgKHdhc01vZHVsZUVuYWJsZWQgJiYgIWlzTW9kdWxlRW5hYmxlZCkge1xuICAgICAgc3dpcGVyW3Byb3BdLmRpc2FibGUoKTtcbiAgICB9XG5cbiAgICBpZiAoIXdhc01vZHVsZUVuYWJsZWQgJiYgaXNNb2R1bGVFbmFibGVkKSB7XG4gICAgICBzd2lwZXJbcHJvcF0uZW5hYmxlKCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZGlyZWN0aW9uQ2hhbmdlZCA9IGJyZWFrcG9pbnRQYXJhbXMuZGlyZWN0aW9uICYmIGJyZWFrcG9pbnRQYXJhbXMuZGlyZWN0aW9uICE9PSBwYXJhbXMuZGlyZWN0aW9uO1xuICBjb25zdCBuZWVkc1JlTG9vcCA9IHBhcmFtcy5sb29wICYmIChicmVha3BvaW50UGFyYW1zLnNsaWRlc1BlclZpZXcgIT09IHBhcmFtcy5zbGlkZXNQZXJWaWV3IHx8IGRpcmVjdGlvbkNoYW5nZWQpO1xuXG4gIGlmIChkaXJlY3Rpb25DaGFuZ2VkICYmIGluaXRpYWxpemVkKSB7XG4gICAgc3dpcGVyLmNoYW5nZURpcmVjdGlvbigpO1xuICB9XG5cbiAgZXh0ZW5kKHN3aXBlci5wYXJhbXMsIGJyZWFrcG9pbnRQYXJhbXMpO1xuICBjb25zdCBpc0VuYWJsZWQgPSBzd2lwZXIucGFyYW1zLmVuYWJsZWQ7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgYWxsb3dUb3VjaE1vdmU6IHN3aXBlci5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsXG4gICAgYWxsb3dTbGlkZU5leHQ6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZU5leHQsXG4gICAgYWxsb3dTbGlkZVByZXY6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZVByZXZcbiAgfSk7XG5cbiAgaWYgKHdhc0VuYWJsZWQgJiYgIWlzRW5hYmxlZCkge1xuICAgIHN3aXBlci5kaXNhYmxlKCk7XG4gIH0gZWxzZSBpZiAoIXdhc0VuYWJsZWQgJiYgaXNFbmFibGVkKSB7XG4gICAgc3dpcGVyLmVuYWJsZSgpO1xuICB9XG5cbiAgc3dpcGVyLmN1cnJlbnRCcmVha3BvaW50ID0gYnJlYWtwb2ludDtcbiAgc3dpcGVyLmVtaXQoJ19iZWZvcmVCcmVha3BvaW50JywgYnJlYWtwb2ludFBhcmFtcyk7XG5cbiAgaWYgKG5lZWRzUmVMb29wICYmIGluaXRpYWxpemVkKSB7XG4gICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgc3dpcGVyLnNsaWRlVG8oYWN0aXZlSW5kZXggLSBsb29wZWRTbGlkZXMgKyBzd2lwZXIubG9vcGVkU2xpZGVzLCAwLCBmYWxzZSk7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgnYnJlYWtwb2ludCcsIGJyZWFrcG9pbnRQYXJhbXMpO1xufSIsImZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3coKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBpc0xvY2tlZDogd2FzTG9ja2VkLFxuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBjb25zdCB7XG4gICAgc2xpZGVzT2Zmc2V0QmVmb3JlXG4gIH0gPSBwYXJhbXM7XG5cbiAgaWYgKHNsaWRlc09mZnNldEJlZm9yZSkge1xuICAgIGNvbnN0IGxhc3RTbGlkZUluZGV4ID0gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGxhc3RTbGlkZVJpZ2h0RWRnZSA9IHN3aXBlci5zbGlkZXNHcmlkW2xhc3RTbGlkZUluZGV4XSArIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbbGFzdFNsaWRlSW5kZXhdICsgc2xpZGVzT2Zmc2V0QmVmb3JlICogMjtcbiAgICBzd2lwZXIuaXNMb2NrZWQgPSBzd2lwZXIuc2l6ZSA+IGxhc3RTbGlkZVJpZ2h0RWRnZTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuaXNMb2NrZWQgPSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoID09PSAxO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIH1cblxuICBpZiAocGFyYW1zLmFsbG93U2xpZGVQcmV2ID09PSB0cnVlKSB7XG4gICAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gIXN3aXBlci5pc0xvY2tlZDtcbiAgfVxuXG4gIGlmICh3YXNMb2NrZWQgJiYgd2FzTG9ja2VkICE9PSBzd2lwZXIuaXNMb2NrZWQpIHtcbiAgICBzd2lwZXIuaXNFbmQgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICh3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5lbWl0KHN3aXBlci5pc0xvY2tlZCA/ICdsb2NrJyA6ICd1bmxvY2snKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNoZWNrT3ZlcmZsb3dcbn07IiwiZnVuY3Rpb24gcHJlcGFyZUNsYXNzZXMoZW50cmllcywgcHJlZml4KSB7XG4gIGNvbnN0IHJlc3VsdENsYXNzZXMgPSBbXTtcbiAgZW50cmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goY2xhc3NOYW1lcyA9PiB7XG4gICAgICAgIGlmIChpdGVtW2NsYXNzTmFtZXNdKSB7XG4gICAgICAgICAgcmVzdWx0Q2xhc3Nlcy5wdXNoKHByZWZpeCArIGNsYXNzTmFtZXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgcmVzdWx0Q2xhc3Nlcy5wdXNoKHByZWZpeCArIGl0ZW0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHRDbGFzc2VzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRDbGFzc2VzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lcyxcbiAgICBwYXJhbXMsXG4gICAgcnRsLFxuICAgICRlbCxcbiAgICBkZXZpY2UsXG4gICAgc3VwcG9ydFxuICB9ID0gc3dpcGVyOyAvLyBwcmV0dGllci1pZ25vcmVcblxuICBjb25zdCBzdWZmaXhlcyA9IHByZXBhcmVDbGFzc2VzKFsnaW5pdGlhbGl6ZWQnLCBwYXJhbXMuZGlyZWN0aW9uLCB7XG4gICAgJ3BvaW50ZXItZXZlbnRzJzogIXN1cHBvcnQudG91Y2hcbiAgfSwge1xuICAgICdmcmVlLW1vZGUnOiBzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkXG4gIH0sIHtcbiAgICAnYXV0b2hlaWdodCc6IHBhcmFtcy5hdXRvSGVpZ2h0XG4gIH0sIHtcbiAgICAncnRsJzogcnRsXG4gIH0sIHtcbiAgICAnZ3JpZCc6IHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxXG4gIH0sIHtcbiAgICAnZ3JpZC1jb2x1bW4nOiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMSAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJ1xuICB9LCB7XG4gICAgJ2FuZHJvaWQnOiBkZXZpY2UuYW5kcm9pZFxuICB9LCB7XG4gICAgJ2lvcyc6IGRldmljZS5pb3NcbiAgfSwge1xuICAgICdjc3MtbW9kZSc6IHBhcmFtcy5jc3NNb2RlXG4gIH0sIHtcbiAgICAnY2VudGVyZWQnOiBwYXJhbXMuY3NzTW9kZSAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXNcbiAgfSwge1xuICAgICd3YXRjaC1wcm9ncmVzcyc6IHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzXG4gIH1dLCBwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyk7XG4gIGNsYXNzTmFtZXMucHVzaCguLi5zdWZmaXhlcyk7XG4gICRlbC5hZGRDbGFzcyhbLi4uY2xhc3NOYW1lc10uam9pbignICcpKTtcbiAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG59IiwiaW1wb3J0IGFkZENsYXNzZXMgZnJvbSAnLi9hZGRDbGFzc2VzLmpzJztcbmltcG9ydCByZW1vdmVDbGFzc2VzIGZyb20gJy4vcmVtb3ZlQ2xhc3Nlcy5qcyc7XG5leHBvcnQgZGVmYXVsdCB7XG4gIGFkZENsYXNzZXMsXG4gIHJlbW92ZUNsYXNzZXNcbn07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgICRlbCxcbiAgICBjbGFzc05hbWVzXG4gIH0gPSBzd2lwZXI7XG4gICRlbC5yZW1vdmVDbGFzcyhjbGFzc05hbWVzLmpvaW4oJyAnKSk7XG4gIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xufSIsIi8qIGVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogXCJvZmZcIiAqL1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICdzc3Itd2luZG93JztcbmltcG9ydCAkIGZyb20gJy4uL3NoYXJlZC9kb20uanMnO1xuaW1wb3J0IHsgZXh0ZW5kLCBub3csIGRlbGV0ZVByb3BzIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldFN1cHBvcnQgfSBmcm9tICcuLi9zaGFyZWQvZ2V0LXN1cHBvcnQuanMnO1xuaW1wb3J0IHsgZ2V0RGV2aWNlIH0gZnJvbSAnLi4vc2hhcmVkL2dldC1kZXZpY2UuanMnO1xuaW1wb3J0IHsgZ2V0QnJvd3NlciB9IGZyb20gJy4uL3NoYXJlZC9nZXQtYnJvd3Nlci5qcyc7XG5pbXBvcnQgUmVzaXplIGZyb20gJy4vbW9kdWxlcy9yZXNpemUvcmVzaXplLmpzJztcbmltcG9ydCBPYnNlcnZlciBmcm9tICcuL21vZHVsZXMvb2JzZXJ2ZXIvb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IGV2ZW50c0VtaXR0ZXIgZnJvbSAnLi9ldmVudHMtZW1pdHRlci5qcyc7XG5pbXBvcnQgdXBkYXRlIGZyb20gJy4vdXBkYXRlL2luZGV4LmpzJztcbmltcG9ydCB0cmFuc2xhdGUgZnJvbSAnLi90cmFuc2xhdGUvaW5kZXguanMnO1xuaW1wb3J0IHRyYW5zaXRpb24gZnJvbSAnLi90cmFuc2l0aW9uL2luZGV4LmpzJztcbmltcG9ydCBzbGlkZSBmcm9tICcuL3NsaWRlL2luZGV4LmpzJztcbmltcG9ydCBsb29wIGZyb20gJy4vbG9vcC9pbmRleC5qcyc7XG5pbXBvcnQgZ3JhYkN1cnNvciBmcm9tICcuL2dyYWItY3Vyc29yL2luZGV4LmpzJztcbmltcG9ydCBldmVudHMgZnJvbSAnLi9ldmVudHMvaW5kZXguanMnO1xuaW1wb3J0IGJyZWFrcG9pbnRzIGZyb20gJy4vYnJlYWtwb2ludHMvaW5kZXguanMnO1xuaW1wb3J0IGNsYXNzZXMgZnJvbSAnLi9jbGFzc2VzL2luZGV4LmpzJztcbmltcG9ydCBpbWFnZXMgZnJvbSAnLi9pbWFnZXMvaW5kZXguanMnO1xuaW1wb3J0IGNoZWNrT3ZlcmZsb3cgZnJvbSAnLi9jaGVjay1vdmVyZmxvdy9pbmRleC5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5pbXBvcnQgbW9kdWxlRXh0ZW5kUGFyYW1zIGZyb20gJy4vbW9kdWxlRXh0ZW5kUGFyYW1zLmpzJztcbmNvbnN0IHByb3RvdHlwZXMgPSB7XG4gIGV2ZW50c0VtaXR0ZXIsXG4gIHVwZGF0ZSxcbiAgdHJhbnNsYXRlLFxuICB0cmFuc2l0aW9uLFxuICBzbGlkZSxcbiAgbG9vcCxcbiAgZ3JhYkN1cnNvcixcbiAgZXZlbnRzLFxuICBicmVha3BvaW50cyxcbiAgY2hlY2tPdmVyZmxvdyxcbiAgY2xhc3NlcyxcbiAgaW1hZ2VzXG59O1xuY29uc3QgZXh0ZW5kZWREZWZhdWx0cyA9IHt9O1xuXG5jbGFzcyBTd2lwZXIge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgbGV0IGVsO1xuICAgIGxldCBwYXJhbXM7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgYXJnc1swXS5jb25zdHJ1Y3RvciAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnc1swXSkuc2xpY2UoOCwgLTEpID09PSAnT2JqZWN0Jykge1xuICAgICAgcGFyYW1zID0gYXJnc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgW2VsLCBwYXJhbXNdID0gYXJncztcbiAgICB9XG5cbiAgICBpZiAoIXBhcmFtcykgcGFyYW1zID0ge307XG4gICAgcGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMpO1xuICAgIGlmIChlbCAmJiAhcGFyYW1zLmVsKSBwYXJhbXMuZWwgPSBlbDtcblxuICAgIGlmIChwYXJhbXMuZWwgJiYgJChwYXJhbXMuZWwpLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IHN3aXBlcnMgPSBbXTtcbiAgICAgICQocGFyYW1zLmVsKS5lYWNoKGNvbnRhaW5lckVsID0+IHtcbiAgICAgICAgY29uc3QgbmV3UGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMsIHtcbiAgICAgICAgICBlbDogY29udGFpbmVyRWxcbiAgICAgICAgfSk7XG4gICAgICAgIHN3aXBlcnMucHVzaChuZXcgU3dpcGVyKG5ld1BhcmFtcykpO1xuICAgICAgfSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cblxuICAgICAgcmV0dXJuIHN3aXBlcnM7XG4gICAgfSAvLyBTd2lwZXIgSW5zdGFuY2VcblxuXG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBzd2lwZXIuX19zd2lwZXJfXyA9IHRydWU7XG4gICAgc3dpcGVyLnN1cHBvcnQgPSBnZXRTdXBwb3J0KCk7XG4gICAgc3dpcGVyLmRldmljZSA9IGdldERldmljZSh7XG4gICAgICB1c2VyQWdlbnQ6IHBhcmFtcy51c2VyQWdlbnRcbiAgICB9KTtcbiAgICBzd2lwZXIuYnJvd3NlciA9IGdldEJyb3dzZXIoKTtcbiAgICBzd2lwZXIuZXZlbnRzTGlzdGVuZXJzID0ge307XG4gICAgc3dpcGVyLmV2ZW50c0FueUxpc3RlbmVycyA9IFtdO1xuICAgIHN3aXBlci5tb2R1bGVzID0gWy4uLnN3aXBlci5fX21vZHVsZXNfX107XG5cbiAgICBpZiAocGFyYW1zLm1vZHVsZXMgJiYgQXJyYXkuaXNBcnJheShwYXJhbXMubW9kdWxlcykpIHtcbiAgICAgIHN3aXBlci5tb2R1bGVzLnB1c2goLi4ucGFyYW1zLm1vZHVsZXMpO1xuICAgIH1cblxuICAgIGNvbnN0IGFsbE1vZHVsZXNQYXJhbXMgPSB7fTtcbiAgICBzd2lwZXIubW9kdWxlcy5mb3JFYWNoKG1vZCA9PiB7XG4gICAgICBtb2Qoe1xuICAgICAgICBzd2lwZXIsXG4gICAgICAgIGV4dGVuZFBhcmFtczogbW9kdWxlRXh0ZW5kUGFyYW1zKHBhcmFtcywgYWxsTW9kdWxlc1BhcmFtcyksXG4gICAgICAgIG9uOiBzd2lwZXIub24uYmluZChzd2lwZXIpLFxuICAgICAgICBvbmNlOiBzd2lwZXIub25jZS5iaW5kKHN3aXBlciksXG4gICAgICAgIG9mZjogc3dpcGVyLm9mZi5iaW5kKHN3aXBlciksXG4gICAgICAgIGVtaXQ6IHN3aXBlci5lbWl0LmJpbmQoc3dpcGVyKVxuICAgICAgfSk7XG4gICAgfSk7IC8vIEV4dGVuZCBkZWZhdWx0cyB3aXRoIG1vZHVsZXMgcGFyYW1zXG5cbiAgICBjb25zdCBzd2lwZXJQYXJhbXMgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBhbGxNb2R1bGVzUGFyYW1zKTsgLy8gRXh0ZW5kIGRlZmF1bHRzIHdpdGggcGFzc2VkIHBhcmFtc1xuXG4gICAgc3dpcGVyLnBhcmFtcyA9IGV4dGVuZCh7fSwgc3dpcGVyUGFyYW1zLCBleHRlbmRlZERlZmF1bHRzLCBwYXJhbXMpO1xuICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcyA9IGV4dGVuZCh7fSwgc3dpcGVyLnBhcmFtcyk7XG4gICAgc3dpcGVyLnBhc3NlZFBhcmFtcyA9IGV4dGVuZCh7fSwgcGFyYW1zKTsgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMgJiYgc3dpcGVyLnBhcmFtcy5vbikge1xuICAgICAgT2JqZWN0LmtleXMoc3dpcGVyLnBhcmFtcy5vbikuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICBzd2lwZXIub24oZXZlbnROYW1lLCBzd2lwZXIucGFyYW1zLm9uW2V2ZW50TmFtZV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMgJiYgc3dpcGVyLnBhcmFtcy5vbkFueSkge1xuICAgICAgc3dpcGVyLm9uQW55KHN3aXBlci5wYXJhbXMub25BbnkpO1xuICAgIH0gLy8gU2F2ZSBEb20gbGliXG5cblxuICAgIHN3aXBlci4kID0gJDsgLy8gRXh0ZW5kIFN3aXBlclxuXG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICAgIGVuYWJsZWQ6IHN3aXBlci5wYXJhbXMuZW5hYmxlZCxcbiAgICAgIGVsLFxuICAgICAgLy8gQ2xhc3Nlc1xuICAgICAgY2xhc3NOYW1lczogW10sXG4gICAgICAvLyBTbGlkZXNcbiAgICAgIHNsaWRlczogJCgpLFxuICAgICAgc2xpZGVzR3JpZDogW10sXG4gICAgICBzbmFwR3JpZDogW10sXG4gICAgICBzbGlkZXNTaXplc0dyaWQ6IFtdLFxuXG4gICAgICAvLyBpc0RpcmVjdGlvblxuICAgICAgaXNIb3Jpem9udGFsKCkge1xuICAgICAgICByZXR1cm4gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJztcbiAgICAgIH0sXG5cbiAgICAgIGlzVmVydGljYWwoKSB7XG4gICAgICAgIHJldHVybiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJztcbiAgICAgIH0sXG5cbiAgICAgIC8vIEluZGV4ZXNcbiAgICAgIGFjdGl2ZUluZGV4OiAwLFxuICAgICAgcmVhbEluZGV4OiAwLFxuICAgICAgLy9cbiAgICAgIGlzQmVnaW5uaW5nOiB0cnVlLFxuICAgICAgaXNFbmQ6IGZhbHNlLFxuICAgICAgLy8gUHJvcHNcbiAgICAgIHRyYW5zbGF0ZTogMCxcbiAgICAgIHByZXZpb3VzVHJhbnNsYXRlOiAwLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICB2ZWxvY2l0eTogMCxcbiAgICAgIGFuaW1hdGluZzogZmFsc2UsXG4gICAgICAvLyBMb2Nrc1xuICAgICAgYWxsb3dTbGlkZU5leHQ6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZU5leHQsXG4gICAgICBhbGxvd1NsaWRlUHJldjogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlUHJldixcbiAgICAgIC8vIFRvdWNoIEV2ZW50c1xuICAgICAgdG91Y2hFdmVudHM6IGZ1bmN0aW9uIHRvdWNoRXZlbnRzKCkge1xuICAgICAgICBjb25zdCB0b3VjaCA9IFsndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnLCAndG91Y2hjYW5jZWwnXTtcbiAgICAgICAgY29uc3QgZGVza3RvcCA9IFsncG9pbnRlcmRvd24nLCAncG9pbnRlcm1vdmUnLCAncG9pbnRlcnVwJ107XG4gICAgICAgIHN3aXBlci50b3VjaEV2ZW50c1RvdWNoID0ge1xuICAgICAgICAgIHN0YXJ0OiB0b3VjaFswXSxcbiAgICAgICAgICBtb3ZlOiB0b3VjaFsxXSxcbiAgICAgICAgICBlbmQ6IHRvdWNoWzJdLFxuICAgICAgICAgIGNhbmNlbDogdG91Y2hbM11cbiAgICAgICAgfTtcbiAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGVza3RvcCA9IHtcbiAgICAgICAgICBzdGFydDogZGVza3RvcFswXSxcbiAgICAgICAgICBtb3ZlOiBkZXNrdG9wWzFdLFxuICAgICAgICAgIGVuZDogZGVza3RvcFsyXVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3dpcGVyLnN1cHBvcnQudG91Y2ggfHwgIXN3aXBlci5wYXJhbXMuc2ltdWxhdGVUb3VjaCA/IHN3aXBlci50b3VjaEV2ZW50c1RvdWNoIDogc3dpcGVyLnRvdWNoRXZlbnRzRGVza3RvcDtcbiAgICAgIH0oKSxcbiAgICAgIHRvdWNoRXZlbnRzRGF0YToge1xuICAgICAgICBpc1RvdWNoZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNNb3ZlZDogdW5kZWZpbmVkLFxuICAgICAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB1bmRlZmluZWQsXG4gICAgICAgIHRvdWNoU3RhcnRUaW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxsb3dUaHJlc2hvbGRNb3ZlOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIEZvcm0gZWxlbWVudHMgdG8gbWF0Y2hcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudHM6IHN3aXBlci5wYXJhbXMuZm9jdXNhYmxlRWxlbWVudHMsXG4gICAgICAgIC8vIExhc3QgY2xpY2sgdGltZVxuICAgICAgICBsYXN0Q2xpY2tUaW1lOiBub3coKSxcbiAgICAgICAgY2xpY2tUaW1lb3V0OiB1bmRlZmluZWQsXG4gICAgICAgIC8vIFZlbG9jaXRpZXNcbiAgICAgICAgdmVsb2NpdGllczogW10sXG4gICAgICAgIGFsbG93TW9tZW50dW1Cb3VuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNUb3VjaEV2ZW50OiB1bmRlZmluZWQsXG4gICAgICAgIHN0YXJ0TW92aW5nOiB1bmRlZmluZWRcbiAgICAgIH0sXG4gICAgICAvLyBDbGlja3NcbiAgICAgIGFsbG93Q2xpY2s6IHRydWUsXG4gICAgICAvLyBUb3VjaGVzXG4gICAgICBhbGxvd1RvdWNoTW92ZTogc3dpcGVyLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxcbiAgICAgIHRvdWNoZXM6IHtcbiAgICAgICAgc3RhcnRYOiAwLFxuICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgIGN1cnJlbnRYOiAwLFxuICAgICAgICBjdXJyZW50WTogMCxcbiAgICAgICAgZGlmZjogMFxuICAgICAgfSxcbiAgICAgIC8vIEltYWdlc1xuICAgICAgaW1hZ2VzVG9Mb2FkOiBbXSxcbiAgICAgIGltYWdlc0xvYWRlZDogMFxuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfc3dpcGVyJyk7IC8vIEluaXRcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmluaXQpIHtcbiAgICAgIHN3aXBlci5pbml0KCk7XG4gICAgfSAvLyBSZXR1cm4gYXBwIGluc3RhbmNlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0cnVjdG9yLXJldHVyblxuXG5cbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG5cbiAgZW5hYmxlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnZW5hYmxlJyk7XG4gIH1cblxuICBkaXNhYmxlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5lbmFibGVkID0gZmFsc2U7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIudW5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ2Rpc2FibGUnKTtcbiAgfVxuXG4gIHNldFByb2dyZXNzKHByb2dyZXNzLCBzcGVlZCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgcHJvZ3Jlc3MgPSBNYXRoLm1pbihNYXRoLm1heChwcm9ncmVzcywgMCksIDEpO1xuICAgIGNvbnN0IG1pbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICBjb25zdCBtYXggPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgY29uc3QgY3VycmVudCA9IChtYXggLSBtaW4pICogcHJvZ3Jlc3MgKyBtaW47XG4gICAgc3dpcGVyLnRyYW5zbGF0ZVRvKGN1cnJlbnQsIHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogc3BlZWQpO1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH1cblxuICBlbWl0Q29udGFpbmVyQ2xhc3NlcygpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5fZW1pdENsYXNzZXMgfHwgIXN3aXBlci5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IGNscyA9IHN3aXBlci5lbC5jbGFzc05hbWUuc3BsaXQoJyAnKS5maWx0ZXIoY2xhc3NOYW1lID0+IHtcbiAgICAgIHJldHVybiBjbGFzc05hbWUuaW5kZXhPZignc3dpcGVyJykgPT09IDAgfHwgY2xhc3NOYW1lLmluZGV4T2Yoc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzKSA9PT0gMDtcbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnX2NvbnRhaW5lckNsYXNzZXMnLCBjbHMuam9pbignICcpKTtcbiAgfVxuXG4gIGdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuICcnO1xuICAgIHJldHVybiBzbGlkZUVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihjbGFzc05hbWUgPT4ge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZS5pbmRleE9mKCdzd2lwZXItc2xpZGUnKSA9PT0gMCB8fCBjbGFzc05hbWUuaW5kZXhPZihzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpID09PSAwO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfVxuXG4gIGVtaXRTbGlkZXNDbGFzc2VzKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLl9lbWl0Q2xhc3NlcyB8fCAhc3dpcGVyLmVsKSByZXR1cm47XG4gICAgY29uc3QgdXBkYXRlcyA9IFtdO1xuICAgIHN3aXBlci5zbGlkZXMuZWFjaChzbGlkZUVsID0+IHtcbiAgICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBzd2lwZXIuZ2V0U2xpZGVDbGFzc2VzKHNsaWRlRWwpO1xuICAgICAgdXBkYXRlcy5wdXNoKHtcbiAgICAgICAgc2xpZGVFbCxcbiAgICAgICAgY2xhc3NOYW1lc1xuICAgICAgfSk7XG4gICAgICBzd2lwZXIuZW1pdCgnX3NsaWRlQ2xhc3MnLCBzbGlkZUVsLCBjbGFzc05hbWVzKTtcbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnX3NsaWRlQ2xhc3NlcycsIHVwZGF0ZXMpO1xuICB9XG5cbiAgc2xpZGVzUGVyVmlld0R5bmFtaWModmlldyA9ICdjdXJyZW50JywgZXhhY3QgPSBmYWxzZSkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgcGFyYW1zLFxuICAgICAgc2xpZGVzLFxuICAgICAgc2xpZGVzR3JpZCxcbiAgICAgIHNsaWRlc1NpemVzR3JpZCxcbiAgICAgIHNpemU6IHN3aXBlclNpemUsXG4gICAgICBhY3RpdmVJbmRleFxuICAgIH0gPSBzd2lwZXI7XG4gICAgbGV0IHNwdiA9IDE7XG5cbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBsZXQgc2xpZGVTaXplID0gc2xpZGVzW2FjdGl2ZUluZGV4XS5zd2lwZXJTbGlkZVNpemU7XG4gICAgICBsZXQgYnJlYWtMb29wO1xuXG4gICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggKyAxOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0gJiYgIWJyZWFrTG9vcCkge1xuICAgICAgICAgIHNsaWRlU2l6ZSArPSBzbGlkZXNbaV0uc3dpcGVyU2xpZGVTaXplO1xuICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIGlmIChzbGlkZVNpemUgPiBzd2lwZXJTaXplKSBicmVha0xvb3AgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0gJiYgIWJyZWFrTG9vcCkge1xuICAgICAgICAgIHNsaWRlU2l6ZSArPSBzbGlkZXNbaV0uc3dpcGVyU2xpZGVTaXplO1xuICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIGlmIChzbGlkZVNpemUgPiBzd2lwZXJTaXplKSBicmVha0xvb3AgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgaWYgKHZpZXcgPT09ICdjdXJyZW50Jykge1xuICAgICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggKyAxOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVJblZpZXcgPSBleGFjdCA/IHNsaWRlc0dyaWRbaV0gKyBzbGlkZXNTaXplc0dyaWRbaV0gLSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSA8IHN3aXBlclNpemUgOiBzbGlkZXNHcmlkW2ldIC0gc2xpZGVzR3JpZFthY3RpdmVJbmRleF0gPCBzd2lwZXJTaXplO1xuXG4gICAgICAgICAgaWYgKHNsaWRlSW5WaWV3KSB7XG4gICAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHByZXZpb3VzXG4gICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVJblZpZXcgPSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSAtIHNsaWRlc0dyaWRbaV0gPCBzd2lwZXJTaXplO1xuXG4gICAgICAgICAgaWYgKHNsaWRlSW5WaWV3KSB7XG4gICAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3B2O1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHNuYXBHcmlkLFxuICAgICAgcGFyYW1zXG4gICAgfSA9IHN3aXBlcjsgLy8gQnJlYWtwb2ludHNcblxuICAgIGlmIChwYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcblxuICAgIGZ1bmN0aW9uIHNldFRyYW5zbGF0ZSgpIHtcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZVZhbHVlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgKiAtMSA6IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICBjb25zdCBuZXdUcmFuc2xhdGUgPSBNYXRoLm1pbihNYXRoLm1heCh0cmFuc2xhdGVWYWx1ZSwgc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSwgc3dpcGVyLm1pblRyYW5zbGF0ZSgpKTtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcbiAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICB9XG5cbiAgICBsZXQgdHJhbnNsYXRlZDtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCkge1xuICAgICAgc2V0VHJhbnNsYXRlKCk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyB8fCBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRyYW5zbGF0ZWQpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHNuYXBHcmlkICE9PSBzd2lwZXIuc25hcEdyaWQpIHtcbiAgICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ3VwZGF0ZScpO1xuICB9XG5cbiAgY2hhbmdlRGlyZWN0aW9uKG5ld0RpcmVjdGlvbiwgbmVlZFVwZGF0ZSA9IHRydWUpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IGN1cnJlbnREaXJlY3Rpb24gPSBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbjtcblxuICAgIGlmICghbmV3RGlyZWN0aW9uKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIG5ld0RpcmVjdGlvbiA9IGN1cnJlbnREaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgfVxuXG4gICAgaWYgKG5ld0RpcmVjdGlvbiA9PT0gY3VycmVudERpcmVjdGlvbiB8fCBuZXdEaXJlY3Rpb24gIT09ICdob3Jpem9udGFsJyAmJiBuZXdEaXJlY3Rpb24gIT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIHJldHVybiBzd2lwZXI7XG4gICAgfVxuXG4gICAgc3dpcGVyLiRlbC5yZW1vdmVDbGFzcyhgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtjdXJyZW50RGlyZWN0aW9ufWApLmFkZENsYXNzKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke25ld0RpcmVjdGlvbn1gKTtcbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgICBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9IG5ld0RpcmVjdGlvbjtcbiAgICBzd2lwZXIuc2xpZGVzLmVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBpZiAobmV3RGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgIHNsaWRlRWwuc3R5bGUud2lkdGggPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlRWwuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ2NoYW5nZURpcmVjdGlvbicpO1xuICAgIGlmIChuZWVkVXBkYXRlKSBzd2lwZXIudXBkYXRlKCk7XG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfVxuXG4gIGNoYW5nZUxhbmd1YWdlRGlyZWN0aW9uKGRpcmVjdGlvbikge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5ydGwgJiYgZGlyZWN0aW9uID09PSAncnRsJyB8fCAhc3dpcGVyLnJ0bCAmJiBkaXJlY3Rpb24gPT09ICdsdHInKSByZXR1cm47XG4gICAgc3dpcGVyLnJ0bCA9IGRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gICAgc3dpcGVyLnJ0bFRyYW5zbGF0ZSA9IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgc3dpcGVyLnJ0bDtcblxuICAgIGlmIChzd2lwZXIucnRsKSB7XG4gICAgICBzd2lwZXIuJGVsLmFkZENsYXNzKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ydGxgKTtcbiAgICAgIHN3aXBlci5lbC5kaXIgPSAncnRsJztcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLiRlbC5yZW1vdmVDbGFzcyhgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9cnRsYCk7XG4gICAgICBzd2lwZXIuZWwuZGlyID0gJ2x0cic7XG4gICAgfVxuXG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG5cbiAgbW91bnQoZWwpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIubW91bnRlZCkgcmV0dXJuIHRydWU7IC8vIEZpbmQgZWxcblxuICAgIGNvbnN0ICRlbCA9ICQoZWwgfHwgc3dpcGVyLnBhcmFtcy5lbCk7XG4gICAgZWwgPSAkZWxbMF07XG5cbiAgICBpZiAoIWVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZWwuc3dpcGVyID0gc3dpcGVyO1xuXG4gICAgY29uc3QgZ2V0V3JhcHBlclNlbGVjdG9yID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGAuJHsoc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3MgfHwgJycpLnRyaW0oKS5zcGxpdCgnICcpLmpvaW4oJy4nKX1gO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRXcmFwcGVyID0gKCkgPT4ge1xuICAgICAgaWYgKGVsICYmIGVsLnNoYWRvd1Jvb3QgJiYgZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9ICQoZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGdldFdyYXBwZXJTZWxlY3RvcigpKSk7IC8vIENoaWxkcmVuIG5lZWRzIHRvIHJldHVybiBzbG90IGl0ZW1zXG5cbiAgICAgICAgcmVzLmNoaWxkcmVuID0gb3B0aW9ucyA9PiAkZWwuY2hpbGRyZW4ob3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cblxuICAgICAgaWYgKCEkZWwuY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuICQoJGVsKS5jaGlsZHJlbihnZXRXcmFwcGVyU2VsZWN0b3IoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkZWwuY2hpbGRyZW4oZ2V0V3JhcHBlclNlbGVjdG9yKCkpO1xuICAgIH07IC8vIEZpbmQgV3JhcHBlclxuXG5cbiAgICBsZXQgJHdyYXBwZXJFbCA9IGdldFdyYXBwZXIoKTtcblxuICAgIGlmICgkd3JhcHBlckVsLmxlbmd0aCA9PT0gMCAmJiBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAkd3JhcHBlckVsID0gJCh3cmFwcGVyKTtcbiAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3M7XG4gICAgICAkZWwuYXBwZW5kKHdyYXBwZXIpO1xuICAgICAgJGVsLmNoaWxkcmVuKGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9YCkuZWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgJHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVFbCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgICAgJGVsLFxuICAgICAgZWwsXG4gICAgICAkd3JhcHBlckVsLFxuICAgICAgd3JhcHBlckVsOiAkd3JhcHBlckVsWzBdLFxuICAgICAgbW91bnRlZDogdHJ1ZSxcbiAgICAgIC8vIFJUTFxuICAgICAgcnRsOiBlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgJGVsLmNzcygnZGlyZWN0aW9uJykgPT09ICdydGwnLFxuICAgICAgcnRsVHJhbnNsYXRlOiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIChlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgJGVsLmNzcygnZGlyZWN0aW9uJykgPT09ICdydGwnKSxcbiAgICAgIHdyb25nUlRMOiAkd3JhcHBlckVsLmNzcygnZGlzcGxheScpID09PSAnLXdlYmtpdC1ib3gnXG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpbml0KGVsKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm4gc3dpcGVyO1xuICAgIGNvbnN0IG1vdW50ZWQgPSBzd2lwZXIubW91bnQoZWwpO1xuICAgIGlmIChtb3VudGVkID09PSBmYWxzZSkgcmV0dXJuIHN3aXBlcjtcbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlSW5pdCcpOyAvLyBTZXQgYnJlYWtwb2ludFxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gICAgfSAvLyBBZGQgQ2xhc3Nlc1xuXG5cbiAgICBzd2lwZXIuYWRkQ2xhc3NlcygpOyAvLyBDcmVhdGUgbG9vcFxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgICB9IC8vIFVwZGF0ZSBzaXplXG5cblxuICAgIHN3aXBlci51cGRhdGVTaXplKCk7IC8vIFVwZGF0ZSBzbGlkZXNcblxuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cpIHtcbiAgICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgfSAvLyBTZXQgR3JhYiBDdXJzb3JcblxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvciAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wcmVsb2FkSW1hZ2VzKSB7XG4gICAgICBzd2lwZXIucHJlbG9hZEltYWdlcygpO1xuICAgIH0gLy8gU2xpZGUgVG8gSW5pdGlhbCBTbGlkZVxuXG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSArIHN3aXBlci5sb29wZWRTbGlkZXMsIDAsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlLCAwLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgZmFsc2UsIHRydWUpO1xuICAgIH0gLy8gQXR0YWNoIGV2ZW50c1xuXG5cbiAgICBzd2lwZXIuYXR0YWNoRXZlbnRzKCk7IC8vIEluaXQgRmxhZ1xuXG4gICAgc3dpcGVyLmluaXRpYWxpemVkID0gdHJ1ZTsgLy8gRW1pdFxuXG4gICAgc3dpcGVyLmVtaXQoJ2luaXQnKTtcbiAgICBzd2lwZXIuZW1pdCgnYWZ0ZXJJbml0Jyk7XG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfVxuXG4gIGRlc3Ryb3koZGVsZXRlSW5zdGFuY2UgPSB0cnVlLCBjbGVhblN0eWxlcyA9IHRydWUpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmFtcyxcbiAgICAgICRlbCxcbiAgICAgICR3cmFwcGVyRWwsXG4gICAgICBzbGlkZXNcbiAgICB9ID0gc3dpcGVyO1xuXG4gICAgaWYgKHR5cGVvZiBzd2lwZXIucGFyYW1zID09PSAndW5kZWZpbmVkJyB8fCBzd2lwZXIuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlRGVzdHJveScpOyAvLyBJbml0IEZsYWdcblxuICAgIHN3aXBlci5pbml0aWFsaXplZCA9IGZhbHNlOyAvLyBEZXRhY2ggZXZlbnRzXG5cbiAgICBzd2lwZXIuZGV0YWNoRXZlbnRzKCk7IC8vIERlc3Ryb3kgbG9vcFxuXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICB9IC8vIENsZWFudXAgc3R5bGVzXG5cblxuICAgIGlmIChjbGVhblN0eWxlcykge1xuICAgICAgc3dpcGVyLnJlbW92ZUNsYXNzZXMoKTtcbiAgICAgICRlbC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgJHdyYXBwZXJFbC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuXG4gICAgICBpZiAoc2xpZGVzICYmIHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2xpZGVzLnJlbW92ZUNsYXNzKFtwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MsIHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzLCBwYXJhbXMuc2xpZGVOZXh0Q2xhc3MsIHBhcmFtcy5zbGlkZVByZXZDbGFzc10uam9pbignICcpKS5yZW1vdmVBdHRyKCdzdHlsZScpLnJlbW92ZUF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoJ2Rlc3Ryb3knKTsgLy8gRGV0YWNoIGVtaXR0ZXIgZXZlbnRzXG5cbiAgICBPYmplY3Qua2V5cyhzd2lwZXIuZXZlbnRzTGlzdGVuZXJzKS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICBzd2lwZXIub2ZmKGV2ZW50TmFtZSk7XG4gICAgfSk7XG5cbiAgICBpZiAoZGVsZXRlSW5zdGFuY2UgIT09IGZhbHNlKSB7XG4gICAgICBzd2lwZXIuJGVsWzBdLnN3aXBlciA9IG51bGw7XG4gICAgICBkZWxldGVQcm9wcyhzd2lwZXIpO1xuICAgIH1cblxuICAgIHN3aXBlci5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc3RhdGljIGV4dGVuZERlZmF1bHRzKG5ld0RlZmF1bHRzKSB7XG4gICAgZXh0ZW5kKGV4dGVuZGVkRGVmYXVsdHMsIG5ld0RlZmF1bHRzKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZXh0ZW5kZWREZWZhdWx0cygpIHtcbiAgICByZXR1cm4gZXh0ZW5kZWREZWZhdWx0cztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluc3RhbGxNb2R1bGUobW9kKSB7XG4gICAgaWYgKCFTd2lwZXIucHJvdG90eXBlLl9fbW9kdWxlc19fKSBTd2lwZXIucHJvdG90eXBlLl9fbW9kdWxlc19fID0gW107XG4gICAgY29uc3QgbW9kdWxlcyA9IFN3aXBlci5wcm90b3R5cGUuX19tb2R1bGVzX187XG5cbiAgICBpZiAodHlwZW9mIG1vZCA9PT0gJ2Z1bmN0aW9uJyAmJiBtb2R1bGVzLmluZGV4T2YobW9kKSA8IDApIHtcbiAgICAgIG1vZHVsZXMucHVzaChtb2QpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB1c2UobW9kdWxlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgbW9kdWxlLmZvckVhY2gobSA9PiBTd2lwZXIuaW5zdGFsbE1vZHVsZShtKSk7XG4gICAgICByZXR1cm4gU3dpcGVyO1xuICAgIH1cblxuICAgIFN3aXBlci5pbnN0YWxsTW9kdWxlKG1vZHVsZSk7XG4gICAgcmV0dXJuIFN3aXBlcjtcbiAgfVxuXG59XG5cbk9iamVjdC5rZXlzKHByb3RvdHlwZXMpLmZvckVhY2gocHJvdG90eXBlR3JvdXAgPT4ge1xuICBPYmplY3Qua2V5cyhwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXSkuZm9yRWFjaChwcm90b01ldGhvZCA9PiB7XG4gICAgU3dpcGVyLnByb3RvdHlwZVtwcm90b01ldGhvZF0gPSBwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXVtwcm90b01ldGhvZF07XG4gIH0pO1xufSk7XG5Td2lwZXIudXNlKFtSZXNpemUsIE9ic2VydmVyXSk7XG5leHBvcnQgZGVmYXVsdCBTd2lwZXI7IiwiZXhwb3J0IGRlZmF1bHQge1xuICBpbml0OiB0cnVlLFxuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgdG91Y2hFdmVudHNUYXJnZXQ6ICd3cmFwcGVyJyxcbiAgaW5pdGlhbFNsaWRlOiAwLFxuICBzcGVlZDogMzAwLFxuICBjc3NNb2RlOiBmYWxzZSxcbiAgdXBkYXRlT25XaW5kb3dSZXNpemU6IHRydWUsXG4gIHJlc2l6ZU9ic2VydmVyOiB0cnVlLFxuICBuZXN0ZWQ6IGZhbHNlLFxuICBjcmVhdGVFbGVtZW50czogZmFsc2UsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIGZvY3VzYWJsZUVsZW1lbnRzOiAnaW5wdXQsIHNlbGVjdCwgb3B0aW9uLCB0ZXh0YXJlYSwgYnV0dG9uLCB2aWRlbywgbGFiZWwnLFxuICAvLyBPdmVycmlkZXNcbiAgd2lkdGg6IG51bGwsXG4gIGhlaWdodDogbnVsbCxcbiAgLy9cbiAgcHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uOiBmYWxzZSxcbiAgLy8gc3NyXG4gIHVzZXJBZ2VudDogbnVsbCxcbiAgdXJsOiBudWxsLFxuICAvLyBUbyBzdXBwb3J0IGlPUydzIHN3aXBlLXRvLWdvLWJhY2sgZ2VzdHVyZSAod2hlbiBiZWluZyB1c2VkIGluLWFwcCkuXG4gIGVkZ2VTd2lwZURldGVjdGlvbjogZmFsc2UsXG4gIGVkZ2VTd2lwZVRocmVzaG9sZDogMjAsXG4gIC8vIEF1dG9oZWlnaHRcbiAgYXV0b0hlaWdodDogZmFsc2UsXG4gIC8vIFNldCB3cmFwcGVyIHdpZHRoXG4gIHNldFdyYXBwZXJTaXplOiBmYWxzZSxcbiAgLy8gVmlydHVhbCBUcmFuc2xhdGVcbiAgdmlydHVhbFRyYW5zbGF0ZTogZmFsc2UsXG4gIC8vIEVmZmVjdHNcbiAgZWZmZWN0OiAnc2xpZGUnLFxuICAvLyAnc2xpZGUnIG9yICdmYWRlJyBvciAnY3ViZScgb3IgJ2NvdmVyZmxvdycgb3IgJ2ZsaXAnXG4gIC8vIEJyZWFrcG9pbnRzXG4gIGJyZWFrcG9pbnRzOiB1bmRlZmluZWQsXG4gIGJyZWFrcG9pbnRzQmFzZTogJ3dpbmRvdycsXG4gIC8vIFNsaWRlcyBncmlkXG4gIHNwYWNlQmV0d2VlbjogMCxcbiAgc2xpZGVzUGVyVmlldzogMSxcbiAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gIHNsaWRlc1Blckdyb3VwU2tpcDogMCxcbiAgc2xpZGVzUGVyR3JvdXBBdXRvOiBmYWxzZSxcbiAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICBjZW50ZXJlZFNsaWRlc0JvdW5kczogZmFsc2UsXG4gIHNsaWRlc09mZnNldEJlZm9yZTogMCxcbiAgLy8gaW4gcHhcbiAgc2xpZGVzT2Zmc2V0QWZ0ZXI6IDAsXG4gIC8vIGluIHB4XG4gIG5vcm1hbGl6ZVNsaWRlSW5kZXg6IHRydWUsXG4gIGNlbnRlckluc3VmZmljaWVudFNsaWRlczogZmFsc2UsXG4gIC8vIERpc2FibGUgc3dpcGVyIGFuZCBoaWRlIG5hdmlnYXRpb24gd2hlbiBjb250YWluZXIgbm90IG92ZXJmbG93XG4gIHdhdGNoT3ZlcmZsb3c6IHRydWUsXG4gIC8vIFJvdW5kIGxlbmd0aFxuICByb3VuZExlbmd0aHM6IGZhbHNlLFxuICAvLyBUb3VjaGVzXG4gIHRvdWNoUmF0aW86IDEsXG4gIHRvdWNoQW5nbGU6IDQ1LFxuICBzaW11bGF0ZVRvdWNoOiB0cnVlLFxuICBzaG9ydFN3aXBlczogdHJ1ZSxcbiAgbG9uZ1N3aXBlczogdHJ1ZSxcbiAgbG9uZ1N3aXBlc1JhdGlvOiAwLjUsXG4gIGxvbmdTd2lwZXNNczogMzAwLFxuICBmb2xsb3dGaW5nZXI6IHRydWUsXG4gIGFsbG93VG91Y2hNb3ZlOiB0cnVlLFxuICB0aHJlc2hvbGQ6IDAsXG4gIHRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbjogZmFsc2UsXG4gIHRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDogdHJ1ZSxcbiAgdG91Y2hTdGFydEZvcmNlUHJldmVudERlZmF1bHQ6IGZhbHNlLFxuICB0b3VjaFJlbGVhc2VPbkVkZ2VzOiBmYWxzZSxcbiAgLy8gVW5pcXVlIE5hdmlnYXRpb24gRWxlbWVudHNcbiAgdW5pcXVlTmF2RWxlbWVudHM6IHRydWUsXG4gIC8vIFJlc2lzdGFuY2VcbiAgcmVzaXN0YW5jZTogdHJ1ZSxcbiAgcmVzaXN0YW5jZVJhdGlvOiAwLjg1LFxuICAvLyBQcm9ncmVzc1xuICB3YXRjaFNsaWRlc1Byb2dyZXNzOiBmYWxzZSxcbiAgLy8gQ3Vyc29yXG4gIGdyYWJDdXJzb3I6IGZhbHNlLFxuICAvLyBDbGlja3NcbiAgcHJldmVudENsaWNrczogdHJ1ZSxcbiAgcHJldmVudENsaWNrc1Byb3BhZ2F0aW9uOiB0cnVlLFxuICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmYWxzZSxcbiAgLy8gSW1hZ2VzXG4gIHByZWxvYWRJbWFnZXM6IHRydWUsXG4gIHVwZGF0ZU9uSW1hZ2VzUmVhZHk6IHRydWUsXG4gIC8vIGxvb3BcbiAgbG9vcDogZmFsc2UsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAwLFxuICBsb29wZWRTbGlkZXM6IG51bGwsXG4gIGxvb3BlZFNsaWRlc0xpbWl0OiB0cnVlLFxuICBsb29wRmlsbEdyb3VwV2l0aEJsYW5rOiBmYWxzZSxcbiAgbG9vcFByZXZlbnRzU2xpZGU6IHRydWUsXG4gIC8vIHJld2luZFxuICByZXdpbmQ6IGZhbHNlLFxuICAvLyBTd2lwaW5nL25vIHN3aXBpbmdcbiAgYWxsb3dTbGlkZVByZXY6IHRydWUsXG4gIGFsbG93U2xpZGVOZXh0OiB0cnVlLFxuICBzd2lwZUhhbmRsZXI6IG51bGwsXG4gIC8vICcuc3dpcGUtaGFuZGxlcicsXG4gIG5vU3dpcGluZzogdHJ1ZSxcbiAgbm9Td2lwaW5nQ2xhc3M6ICdzd2lwZXItbm8tc3dpcGluZycsXG4gIG5vU3dpcGluZ1NlbGVjdG9yOiBudWxsLFxuICAvLyBQYXNzaXZlIExpc3RlbmVyc1xuICBwYXNzaXZlTGlzdGVuZXJzOiB0cnVlLFxuICBtYXhCYWNrZmFjZUhpZGRlblNsaWRlczogMTAsXG4gIC8vIE5TXG4gIGNvbnRhaW5lck1vZGlmaWVyQ2xhc3M6ICdzd2lwZXItJyxcbiAgLy8gTkVXXG4gIHNsaWRlQ2xhc3M6ICdzd2lwZXItc2xpZGUnLFxuICBzbGlkZUJsYW5rQ2xhc3M6ICdzd2lwZXItc2xpZGUtaW52aXNpYmxlLWJsYW5rJyxcbiAgc2xpZGVBY3RpdmVDbGFzczogJ3N3aXBlci1zbGlkZS1hY3RpdmUnLFxuICBzbGlkZUR1cGxpY2F0ZUFjdGl2ZUNsYXNzOiAnc3dpcGVyLXNsaWRlLWR1cGxpY2F0ZS1hY3RpdmUnLFxuICBzbGlkZVZpc2libGVDbGFzczogJ3N3aXBlci1zbGlkZS12aXNpYmxlJyxcbiAgc2xpZGVEdXBsaWNhdGVDbGFzczogJ3N3aXBlci1zbGlkZS1kdXBsaWNhdGUnLFxuICBzbGlkZU5leHRDbGFzczogJ3N3aXBlci1zbGlkZS1uZXh0JyxcbiAgc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3M6ICdzd2lwZXItc2xpZGUtZHVwbGljYXRlLW5leHQnLFxuICBzbGlkZVByZXZDbGFzczogJ3N3aXBlci1zbGlkZS1wcmV2JyxcbiAgc2xpZGVEdXBsaWNhdGVQcmV2Q2xhc3M6ICdzd2lwZXItc2xpZGUtZHVwbGljYXRlLXByZXYnLFxuICB3cmFwcGVyQ2xhc3M6ICdzd2lwZXItd3JhcHBlcicsXG4gIC8vIENhbGxiYWNrc1xuICBydW5DYWxsYmFja3NPbkluaXQ6IHRydWUsXG4gIC8vIEludGVybmFsc1xuICBfZW1pdENsYXNzZXM6IGZhbHNlXG59OyIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIG9uKGV2ZW50cywgaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIGNvbnN0IG1ldGhvZCA9IHByaW9yaXR5ID8gJ3Vuc2hpZnQnIDogJ3B1c2gnO1xuICAgIGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdW21ldGhvZF0oaGFuZGxlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG5cbiAgb25jZShldmVudHMsIGhhbmRsZXIsIHByaW9yaXR5KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcblxuICAgIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKC4uLmFyZ3MpIHtcbiAgICAgIHNlbGYub2ZmKGV2ZW50cywgb25jZUhhbmRsZXIpO1xuXG4gICAgICBpZiAob25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHkpIHtcbiAgICAgICAgZGVsZXRlIG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5O1xuICAgICAgfVxuXG4gICAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cblxuICAgIG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5ID0gaGFuZGxlcjtcbiAgICByZXR1cm4gc2VsZi5vbihldmVudHMsIG9uY2VIYW5kbGVyLCBwcmlvcml0eSk7XG4gIH0sXG5cbiAgb25BbnkoaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIGNvbnN0IG1ldGhvZCA9IHByaW9yaXR5ID8gJ3Vuc2hpZnQnIDogJ3B1c2gnO1xuXG4gICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcikgPCAwKSB7XG4gICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVyc1ttZXRob2RdKGhhbmRsZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9LFxuXG4gIG9mZkFueShoYW5kbGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0FueUxpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgY29uc3QgaW5kZXggPSBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG5cbiAgb2ZmKGV2ZW50cywgaGFuZGxlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5mb3JFYWNoKChldmVudEhhbmRsZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50SGFuZGxlciA9PT0gaGFuZGxlciB8fCBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgJiYgZXZlbnRIYW5kbGVyLl9fZW1pdHRlclByb3h5ID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9LFxuXG4gIGVtaXQoLi4uYXJncykge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIGxldCBldmVudHM7XG4gICAgbGV0IGRhdGE7XG4gICAgbGV0IGNvbnRleHQ7XG5cbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnIHx8IEFycmF5LmlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICAgIGV2ZW50cyA9IGFyZ3NbMF07XG4gICAgICBkYXRhID0gYXJncy5zbGljZSgxLCBhcmdzLmxlbmd0aCk7XG4gICAgICBjb250ZXh0ID0gc2VsZjtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnRzID0gYXJnc1swXS5ldmVudHM7XG4gICAgICBkYXRhID0gYXJnc1swXS5kYXRhO1xuICAgICAgY29udGV4dCA9IGFyZ3NbMF0uY29udGV4dCB8fCBzZWxmO1xuICAgIH1cblxuICAgIGRhdGEudW5zaGlmdChjb250ZXh0KTtcbiAgICBjb25zdCBldmVudHNBcnJheSA9IEFycmF5LmlzQXJyYXkoZXZlbnRzKSA/IGV2ZW50cyA6IGV2ZW50cy5zcGxpdCgnICcpO1xuICAgIGV2ZW50c0FycmF5LmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5mb3JFYWNoKGV2ZW50SGFuZGxlciA9PiB7XG4gICAgICAgICAgZXZlbnRIYW5kbGVyLmFwcGx5KGNvbnRleHQsIFtldmVudCwgLi4uZGF0YV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGYuZXZlbnRzTGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uZm9yRWFjaChldmVudEhhbmRsZXIgPT4ge1xuICAgICAgICAgIGV2ZW50SGFuZGxlci5hcHBseShjb250ZXh0LCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxufTsiLCJpbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJ3Nzci13aW5kb3cnO1xuaW1wb3J0IG9uVG91Y2hTdGFydCBmcm9tICcuL29uVG91Y2hTdGFydC5qcyc7XG5pbXBvcnQgb25Ub3VjaE1vdmUgZnJvbSAnLi9vblRvdWNoTW92ZS5qcyc7XG5pbXBvcnQgb25Ub3VjaEVuZCBmcm9tICcuL29uVG91Y2hFbmQuanMnO1xuaW1wb3J0IG9uUmVzaXplIGZyb20gJy4vb25SZXNpemUuanMnO1xuaW1wb3J0IG9uQ2xpY2sgZnJvbSAnLi9vbkNsaWNrLmpzJztcbmltcG9ydCBvblNjcm9sbCBmcm9tICcuL29uU2Nyb2xsLmpzJztcbmxldCBkdW1teUV2ZW50QXR0YWNoZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gZHVtbXlFdmVudExpc3RlbmVyKCkge31cblxuY29uc3QgZXZlbnRzID0gKHN3aXBlciwgbWV0aG9kKSA9PiB7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaEV2ZW50cyxcbiAgICBlbCxcbiAgICB3cmFwcGVyRWwsXG4gICAgZGV2aWNlLFxuICAgIHN1cHBvcnRcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgY2FwdHVyZSA9ICEhcGFyYW1zLm5lc3RlZDtcbiAgY29uc3QgZG9tTWV0aG9kID0gbWV0aG9kID09PSAnb24nID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuICBjb25zdCBzd2lwZXJNZXRob2QgPSBtZXRob2Q7IC8vIFRvdWNoIEV2ZW50c1xuXG4gIGlmICghc3VwcG9ydC50b3VjaCkge1xuICAgIGVsW2RvbU1ldGhvZF0odG91Y2hFdmVudHMuc3RhcnQsIHN3aXBlci5vblRvdWNoU3RhcnQsIGZhbHNlKTtcbiAgICBkb2N1bWVudFtkb21NZXRob2RdKHRvdWNoRXZlbnRzLm1vdmUsIHN3aXBlci5vblRvdWNoTW92ZSwgY2FwdHVyZSk7XG4gICAgZG9jdW1lbnRbZG9tTWV0aG9kXSh0b3VjaEV2ZW50cy5lbmQsIHN3aXBlci5vblRvdWNoRW5kLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcGFzc2l2ZUxpc3RlbmVyID0gdG91Y2hFdmVudHMuc3RhcnQgPT09ICd0b3VjaHN0YXJ0JyAmJiBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciAmJiBwYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0gOiBmYWxzZTtcbiAgICBlbFtkb21NZXRob2RdKHRvdWNoRXZlbnRzLnN0YXJ0LCBzd2lwZXIub25Ub3VjaFN0YXJ0LCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIGVsW2RvbU1ldGhvZF0odG91Y2hFdmVudHMubW92ZSwgc3dpcGVyLm9uVG91Y2hNb3ZlLCBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciA/IHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgY2FwdHVyZVxuICAgIH0gOiBjYXB0dXJlKTtcbiAgICBlbFtkb21NZXRob2RdKHRvdWNoRXZlbnRzLmVuZCwgc3dpcGVyLm9uVG91Y2hFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG5cbiAgICBpZiAodG91Y2hFdmVudHMuY2FuY2VsKSB7XG4gICAgICBlbFtkb21NZXRob2RdKHRvdWNoRXZlbnRzLmNhbmNlbCwgc3dpcGVyLm9uVG91Y2hFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgfVxuICB9IC8vIFByZXZlbnQgTGlua3MgQ2xpY2tzXG5cblxuICBpZiAocGFyYW1zLnByZXZlbnRDbGlja3MgfHwgcGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikge1xuICAgIGVsW2RvbU1ldGhvZF0oJ2NsaWNrJywgc3dpcGVyLm9uQ2xpY2ssIHRydWUpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsW2RvbU1ldGhvZF0oJ3Njcm9sbCcsIHN3aXBlci5vblNjcm9sbCk7XG4gIH0gLy8gUmVzaXplIGhhbmRsZXJcblxuXG4gIGlmIChwYXJhbXMudXBkYXRlT25XaW5kb3dSZXNpemUpIHtcbiAgICBzd2lwZXJbc3dpcGVyTWV0aG9kXShkZXZpY2UuaW9zIHx8IGRldmljZS5hbmRyb2lkID8gJ3Jlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBvYnNlcnZlclVwZGF0ZScgOiAncmVzaXplIG9ic2VydmVyVXBkYXRlJywgb25SZXNpemUsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlcltzd2lwZXJNZXRob2RdKCdvYnNlcnZlclVwZGF0ZScsIG9uUmVzaXplLCB0cnVlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gYXR0YWNoRXZlbnRzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc3VwcG9ydFxuICB9ID0gc3dpcGVyO1xuICBzd2lwZXIub25Ub3VjaFN0YXJ0ID0gb25Ub3VjaFN0YXJ0LmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uVG91Y2hNb3ZlID0gb25Ub3VjaE1vdmUuYmluZChzd2lwZXIpO1xuICBzd2lwZXIub25Ub3VjaEVuZCA9IG9uVG91Y2hFbmQuYmluZChzd2lwZXIpO1xuXG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHN3aXBlci5vblNjcm9sbCA9IG9uU2Nyb2xsLmJpbmQoc3dpcGVyKTtcbiAgfVxuXG4gIHN3aXBlci5vbkNsaWNrID0gb25DbGljay5iaW5kKHN3aXBlcik7XG5cbiAgaWYgKHN1cHBvcnQudG91Y2ggJiYgIWR1bW15RXZlbnRBdHRhY2hlZCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBkdW1teUV2ZW50TGlzdGVuZXIpO1xuICAgIGR1bW15RXZlbnRBdHRhY2hlZCA9IHRydWU7XG4gIH1cblxuICBldmVudHMoc3dpcGVyLCAnb24nKTtcbn1cblxuZnVuY3Rpb24gZGV0YWNoRXZlbnRzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBldmVudHMoc3dpcGVyLCAnb2ZmJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXR0YWNoRXZlbnRzLFxuICBkZXRhY2hFdmVudHNcbn07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb25DbGljayhlKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcblxuICBpZiAoIXN3aXBlci5hbGxvd0NsaWNrKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucHJldmVudENsaWNrcykgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uICYmIHN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIGVsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChlbCAmJiBlbC5vZmZzZXRXaWR0aCA9PT0gMCkgcmV0dXJuOyAvLyBCcmVha3BvaW50c1xuXG4gIGlmIChwYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICB9IC8vIFNhdmUgbG9ja3NcblxuXG4gIGNvbnN0IHtcbiAgICBhbGxvd1NsaWRlTmV4dCxcbiAgICBhbGxvd1NsaWRlUHJldixcbiAgICBzbmFwR3JpZFxuICB9ID0gc3dpcGVyOyAvLyBEaXNhYmxlIGxvY2tzIG9uIHJlc2l6ZVxuXG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IHRydWU7XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IHRydWU7XG4gIHN3aXBlci51cGRhdGVTaXplKCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcblxuICBpZiAoKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgfHwgcGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgMCwgZmFsc2UsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICB9XG5cbiAgaWYgKHN3aXBlci5hdXRvcGxheSAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZyAmJiBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bigpO1xuICB9IC8vIFJldHVybiBsb2NrcyBhZnRlciByZXNpemVcblxuXG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcblxuICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHNuYXBHcmlkICE9PSBzd2lwZXIuc25hcEdyaWQpIHtcbiAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICB3cmFwcGVyRWwsXG4gICAgcnRsVHJhbnNsYXRlLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIHN3aXBlci5wcmV2aW91c1RyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG5cbiAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgIHN3aXBlci50cmFuc2xhdGUgPSAtd3JhcHBlckVsLnNjcm9sbExlZnQ7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnRyYW5zbGF0ZSA9IC13cmFwcGVyRWwuc2Nyb2xsVG9wO1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5cbiAgaWYgKHN3aXBlci50cmFuc2xhdGUgPT09IDApIHN3aXBlci50cmFuc2xhdGUgPSAwO1xuICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgbGV0IG5ld1Byb2dyZXNzO1xuICBjb25zdCB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcblxuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBuZXdQcm9ncmVzcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAoc3dpcGVyLnRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgfVxuXG4gIGlmIChuZXdQcm9ncmVzcyAhPT0gc3dpcGVyLnByb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHJ0bFRyYW5zbGF0ZSA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZSk7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNsYXRlJywgc3dpcGVyLnRyYW5zbGF0ZSwgZmFsc2UpO1xufSIsImltcG9ydCB7IG5vdywgbmV4dFRpY2sgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb25Ub3VjaEVuZChldmVudCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgbGV0IGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcblxuICBpZiAoZGF0YS5hbGxvd1RvdWNoQ2FsbGJhY2tzKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoRW5kJywgZSk7XG4gIH1cblxuICBkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MgPSBmYWxzZTtcblxuICBpZiAoIWRhdGEuaXNUb3VjaGVkKSB7XG4gICAgaWYgKGRhdGEuaXNNb3ZlZCAmJiBwYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoZmFsc2UpO1xuICAgIH1cblxuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH0gLy8gUmV0dXJuIEdyYWIgQ3Vyc29yXG5cblxuICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgZGF0YS5pc01vdmVkICYmIGRhdGEuaXNUb3VjaGVkICYmIChzd2lwZXIuYWxsb3dTbGlkZU5leHQgPT09IHRydWUgfHwgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID09PSB0cnVlKSkge1xuICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKGZhbHNlKTtcbiAgfSAvLyBUaW1lIGRpZmZcblxuXG4gIGNvbnN0IHRvdWNoRW5kVGltZSA9IG5vdygpO1xuICBjb25zdCB0aW1lRGlmZiA9IHRvdWNoRW5kVGltZSAtIGRhdGEudG91Y2hTdGFydFRpbWU7IC8vIFRhcCwgZG91YmxlVGFwLCBDbGlja1xuXG4gIGlmIChzd2lwZXIuYWxsb3dDbGljaykge1xuICAgIGNvbnN0IHBhdGhUcmVlID0gZS5wYXRoIHx8IGUuY29tcG9zZWRQYXRoICYmIGUuY29tcG9zZWRQYXRoKCk7XG4gICAgc3dpcGVyLnVwZGF0ZUNsaWNrZWRTbGlkZShwYXRoVHJlZSAmJiBwYXRoVHJlZVswXSB8fCBlLnRhcmdldCk7XG4gICAgc3dpcGVyLmVtaXQoJ3RhcCBjbGljaycsIGUpO1xuXG4gICAgaWYgKHRpbWVEaWZmIDwgMzAwICYmIHRvdWNoRW5kVGltZSAtIGRhdGEubGFzdENsaWNrVGltZSA8IDMwMCkge1xuICAgICAgc3dpcGVyLmVtaXQoJ2RvdWJsZVRhcCBkb3VibGVDbGljaycsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGRhdGEubGFzdENsaWNrVGltZSA9IG5vdygpO1xuICBuZXh0VGljaygoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuZGVzdHJveWVkKSBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gIH0pO1xuXG4gIGlmICghZGF0YS5pc1RvdWNoZWQgfHwgIWRhdGEuaXNNb3ZlZCB8fCAhc3dpcGVyLnN3aXBlRGlyZWN0aW9uIHx8IHRvdWNoZXMuZGlmZiA9PT0gMCB8fCBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPT09IGRhdGEuc3RhcnRUcmFuc2xhdGUpIHtcbiAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICBsZXQgY3VycmVudFBvcztcblxuICBpZiAocGFyYW1zLmZvbGxvd0Zpbmdlcikge1xuICAgIGN1cnJlbnRQb3MgPSBydGwgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudFBvcyA9IC1kYXRhLmN1cnJlbnRUcmFuc2xhdGU7XG4gIH1cblxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCkge1xuICAgIHN3aXBlci5mcmVlTW9kZS5vblRvdWNoRW5kKHtcbiAgICAgIGN1cnJlbnRQb3NcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH0gLy8gRmluZCBjdXJyZW50IHNsaWRlXG5cblxuICBsZXQgc3RvcEluZGV4ID0gMDtcbiAgbGV0IGdyb3VwU2l6ZSA9IHN3aXBlci5zbGlkZXNTaXplc0dyaWRbMF07XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSBpIDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXApIHtcbiAgICBjb25zdCBpbmNyZW1lbnQgPSBpIDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCAtIDEgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuXG4gICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGN1cnJlbnRQb3MgPj0gc2xpZGVzR3JpZFtpXSAmJiBjdXJyZW50UG9zIDwgc2xpZGVzR3JpZFtpICsgaW5jcmVtZW50XSkge1xuICAgICAgICBzdG9wSW5kZXggPSBpO1xuICAgICAgICBncm91cFNpemUgPSBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdIC0gc2xpZGVzR3JpZFtpXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRQb3MgPj0gc2xpZGVzR3JpZFtpXSkge1xuICAgICAgc3RvcEluZGV4ID0gaTtcbiAgICAgIGdyb3VwU2l6ZSA9IHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAxXSAtIHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAyXTtcbiAgICB9XG4gIH1cblxuICBsZXQgcmV3aW5kRmlyc3RJbmRleCA9IG51bGw7XG4gIGxldCByZXdpbmRMYXN0SW5kZXggPSBudWxsO1xuXG4gIGlmIChwYXJhbXMucmV3aW5kKSB7XG4gICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgICAgcmV3aW5kTGFzdEluZGV4ID0gc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCAtIDEgOiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNFbmQpIHtcbiAgICAgIHJld2luZEZpcnN0SW5kZXggPSAwO1xuICAgIH1cbiAgfSAvLyBGaW5kIGN1cnJlbnQgc2xpZGUgc2l6ZVxuXG5cbiAgY29uc3QgcmF0aW8gPSAoY3VycmVudFBvcyAtIHNsaWRlc0dyaWRbc3RvcEluZGV4XSkgLyBncm91cFNpemU7XG4gIGNvbnN0IGluY3JlbWVudCA9IHN0b3BJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgLSAxID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcblxuICBpZiAodGltZURpZmYgPiBwYXJhbXMubG9uZ1N3aXBlc01zKSB7XG4gICAgLy8gTG9uZyB0b3VjaGVzXG4gICAgaWYgKCFwYXJhbXMubG9uZ1N3aXBlcykge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgIGlmIChyYXRpbyA+PSBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSBzd2lwZXIuc2xpZGVUbyhwYXJhbXMucmV3aW5kICYmIHN3aXBlci5pc0VuZCA/IHJld2luZEZpcnN0SW5kZXggOiBzdG9wSW5kZXggKyBpbmNyZW1lbnQpO2Vsc2Ugc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgIGlmIChyYXRpbyA+IDEgLSBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKHJld2luZExhc3RJbmRleCAhPT0gbnVsbCAmJiByYXRpbyA8IDAgJiYgTWF0aC5hYnMocmF0aW8pID4gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhyZXdpbmRMYXN0SW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gU2hvcnQgc3dpcGVzXG4gICAgaWYgKCFwYXJhbXMuc2hvcnRTd2lwZXMpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaXNOYXZCdXR0b25UYXJnZXQgPSBzd2lwZXIubmF2aWdhdGlvbiAmJiAoZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsKTtcblxuICAgIGlmICghaXNOYXZCdXR0b25UYXJnZXQpIHtcbiAgICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhyZXdpbmRGaXJzdEluZGV4ICE9PSBudWxsID8gcmV3aW5kRmlyc3RJbmRleCA6IHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhyZXdpbmRMYXN0SW5kZXggIT09IG51bGwgPyByZXdpbmRMYXN0SW5kZXggOiBzdG9wSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJ3Nzci13aW5kb3cnO1xuaW1wb3J0ICQgZnJvbSAnLi4vLi4vc2hhcmVkL2RvbS5qcyc7XG5pbXBvcnQgeyBub3cgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb25Ub3VjaE1vdmUoZXZlbnQpIHtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIGxldCBlID0gZXZlbnQ7XG4gIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG5cbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCkge1xuICAgIGlmIChkYXRhLnN0YXJ0TW92aW5nICYmIGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICAgIHN3aXBlci5lbWl0KCd0b3VjaE1vdmVPcHBvc2l0ZScsIGUpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChkYXRhLmlzVG91Y2hFdmVudCAmJiBlLnR5cGUgIT09ICd0b3VjaG1vdmUnKSByZXR1cm47XG4gIGNvbnN0IHRhcmdldFRvdWNoID0gZS50eXBlID09PSAndG91Y2htb3ZlJyAmJiBlLnRhcmdldFRvdWNoZXMgJiYgKGUudGFyZ2V0VG91Y2hlc1swXSB8fCBlLmNoYW5nZWRUb3VjaGVzWzBdKTtcbiAgY29uc3QgcGFnZVggPSBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gdGFyZ2V0VG91Y2gucGFnZVggOiBlLnBhZ2VYO1xuICBjb25zdCBwYWdlWSA9IGUudHlwZSA9PT0gJ3RvdWNobW92ZScgPyB0YXJnZXRUb3VjaC5wYWdlWSA6IGUucGFnZVk7XG5cbiAgaWYgKGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIpIHtcbiAgICB0b3VjaGVzLnN0YXJ0WCA9IHBhZ2VYO1xuICAgIHRvdWNoZXMuc3RhcnRZID0gcGFnZVk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFzd2lwZXIuYWxsb3dUb3VjaE1vdmUpIHtcbiAgICBpZiAoISQoZS50YXJnZXQpLmlzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSB7XG4gICAgICBzd2lwZXIuYWxsb3dDbGljayA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmlzVG91Y2hlZCkge1xuICAgICAgT2JqZWN0LmFzc2lnbih0b3VjaGVzLCB7XG4gICAgICAgIHN0YXJ0WDogcGFnZVgsXG4gICAgICAgIHN0YXJ0WTogcGFnZVksXG4gICAgICAgIGN1cnJlbnRYOiBwYWdlWCxcbiAgICAgICAgY3VycmVudFk6IHBhZ2VZXG4gICAgICB9KTtcbiAgICAgIGRhdGEudG91Y2hTdGFydFRpbWUgPSBub3coKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZGF0YS5pc1RvdWNoRXZlbnQgJiYgcGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMgJiYgIXBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgIC8vIFZlcnRpY2FsXG4gICAgICBpZiAocGFnZVkgPCB0b3VjaGVzLnN0YXJ0WSAmJiBzd2lwZXIudHJhbnNsYXRlIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSB8fCBwYWdlWSA+IHRvdWNoZXMuc3RhcnRZICYmIHN3aXBlci50cmFuc2xhdGUgPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYWdlWCA8IHRvdWNoZXMuc3RhcnRYICYmIHN3aXBlci50cmFuc2xhdGUgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIHx8IHBhZ2VYID4gdG91Y2hlcy5zdGFydFggJiYgc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAoZGF0YS5pc1RvdWNoRXZlbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAkKGUudGFyZ2V0KS5pcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgICAgZGF0YS5pc01vdmVkID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCd0b3VjaE1vdmUnLCBlKTtcbiAgfVxuXG4gIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEpIHJldHVybjtcbiAgdG91Y2hlcy5jdXJyZW50WCA9IHBhZ2VYO1xuICB0b3VjaGVzLmN1cnJlbnRZID0gcGFnZVk7XG4gIGNvbnN0IGRpZmZYID0gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMuc3RhcnRYO1xuICBjb25zdCBkaWZmWSA9IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnN0YXJ0WTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudGhyZXNob2xkICYmIE1hdGguc3FydChkaWZmWCAqKiAyICsgZGlmZlkgKiogMikgPCBzd2lwZXIucGFyYW1zLnRocmVzaG9sZCkgcmV0dXJuO1xuXG4gIGlmICh0eXBlb2YgZGF0YS5pc1Njcm9sbGluZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsZXQgdG91Y2hBbmdsZTtcblxuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgdG91Y2hlcy5jdXJyZW50WSA9PT0gdG91Y2hlcy5zdGFydFkgfHwgc3dpcGVyLmlzVmVydGljYWwoKSAmJiB0b3VjaGVzLmN1cnJlbnRYID09PSB0b3VjaGVzLnN0YXJ0WCkge1xuICAgICAgZGF0YS5pc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGlmIChkaWZmWCAqIGRpZmZYICsgZGlmZlkgKiBkaWZmWSA+PSAyNSkge1xuICAgICAgICB0b3VjaEFuZ2xlID0gTWF0aC5hdGFuMihNYXRoLmFicyhkaWZmWSksIE1hdGguYWJzKGRpZmZYKSkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hBbmdsZSA+IHBhcmFtcy50b3VjaEFuZ2xlIDogOTAgLSB0b3VjaEFuZ2xlID4gcGFyYW1zLnRvdWNoQW5nbGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlT3Bwb3NpdGUnLCBlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZGF0YS5zdGFydE1vdmluZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodG91Y2hlcy5jdXJyZW50WCAhPT0gdG91Y2hlcy5zdGFydFggfHwgdG91Y2hlcy5jdXJyZW50WSAhPT0gdG91Y2hlcy5zdGFydFkpIHtcbiAgICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWRhdGEuc3RhcnRNb3ZpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzd2lwZXIuYWxsb3dDbGljayA9IGZhbHNlO1xuXG4gIGlmICghcGFyYW1zLmNzc01vZGUgJiYgZS5jYW5jZWxhYmxlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy50b3VjaE1vdmVTdG9wUHJvcGFnYXRpb24gJiYgIXBhcmFtcy5uZXN0ZWQpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgaWYgKCFkYXRhLmlzTW92ZWQpIHtcbiAgICBpZiAocGFyYW1zLmxvb3AgJiYgIXBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgIH1cblxuICAgIGRhdGEuc3RhcnRUcmFuc2xhdGUgPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCk7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG5cbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwudHJpZ2dlcignd2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kJyk7XG4gICAgfVxuXG4gICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gZmFsc2U7IC8vIEdyYWIgQ3Vyc29yXG5cbiAgICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgKHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSB8fCBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcih0cnVlKTtcbiAgICB9XG5cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVyRmlyc3RNb3ZlJywgZSk7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgnc2xpZGVyTW92ZScsIGUpO1xuICBkYXRhLmlzTW92ZWQgPSB0cnVlO1xuICBsZXQgZGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IGRpZmZYIDogZGlmZlk7XG4gIHRvdWNoZXMuZGlmZiA9IGRpZmY7XG4gIGRpZmYgKj0gcGFyYW1zLnRvdWNoUmF0aW87XG4gIGlmIChydGwpIGRpZmYgPSAtZGlmZjtcbiAgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID0gZGlmZiA+IDAgPyAncHJldicgOiAnbmV4dCc7XG4gIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRpZmYgKyBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICBsZXQgZGlzYWJsZVBhcmVudFN3aXBlciA9IHRydWU7XG4gIGxldCByZXNpc3RhbmNlUmF0aW8gPSBwYXJhbXMucmVzaXN0YW5jZVJhdGlvO1xuXG4gIGlmIChwYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcykge1xuICAgIHJlc2lzdGFuY2VSYXRpbyA9IDA7XG4gIH1cblxuICBpZiAoZGlmZiA+IDAgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IGZhbHNlO1xuICAgIGlmIChwYXJhbXMucmVzaXN0YW5jZSkgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIC0gMSArICgtc3dpcGVyLm1pblRyYW5zbGF0ZSgpICsgZGF0YS5zdGFydFRyYW5zbGF0ZSArIGRpZmYpICoqIHJlc2lzdGFuY2VSYXRpbztcbiAgfSBlbHNlIGlmIChkaWZmIDwgMCAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHtcbiAgICBkaXNhYmxlUGFyZW50U3dpcGVyID0gZmFsc2U7XG4gICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgKyAxIC0gKHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIGRhdGEuc3RhcnRUcmFuc2xhdGUgLSBkaWZmKSAqKiByZXNpc3RhbmNlUmF0aW87XG4gIH1cblxuICBpZiAoZGlzYWJsZVBhcmVudFN3aXBlcikge1xuICAgIGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIgPSB0cnVlO1xuICB9IC8vIERpcmVjdGlvbnMgbG9ja3NcblxuXG4gIGlmICghc3dpcGVyLmFsbG93U2xpZGVOZXh0ICYmIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA8IGRhdGEuc3RhcnRUcmFuc2xhdGUpIHtcbiAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICB9XG5cbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cblxuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiAhc3dpcGVyLmFsbG93U2xpZGVOZXh0KSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfSAvLyBUaHJlc2hvbGRcblxuXG4gIGlmIChwYXJhbXMudGhyZXNob2xkID4gMCkge1xuICAgIGlmIChNYXRoLmFicyhkaWZmKSA+IHBhcmFtcy50aHJlc2hvbGQgfHwgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUpIHtcbiAgICAgIGlmICghZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUpIHtcbiAgICAgICAgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgPSB0cnVlO1xuICAgICAgICB0b3VjaGVzLnN0YXJ0WCA9IHRvdWNoZXMuY3VycmVudFg7XG4gICAgICAgIHRvdWNoZXMuc3RhcnRZID0gdG91Y2hlcy5jdXJyZW50WTtcbiAgICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgICAgICAgdG91Y2hlcy5kaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMuc3RhcnRYIDogdG91Y2hlcy5jdXJyZW50WSAtIHRvdWNoZXMuc3RhcnRZO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaWYgKCFwYXJhbXMuZm9sbG93RmluZ2VyIHx8IHBhcmFtcy5jc3NNb2RlKSByZXR1cm47IC8vIFVwZGF0ZSBhY3RpdmUgaW5kZXggaW4gZnJlZSBtb2RlXG5cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUgfHwgcGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB9XG5cbiAgaWYgKHN3aXBlci5wYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQgJiYgc3dpcGVyLmZyZWVNb2RlKSB7XG4gICAgc3dpcGVyLmZyZWVNb2RlLm9uVG91Y2hNb3ZlKCk7XG4gIH0gLy8gVXBkYXRlIHByb2dyZXNzXG5cblxuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoZGF0YS5jdXJyZW50VHJhbnNsYXRlKTsgLy8gVXBkYXRlIHRyYW5zbGF0ZVxuXG4gIHN3aXBlci5zZXRUcmFuc2xhdGUoZGF0YS5jdXJyZW50VHJhbnNsYXRlKTtcbn0iLCJpbXBvcnQgeyBnZXRXaW5kb3csIGdldERvY3VtZW50IH0gZnJvbSAnc3NyLXdpbmRvdyc7XG5pbXBvcnQgJCBmcm9tICcuLi8uLi9zaGFyZWQvZG9tLmpzJztcbmltcG9ydCB7IG5vdyB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7IC8vIE1vZGlmaWVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTQ1MjA1NTQvY3VzdG9tLWVsZW1lbnQtZ2V0cm9vdG5vZGUtY2xvc2VzdC1mdW5jdGlvbi1jcm9zc2luZy1tdWx0aXBsZS1wYXJlbnQtc2hhZG93ZFxuXG5mdW5jdGlvbiBjbG9zZXN0RWxlbWVudChzZWxlY3RvciwgYmFzZSA9IHRoaXMpIHtcbiAgZnVuY3Rpb24gX19jbG9zZXN0RnJvbShlbCkge1xuICAgIGlmICghZWwgfHwgZWwgPT09IGdldERvY3VtZW50KCkgfHwgZWwgPT09IGdldFdpbmRvdygpKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoZWwuYXNzaWduZWRTbG90KSBlbCA9IGVsLmFzc2lnbmVkU2xvdDtcbiAgICBjb25zdCBmb3VuZCA9IGVsLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuXG4gICAgaWYgKCFmb3VuZCAmJiAhZWwuZ2V0Um9vdE5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBmb3VuZCB8fCBfX2Nsb3Nlc3RGcm9tKGVsLmdldFJvb3ROb2RlKCkuaG9zdCk7XG4gIH1cblxuICByZXR1cm4gX19jbG9zZXN0RnJvbShiYXNlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHRvdWNoZXMsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcblxuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5jc3NNb2RlICYmIHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgfVxuXG4gIGxldCBlID0gZXZlbnQ7XG4gIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gIGxldCAkdGFyZ2V0RWwgPSAkKGUudGFyZ2V0KTtcblxuICBpZiAocGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnd3JhcHBlcicpIHtcbiAgICBpZiAoISR0YXJnZXRFbC5jbG9zZXN0KHN3aXBlci53cmFwcGVyRWwpLmxlbmd0aCkgcmV0dXJuO1xuICB9XG5cbiAgZGF0YS5pc1RvdWNoRXZlbnQgPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgaWYgKCFkYXRhLmlzVG91Y2hFdmVudCAmJiAnd2hpY2gnIGluIGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuO1xuICBpZiAoIWRhdGEuaXNUb3VjaEV2ZW50ICYmICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gPiAwKSByZXR1cm47XG4gIGlmIChkYXRhLmlzVG91Y2hlZCAmJiBkYXRhLmlzTW92ZWQpIHJldHVybjsgLy8gY2hhbmdlIHRhcmdldCBlbCBmb3Igc2hhZG93IHJvb3QgY29tcG9uZW50XG5cbiAgY29uc3Qgc3dpcGluZ0NsYXNzSGFzVmFsdWUgPSAhIXBhcmFtcy5ub1N3aXBpbmdDbGFzcyAmJiBwYXJhbXMubm9Td2lwaW5nQ2xhc3MgIT09ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuICBjb25zdCBldmVudFBhdGggPSBldmVudC5jb21wb3NlZFBhdGggPyBldmVudC5jb21wb3NlZFBhdGgoKSA6IGV2ZW50LnBhdGg7XG5cbiAgaWYgKHN3aXBpbmdDbGFzc0hhc1ZhbHVlICYmIGUudGFyZ2V0ICYmIGUudGFyZ2V0LnNoYWRvd1Jvb3QgJiYgZXZlbnRQYXRoKSB7XG4gICAgJHRhcmdldEVsID0gJChldmVudFBhdGhbMF0pO1xuICB9XG5cbiAgY29uc3Qgbm9Td2lwaW5nU2VsZWN0b3IgPSBwYXJhbXMubm9Td2lwaW5nU2VsZWN0b3IgPyBwYXJhbXMubm9Td2lwaW5nU2VsZWN0b3IgOiBgLiR7cGFyYW1zLm5vU3dpcGluZ0NsYXNzfWA7XG4gIGNvbnN0IGlzVGFyZ2V0U2hhZG93ID0gISEoZS50YXJnZXQgJiYgZS50YXJnZXQuc2hhZG93Um9vdCk7IC8vIHVzZSBjbG9zZXN0RWxlbWVudCBmb3Igc2hhZG93IHJvb3QgZWxlbWVudCB0byBnZXQgdGhlIGFjdHVhbCBjbG9zZXN0IGZvciBuZXN0ZWQgc2hhZG93IHJvb3QgZWxlbWVudFxuXG4gIGlmIChwYXJhbXMubm9Td2lwaW5nICYmIChpc1RhcmdldFNoYWRvdyA/IGNsb3Nlc3RFbGVtZW50KG5vU3dpcGluZ1NlbGVjdG9yLCAkdGFyZ2V0RWxbMF0pIDogJHRhcmdldEVsLmNsb3Nlc3Qobm9Td2lwaW5nU2VsZWN0b3IpWzBdKSkge1xuICAgIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocGFyYW1zLnN3aXBlSGFuZGxlcikge1xuICAgIGlmICghJHRhcmdldEVsLmNsb3Nlc3QocGFyYW1zLnN3aXBlSGFuZGxlcilbMF0pIHJldHVybjtcbiAgfVxuXG4gIHRvdWNoZXMuY3VycmVudFggPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVg7XG4gIHRvdWNoZXMuY3VycmVudFkgPSBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XG4gIGNvbnN0IHN0YXJ0WCA9IHRvdWNoZXMuY3VycmVudFg7XG4gIGNvbnN0IHN0YXJ0WSA9IHRvdWNoZXMuY3VycmVudFk7IC8vIERvIE5PVCBzdGFydCBpZiBpT1MgZWRnZSBzd2lwZSBpcyBkZXRlY3RlZC4gT3RoZXJ3aXNlIGlPUyBhcHAgY2Fubm90IHN3aXBlLXRvLWdvLWJhY2sgYW55bW9yZVxuXG4gIGNvbnN0IGVkZ2VTd2lwZURldGVjdGlvbiA9IHBhcmFtcy5lZGdlU3dpcGVEZXRlY3Rpb24gfHwgcGFyYW1zLmlPU0VkZ2VTd2lwZURldGVjdGlvbjtcbiAgY29uc3QgZWRnZVN3aXBlVGhyZXNob2xkID0gcGFyYW1zLmVkZ2VTd2lwZVRocmVzaG9sZCB8fCBwYXJhbXMuaU9TRWRnZVN3aXBlVGhyZXNob2xkO1xuXG4gIGlmIChlZGdlU3dpcGVEZXRlY3Rpb24gJiYgKHN0YXJ0WCA8PSBlZGdlU3dpcGVUaHJlc2hvbGQgfHwgc3RhcnRYID49IHdpbmRvdy5pbm5lcldpZHRoIC0gZWRnZVN3aXBlVGhyZXNob2xkKSkge1xuICAgIGlmIChlZGdlU3dpcGVEZXRlY3Rpb24gPT09ICdwcmV2ZW50Jykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5hc3NpZ24oZGF0YSwge1xuICAgIGlzVG91Y2hlZDogdHJ1ZSxcbiAgICBpc01vdmVkOiBmYWxzZSxcbiAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB0cnVlLFxuICAgIGlzU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgc3RhcnRNb3Zpbmc6IHVuZGVmaW5lZFxuICB9KTtcbiAgdG91Y2hlcy5zdGFydFggPSBzdGFydFg7XG4gIHRvdWNoZXMuc3RhcnRZID0gc3RhcnRZO1xuICBkYXRhLnRvdWNoU3RhcnRUaW1lID0gbm93KCk7XG4gIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID0gdW5kZWZpbmVkO1xuICBpZiAocGFyYW1zLnRocmVzaG9sZCA+IDApIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlID0gZmFsc2U7XG5cbiAgaWYgKGUudHlwZSAhPT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgbGV0IHByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcblxuICAgIGlmICgkdGFyZ2V0RWwuaXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykpIHtcbiAgICAgIHByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG5cbiAgICAgIGlmICgkdGFyZ2V0RWxbMF0ubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5pcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSAkdGFyZ2V0RWxbMF0pIHtcbiAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgIH1cblxuICAgIGNvbnN0IHNob3VsZFByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQgJiYgc3dpcGVyLmFsbG93VG91Y2hNb3ZlICYmIHBhcmFtcy50b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ7XG5cbiAgICBpZiAoKHBhcmFtcy50b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdCB8fCBzaG91bGRQcmV2ZW50RGVmYXVsdCkgJiYgISR0YXJnZXRFbFswXS5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUgJiYgc3dpcGVyLmFuaW1hdGluZyAmJiAhcGFyYW1zLmNzc01vZGUpIHtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaFN0YXJ0KCk7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgndG91Y2hTdGFydCcsIGUpO1xufSIsImltcG9ydCBzZXRHcmFiQ3Vyc29yIGZyb20gJy4vc2V0R3JhYkN1cnNvci5qcyc7XG5pbXBvcnQgdW5zZXRHcmFiQ3Vyc29yIGZyb20gJy4vdW5zZXRHcmFiQ3Vyc29yLmpzJztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2V0R3JhYkN1cnNvcixcbiAgdW5zZXRHcmFiQ3Vyc29yXG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldEdyYWJDdXJzb3IobW92aW5nKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIuc3VwcG9ydC50b3VjaCB8fCAhc3dpcGVyLnBhcmFtcy5zaW11bGF0ZVRvdWNoIHx8IHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuaXNMb2NrZWQgfHwgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gIGNvbnN0IGVsID0gc3dpcGVyLnBhcmFtcy50b3VjaEV2ZW50c1RhcmdldCA9PT0gJ2NvbnRhaW5lcicgPyBzd2lwZXIuZWwgOiBzd2lwZXIud3JhcHBlckVsO1xuICBlbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XG4gIGVsLnN0eWxlLmN1cnNvciA9IG1vdmluZyA/ICdncmFiYmluZycgOiAnZ3JhYic7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdW5zZXRHcmFiQ3Vyc29yKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuXG4gIGlmIChzd2lwZXIuc3VwcG9ydC50b3VjaCB8fCBzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmlzTG9ja2VkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXBlcltzd2lwZXIucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnY29udGFpbmVyJyA/ICdlbCcgOiAnd3JhcHBlckVsJ10uc3R5bGUuY3Vyc29yID0gJyc7XG59IiwiaW1wb3J0IGxvYWRJbWFnZSBmcm9tICcuL2xvYWRJbWFnZS5qcyc7XG5pbXBvcnQgcHJlbG9hZEltYWdlcyBmcm9tICcuL3ByZWxvYWRJbWFnZXMuanMnO1xuZXhwb3J0IGRlZmF1bHQge1xuICBsb2FkSW1hZ2UsXG4gIHByZWxvYWRJbWFnZXNcbn07IiwiaW1wb3J0IHsgZ2V0V2luZG93IH0gZnJvbSAnc3NyLXdpbmRvdyc7XG5pbXBvcnQgJCBmcm9tICcuLi8uLi9zaGFyZWQvZG9tLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvYWRJbWFnZShpbWFnZUVsLCBzcmMsIHNyY3NldCwgc2l6ZXMsIGNoZWNrRm9yQ29tcGxldGUsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgaW1hZ2U7XG5cbiAgZnVuY3Rpb24gb25SZWFkeSgpIHtcbiAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gIH1cblxuICBjb25zdCBpc1BpY3R1cmUgPSAkKGltYWdlRWwpLnBhcmVudCgncGljdHVyZScpWzBdO1xuXG4gIGlmICghaXNQaWN0dXJlICYmICghaW1hZ2VFbC5jb21wbGV0ZSB8fCAhY2hlY2tGb3JDb21wbGV0ZSkpIHtcbiAgICBpZiAoc3JjKSB7XG4gICAgICBpbWFnZSA9IG5ldyB3aW5kb3cuSW1hZ2UoKTtcbiAgICAgIGltYWdlLm9ubG9hZCA9IG9uUmVhZHk7XG4gICAgICBpbWFnZS5vbmVycm9yID0gb25SZWFkeTtcblxuICAgICAgaWYgKHNpemVzKSB7XG4gICAgICAgIGltYWdlLnNpemVzID0gc2l6ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChzcmNzZXQpIHtcbiAgICAgICAgaW1hZ2Uuc3Jjc2V0ID0gc3Jjc2V0O1xuICAgICAgfVxuXG4gICAgICBpZiAoc3JjKSB7XG4gICAgICAgIGltYWdlLnNyYyA9IHNyYztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb25SZWFkeSgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBpbWFnZSBhbHJlYWR5IGxvYWRlZC4uLlxuICAgIG9uUmVhZHkoKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByZWxvYWRJbWFnZXMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIHN3aXBlci5pbWFnZXNUb0xvYWQgPSBzd2lwZXIuJGVsLmZpbmQoJ2ltZycpO1xuXG4gIGZ1bmN0aW9uIG9uUmVhZHkoKSB7XG4gICAgaWYgKHR5cGVvZiBzd2lwZXIgPT09ICd1bmRlZmluZWQnIHx8IHN3aXBlciA9PT0gbnVsbCB8fCAhc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLmltYWdlc0xvYWRlZCAhPT0gdW5kZWZpbmVkKSBzd2lwZXIuaW1hZ2VzTG9hZGVkICs9IDE7XG5cbiAgICBpZiAoc3dpcGVyLmltYWdlc0xvYWRlZCA9PT0gc3dpcGVyLmltYWdlc1RvTG9hZC5sZW5ndGgpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnVwZGF0ZU9uSW1hZ2VzUmVhZHkpIHN3aXBlci51cGRhdGUoKTtcbiAgICAgIHN3aXBlci5lbWl0KCdpbWFnZXNSZWFkeScpO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3dpcGVyLmltYWdlc1RvTG9hZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGltYWdlRWwgPSBzd2lwZXIuaW1hZ2VzVG9Mb2FkW2ldO1xuICAgIHN3aXBlci5sb2FkSW1hZ2UoaW1hZ2VFbCwgaW1hZ2VFbC5jdXJyZW50U3JjIHx8IGltYWdlRWwuZ2V0QXR0cmlidXRlKCdzcmMnKSwgaW1hZ2VFbC5zcmNzZXQgfHwgaW1hZ2VFbC5nZXRBdHRyaWJ1dGUoJ3NyY3NldCcpLCBpbWFnZUVsLnNpemVzIHx8IGltYWdlRWwuZ2V0QXR0cmlidXRlKCdzaXplcycpLCB0cnVlLCBvblJlYWR5KTtcbiAgfVxufSIsImltcG9ydCBsb29wQ3JlYXRlIGZyb20gJy4vbG9vcENyZWF0ZS5qcyc7XG5pbXBvcnQgbG9vcEZpeCBmcm9tICcuL2xvb3BGaXguanMnO1xuaW1wb3J0IGxvb3BEZXN0cm95IGZyb20gJy4vbG9vcERlc3Ryb3kuanMnO1xuZXhwb3J0IGRlZmF1bHQge1xuICBsb29wQ3JlYXRlLFxuICBsb29wRml4LFxuICBsb29wRGVzdHJveVxufTsiLCJpbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJ3Nzci13aW5kb3cnO1xuaW1wb3J0ICQgZnJvbSAnLi4vLi4vc2hhcmVkL2RvbS5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb29wQ3JlYXRlKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgJHdyYXBwZXJFbFxuICB9ID0gc3dpcGVyOyAvLyBSZW1vdmUgZHVwbGljYXRlZCBzbGlkZXNcblxuICBjb25zdCAkc2VsZWN0b3IgPSAkd3JhcHBlckVsLmNoaWxkcmVuKCkubGVuZ3RoID4gMCA/ICQoJHdyYXBwZXJFbC5jaGlsZHJlbigpWzBdLnBhcmVudE5vZGUpIDogJHdyYXBwZXJFbDtcbiAgJHNlbGVjdG9yLmNoaWxkcmVuKGAuJHtwYXJhbXMuc2xpZGVDbGFzc30uJHtwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzc31gKS5yZW1vdmUoKTtcbiAgbGV0IHNsaWRlcyA9ICRzZWxlY3Rvci5jaGlsZHJlbihgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9YCk7XG5cbiAgaWYgKHBhcmFtcy5sb29wRmlsbEdyb3VwV2l0aEJsYW5rKSB7XG4gICAgY29uc3QgYmxhbmtTbGlkZXNOdW0gPSBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgLSBzbGlkZXMubGVuZ3RoICUgcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuXG4gICAgaWYgKGJsYW5rU2xpZGVzTnVtICE9PSBwYXJhbXMuc2xpZGVzUGVyR3JvdXApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmxhbmtTbGlkZXNOdW07IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBibGFua05vZGUgPSAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKS5hZGRDbGFzcyhgJHtwYXJhbXMuc2xpZGVDbGFzc30gJHtwYXJhbXMuc2xpZGVCbGFua0NsYXNzfWApO1xuICAgICAgICAkc2VsZWN0b3IuYXBwZW5kKGJsYW5rTm9kZSk7XG4gICAgICB9XG5cbiAgICAgIHNsaWRlcyA9ICRzZWxlY3Rvci5jaGlsZHJlbihgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9YCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgIXBhcmFtcy5sb29wZWRTbGlkZXMpIHBhcmFtcy5sb29wZWRTbGlkZXMgPSBzbGlkZXMubGVuZ3RoO1xuICBzd2lwZXIubG9vcGVkU2xpZGVzID0gTWF0aC5jZWlsKHBhcnNlRmxvYXQocGFyYW1zLmxvb3BlZFNsaWRlcyB8fCBwYXJhbXMuc2xpZGVzUGVyVmlldywgMTApKTtcbiAgc3dpcGVyLmxvb3BlZFNsaWRlcyArPSBwYXJhbXMubG9vcEFkZGl0aW9uYWxTbGlkZXM7XG5cbiAgaWYgKHN3aXBlci5sb29wZWRTbGlkZXMgPiBzbGlkZXMubGVuZ3RoICYmIHN3aXBlci5wYXJhbXMubG9vcGVkU2xpZGVzTGltaXQpIHtcbiAgICBzd2lwZXIubG9vcGVkU2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcbiAgfVxuXG4gIGNvbnN0IHByZXBlbmRTbGlkZXMgPSBbXTtcbiAgY29uc3QgYXBwZW5kU2xpZGVzID0gW107XG4gIHNsaWRlcy5lYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBzbGlkZSA9ICQoZWwpO1xuICAgIHNsaWRlLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JywgaW5kZXgpO1xuICB9KTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN3aXBlci5sb29wZWRTbGlkZXM7IGkgKz0gMSkge1xuICAgIGNvbnN0IGluZGV4ID0gaSAtIE1hdGguZmxvb3IoaSAvIHNsaWRlcy5sZW5ndGgpICogc2xpZGVzLmxlbmd0aDtcbiAgICBhcHBlbmRTbGlkZXMucHVzaChzbGlkZXMuZXEoaW5kZXgpWzBdKTtcbiAgICBwcmVwZW5kU2xpZGVzLnVuc2hpZnQoc2xpZGVzLmVxKHNsaWRlcy5sZW5ndGggLSBpbmRleCAtIDEpWzBdKTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXBwZW5kU2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgJHNlbGVjdG9yLmFwcGVuZCgkKGFwcGVuZFNsaWRlc1tpXS5jbG9uZU5vZGUodHJ1ZSkpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gcHJlcGVuZFNsaWRlcy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICRzZWxlY3Rvci5wcmVwZW5kKCQocHJlcGVuZFNsaWRlc1tpXS5jbG9uZU5vZGUodHJ1ZSkpLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb29wRGVzdHJveSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgICR3cmFwcGVyRWwsXG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc1xuICB9ID0gc3dpcGVyO1xuICAkd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtwYXJhbXMuc2xpZGVDbGFzc30uJHtwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzc30sLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LiR7cGFyYW1zLnNsaWRlQmxhbmtDbGFzc31gKS5yZW1vdmUoKTtcbiAgc2xpZGVzLnJlbW92ZUF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbG9vcEZpeCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgc3dpcGVyLmVtaXQoJ2JlZm9yZUxvb3BGaXgnKTtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUluZGV4LFxuICAgIHNsaWRlcyxcbiAgICBsb29wZWRTbGlkZXMsXG4gICAgYWxsb3dTbGlkZVByZXYsXG4gICAgYWxsb3dTbGlkZU5leHQsXG4gICAgc25hcEdyaWQsXG4gICAgcnRsVHJhbnNsYXRlOiBydGxcbiAgfSA9IHN3aXBlcjtcbiAgbGV0IG5ld0luZGV4O1xuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSB0cnVlO1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSB0cnVlO1xuICBjb25zdCBzbmFwVHJhbnNsYXRlID0gLXNuYXBHcmlkW2FjdGl2ZUluZGV4XTtcbiAgY29uc3QgZGlmZiA9IHNuYXBUcmFuc2xhdGUgLSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCk7IC8vIEZpeCBGb3IgTmVnYXRpdmUgT3ZlcnNsaWRpbmdcblxuICBpZiAoYWN0aXZlSW5kZXggPCBsb29wZWRTbGlkZXMpIHtcbiAgICBuZXdJbmRleCA9IHNsaWRlcy5sZW5ndGggLSBsb29wZWRTbGlkZXMgKiAzICsgYWN0aXZlSW5kZXg7XG4gICAgbmV3SW5kZXggKz0gbG9vcGVkU2xpZGVzO1xuICAgIGNvbnN0IHNsaWRlQ2hhbmdlZCA9IHN3aXBlci5zbGlkZVRvKG5ld0luZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG5cbiAgICBpZiAoc2xpZGVDaGFuZ2VkICYmIGRpZmYgIT09IDApIHtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUoKHJ0bCA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZSkgLSBkaWZmKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYWN0aXZlSW5kZXggPj0gc2xpZGVzLmxlbmd0aCAtIGxvb3BlZFNsaWRlcykge1xuICAgIC8vIEZpeCBGb3IgUG9zaXRpdmUgT3ZlcnNsaWRpbmdcbiAgICBuZXdJbmRleCA9IC1zbGlkZXMubGVuZ3RoICsgYWN0aXZlSW5kZXggKyBsb29wZWRTbGlkZXM7XG4gICAgbmV3SW5kZXggKz0gbG9vcGVkU2xpZGVzO1xuICAgIGNvbnN0IHNsaWRlQ2hhbmdlZCA9IHN3aXBlci5zbGlkZVRvKG5ld0luZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG5cbiAgICBpZiAoc2xpZGVDaGFuZ2VkICYmIGRpZmYgIT09IDApIHtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUoKHJ0bCA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZSkgLSBkaWZmKTtcbiAgICB9XG4gIH1cblxuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSBhbGxvd1NsaWRlUHJldjtcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gYWxsb3dTbGlkZU5leHQ7XG4gIHN3aXBlci5lbWl0KCdsb29wRml4Jyk7XG59IiwiaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1vZHVsZUV4dGVuZFBhcmFtcyhwYXJhbXMsIGFsbE1vZHVsZXNQYXJhbXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGV4dGVuZFBhcmFtcyhvYmogPSB7fSkge1xuICAgIGNvbnN0IG1vZHVsZVBhcmFtTmFtZSA9IE9iamVjdC5rZXlzKG9iailbMF07XG4gICAgY29uc3QgbW9kdWxlUGFyYW1zID0gb2JqW21vZHVsZVBhcmFtTmFtZV07XG5cbiAgICBpZiAodHlwZW9mIG1vZHVsZVBhcmFtcyAhPT0gJ29iamVjdCcgfHwgbW9kdWxlUGFyYW1zID09PSBudWxsKSB7XG4gICAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoWyduYXZpZ2F0aW9uJywgJ3BhZ2luYXRpb24nLCAnc2Nyb2xsYmFyJ10uaW5kZXhPZihtb2R1bGVQYXJhbU5hbWUpID49IDAgJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPT09IHRydWUpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID0ge1xuICAgICAgICBhdXRvOiB0cnVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICghKG1vZHVsZVBhcmFtTmFtZSBpbiBwYXJhbXMgJiYgJ2VuYWJsZWQnIGluIG1vZHVsZVBhcmFtcykpIHtcbiAgICAgIGV4dGVuZChhbGxNb2R1bGVzUGFyYW1zLCBvYmopO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPSB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9PT0gJ29iamVjdCcgJiYgISgnZW5hYmxlZCcgaW4gcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0pKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdKSBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgfTtcbiAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgfTtcbn0iLCJpbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdzc3Itd2luZG93JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE9ic2VydmVyKHtcbiAgc3dpcGVyLFxuICBleHRlbmRQYXJhbXMsXG4gIG9uLFxuICBlbWl0XG59KSB7XG4gIGNvbnN0IG9ic2VydmVycyA9IFtdO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcblxuICBjb25zdCBhdHRhY2ggPSAodGFyZ2V0LCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCBPYnNlcnZlckZ1bmMgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2Via2l0TXV0YXRpb25PYnNlcnZlcjtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBPYnNlcnZlckZ1bmMobXV0YXRpb25zID0+IHtcbiAgICAgIC8vIFRoZSBvYnNlcnZlclVwZGF0ZSBldmVudCBzaG91bGQgb25seSBiZSB0cmlnZ2VyZWRcbiAgICAgIC8vIG9uY2UgZGVzcGl0ZSB0aGUgbnVtYmVyIG9mIG11dGF0aW9ucy4gIEFkZGl0aW9uYWxcbiAgICAgIC8vIHRyaWdnZXJzIGFyZSByZWR1bmRhbnQgYW5kIGFyZSB2ZXJ5IGNvc3RseVxuICAgICAgaWYgKG11dGF0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9ic2VydmVyVXBkYXRlID0gZnVuY3Rpb24gb2JzZXJ2ZXJVcGRhdGUoKSB7XG4gICAgICAgIGVtaXQoJ29ic2VydmVyVXBkYXRlJywgbXV0YXRpb25zWzBdKTtcbiAgICAgIH07XG5cbiAgICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob2JzZXJ2ZXJVcGRhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQob2JzZXJ2ZXJVcGRhdGUsIDApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCB7XG4gICAgICBhdHRyaWJ1dGVzOiB0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGVzID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmF0dHJpYnV0ZXMsXG4gICAgICBjaGlsZExpc3Q6IHR5cGVvZiBvcHRpb25zLmNoaWxkTGlzdCA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5jaGlsZExpc3QsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0eXBlb2Ygb3B0aW9ucy5jaGFyYWN0ZXJEYXRhID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmNoYXJhY3RlckRhdGFcbiAgICB9KTtcbiAgICBvYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gIH07XG5cbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMub2JzZXJ2ZXIpIHJldHVybjtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLm9ic2VydmVQYXJlbnRzKSB7XG4gICAgICBjb25zdCBjb250YWluZXJQYXJlbnRzID0gc3dpcGVyLiRlbC5wYXJlbnRzKCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGFpbmVyUGFyZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhdHRhY2goY29udGFpbmVyUGFyZW50c1tpXSk7XG4gICAgICB9XG4gICAgfSAvLyBPYnNlcnZlIGNvbnRhaW5lclxuXG5cbiAgICBhdHRhY2goc3dpcGVyLiRlbFswXSwge1xuICAgICAgY2hpbGRMaXN0OiBzd2lwZXIucGFyYW1zLm9ic2VydmVTbGlkZUNoaWxkcmVuXG4gICAgfSk7IC8vIE9ic2VydmUgd3JhcHBlclxuXG4gICAgYXR0YWNoKHN3aXBlci4kd3JhcHBlckVsWzBdLCB7XG4gICAgICBhdHRyaWJ1dGVzOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzZXJ2ZXIgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH0pO1xuICAgIG9ic2VydmVycy5zcGxpY2UoMCwgb2JzZXJ2ZXJzLmxlbmd0aCk7XG4gIH07XG5cbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBvYnNlcnZlcjogZmFsc2UsXG4gICAgb2JzZXJ2ZVBhcmVudHM6IGZhbHNlLFxuICAgIG9ic2VydmVTbGlkZUNoaWxkcmVuOiBmYWxzZVxuICB9KTtcbiAgb24oJ2luaXQnLCBpbml0KTtcbiAgb24oJ2Rlc3Ryb3knLCBkZXN0cm95KTtcbn0iLCJpbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdzc3Itd2luZG93JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlc2l6ZSh7XG4gIHN3aXBlcixcbiAgb24sXG4gIGVtaXRcbn0pIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBvYnNlcnZlciA9IG51bGw7XG4gIGxldCBhbmltYXRpb25GcmFtZSA9IG51bGw7XG5cbiAgY29uc3QgcmVzaXplSGFuZGxlciA9ICgpID0+IHtcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICBlbWl0KCdiZWZvcmVSZXNpemUnKTtcbiAgICBlbWl0KCdyZXNpemUnKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVPYnNlcnZlciA9ICgpID0+IHtcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgIGFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBoZWlnaHRcbiAgICAgICAgfSA9IHN3aXBlcjtcbiAgICAgICAgbGV0IG5ld1dpZHRoID0gd2lkdGg7XG4gICAgICAgIGxldCBuZXdIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoe1xuICAgICAgICAgIGNvbnRlbnRCb3hTaXplLFxuICAgICAgICAgIGNvbnRlbnRSZWN0LFxuICAgICAgICAgIHRhcmdldFxuICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQgIT09IHN3aXBlci5lbCkgcmV0dXJuO1xuICAgICAgICAgIG5ld1dpZHRoID0gY29udGVudFJlY3QgPyBjb250ZW50UmVjdC53aWR0aCA6IChjb250ZW50Qm94U2l6ZVswXSB8fCBjb250ZW50Qm94U2l6ZSkuaW5saW5lU2l6ZTtcbiAgICAgICAgICBuZXdIZWlnaHQgPSBjb250ZW50UmVjdCA/IGNvbnRlbnRSZWN0LmhlaWdodCA6IChjb250ZW50Qm94U2l6ZVswXSB8fCBjb250ZW50Qm94U2l6ZSkuYmxvY2tTaXplO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobmV3V2lkdGggIT09IHdpZHRoIHx8IG5ld0hlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgcmVzaXplSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHN3aXBlci5lbCk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlT2JzZXJ2ZXIgPSAoKSA9PiB7XG4gICAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWUpO1xuICAgIH1cblxuICAgIGlmIChvYnNlcnZlciAmJiBvYnNlcnZlci51bm9ic2VydmUgJiYgc3dpcGVyLmVsKSB7XG4gICAgICBvYnNlcnZlci51bm9ic2VydmUoc3dpcGVyLmVsKTtcbiAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIGVtaXQoJ29yaWVudGF0aW9uY2hhbmdlJyk7XG4gIH07XG5cbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucmVzaXplT2JzZXJ2ZXIgJiYgdHlwZW9mIHdpbmRvdy5SZXNpemVPYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNyZWF0ZU9ic2VydmVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICByZW1vdmVPYnNlcnZlcigpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIpO1xuICB9KTtcbn0iLCJpbXBvcnQgc2xpZGVUbyBmcm9tICcuL3NsaWRlVG8uanMnO1xuaW1wb3J0IHNsaWRlVG9Mb29wIGZyb20gJy4vc2xpZGVUb0xvb3AuanMnO1xuaW1wb3J0IHNsaWRlTmV4dCBmcm9tICcuL3NsaWRlTmV4dC5qcyc7XG5pbXBvcnQgc2xpZGVQcmV2IGZyb20gJy4vc2xpZGVQcmV2LmpzJztcbmltcG9ydCBzbGlkZVJlc2V0IGZyb20gJy4vc2xpZGVSZXNldC5qcyc7XG5pbXBvcnQgc2xpZGVUb0Nsb3Nlc3QgZnJvbSAnLi9zbGlkZVRvQ2xvc2VzdC5qcyc7XG5pbXBvcnQgc2xpZGVUb0NsaWNrZWRTbGlkZSBmcm9tICcuL3NsaWRlVG9DbGlja2VkU2xpZGUuanMnO1xuZXhwb3J0IGRlZmF1bHQge1xuICBzbGlkZVRvLFxuICBzbGlkZVRvTG9vcCxcbiAgc2xpZGVOZXh0LFxuICBzbGlkZVByZXYsXG4gIHNsaWRlUmVzZXQsXG4gIHNsaWRlVG9DbG9zZXN0LFxuICBzbGlkZVRvQ2xpY2tlZFNsaWRlXG59OyIsIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2xpZGVOZXh0KHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQsIHJ1bkNhbGxiYWNrcyA9IHRydWUsIGludGVybmFsKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBhbmltYXRpbmcsXG4gICAgZW5hYmxlZCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm4gc3dpcGVyO1xuICBsZXQgcGVyR3JvdXAgPSBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG5cbiAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cEF1dG8pIHtcbiAgICBwZXJHcm91cCA9IE1hdGgubWF4KHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygnY3VycmVudCcsIHRydWUpLCAxKTtcbiAgfVxuXG4gIGNvbnN0IGluY3JlbWVudCA9IHN3aXBlci5hY3RpdmVJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgPyAxIDogcGVyR3JvdXA7XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgaWYgKGFuaW1hdGluZyAmJiBwYXJhbXMubG9vcFByZXZlbnRzU2xpZGUpIHJldHVybiBmYWxzZTtcbiAgICBzd2lwZXIubG9vcEZpeCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuICAgIHN3aXBlci5fY2xpZW50TGVmdCA9IHN3aXBlci4kd3JhcHBlckVsWzBdLmNsaWVudExlZnQ7XG4gIH1cblxuICBpZiAocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNFbmQpIHtcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oMCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICB9XG5cbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCArIGluY3JlbWVudCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufSIsIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2xpZGVQcmV2KHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQsIHJ1bkNhbGxiYWNrcyA9IHRydWUsIGludGVybmFsKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgYW5pbWF0aW5nLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgcnRsVHJhbnNsYXRlLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm4gc3dpcGVyO1xuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChhbmltYXRpbmcgJiYgcGFyYW1zLmxvb3BQcmV2ZW50c1NsaWRlKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpcGVyLmxvb3BGaXgoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICBzd2lwZXIuX2NsaWVudExlZnQgPSBzd2lwZXIuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0O1xuICB9XG5cbiAgY29uc3QgdHJhbnNsYXRlID0gcnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWwpIHtcbiAgICBpZiAodmFsIDwgMCkgcmV0dXJuIC1NYXRoLmZsb29yKE1hdGguYWJzKHZhbCkpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKHZhbCk7XG4gIH1cblxuICBjb25zdCBub3JtYWxpemVkVHJhbnNsYXRlID0gbm9ybWFsaXplKHRyYW5zbGF0ZSk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRTbmFwR3JpZCA9IHNuYXBHcmlkLm1hcCh2YWwgPT4gbm9ybWFsaXplKHZhbCkpO1xuICBsZXQgcHJldlNuYXAgPSBzbmFwR3JpZFtub3JtYWxpemVkU25hcEdyaWQuaW5kZXhPZihub3JtYWxpemVkVHJhbnNsYXRlKSAtIDFdO1xuXG4gIGlmICh0eXBlb2YgcHJldlNuYXAgPT09ICd1bmRlZmluZWQnICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgbGV0IHByZXZTbmFwSW5kZXg7XG4gICAgc25hcEdyaWQuZm9yRWFjaCgoc25hcCwgc25hcEluZGV4KSA9PiB7XG4gICAgICBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBzbmFwKSB7XG4gICAgICAgIC8vIHByZXZTbmFwID0gc25hcDtcbiAgICAgICAgcHJldlNuYXBJbmRleCA9IHNuYXBJbmRleDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2YgcHJldlNuYXBJbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHByZXZTbmFwID0gc25hcEdyaWRbcHJldlNuYXBJbmRleCA+IDAgPyBwcmV2U25hcEluZGV4IC0gMSA6IHByZXZTbmFwSW5kZXhdO1xuICAgIH1cbiAgfVxuXG4gIGxldCBwcmV2SW5kZXggPSAwO1xuXG4gIGlmICh0eXBlb2YgcHJldlNuYXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcHJldkluZGV4ID0gc2xpZGVzR3JpZC5pbmRleE9mKHByZXZTbmFwKTtcbiAgICBpZiAocHJldkluZGV4IDwgMCkgcHJldkluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IC0gMTtcblxuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMSAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXBBdXRvKSB7XG4gICAgICBwcmV2SW5kZXggPSBwcmV2SW5kZXggLSBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoJ3ByZXZpb3VzJywgdHJ1ZSkgKyAxO1xuICAgICAgcHJldkluZGV4ID0gTWF0aC5tYXgocHJldkluZGV4LCAwKTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICBjb25zdCBsYXN0SW5kZXggPSBzd2lwZXIucGFyYW1zLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgc3dpcGVyLnZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIC0gMSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8obGFzdEluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH1cblxuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8ocHJldkluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59IiwiLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzbGlkZVJlc2V0KHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQsIHJ1bkNhbGxiYWNrcyA9IHRydWUsIGludGVybmFsKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn0iLCJpbXBvcnQgeyBhbmltYXRlQ1NTTW9kZVNjcm9sbCB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzbGlkZVRvKGluZGV4ID0gMCwgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZCwgcnVuQ2FsbGJhY2tzID0gdHJ1ZSwgaW50ZXJuYWwsIGluaXRpYWwpIHtcbiAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicgJiYgdHlwZW9mIGluZGV4ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcihgVGhlICdpbmRleCcgYXJndW1lbnQgY2Fubm90IGhhdmUgdHlwZSBvdGhlciB0aGFuICdudW1iZXInIG9yICdzdHJpbmcnLiBbJHt0eXBlb2YgaW5kZXh9XSBnaXZlbi5gKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaW5kZXggPT09ICdzdHJpbmcnKSB7XG4gICAgLyoqXG4gICAgICogVGhlIGBpbmRleGAgYXJndW1lbnQgY29udmVydGVkIGZyb20gYHN0cmluZ2AgdG8gYG51bWJlcmAuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjb25zdCBpbmRleEFzTnVtYmVyID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGBpbmRleGAgYXJndW1lbnQgaXMgYSB2YWxpZCBgbnVtYmVyYFxuICAgICAqIGFmdGVyIGJlaW5nIGNvbnZlcnRlZCBmcm9tIHRoZSBgc3RyaW5nYCB0eXBlLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuXG4gICAgY29uc3QgaXNWYWxpZE51bWJlciA9IGlzRmluaXRlKGluZGV4QXNOdW1iZXIpO1xuXG4gICAgaWYgKCFpc1ZhbGlkTnVtYmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBwYXNzZWQtaW4gJ2luZGV4JyAoc3RyaW5nKSBjb3VsZG4ndCBiZSBjb252ZXJ0ZWQgdG8gJ251bWJlcicuIFske2luZGV4fV0gZ2l2ZW4uYCk7XG4gICAgfSAvLyBLbm93aW5nIHRoYXQgdGhlIGNvbnZlcnRlZCBgaW5kZXhgIGlzIGEgdmFsaWQgbnVtYmVyLFxuICAgIC8vIHdlIGNhbiB1cGRhdGUgdGhlIG9yaWdpbmFsIGFyZ3VtZW50J3MgdmFsdWUuXG5cblxuICAgIGluZGV4ID0gaW5kZXhBc051bWJlcjtcbiAgfVxuXG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGxldCBzbGlkZUluZGV4ID0gaW5kZXg7XG4gIGlmIChzbGlkZUluZGV4IDwgMCkgc2xpZGVJbmRleCA9IDA7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc25hcEdyaWQsXG4gICAgc2xpZGVzR3JpZCxcbiAgICBwcmV2aW91c0luZGV4LFxuICAgIGFjdGl2ZUluZGV4LFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHdyYXBwZXJFbCxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG5cbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbiB8fCAhZW5hYmxlZCAmJiAhaW50ZXJuYWwgJiYgIWluaXRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBza2lwID0gTWF0aC5taW4oc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIHNsaWRlSW5kZXgpO1xuICBsZXQgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKHNsaWRlSW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICBpZiAoc25hcEluZGV4ID49IHNuYXBHcmlkLmxlbmd0aCkgc25hcEluZGV4ID0gc25hcEdyaWQubGVuZ3RoIC0gMTtcbiAgY29uc3QgdHJhbnNsYXRlID0gLXNuYXBHcmlkW3NuYXBJbmRleF07IC8vIE5vcm1hbGl6ZSBzbGlkZUluZGV4XG5cbiAgaWYgKHBhcmFtcy5ub3JtYWxpemVTbGlkZUluZGV4KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkVHJhbnNsYXRlID0gLU1hdGguZmxvb3IodHJhbnNsYXRlICogMTAwKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRHcmlkID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkW2ldICogMTAwKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRHcmlkTmV4dCA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZFtpICsgMV0gKiAxMDApO1xuXG4gICAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIDFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCAmJiBub3JtYWxpemVkVHJhbnNsYXRlIDwgbm9ybWFsaXplZEdyaWROZXh0IC0gKG5vcm1hbGl6ZWRHcmlkTmV4dCAtIG5vcm1hbGl6ZWRHcmlkKSAvIDIpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHcmlkICYmIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPCBub3JtYWxpemVkR3JpZE5leHQpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCkge1xuICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gRGlyZWN0aW9ucyBsb2Nrc1xuXG5cbiAgaWYgKHN3aXBlci5pbml0aWFsaXplZCAmJiBzbGlkZUluZGV4ICE9PSBhY3RpdmVJbmRleCkge1xuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVOZXh0ICYmIHRyYW5zbGF0ZSA8IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlIDwgc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgdHJhbnNsYXRlID4gc3dpcGVyLnRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUgPiBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHtcbiAgICAgIGlmICgoYWN0aXZlSW5kZXggfHwgMCkgIT09IHNsaWRlSW5kZXgpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAoc2xpZGVJbmRleCAhPT0gKHByZXZpb3VzSW5kZXggfHwgMCkgJiYgcnVuQ2FsbGJhY2tzKSB7XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVNsaWRlQ2hhbmdlU3RhcnQnKTtcbiAgfSAvLyBVcGRhdGUgcHJvZ3Jlc3NcblxuXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICBsZXQgZGlyZWN0aW9uO1xuICBpZiAoc2xpZGVJbmRleCA+IGFjdGl2ZUluZGV4KSBkaXJlY3Rpb24gPSAnbmV4dCc7ZWxzZSBpZiAoc2xpZGVJbmRleCA8IGFjdGl2ZUluZGV4KSBkaXJlY3Rpb24gPSAncHJldic7ZWxzZSBkaXJlY3Rpb24gPSAncmVzZXQnOyAvLyBVcGRhdGUgSW5kZXhcblxuICBpZiAocnRsICYmIC10cmFuc2xhdGUgPT09IHN3aXBlci50cmFuc2xhdGUgfHwgIXJ0bCAmJiB0cmFuc2xhdGUgPT09IHN3aXBlci50cmFuc2xhdGUpIHtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoc2xpZGVJbmRleCk7IC8vIFVwZGF0ZSBIZWlnaHRcblxuICAgIGlmIChwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICB9XG5cbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuXG4gICAgaWYgKHBhcmFtcy5lZmZlY3QgIT09ICdzbGlkZScpIHtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoZGlyZWN0aW9uICE9PSAncmVzZXQnKSB7XG4gICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBjb25zdCBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgY29uc3QgdCA9IHJ0bCA/IHRyYW5zbGF0ZSA6IC10cmFuc2xhdGU7XG5cbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuXG4gICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnbm9uZSc7XG4gICAgICAgIHN3aXBlci5faW1tZWRpYXRlVmlydHVhbCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuXG4gICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICcnO1xuICAgICAgICAgIHN3aXBlci5fc3dpcGVySW1tZWRpYXRlVmlydHVhbCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFzd2lwZXIuc3VwcG9ydC5zbW9vdGhTY3JvbGwpIHtcbiAgICAgICAgYW5pbWF0ZUNTU01vZGVTY3JvbGwoe1xuICAgICAgICAgIHN3aXBlcixcbiAgICAgICAgICB0YXJnZXRQb3NpdGlvbjogdCxcbiAgICAgICAgICBzaWRlOiBpc0ggPyAnbGVmdCcgOiAndG9wJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHdyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICAgIFtpc0ggPyAnbGVmdCcgOiAndG9wJ106IHQsXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KHNsaWRlSW5kZXgpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgc3dpcGVyLnRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG5cbiAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICB9IGVsc2UgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICBpZiAoIXN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZDtcbiAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufSIsImltcG9ydCAkIGZyb20gJy4uLy4uL3NoYXJlZC9kb20uanMnO1xuaW1wb3J0IHsgbmV4dFRpY2sgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2xpZGVUb0NsaWNrZWRTbGlkZSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICAkd3JhcHBlckVsXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHNsaWRlc1BlclZpZXcgPSBwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgbGV0IHNsaWRlVG9JbmRleCA9IHN3aXBlci5jbGlja2VkSW5kZXg7XG4gIGxldCByZWFsSW5kZXg7XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci5hbmltYXRpbmcpIHJldHVybjtcbiAgICByZWFsSW5kZXggPSBwYXJzZUludCgkKHN3aXBlci5jbGlja2VkU2xpZGUpLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcblxuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIGlmIChzbGlkZVRvSW5kZXggPCBzd2lwZXIubG9vcGVkU2xpZGVzIC0gc2xpZGVzUGVyVmlldyAvIDIgfHwgc2xpZGVUb0luZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzICsgc2xpZGVzUGVyVmlldyAvIDIpIHtcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgICAgc2xpZGVUb0luZGV4ID0gJHdyYXBwZXJFbC5jaGlsZHJlbihgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtyZWFsSW5kZXh9XCJdOm5vdCguJHtwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzc30pYCkuZXEoMCkuaW5kZXgoKTtcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNsaWRlVG9JbmRleCA+IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gc2xpZGVzUGVyVmlldykge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgIHNsaWRlVG9JbmRleCA9ICR3cmFwcGVyRWwuY2hpbGRyZW4oYC4ke3BhcmFtcy5zbGlkZUNsYXNzfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7cmVhbEluZGV4fVwiXTpub3QoLiR7cGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3N9KWApLmVxKDApLmluZGV4KCk7XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgfVxufSIsIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2xpZGVUb0Nsb3Nlc3Qoc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZCwgcnVuQ2FsbGJhY2tzID0gdHJ1ZSwgaW50ZXJuYWwsIHRocmVzaG9sZCA9IDAuNSkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBsZXQgaW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gIGNvbnN0IHNraXAgPSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgaW5kZXgpO1xuICBjb25zdCBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoaW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuXG4gIGlmICh0cmFuc2xhdGUgPj0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF0pIHtcbiAgICAvLyBUaGUgY3VycmVudCB0cmFuc2xhdGUgaXMgb24gb3IgYWZ0ZXIgdGhlIGN1cnJlbnQgc25hcCBpbmRleCwgc28gdGhlIGNob2ljZVxuICAgIC8vIGlzIGJldHdlZW4gdGhlIGN1cnJlbnQgaW5kZXggYW5kIHRoZSBvbmUgYWZ0ZXIgaXQuXG4gICAgY29uc3QgY3VycmVudFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XTtcbiAgICBjb25zdCBuZXh0U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXggKyAxXTtcblxuICAgIGlmICh0cmFuc2xhdGUgLSBjdXJyZW50U25hcCA+IChuZXh0U25hcCAtIGN1cnJlbnRTbmFwKSAqIHRocmVzaG9sZCkge1xuICAgICAgaW5kZXggKz0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlIGlzIGJlZm9yZSB0aGUgY3VycmVudCBzbmFwIGluZGV4LCBzbyB0aGUgY2hvaWNlXG4gICAgLy8gaXMgYmV0d2VlbiB0aGUgY3VycmVudCBpbmRleCBhbmQgdGhlIG9uZSBiZWZvcmUgaXQuXG4gICAgY29uc3QgcHJldlNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4IC0gMV07XG4gICAgY29uc3QgY3VycmVudFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XTtcblxuICAgIGlmICh0cmFuc2xhdGUgLSBwcmV2U25hcCA8PSAoY3VycmVudFNuYXAgLSBwcmV2U25hcCkgKiB0aHJlc2hvbGQpIHtcbiAgICAgIGluZGV4IC09IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgfVxuICB9XG5cbiAgaW5kZXggPSBNYXRoLm1heChpbmRleCwgMCk7XG4gIGluZGV4ID0gTWF0aC5taW4oaW5kZXgsIHN3aXBlci5zbGlkZXNHcmlkLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzbGlkZVRvTG9vcChpbmRleCA9IDAsIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQsIHJ1bkNhbGxiYWNrcyA9IHRydWUsIGludGVybmFsKSB7XG4gIGlmICh0eXBlb2YgaW5kZXggPT09ICdzdHJpbmcnKSB7XG4gICAgLyoqXG4gICAgICogVGhlIGBpbmRleGAgYXJndW1lbnQgY29udmVydGVkIGZyb20gYHN0cmluZ2AgdG8gYG51bWJlcmAuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjb25zdCBpbmRleEFzTnVtYmVyID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGBpbmRleGAgYXJndW1lbnQgaXMgYSB2YWxpZCBgbnVtYmVyYFxuICAgICAqIGFmdGVyIGJlaW5nIGNvbnZlcnRlZCBmcm9tIHRoZSBgc3RyaW5nYCB0eXBlLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuXG4gICAgY29uc3QgaXNWYWxpZE51bWJlciA9IGlzRmluaXRlKGluZGV4QXNOdW1iZXIpO1xuXG4gICAgaWYgKCFpc1ZhbGlkTnVtYmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBwYXNzZWQtaW4gJ2luZGV4JyAoc3RyaW5nKSBjb3VsZG4ndCBiZSBjb252ZXJ0ZWQgdG8gJ251bWJlcicuIFske2luZGV4fV0gZ2l2ZW4uYCk7XG4gICAgfSAvLyBLbm93aW5nIHRoYXQgdGhlIGNvbnZlcnRlZCBgaW5kZXhgIGlzIGEgdmFsaWQgbnVtYmVyLFxuICAgIC8vIHdlIGNhbiB1cGRhdGUgdGhlIG9yaWdpbmFsIGFyZ3VtZW50J3MgdmFsdWUuXG5cblxuICAgIGluZGV4ID0gaW5kZXhBc051bWJlcjtcbiAgfVxuXG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGxldCBuZXdJbmRleCA9IGluZGV4O1xuXG4gIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICBuZXdJbmRleCArPSBzd2lwZXIubG9vcGVkU2xpZGVzO1xuICB9XG5cbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKG5ld0luZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59IiwiaW1wb3J0IHNldFRyYW5zaXRpb24gZnJvbSAnLi9zZXRUcmFuc2l0aW9uLmpzJztcbmltcG9ydCB0cmFuc2l0aW9uU3RhcnQgZnJvbSAnLi90cmFuc2l0aW9uU3RhcnQuanMnO1xuaW1wb3J0IHRyYW5zaXRpb25FbmQgZnJvbSAnLi90cmFuc2l0aW9uRW5kLmpzJztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2V0VHJhbnNpdGlvbixcbiAgdHJhbnNpdGlvblN0YXJ0LFxuICB0cmFuc2l0aW9uRW5kXG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24sIGJ5Q29udHJvbGxlcikge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuXG4gIGlmICghc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLiR3cmFwcGVyRWwudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH1cblxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNpdGlvbicsIGR1cmF0aW9uLCBieUNvbnRyb2xsZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zaXRpb25FbWl0KHtcbiAgc3dpcGVyLFxuICBydW5DYWxsYmFja3MsXG4gIGRpcmVjdGlvbixcbiAgc3RlcFxufSkge1xuICBjb25zdCB7XG4gICAgYWN0aXZlSW5kZXgsXG4gICAgcHJldmlvdXNJbmRleFxuICB9ID0gc3dpcGVyO1xuICBsZXQgZGlyID0gZGlyZWN0aW9uO1xuXG4gIGlmICghZGlyKSB7XG4gICAgaWYgKGFjdGl2ZUluZGV4ID4gcHJldmlvdXNJbmRleCkgZGlyID0gJ25leHQnO2Vsc2UgaWYgKGFjdGl2ZUluZGV4IDwgcHJldmlvdXNJbmRleCkgZGlyID0gJ3ByZXYnO2Vsc2UgZGlyID0gJ3Jlc2V0JztcbiAgfVxuXG4gIHN3aXBlci5lbWl0KGB0cmFuc2l0aW9uJHtzdGVwfWApO1xuXG4gIGlmIChydW5DYWxsYmFja3MgJiYgYWN0aXZlSW5kZXggIT09IHByZXZpb3VzSW5kZXgpIHtcbiAgICBpZiAoZGlyID09PSAncmVzZXQnKSB7XG4gICAgICBzd2lwZXIuZW1pdChgc2xpZGVSZXNldFRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpcGVyLmVtaXQoYHNsaWRlQ2hhbmdlVHJhbnNpdGlvbiR7c3RlcH1gKTtcblxuICAgIGlmIChkaXIgPT09ICduZXh0Jykge1xuICAgICAgc3dpcGVyLmVtaXQoYHNsaWRlTmV4dFRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5lbWl0KGBzbGlkZVByZXZUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB0cmFuc2l0aW9uRW1pdCBmcm9tICcuL3RyYW5zaXRpb25FbWl0LmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzID0gdHJ1ZSwgZGlyZWN0aW9uKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG4gIHRyYW5zaXRpb25FbWl0KHtcbiAgICBzd2lwZXIsXG4gICAgcnVuQ2FsbGJhY2tzLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGVwOiAnRW5kJ1xuICB9KTtcbn0iLCJpbXBvcnQgdHJhbnNpdGlvbkVtaXQgZnJvbSAnLi90cmFuc2l0aW9uRW1pdC5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzID0gdHJ1ZSwgZGlyZWN0aW9uKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG5cbiAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgfVxuXG4gIHRyYW5zaXRpb25FbWl0KHtcbiAgICBzd2lwZXIsXG4gICAgcnVuQ2FsbGJhY2tzLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGVwOiAnU3RhcnQnXG4gIH0pO1xufSIsImltcG9ydCB7IGdldFRyYW5zbGF0ZSB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRTd2lwZXJUcmFuc2xhdGUoYXhpcyA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyAneCcgOiAneScpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB0cmFuc2xhdGUsXG4gICAgJHdyYXBwZXJFbFxuICB9ID0gc3dpcGVyO1xuXG4gIGlmIChwYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkge1xuICAgIHJldHVybiBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZTtcbiAgfVxuXG4gIGxldCBjdXJyZW50VHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKCR3cmFwcGVyRWxbMF0sIGF4aXMpO1xuICBpZiAocnRsKSBjdXJyZW50VHJhbnNsYXRlID0gLWN1cnJlbnRUcmFuc2xhdGU7XG4gIHJldHVybiBjdXJyZW50VHJhbnNsYXRlIHx8IDA7XG59IiwiaW1wb3J0IGdldFRyYW5zbGF0ZSBmcm9tICcuL2dldFRyYW5zbGF0ZS5qcyc7XG5pbXBvcnQgc2V0VHJhbnNsYXRlIGZyb20gJy4vc2V0VHJhbnNsYXRlLmpzJztcbmltcG9ydCBtaW5UcmFuc2xhdGUgZnJvbSAnLi9taW5UcmFuc2xhdGUuanMnO1xuaW1wb3J0IG1heFRyYW5zbGF0ZSBmcm9tICcuL21heFRyYW5zbGF0ZS5qcyc7XG5pbXBvcnQgdHJhbnNsYXRlVG8gZnJvbSAnLi90cmFuc2xhdGVUby5qcyc7XG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldFRyYW5zbGF0ZSxcbiAgc2V0VHJhbnNsYXRlLFxuICBtaW5UcmFuc2xhdGUsXG4gIG1heFRyYW5zbGF0ZSxcbiAgdHJhbnNsYXRlVG9cbn07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF4VHJhbnNsYXRlKCkge1xuICByZXR1cm4gLXRoaXMuc25hcEdyaWRbdGhpcy5zbmFwR3JpZC5sZW5ndGggLSAxXTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtaW5UcmFuc2xhdGUoKSB7XG4gIHJldHVybiAtdGhpcy5zbmFwR3JpZFswXTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRUcmFuc2xhdGUodHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHBhcmFtcyxcbiAgICAkd3JhcHBlckVsLFxuICAgIHdyYXBwZXJFbCxcbiAgICBwcm9ncmVzc1xuICB9ID0gc3dpcGVyO1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgY29uc3QgeiA9IDA7XG5cbiAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgIHggPSBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9IGVsc2Uge1xuICAgIHkgPSB0cmFuc2xhdGU7XG4gIH1cblxuICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgIHggPSBNYXRoLmZsb29yKHgpO1xuICAgIHkgPSBNYXRoLmZsb29yKHkpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IC14IDogLXk7XG4gIH0gZWxzZSBpZiAoIXBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB7XG4gICAgJHdyYXBwZXJFbC50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKCR7eH1weCwgJHt5fXB4LCAke3p9cHgpYCk7XG4gIH1cblxuICBzd2lwZXIucHJldmlvdXNUcmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlO1xuICBzd2lwZXIudHJhbnNsYXRlID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8geCA6IHk7IC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gdXBkYXRlIHByb2dyZXNzXG5cbiAgbGV0IG5ld1Byb2dyZXNzO1xuICBjb25zdCB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcblxuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBuZXdQcm9ncmVzcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICB9XG5cbiAgaWYgKG5ld1Byb2dyZXNzICE9PSBwcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICB9XG5cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zbGF0ZScsIHN3aXBlci50cmFuc2xhdGUsIGJ5Q29udHJvbGxlcik7XG59IiwiaW1wb3J0IHsgYW5pbWF0ZUNTU01vZGVTY3JvbGwgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNsYXRlVG8odHJhbnNsYXRlID0gMCwgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZCwgcnVuQ2FsbGJhY2tzID0gdHJ1ZSwgdHJhbnNsYXRlQm91bmRzID0gdHJ1ZSwgaW50ZXJuYWwpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB3cmFwcGVyRWxcbiAgfSA9IHN3aXBlcjtcblxuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgbWluVHJhbnNsYXRlID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBjb25zdCBtYXhUcmFuc2xhdGUgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gIGxldCBuZXdUcmFuc2xhdGU7XG4gIGlmICh0cmFuc2xhdGVCb3VuZHMgJiYgdHJhbnNsYXRlID4gbWluVHJhbnNsYXRlKSBuZXdUcmFuc2xhdGUgPSBtaW5UcmFuc2xhdGU7ZWxzZSBpZiAodHJhbnNsYXRlQm91bmRzICYmIHRyYW5zbGF0ZSA8IG1heFRyYW5zbGF0ZSkgbmV3VHJhbnNsYXRlID0gbWF4VHJhbnNsYXRlO2Vsc2UgbmV3VHJhbnNsYXRlID0gdHJhbnNsYXRlOyAvLyBVcGRhdGUgcHJvZ3Jlc3NcblxuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MobmV3VHJhbnNsYXRlKTtcblxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBjb25zdCBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG5cbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSAtbmV3VHJhbnNsYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXN3aXBlci5zdXBwb3J0LnNtb290aFNjcm9sbCkge1xuICAgICAgICBhbmltYXRlQ1NTTW9kZVNjcm9sbCh7XG4gICAgICAgICAgc3dpcGVyLFxuICAgICAgICAgIHRhcmdldFBvc2l0aW9uOiAtbmV3VHJhbnNsYXRlLFxuICAgICAgICAgIHNpZGU6IGlzSCA/ICdsZWZ0JyA6ICd0b3AnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgW2lzSCA/ICdsZWZ0JyA6ICd0b3AnXTogLW5ld1RyYW5zbGF0ZSxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzcGVlZCA9PT0gMCkge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcblxuICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25FbmQnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcblxuICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25TdGFydCcpO1xuICAgIH1cblxuICAgIGlmICghc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgIGlmICghc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgICBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgICAgZGVsZXRlIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ7XG5cbiAgICAgICAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufSIsImltcG9ydCB1cGRhdGVTaXplIGZyb20gJy4vdXBkYXRlU2l6ZS5qcyc7XG5pbXBvcnQgdXBkYXRlU2xpZGVzIGZyb20gJy4vdXBkYXRlU2xpZGVzLmpzJztcbmltcG9ydCB1cGRhdGVBdXRvSGVpZ2h0IGZyb20gJy4vdXBkYXRlQXV0b0hlaWdodC5qcyc7XG5pbXBvcnQgdXBkYXRlU2xpZGVzT2Zmc2V0IGZyb20gJy4vdXBkYXRlU2xpZGVzT2Zmc2V0LmpzJztcbmltcG9ydCB1cGRhdGVTbGlkZXNQcm9ncmVzcyBmcm9tICcuL3VwZGF0ZVNsaWRlc1Byb2dyZXNzLmpzJztcbmltcG9ydCB1cGRhdGVQcm9ncmVzcyBmcm9tICcuL3VwZGF0ZVByb2dyZXNzLmpzJztcbmltcG9ydCB1cGRhdGVTbGlkZXNDbGFzc2VzIGZyb20gJy4vdXBkYXRlU2xpZGVzQ2xhc3Nlcy5qcyc7XG5pbXBvcnQgdXBkYXRlQWN0aXZlSW5kZXggZnJvbSAnLi91cGRhdGVBY3RpdmVJbmRleC5qcyc7XG5pbXBvcnQgdXBkYXRlQ2xpY2tlZFNsaWRlIGZyb20gJy4vdXBkYXRlQ2xpY2tlZFNsaWRlLmpzJztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgdXBkYXRlU2l6ZSxcbiAgdXBkYXRlU2xpZGVzLFxuICB1cGRhdGVBdXRvSGVpZ2h0LFxuICB1cGRhdGVTbGlkZXNPZmZzZXQsXG4gIHVwZGF0ZVNsaWRlc1Byb2dyZXNzLFxuICB1cGRhdGVQcm9ncmVzcyxcbiAgdXBkYXRlU2xpZGVzQ2xhc3NlcyxcbiAgdXBkYXRlQWN0aXZlSW5kZXgsXG4gIHVwZGF0ZUNsaWNrZWRTbGlkZVxufTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVBY3RpdmVJbmRleChuZXdBY3RpdmVJbmRleCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBjb25zdCB7XG4gICAgc2xpZGVzR3JpZCxcbiAgICBzbmFwR3JpZCxcbiAgICBwYXJhbXMsXG4gICAgYWN0aXZlSW5kZXg6IHByZXZpb3VzSW5kZXgsXG4gICAgcmVhbEluZGV4OiBwcmV2aW91c1JlYWxJbmRleCxcbiAgICBzbmFwSW5kZXg6IHByZXZpb3VzU25hcEluZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGxldCBhY3RpdmVJbmRleCA9IG5ld0FjdGl2ZUluZGV4O1xuICBsZXQgc25hcEluZGV4O1xuXG4gIGlmICh0eXBlb2YgYWN0aXZlSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIDFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0gJiYgdHJhbnNsYXRlIDwgc2xpZGVzR3JpZFtpICsgMV0gLSAoc2xpZGVzR3JpZFtpICsgMV0gLSBzbGlkZXNHcmlkW2ldKSAvIDIpIHtcbiAgICAgICAgICBhY3RpdmVJbmRleCA9IGk7XG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0gJiYgdHJhbnNsYXRlIDwgc2xpZGVzR3JpZFtpICsgMV0pIHtcbiAgICAgICAgICBhY3RpdmVJbmRleCA9IGkgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldKSB7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9IC8vIE5vcm1hbGl6ZSBzbGlkZUluZGV4XG5cblxuICAgIGlmIChwYXJhbXMubm9ybWFsaXplU2xpZGVJbmRleCkge1xuICAgICAgaWYgKGFjdGl2ZUluZGV4IDwgMCB8fCB0eXBlb2YgYWN0aXZlSW5kZXggPT09ICd1bmRlZmluZWQnKSBhY3RpdmVJbmRleCA9IDA7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNuYXBHcmlkLmluZGV4T2YodHJhbnNsYXRlKSA+PSAwKSB7XG4gICAgc25hcEluZGV4ID0gc25hcEdyaWQuaW5kZXhPZih0cmFuc2xhdGUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHNraXAgPSBNYXRoLm1pbihwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBhY3RpdmVJbmRleCk7XG4gICAgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKGFjdGl2ZUluZGV4IC0gc2tpcCkgLyBwYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICB9XG5cbiAgaWYgKHNuYXBJbmRleCA+PSBzbmFwR3JpZC5sZW5ndGgpIHNuYXBJbmRleCA9IHNuYXBHcmlkLmxlbmd0aCAtIDE7XG5cbiAgaWYgKGFjdGl2ZUluZGV4ID09PSBwcmV2aW91c0luZGV4KSB7XG4gICAgaWYgKHNuYXBJbmRleCAhPT0gcHJldmlvdXNTbmFwSW5kZXgpIHtcbiAgICAgIHN3aXBlci5zbmFwSW5kZXggPSBzbmFwSW5kZXg7XG4gICAgICBzd2lwZXIuZW1pdCgnc25hcEluZGV4Q2hhbmdlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9IC8vIEdldCByZWFsIGluZGV4XG5cblxuICBjb25zdCByZWFsSW5kZXggPSBwYXJzZUludChzd2lwZXIuc2xpZGVzLmVxKGFjdGl2ZUluZGV4KS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpIHx8IGFjdGl2ZUluZGV4LCAxMCk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgc25hcEluZGV4LFxuICAgIHJlYWxJbmRleCxcbiAgICBwcmV2aW91c0luZGV4LFxuICAgIGFjdGl2ZUluZGV4XG4gIH0pO1xuICBzd2lwZXIuZW1pdCgnYWN0aXZlSW5kZXhDaGFuZ2UnKTtcbiAgc3dpcGVyLmVtaXQoJ3NuYXBJbmRleENoYW5nZScpO1xuXG4gIGlmIChwcmV2aW91c1JlYWxJbmRleCAhPT0gcmVhbEluZGV4KSB7XG4gICAgc3dpcGVyLmVtaXQoJ3JlYWxJbmRleENoYW5nZScpO1xuICB9XG5cbiAgaWYgKHN3aXBlci5pbml0aWFsaXplZCB8fCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCkge1xuICAgIHN3aXBlci5lbWl0KCdzbGlkZUNoYW5nZScpO1xuICB9XG59IiwiaW1wb3J0ICQgZnJvbSAnLi4vLi4vc2hhcmVkL2RvbS5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVBdXRvSGVpZ2h0KHNwZWVkKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGFjdGl2ZVNsaWRlcyA9IFtdO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgbGV0IG5ld0hlaWdodCA9IDA7XG4gIGxldCBpO1xuXG4gIGlmICh0eXBlb2Ygc3BlZWQgPT09ICdudW1iZXInKSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICB9IGVsc2UgaWYgKHNwZWVkID09PSB0cnVlKSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3dpcGVyLnBhcmFtcy5zcGVlZCk7XG4gIH1cblxuICBjb25zdCBnZXRTbGlkZUJ5SW5kZXggPSBpbmRleCA9PiB7XG4gICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgcmV0dXJuIHN3aXBlci5zbGlkZXMuZmlsdGVyKGVsID0+IHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApID09PSBpbmRleClbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHN3aXBlci5zbGlkZXMuZXEoaW5kZXgpWzBdO1xuICB9OyAvLyBGaW5kIHNsaWRlcyBjdXJyZW50bHkgaW4gdmlld1xuXG5cbiAgaWYgKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nICYmIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgKHN3aXBlci52aXNpYmxlU2xpZGVzIHx8ICQoW10pKS5lYWNoKHNsaWRlID0+IHtcbiAgICAgICAgYWN0aXZlU2xpZGVzLnB1c2goc2xpZGUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBNYXRoLmNlaWwoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3KTsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4ICsgaTtcbiAgICAgICAgaWYgKGluZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggJiYgIWlzVmlydHVhbCkgYnJlYWs7XG4gICAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKGdldFNsaWRlQnlJbmRleChpbmRleCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhY3RpdmVTbGlkZXMucHVzaChnZXRTbGlkZUJ5SW5kZXgoc3dpcGVyLmFjdGl2ZUluZGV4KSk7XG4gIH0gLy8gRmluZCBuZXcgaGVpZ2h0IGZyb20gaGlnaGVzdCBzbGlkZSBpbiB2aWV3XG5cblxuICBmb3IgKGkgPSAwOyBpIDwgYWN0aXZlU2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBhY3RpdmVTbGlkZXNbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBoZWlnaHQgPSBhY3RpdmVTbGlkZXNbaV0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgbmV3SGVpZ2h0ID0gaGVpZ2h0ID4gbmV3SGVpZ2h0ID8gaGVpZ2h0IDogbmV3SGVpZ2h0O1xuICAgIH1cbiAgfSAvLyBVcGRhdGUgSGVpZ2h0XG5cblxuICBpZiAobmV3SGVpZ2h0IHx8IG5ld0hlaWdodCA9PT0gMCkgc3dpcGVyLiR3cmFwcGVyRWwuY3NzKCdoZWlnaHQnLCBgJHtuZXdIZWlnaHR9cHhgKTtcbn0iLCJpbXBvcnQgJCBmcm9tICcuLi8uLi9zaGFyZWQvZG9tLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZUNsaWNrZWRTbGlkZShlKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHNsaWRlID0gJChlKS5jbG9zZXN0KGAuJHtwYXJhbXMuc2xpZGVDbGFzc31gKVswXTtcbiAgbGV0IHNsaWRlRm91bmQgPSBmYWxzZTtcbiAgbGV0IHNsaWRlSW5kZXg7XG5cbiAgaWYgKHNsaWRlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc1tpXSA9PT0gc2xpZGUpIHtcbiAgICAgICAgc2xpZGVGb3VuZCA9IHRydWU7XG4gICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc2xpZGUgJiYgc2xpZGVGb3VuZCkge1xuICAgIHN3aXBlci5jbGlja2VkU2xpZGUgPSBzbGlkZTtcblxuICAgIGlmIChzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHBhcnNlSW50KCQoc2xpZGUpLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHNsaWRlSW5kZXg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXBlci5jbGlja2VkU2xpZGUgPSB1bmRlZmluZWQ7XG4gICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocGFyYW1zLnNsaWRlVG9DbGlja2VkU2xpZGUgJiYgc3dpcGVyLmNsaWNrZWRJbmRleCAhPT0gdW5kZWZpbmVkICYmIHN3aXBlci5jbGlja2VkSW5kZXggIT09IHN3aXBlci5hY3RpdmVJbmRleCkge1xuICAgIHN3aXBlci5zbGlkZVRvQ2xpY2tlZFNsaWRlKCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcblxuICBpZiAodHlwZW9mIHRyYW5zbGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IC0xIDogMTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICB0cmFuc2xhdGUgPSBzd2lwZXIgJiYgc3dpcGVyLnRyYW5zbGF0ZSAmJiBzd2lwZXIudHJhbnNsYXRlICogbXVsdGlwbGllciB8fCAwO1xuICB9XG5cbiAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgY29uc3QgdHJhbnNsYXRlc0RpZmYgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGxldCB7XG4gICAgcHJvZ3Jlc3MsXG4gICAgaXNCZWdpbm5pbmcsXG4gICAgaXNFbmRcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qgd2FzQmVnaW5uaW5nID0gaXNCZWdpbm5pbmc7XG4gIGNvbnN0IHdhc0VuZCA9IGlzRW5kO1xuXG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIHByb2dyZXNzID0gMDtcbiAgICBpc0JlZ2lubmluZyA9IHRydWU7XG4gICAgaXNFbmQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHByb2dyZXNzID0gKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgICBpc0JlZ2lubmluZyA9IHByb2dyZXNzIDw9IDA7XG4gICAgaXNFbmQgPSBwcm9ncmVzcyA+PSAxO1xuICB9XG5cbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBwcm9ncmVzcyxcbiAgICBpc0JlZ2lubmluZyxcbiAgICBpc0VuZFxuICB9KTtcbiAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzIHx8IHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuYXV0b0hlaWdodCkgc3dpcGVyLnVwZGF0ZVNsaWRlc1Byb2dyZXNzKHRyYW5zbGF0ZSk7XG5cbiAgaWYgKGlzQmVnaW5uaW5nICYmICF3YXNCZWdpbm5pbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhY2hCZWdpbm5pbmcgdG9FZGdlJyk7XG4gIH1cblxuICBpZiAoaXNFbmQgJiYgIXdhc0VuZCkge1xuICAgIHN3aXBlci5lbWl0KCdyZWFjaEVuZCB0b0VkZ2UnKTtcbiAgfVxuXG4gIGlmICh3YXNCZWdpbm5pbmcgJiYgIWlzQmVnaW5uaW5nIHx8IHdhc0VuZCAmJiAhaXNFbmQpIHtcbiAgICBzd2lwZXIuZW1pdCgnZnJvbUVkZ2UnKTtcbiAgfVxuXG4gIHN3aXBlci5lbWl0KCdwcm9ncmVzcycsIHByb2dyZXNzKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVTaXplKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBsZXQgd2lkdGg7XG4gIGxldCBoZWlnaHQ7XG4gIGNvbnN0ICRlbCA9IHN3aXBlci4kZWw7XG5cbiAgaWYgKHR5cGVvZiBzd2lwZXIucGFyYW1zLndpZHRoICE9PSAndW5kZWZpbmVkJyAmJiBzd2lwZXIucGFyYW1zLndpZHRoICE9PSBudWxsKSB7XG4gICAgd2lkdGggPSBzd2lwZXIucGFyYW1zLndpZHRoO1xuICB9IGVsc2Uge1xuICAgIHdpZHRoID0gJGVsWzBdLmNsaWVudFdpZHRoO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzd2lwZXIucGFyYW1zLmhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgJiYgc3dpcGVyLnBhcmFtcy5oZWlnaHQgIT09IG51bGwpIHtcbiAgICBoZWlnaHQgPSBzd2lwZXIucGFyYW1zLmhlaWdodDtcbiAgfSBlbHNlIHtcbiAgICBoZWlnaHQgPSAkZWxbMF0uY2xpZW50SGVpZ2h0O1xuICB9XG5cbiAgaWYgKHdpZHRoID09PSAwICYmIHN3aXBlci5pc0hvcml6b250YWwoKSB8fCBoZWlnaHQgPT09IDAgJiYgc3dpcGVyLmlzVmVydGljYWwoKSkge1xuICAgIHJldHVybjtcbiAgfSAvLyBTdWJ0cmFjdCBwYWRkaW5nc1xuXG5cbiAgd2lkdGggPSB3aWR0aCAtIHBhcnNlSW50KCRlbC5jc3MoJ3BhZGRpbmctbGVmdCcpIHx8IDAsIDEwKSAtIHBhcnNlSW50KCRlbC5jc3MoJ3BhZGRpbmctcmlnaHQnKSB8fCAwLCAxMCk7XG4gIGhlaWdodCA9IGhlaWdodCAtIHBhcnNlSW50KCRlbC5jc3MoJ3BhZGRpbmctdG9wJykgfHwgMCwgMTApIC0gcGFyc2VJbnQoJGVsLmNzcygncGFkZGluZy1ib3R0b20nKSB8fCAwLCAxMCk7XG4gIGlmIChOdW1iZXIuaXNOYU4od2lkdGgpKSB3aWR0aCA9IDA7XG4gIGlmIChOdW1iZXIuaXNOYU4oaGVpZ2h0KSkgaGVpZ2h0ID0gMDtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgc2l6ZTogc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gd2lkdGggOiBoZWlnaHRcbiAgfSk7XG59IiwiaW1wb3J0IHsgc2V0Q1NTUHJvcGVydHkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlU2xpZGVzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGdldERpcmVjdGlvbkxhYmVsKHByb3BlcnR5KSB7XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH0gLy8gcHJldHRpZXItaWdub3JlXG5cblxuICAgIHJldHVybiB7XG4gICAgICAnd2lkdGgnOiAnaGVpZ2h0JyxcbiAgICAgICdtYXJnaW4tdG9wJzogJ21hcmdpbi1sZWZ0JyxcbiAgICAgICdtYXJnaW4tYm90dG9tICc6ICdtYXJnaW4tcmlnaHQnLFxuICAgICAgJ21hcmdpbi1sZWZ0JzogJ21hcmdpbi10b3AnLFxuICAgICAgJ21hcmdpbi1yaWdodCc6ICdtYXJnaW4tYm90dG9tJyxcbiAgICAgICdwYWRkaW5nLWxlZnQnOiAncGFkZGluZy10b3AnLFxuICAgICAgJ3BhZGRpbmctcmlnaHQnOiAncGFkZGluZy1ib3R0b20nLFxuICAgICAgJ21hcmdpblJpZ2h0JzogJ21hcmdpbkJvdHRvbSdcbiAgICB9W3Byb3BlcnR5XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUobm9kZSwgbGFiZWwpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChub2RlLmdldFByb3BlcnR5VmFsdWUoZ2V0RGlyZWN0aW9uTGFiZWwobGFiZWwpKSB8fCAwKTtcbiAgfVxuXG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICAkd3JhcHBlckVsLFxuICAgIHNpemU6IHN3aXBlclNpemUsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgd3JvbmdSVExcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgY29uc3QgcHJldmlvdXNTbGlkZXNMZW5ndGggPSBpc1ZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gIGNvbnN0IHNsaWRlcyA9ICR3cmFwcGVyRWwuY2hpbGRyZW4oYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31gKTtcbiAgY29uc3Qgc2xpZGVzTGVuZ3RoID0gaXNWaXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHNsaWRlcy5sZW5ndGg7XG4gIGxldCBzbmFwR3JpZCA9IFtdO1xuICBjb25zdCBzbGlkZXNHcmlkID0gW107XG4gIGNvbnN0IHNsaWRlc1NpemVzR3JpZCA9IFtdO1xuICBsZXQgb2Zmc2V0QmVmb3JlID0gcGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZTtcblxuICBpZiAodHlwZW9mIG9mZnNldEJlZm9yZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmUuY2FsbChzd2lwZXIpO1xuICB9XG5cbiAgbGV0IG9mZnNldEFmdGVyID0gcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyO1xuXG4gIGlmICh0eXBlb2Ygb2Zmc2V0QWZ0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvZmZzZXRBZnRlciA9IHBhcmFtcy5zbGlkZXNPZmZzZXRBZnRlci5jYWxsKHN3aXBlcik7XG4gIH1cblxuICBjb25zdCBwcmV2aW91c1NuYXBHcmlkTGVuZ3RoID0gc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcbiAgY29uc3QgcHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoID0gc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoO1xuICBsZXQgc3BhY2VCZXR3ZWVuID0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgbGV0IHNsaWRlUG9zaXRpb24gPSAtb2Zmc2V0QmVmb3JlO1xuICBsZXQgcHJldlNsaWRlU2l6ZSA9IDA7XG4gIGxldCBpbmRleCA9IDA7XG5cbiAgaWYgKHR5cGVvZiBzd2lwZXJTaXplID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc3BhY2VCZXR3ZWVuID09PSAnc3RyaW5nJyAmJiBzcGFjZUJldHdlZW4uaW5kZXhPZignJScpID49IDApIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbi5yZXBsYWNlKCclJywgJycpKSAvIDEwMCAqIHN3aXBlclNpemU7XG4gIH1cblxuICBzd2lwZXIudmlydHVhbFNpemUgPSAtc3BhY2VCZXR3ZWVuOyAvLyByZXNldCBtYXJnaW5zXG5cbiAgaWYgKHJ0bCkgc2xpZGVzLmNzcyh7XG4gICAgbWFyZ2luTGVmdDogJycsXG4gICAgbWFyZ2luQm90dG9tOiAnJyxcbiAgICBtYXJnaW5Ub3A6ICcnXG4gIH0pO2Vsc2Ugc2xpZGVzLmNzcyh7XG4gICAgbWFyZ2luUmlnaHQ6ICcnLFxuICAgIG1hcmdpbkJvdHRvbTogJycsXG4gICAgbWFyZ2luVG9wOiAnJ1xuICB9KTsgLy8gcmVzZXQgY3NzTW9kZSBvZmZzZXRzXG5cbiAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgIHNldENTU1Byb3BlcnR5KHN3aXBlci53cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYmVmb3JlJywgJycpO1xuICAgIHNldENTU1Byb3BlcnR5KHN3aXBlci53cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXInLCAnJyk7XG4gIH1cblxuICBjb25zdCBncmlkRW5hYmxlZCA9IHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxICYmIHN3aXBlci5ncmlkO1xuXG4gIGlmIChncmlkRW5hYmxlZCkge1xuICAgIHN3aXBlci5ncmlkLmluaXRTbGlkZXMoc2xpZGVzTGVuZ3RoKTtcbiAgfSAvLyBDYWxjIHNsaWRlc1xuXG5cbiAgbGV0IHNsaWRlU2l6ZTtcbiAgY29uc3Qgc2hvdWxkUmVzZXRTbGlkZVNpemUgPSBwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nICYmIHBhcmFtcy5icmVha3BvaW50cyAmJiBPYmplY3Qua2V5cyhwYXJhbXMuYnJlYWtwb2ludHMpLmZpbHRlcihrZXkgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgcGFyYW1zLmJyZWFrcG9pbnRzW2tleV0uc2xpZGVzUGVyVmlldyAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0pLmxlbmd0aCA+IDA7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNMZW5ndGg7IGkgKz0gMSkge1xuICAgIHNsaWRlU2l6ZSA9IDA7XG4gICAgY29uc3Qgc2xpZGUgPSBzbGlkZXMuZXEoaSk7XG5cbiAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5ncmlkLnVwZGF0ZVNsaWRlKGksIHNsaWRlLCBzbGlkZXNMZW5ndGgsIGdldERpcmVjdGlvbkxhYmVsKTtcbiAgICB9XG5cbiAgICBpZiAoc2xpZGUuY3NzKCdkaXNwbGF5JykgPT09ICdub25lJykgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgICBpZiAoc2hvdWxkUmVzZXRTbGlkZVNpemUpIHtcbiAgICAgICAgc2xpZGVzW2ldLnN0eWxlW2dldERpcmVjdGlvbkxhYmVsKCd3aWR0aCcpXSA9IGBgO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzbGlkZVN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoc2xpZGVbMF0pO1xuICAgICAgY29uc3QgY3VycmVudFRyYW5zZm9ybSA9IHNsaWRlWzBdLnN0eWxlLnRyYW5zZm9ybTtcbiAgICAgIGNvbnN0IGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0gPSBzbGlkZVswXS5zdHlsZS53ZWJraXRUcmFuc2Zvcm07XG5cbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgc2xpZGVbMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ25vbmUnO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgICAgICBzbGlkZVNpemUgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzbGlkZS5vdXRlcldpZHRoKHRydWUpIDogc2xpZGUub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgY29uc3Qgd2lkdGggPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnd2lkdGgnKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ0xlZnQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAncGFkZGluZy1sZWZ0Jyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdSaWdodCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgIGNvbnN0IG1hcmdpbkxlZnQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnbWFyZ2luLWxlZnQnKTtcbiAgICAgICAgY29uc3QgbWFyZ2luUmlnaHQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgIGNvbnN0IGJveFNpemluZyA9IHNsaWRlU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ2JveC1zaXppbmcnKTtcblxuICAgICAgICBpZiAoYm94U2l6aW5nICYmIGJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgc2xpZGVTaXplID0gd2lkdGggKyBtYXJnaW5MZWZ0ICsgbWFyZ2luUmlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBvZmZzZXRXaWR0aFxuICAgICAgICAgIH0gPSBzbGlkZVswXTtcbiAgICAgICAgICBzbGlkZVNpemUgPSB3aWR0aCArIHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0ICsgbWFyZ2luTGVmdCArIG1hcmdpblJpZ2h0ICsgKG9mZnNldFdpZHRoIC0gY2xpZW50V2lkdGgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGN1cnJlbnRUcmFuc2Zvcm07XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50V2ViS2l0VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlWzBdLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm07XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVNpemUgPSBNYXRoLmZsb29yKHNsaWRlU2l6ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlU2l6ZSA9IChzd2lwZXJTaXplIC0gKHBhcmFtcy5zbGlkZXNQZXJWaWV3IC0gMSkgKiBzcGFjZUJldHdlZW4pIC8gcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVTaXplID0gTWF0aC5mbG9vcihzbGlkZVNpemUpO1xuXG4gICAgICBpZiAoc2xpZGVzW2ldKSB7XG4gICAgICAgIHNsaWRlc1tpXS5zdHlsZVtnZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgJHtzbGlkZVNpemV9cHhgO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzbGlkZXNbaV0pIHtcbiAgICAgIHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemUgPSBzbGlkZVNpemU7XG4gICAgfVxuXG4gICAgc2xpZGVzU2l6ZXNHcmlkLnB1c2goc2xpZGVTaXplKTtcblxuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uICsgc2xpZGVTaXplIC8gMiArIHByZXZTbGlkZVNpemUgLyAyICsgc3BhY2VCZXR3ZWVuO1xuICAgICAgaWYgKHByZXZTbGlkZVNpemUgPT09IDAgJiYgaSAhPT0gMCkgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gLSBzd2lwZXJTaXplIC8gMiAtIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChpID09PSAwKSBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiAtIHN3aXBlclNpemUgLyAyIC0gc3BhY2VCZXR3ZWVuO1xuICAgICAgaWYgKE1hdGguYWJzKHNsaWRlUG9zaXRpb24pIDwgMSAvIDEwMDApIHNsaWRlUG9zaXRpb24gPSAwO1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlUG9zaXRpb24gPSBNYXRoLmZsb29yKHNsaWRlUG9zaXRpb24pO1xuICAgICAgaWYgKGluZGV4ICUgcGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAwKSBzbmFwR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVQb3NpdGlvbiA9IE1hdGguZmxvb3Ioc2xpZGVQb3NpdGlvbik7XG4gICAgICBpZiAoKGluZGV4IC0gTWF0aC5taW4oc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGluZGV4KSkgJSBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAwKSBzbmFwR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gKyBzbGlkZVNpemUgKyBzcGFjZUJldHdlZW47XG4gICAgfVxuXG4gICAgc3dpcGVyLnZpcnR1YWxTaXplICs9IHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbjtcbiAgICBwcmV2U2xpZGVTaXplID0gc2xpZGVTaXplO1xuICAgIGluZGV4ICs9IDE7XG4gIH1cblxuICBzd2lwZXIudmlydHVhbFNpemUgPSBNYXRoLm1heChzd2lwZXIudmlydHVhbFNpemUsIHN3aXBlclNpemUpICsgb2Zmc2V0QWZ0ZXI7XG5cbiAgaWYgKHJ0bCAmJiB3cm9uZ1JUTCAmJiAocGFyYW1zLmVmZmVjdCA9PT0gJ3NsaWRlJyB8fCBwYXJhbXMuZWZmZWN0ID09PSAnY292ZXJmbG93JykpIHtcbiAgICAkd3JhcHBlckVsLmNzcyh7XG4gICAgICB3aWR0aDogYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgcGFyYW1zLnNwYWNlQmV0d2Vlbn1weGBcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChwYXJhbXMuc2V0V3JhcHBlclNpemUpIHtcbiAgICAkd3JhcHBlckVsLmNzcyh7XG4gICAgICBbZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldOiBgJHtzd2lwZXIudmlydHVhbFNpemUgKyBwYXJhbXMuc3BhY2VCZXR3ZWVufXB4YFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgc3dpcGVyLmdyaWQudXBkYXRlV3JhcHBlclNpemUoc2xpZGVTaXplLCBzbmFwR3JpZCwgZ2V0RGlyZWN0aW9uTGFiZWwpO1xuICB9IC8vIFJlbW92ZSBsYXN0IGdyaWQgZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdpZHRoXG5cblxuICBpZiAoIXBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgIGNvbnN0IG5ld1NsaWRlc0dyaWQgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc25hcEdyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGxldCBzbGlkZXNHcmlkSXRlbSA9IHNuYXBHcmlkW2ldO1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlc0dyaWRJdGVtID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkSXRlbSk7XG5cbiAgICAgIGlmIChzbmFwR3JpZFtpXSA8PSBzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSB7XG4gICAgICAgIG5ld1NsaWRlc0dyaWQucHVzaChzbGlkZXNHcmlkSXRlbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc25hcEdyaWQgPSBuZXdTbGlkZXNHcmlkO1xuXG4gICAgaWYgKE1hdGguZmxvb3Ioc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSkgLSBNYXRoLmZsb29yKHNuYXBHcmlkW3NuYXBHcmlkLmxlbmd0aCAtIDFdKSA+IDEpIHtcbiAgICAgIHNuYXBHcmlkLnB1c2goc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNuYXBHcmlkLmxlbmd0aCA9PT0gMCkgc25hcEdyaWQgPSBbMF07XG5cbiAgaWYgKHBhcmFtcy5zcGFjZUJldHdlZW4gIT09IDApIHtcbiAgICBjb25zdCBrZXkgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgcnRsID8gJ21hcmdpbkxlZnQnIDogZ2V0RGlyZWN0aW9uTGFiZWwoJ21hcmdpblJpZ2h0Jyk7XG4gICAgc2xpZGVzLmZpbHRlcigoXywgc2xpZGVJbmRleCkgPT4ge1xuICAgICAgaWYgKCFwYXJhbXMuY3NzTW9kZSkgcmV0dXJuIHRydWU7XG5cbiAgICAgIGlmIChzbGlkZUluZGV4ID09PSBzbGlkZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pLmNzcyh7XG4gICAgICBba2V5XTogYCR7c3BhY2VCZXR3ZWVufXB4YFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXNCb3VuZHMpIHtcbiAgICBsZXQgYWxsU2xpZGVzU2l6ZSA9IDA7XG4gICAgc2xpZGVzU2l6ZXNHcmlkLmZvckVhY2goc2xpZGVTaXplVmFsdWUgPT4ge1xuICAgICAgYWxsU2xpZGVzU2l6ZSArPSBzbGlkZVNpemVWYWx1ZSArIChwYXJhbXMuc3BhY2VCZXR3ZWVuID8gcGFyYW1zLnNwYWNlQmV0d2VlbiA6IDApO1xuICAgIH0pO1xuICAgIGFsbFNsaWRlc1NpemUgLT0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgICBjb25zdCBtYXhTbmFwID0gYWxsU2xpZGVzU2l6ZSAtIHN3aXBlclNpemU7XG4gICAgc25hcEdyaWQgPSBzbmFwR3JpZC5tYXAoc25hcCA9PiB7XG4gICAgICBpZiAoc25hcCA8IDApIHJldHVybiAtb2Zmc2V0QmVmb3JlO1xuICAgICAgaWYgKHNuYXAgPiBtYXhTbmFwKSByZXR1cm4gbWF4U25hcCArIG9mZnNldEFmdGVyO1xuICAgICAgcmV0dXJuIHNuYXA7XG4gICAgfSk7XG4gIH1cblxuICBpZiAocGFyYW1zLmNlbnRlckluc3VmZmljaWVudFNsaWRlcykge1xuICAgIGxldCBhbGxTbGlkZXNTaXplID0gMDtcbiAgICBzbGlkZXNTaXplc0dyaWQuZm9yRWFjaChzbGlkZVNpemVWYWx1ZSA9PiB7XG4gICAgICBhbGxTbGlkZXNTaXplICs9IHNsaWRlU2l6ZVZhbHVlICsgKHBhcmFtcy5zcGFjZUJldHdlZW4gPyBwYXJhbXMuc3BhY2VCZXR3ZWVuIDogMCk7XG4gICAgfSk7XG4gICAgYWxsU2xpZGVzU2l6ZSAtPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuXG4gICAgaWYgKGFsbFNsaWRlc1NpemUgPCBzd2lwZXJTaXplKSB7XG4gICAgICBjb25zdCBhbGxTbGlkZXNPZmZzZXQgPSAoc3dpcGVyU2l6ZSAtIGFsbFNsaWRlc1NpemUpIC8gMjtcbiAgICAgIHNuYXBHcmlkLmZvckVhY2goKHNuYXAsIHNuYXBJbmRleCkgPT4ge1xuICAgICAgICBzbmFwR3JpZFtzbmFwSW5kZXhdID0gc25hcCAtIGFsbFNsaWRlc09mZnNldDtcbiAgICAgIH0pO1xuICAgICAgc2xpZGVzR3JpZC5mb3JFYWNoKChzbmFwLCBzbmFwSW5kZXgpID0+IHtcbiAgICAgICAgc2xpZGVzR3JpZFtzbmFwSW5kZXhdID0gc25hcCArIGFsbFNsaWRlc09mZnNldDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgc2xpZGVzLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgc2xpZGVzU2l6ZXNHcmlkXG4gIH0pO1xuXG4gIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmNzc01vZGUgJiYgIXBhcmFtcy5jZW50ZXJlZFNsaWRlc0JvdW5kcykge1xuICAgIHNldENTU1Byb3BlcnR5KHN3aXBlci53cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYmVmb3JlJywgYCR7LXNuYXBHcmlkWzBdfXB4YCk7XG4gICAgc2V0Q1NTUHJvcGVydHkoc3dpcGVyLndyYXBwZXJFbCwgJy0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1hZnRlcicsIGAke3N3aXBlci5zaXplIC8gMiAtIHNsaWRlc1NpemVzR3JpZFtzbGlkZXNTaXplc0dyaWQubGVuZ3RoIC0gMV0gLyAyfXB4YCk7XG4gICAgY29uc3QgYWRkVG9TbmFwR3JpZCA9IC1zd2lwZXIuc25hcEdyaWRbMF07XG4gICAgY29uc3QgYWRkVG9TbGlkZXNHcmlkID0gLXN3aXBlci5zbGlkZXNHcmlkWzBdO1xuICAgIHN3aXBlci5zbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZC5tYXAodiA9PiB2ICsgYWRkVG9TbmFwR3JpZCk7XG4gICAgc3dpcGVyLnNsaWRlc0dyaWQgPSBzd2lwZXIuc2xpZGVzR3JpZC5tYXAodiA9PiB2ICsgYWRkVG9TbGlkZXNHcmlkKTtcbiAgfVxuXG4gIGlmIChzbGlkZXNMZW5ndGggIT09IHByZXZpb3VzU2xpZGVzTGVuZ3RoKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlc0xlbmd0aENoYW5nZScpO1xuICB9XG5cbiAgaWYgKHNuYXBHcmlkLmxlbmd0aCAhPT0gcHJldmlvdXNTbmFwR3JpZExlbmd0aCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cpIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgc3dpcGVyLmVtaXQoJ3NuYXBHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cblxuICBpZiAoc2xpZGVzR3JpZC5sZW5ndGggIT09IHByZXZpb3VzU2xpZGVzR3JpZExlbmd0aCkge1xuICAgIHN3aXBlci5lbWl0KCdzbGlkZXNHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cblxuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIH1cblxuICBpZiAoIWlzVmlydHVhbCAmJiAhcGFyYW1zLmNzc01vZGUgJiYgKHBhcmFtcy5lZmZlY3QgPT09ICdzbGlkZScgfHwgcGFyYW1zLmVmZmVjdCA9PT0gJ2ZhZGUnKSkge1xuICAgIGNvbnN0IGJhY2tGYWNlSGlkZGVuQ2xhc3MgPSBgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31iYWNrZmFjZS1oaWRkZW5gO1xuICAgIGNvbnN0IGhhc0NsYXNzQmFja2ZhY2VDbGFzc0FkZGVkID0gc3dpcGVyLiRlbC5oYXNDbGFzcyhiYWNrRmFjZUhpZGRlbkNsYXNzKTtcblxuICAgIGlmIChzbGlkZXNMZW5ndGggPD0gcGFyYW1zLm1heEJhY2tmYWNlSGlkZGVuU2xpZGVzKSB7XG4gICAgICBpZiAoIWhhc0NsYXNzQmFja2ZhY2VDbGFzc0FkZGVkKSBzd2lwZXIuJGVsLmFkZENsYXNzKGJhY2tGYWNlSGlkZGVuQ2xhc3MpO1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQpIHtcbiAgICAgIHN3aXBlci4kZWwucmVtb3ZlQ2xhc3MoYmFja0ZhY2VIaWRkZW5DbGFzcyk7XG4gICAgfVxuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlU2xpZGVzQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBwYXJhbXMsXG4gICAgJHdyYXBwZXJFbCxcbiAgICBhY3RpdmVJbmRleCxcbiAgICByZWFsSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgc2xpZGVzLnJlbW92ZUNsYXNzKGAke3BhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzfSAke3BhcmFtcy5zbGlkZU5leHRDbGFzc30gJHtwYXJhbXMuc2xpZGVQcmV2Q2xhc3N9ICR7cGFyYW1zLnNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3N9ICR7cGFyYW1zLnNsaWRlRHVwbGljYXRlTmV4dENsYXNzfSAke3BhcmFtcy5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzc31gKTtcbiAgbGV0IGFjdGl2ZVNsaWRlO1xuXG4gIGlmIChpc1ZpcnR1YWwpIHtcbiAgICBhY3RpdmVTbGlkZSA9IHN3aXBlci4kd3JhcHBlckVsLmZpbmQoYC4ke3BhcmFtcy5zbGlkZUNsYXNzfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7YWN0aXZlSW5kZXh9XCJdYCk7XG4gIH0gZWxzZSB7XG4gICAgYWN0aXZlU2xpZGUgPSBzbGlkZXMuZXEoYWN0aXZlSW5kZXgpO1xuICB9IC8vIEFjdGl2ZSBjbGFzc2VzXG5cblxuICBhY3RpdmVTbGlkZS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcyk7XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgLy8gRHVwbGljYXRlIHRvIGFsbCBsb29wZWQgc2xpZGVzXG4gICAgaWYgKGFjdGl2ZVNsaWRlLmhhc0NsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9Om5vdCguJHtwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzc30pW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtyZWFsSW5kZXh9XCJdYCkuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtwYXJhbXMuc2xpZGVDbGFzc30uJHtwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzc31bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3JlYWxJbmRleH1cIl1gKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzcyk7XG4gICAgfVxuICB9IC8vIE5leHQgU2xpZGVcblxuXG4gIGxldCBuZXh0U2xpZGUgPSBhY3RpdmVTbGlkZS5uZXh0QWxsKGAuJHtwYXJhbXMuc2xpZGVDbGFzc31gKS5lcSgwKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuXG4gIGlmIChwYXJhbXMubG9vcCAmJiBuZXh0U2xpZGUubGVuZ3RoID09PSAwKSB7XG4gICAgbmV4dFNsaWRlID0gc2xpZGVzLmVxKDApO1xuICAgIG5leHRTbGlkZS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuICB9IC8vIFByZXYgU2xpZGVcblxuXG4gIGxldCBwcmV2U2xpZGUgPSBhY3RpdmVTbGlkZS5wcmV2QWxsKGAuJHtwYXJhbXMuc2xpZGVDbGFzc31gKS5lcSgwKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuXG4gIGlmIChwYXJhbXMubG9vcCAmJiBwcmV2U2xpZGUubGVuZ3RoID09PSAwKSB7XG4gICAgcHJldlNsaWRlID0gc2xpZGVzLmVxKC0xKTtcbiAgICBwcmV2U2xpZGUuYWRkQ2xhc3MocGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIC8vIER1cGxpY2F0ZSB0byBhbGwgbG9vcGVkIHNsaWRlc1xuICAgIGlmIChuZXh0U2xpZGUuaGFzQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG4gICAgICAkd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtwYXJhbXMuc2xpZGVDbGFzc306bm90KC4ke3BhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzfSlbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke25leHRTbGlkZS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpfVwiXWApLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZU5leHRDbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR3cmFwcGVyRWwuY2hpbGRyZW4oYC4ke3BhcmFtcy5zbGlkZUNsYXNzfS4ke3BhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7bmV4dFNsaWRlLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyl9XCJdYCkuYWRkQ2xhc3MocGFyYW1zLnNsaWRlRHVwbGljYXRlTmV4dENsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAocHJldlNsaWRlLmhhc0NsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuICAgICAgJHdyYXBwZXJFbC5jaGlsZHJlbihgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9Om5vdCguJHtwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzc30pW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtwcmV2U2xpZGUuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKX1cIl1gKS5hZGRDbGFzcyhwYXJhbXMuc2xpZGVEdXBsaWNhdGVQcmV2Q2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtwYXJhbXMuc2xpZGVDbGFzc30uJHtwYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzc31bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3ByZXZTbGlkZS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpfVwiXWApLmFkZENsYXNzKHBhcmFtcy5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgc3dpcGVyLmVtaXRTbGlkZXNDbGFzc2VzKCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlU2xpZGVzT2Zmc2V0KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVzW2ldLnN3aXBlclNsaWRlT2Zmc2V0ID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gc2xpZGVzW2ldLm9mZnNldExlZnQgOiBzbGlkZXNbaV0ub2Zmc2V0VG9wO1xuICB9XG59IiwiaW1wb3J0ICQgZnJvbSAnLi4vLi4vc2hhcmVkL2RvbS5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUgPSB0aGlzICYmIHRoaXMudHJhbnNsYXRlIHx8IDApIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBzbmFwR3JpZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoc2xpZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIHNsaWRlc1swXS5zd2lwZXJTbGlkZU9mZnNldCA9PT0gJ3VuZGVmaW5lZCcpIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgbGV0IG9mZnNldENlbnRlciA9IC10cmFuc2xhdGU7XG4gIGlmIChydGwpIG9mZnNldENlbnRlciA9IHRyYW5zbGF0ZTsgLy8gVmlzaWJsZSBTbGlkZXNcblxuICBzbGlkZXMucmVtb3ZlQ2xhc3MocGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzKTtcbiAgc3dpcGVyLnZpc2libGVTbGlkZXNJbmRleGVzID0gW107XG4gIHN3aXBlci52aXNpYmxlU2xpZGVzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBzbGlkZSA9IHNsaWRlc1tpXTtcbiAgICBsZXQgc2xpZGVPZmZzZXQgPSBzbGlkZS5zd2lwZXJTbGlkZU9mZnNldDtcblxuICAgIGlmIChwYXJhbXMuY3NzTW9kZSAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIHNsaWRlT2Zmc2V0IC09IHNsaWRlc1swXS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICB9XG5cbiAgICBjb25zdCBzbGlkZVByb2dyZXNzID0gKG9mZnNldENlbnRlciArIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiAwKSAtIHNsaWRlT2Zmc2V0KSAvIChzbGlkZS5zd2lwZXJTbGlkZVNpemUgKyBwYXJhbXMuc3BhY2VCZXR3ZWVuKTtcbiAgICBjb25zdCBvcmlnaW5hbFNsaWRlUHJvZ3Jlc3MgPSAob2Zmc2V0Q2VudGVyIC0gc25hcEdyaWRbMF0gKyAocGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIDogMCkgLSBzbGlkZU9mZnNldCkgLyAoc2xpZGUuc3dpcGVyU2xpZGVTaXplICsgcGFyYW1zLnNwYWNlQmV0d2Vlbik7XG4gICAgY29uc3Qgc2xpZGVCZWZvcmUgPSAtKG9mZnNldENlbnRlciAtIHNsaWRlT2Zmc2V0KTtcbiAgICBjb25zdCBzbGlkZUFmdGVyID0gc2xpZGVCZWZvcmUgKyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHNsaWRlQmVmb3JlID49IDAgJiYgc2xpZGVCZWZvcmUgPCBzd2lwZXIuc2l6ZSAtIDEgfHwgc2xpZGVBZnRlciA+IDEgJiYgc2xpZGVBZnRlciA8PSBzd2lwZXIuc2l6ZSB8fCBzbGlkZUJlZm9yZSA8PSAwICYmIHNsaWRlQWZ0ZXIgPj0gc3dpcGVyLnNpemU7XG5cbiAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICBzd2lwZXIudmlzaWJsZVNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAgIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgc2xpZGVzLmVxKGkpLmFkZENsYXNzKHBhcmFtcy5zbGlkZVZpc2libGVDbGFzcyk7XG4gICAgfVxuXG4gICAgc2xpZGUucHJvZ3Jlc3MgPSBydGwgPyAtc2xpZGVQcm9ncmVzcyA6IHNsaWRlUHJvZ3Jlc3M7XG4gICAgc2xpZGUub3JpZ2luYWxQcm9ncmVzcyA9IHJ0bCA/IC1vcmlnaW5hbFNsaWRlUHJvZ3Jlc3MgOiBvcmlnaW5hbFNsaWRlUHJvZ3Jlc3M7XG4gIH1cblxuICBzd2lwZXIudmlzaWJsZVNsaWRlcyA9ICQoc3dpcGVyLnZpc2libGVTbGlkZXMpO1xufSIsImltcG9ydCBjbGFzc2VzVG9TZWxlY3RvciBmcm9tICcuLi8uLi9zaGFyZWQvY2xhc3Nlcy10by1zZWxlY3Rvci5qcyc7XG5pbXBvcnQgJCBmcm9tICcuLi8uLi9zaGFyZWQvZG9tLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEExMXkoe1xuICBzd2lwZXIsXG4gIGV4dGVuZFBhcmFtcyxcbiAgb25cbn0pIHtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBhMTF5OiB7XG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgbm90aWZpY2F0aW9uQ2xhc3M6ICdzd2lwZXItbm90aWZpY2F0aW9uJyxcbiAgICAgIHByZXZTbGlkZU1lc3NhZ2U6ICdQcmV2aW91cyBzbGlkZScsXG4gICAgICBuZXh0U2xpZGVNZXNzYWdlOiAnTmV4dCBzbGlkZScsXG4gICAgICBmaXJzdFNsaWRlTWVzc2FnZTogJ1RoaXMgaXMgdGhlIGZpcnN0IHNsaWRlJyxcbiAgICAgIGxhc3RTbGlkZU1lc3NhZ2U6ICdUaGlzIGlzIHRoZSBsYXN0IHNsaWRlJyxcbiAgICAgIHBhZ2luYXRpb25CdWxsZXRNZXNzYWdlOiAnR28gdG8gc2xpZGUge3tpbmRleH19JyxcbiAgICAgIHNsaWRlTGFiZWxNZXNzYWdlOiAne3tpbmRleH19IC8ge3tzbGlkZXNMZW5ndGh9fScsXG4gICAgICBjb250YWluZXJNZXNzYWdlOiBudWxsLFxuICAgICAgY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZTogbnVsbCxcbiAgICAgIGl0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlOiBudWxsLFxuICAgICAgc2xpZGVSb2xlOiAnZ3JvdXAnLFxuICAgICAgaWQ6IG51bGxcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIuYTExeSA9IHtcbiAgICBjbGlja2VkOiBmYWxzZVxuICB9O1xuICBsZXQgbGl2ZVJlZ2lvbiA9IG51bGw7XG5cbiAgZnVuY3Rpb24gbm90aWZ5KG1lc3NhZ2UpIHtcbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBsaXZlUmVnaW9uO1xuICAgIGlmIChub3RpZmljYXRpb24ubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgbm90aWZpY2F0aW9uLmh0bWwoJycpO1xuICAgIG5vdGlmaWNhdGlvbi5odG1sKG1lc3NhZ2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmFuZG9tTnVtYmVyKHNpemUgPSAxNikge1xuICAgIGNvbnN0IHJhbmRvbUNoYXIgPSAoKSA9PiBNYXRoLnJvdW5kKDE2ICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMTYpO1xuXG4gICAgcmV0dXJuICd4Jy5yZXBlYXQoc2l6ZSkucmVwbGFjZSgveC9nLCByYW5kb21DaGFyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VFbEZvY3VzYWJsZSgkZWwpIHtcbiAgICAkZWwuYXR0cigndGFiSW5kZXgnLCAnMCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZUVsTm90Rm9jdXNhYmxlKCRlbCkge1xuICAgICRlbC5hdHRyKCd0YWJJbmRleCcsICctMScpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRWxSb2xlKCRlbCwgcm9sZSkge1xuICAgICRlbC5hdHRyKCdyb2xlJywgcm9sZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRFbFJvbGVEZXNjcmlwdGlvbigkZWwsIGRlc2NyaXB0aW9uKSB7XG4gICAgJGVsLmF0dHIoJ2FyaWEtcm9sZWRlc2NyaXB0aW9uJywgZGVzY3JpcHRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRWxDb250cm9scygkZWwsIGNvbnRyb2xzKSB7XG4gICAgJGVsLmF0dHIoJ2FyaWEtY29udHJvbHMnLCBjb250cm9scyk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRFbExhYmVsKCRlbCwgbGFiZWwpIHtcbiAgICAkZWwuYXR0cignYXJpYS1sYWJlbCcsIGxhYmVsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEVsSWQoJGVsLCBpZCkge1xuICAgICRlbC5hdHRyKCdpZCcsIGlkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEVsTGl2ZSgkZWwsIGxpdmUpIHtcbiAgICAkZWwuYXR0cignYXJpYS1saXZlJywgbGl2ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNhYmxlRWwoJGVsKSB7XG4gICAgJGVsLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuYWJsZUVsKCRlbCkge1xuICAgICRlbC5hdHRyKCdhcmlhLWRpc2FibGVkJywgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25FbnRlck9yU3BhY2VLZXkoZSkge1xuICAgIGlmIChlLmtleUNvZGUgIT09IDEzICYmIGUua2V5Q29kZSAhPT0gMzIpIHJldHVybjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgY29uc3QgJHRhcmdldEVsID0gJChlLnRhcmdldCk7XG5cbiAgICBpZiAoc3dpcGVyLm5hdmlnYXRpb24gJiYgc3dpcGVyLm5hdmlnYXRpb24uJG5leHRFbCAmJiAkdGFyZ2V0RWwuaXMoc3dpcGVyLm5hdmlnYXRpb24uJG5leHRFbCkpIHtcbiAgICAgIGlmICghKHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSkge1xuICAgICAgICBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIuaXNFbmQpIHtcbiAgICAgICAgbm90aWZ5KHBhcmFtcy5sYXN0U2xpZGVNZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vdGlmeShwYXJhbXMubmV4dFNsaWRlTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRwcmV2RWwgJiYgJHRhcmdldEVsLmlzKHN3aXBlci5uYXZpZ2F0aW9uLiRwcmV2RWwpKSB7XG4gICAgICBpZiAoIShzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMubG9vcCkpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgICAgIG5vdGlmeShwYXJhbXMuZmlyc3RTbGlkZU1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm90aWZ5KHBhcmFtcy5wcmV2U2xpZGVNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgJHRhcmdldEVsLmlzKGNsYXNzZXNUb1NlbGVjdG9yKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpKSB7XG4gICAgICAkdGFyZ2V0RWxbMF0uY2xpY2soKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVOYXZpZ2F0aW9uKCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLnBhcmFtcy5yZXdpbmQgfHwgIXN3aXBlci5uYXZpZ2F0aW9uKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgJG5leHRFbCxcbiAgICAgICRwcmV2RWxcbiAgICB9ID0gc3dpcGVyLm5hdmlnYXRpb247XG5cbiAgICBpZiAoJHByZXZFbCAmJiAkcHJldkVsLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICAgICAgZGlzYWJsZUVsKCRwcmV2RWwpO1xuICAgICAgICBtYWtlRWxOb3RGb2N1c2FibGUoJHByZXZFbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmFibGVFbCgkcHJldkVsKTtcbiAgICAgICAgbWFrZUVsRm9jdXNhYmxlKCRwcmV2RWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICgkbmV4dEVsICYmICRuZXh0RWwubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHN3aXBlci5pc0VuZCkge1xuICAgICAgICBkaXNhYmxlRWwoJG5leHRFbCk7XG4gICAgICAgIG1ha2VFbE5vdEZvY3VzYWJsZSgkbmV4dEVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuYWJsZUVsKCRuZXh0RWwpO1xuICAgICAgICBtYWtlRWxGb2N1c2FibGUoJG5leHRFbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFzUGFnaW5hdGlvbigpIHtcbiAgICByZXR1cm4gc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NsaWNrYWJsZVBhZ2luYXRpb24oKSB7XG4gICAgcmV0dXJuIGhhc1BhZ2luYXRpb24oKSAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUGFnaW5hdGlvbigpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgaWYgKCFoYXNQYWdpbmF0aW9uKCkpIHJldHVybjtcbiAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmVhY2goYnVsbGV0RWwgPT4ge1xuICAgICAgY29uc3QgJGJ1bGxldEVsID0gJChidWxsZXRFbCk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlKSB7XG4gICAgICAgIG1ha2VFbEZvY3VzYWJsZSgkYnVsbGV0RWwpO1xuXG4gICAgICAgIGlmICghc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLnJlbmRlckJ1bGxldCkge1xuICAgICAgICAgIGFkZEVsUm9sZSgkYnVsbGV0RWwsICdidXR0b24nKTtcbiAgICAgICAgICBhZGRFbExhYmVsKCRidWxsZXRFbCwgcGFyYW1zLnBhZ2luYXRpb25CdWxsZXRNZXNzYWdlLnJlcGxhY2UoL1xce1xce2luZGV4XFx9XFx9LywgJGJ1bGxldEVsLmluZGV4KCkgKyAxKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCRidWxsZXRFbC5pcyhgLiR7c3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldEFjdGl2ZUNsYXNzfWApKSB7XG4gICAgICAgICRidWxsZXRFbC5hdHRyKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGJ1bGxldEVsLnJlbW92ZUF0dHIoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgaW5pdE5hdkVsID0gKCRlbCwgd3JhcHBlcklkLCBtZXNzYWdlKSA9PiB7XG4gICAgbWFrZUVsRm9jdXNhYmxlKCRlbCk7XG5cbiAgICBpZiAoJGVsWzBdLnRhZ05hbWUgIT09ICdCVVRUT04nKSB7XG4gICAgICBhZGRFbFJvbGUoJGVsLCAnYnV0dG9uJyk7XG4gICAgICAkZWwub24oJ2tleWRvd24nLCBvbkVudGVyT3JTcGFjZUtleSk7XG4gICAgfVxuXG4gICAgYWRkRWxMYWJlbCgkZWwsIG1lc3NhZ2UpO1xuICAgIGFkZEVsQ29udHJvbHMoJGVsLCB3cmFwcGVySWQpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gKCkgPT4ge1xuICAgIHN3aXBlci5hMTF5LmNsaWNrZWQgPSB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJVcCA9ICgpID0+IHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgaWYgKCFzd2lwZXIuZGVzdHJveWVkKSB7XG4gICAgICAgICAgc3dpcGVyLmExMXkuY2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVGb2N1cyA9IGUgPT4ge1xuICAgIGlmIChzd2lwZXIuYTExeS5jbGlja2VkKSByZXR1cm47XG4gICAgY29uc3Qgc2xpZGVFbCA9IGUudGFyZ2V0LmNsb3Nlc3QoYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31gKTtcbiAgICBpZiAoIXNsaWRlRWwgfHwgIXN3aXBlci5zbGlkZXMuaW5jbHVkZXMoc2xpZGVFbCkpIHJldHVybjtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IHN3aXBlci5zbGlkZXMuaW5kZXhPZihzbGlkZUVsKSA9PT0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHN3aXBlci5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyAmJiBzd2lwZXIudmlzaWJsZVNsaWRlcyAmJiBzd2lwZXIudmlzaWJsZVNsaWRlcy5pbmNsdWRlcyhzbGlkZUVsKTtcbiAgICBpZiAoaXNBY3RpdmUgfHwgaXNWaXNpYmxlKSByZXR1cm47XG4gICAgaWYgKGUuc291cmNlQ2FwYWJpbGl0aWVzICYmIGUuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpIHJldHVybjtcblxuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHN3aXBlci5lbC5zY3JvbGxMZWZ0ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmVsLnNjcm9sbFRvcCA9IDA7XG4gICAgfVxuXG4gICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5pbmRleE9mKHNsaWRlRWwpLCAwKTtcbiAgfTtcblxuICBjb25zdCBpbml0U2xpZGVzID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuYTExeTtcblxuICAgIGlmIChwYXJhbXMuaXRlbVJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpIHtcbiAgICAgIGFkZEVsUm9sZURlc2NyaXB0aW9uKCQoc3dpcGVyLnNsaWRlcyksIHBhcmFtcy5pdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5zbGlkZVJvbGUpIHtcbiAgICAgIGFkZEVsUm9sZSgkKHN3aXBlci5zbGlkZXMpLCBwYXJhbXMuc2xpZGVSb2xlKTtcbiAgICB9XG5cbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIucGFyYW1zLmxvb3AgPyBzd2lwZXIuc2xpZGVzLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpLmxlbmd0aCA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuXG4gICAgaWYgKHBhcmFtcy5zbGlkZUxhYmVsTWVzc2FnZSkge1xuICAgICAgc3dpcGVyLnNsaWRlcy5lYWNoKChzbGlkZUVsLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCAkc2xpZGVFbCA9ICQoc2xpZGVFbCk7XG4gICAgICAgIGNvbnN0IHNsaWRlSW5kZXggPSBzd2lwZXIucGFyYW1zLmxvb3AgPyBwYXJzZUludCgkc2xpZGVFbC5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCkgOiBpbmRleDtcbiAgICAgICAgY29uc3QgYXJpYUxhYmVsTWVzc2FnZSA9IHBhcmFtcy5zbGlkZUxhYmVsTWVzc2FnZS5yZXBsYWNlKC9cXHtcXHtpbmRleFxcfVxcfS8sIHNsaWRlSW5kZXggKyAxKS5yZXBsYWNlKC9cXHtcXHtzbGlkZXNMZW5ndGhcXH1cXH0vLCBzbGlkZXNMZW5ndGgpO1xuICAgICAgICBhZGRFbExhYmVsKCRzbGlkZUVsLCBhcmlhTGFiZWxNZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuYTExeTtcbiAgICBzd2lwZXIuJGVsLmFwcGVuZChsaXZlUmVnaW9uKTsgLy8gQ29udGFpbmVyXG5cbiAgICBjb25zdCAkY29udGFpbmVyRWwgPSBzd2lwZXIuJGVsO1xuXG4gICAgaWYgKHBhcmFtcy5jb250YWluZXJSb2xlRGVzY3JpcHRpb25NZXNzYWdlKSB7XG4gICAgICBhZGRFbFJvbGVEZXNjcmlwdGlvbigkY29udGFpbmVyRWwsIHBhcmFtcy5jb250YWluZXJSb2xlRGVzY3JpcHRpb25NZXNzYWdlKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNvbnRhaW5lck1lc3NhZ2UpIHtcbiAgICAgIGFkZEVsTGFiZWwoJGNvbnRhaW5lckVsLCBwYXJhbXMuY29udGFpbmVyTWVzc2FnZSk7XG4gICAgfSAvLyBXcmFwcGVyXG5cblxuICAgIGNvbnN0ICR3cmFwcGVyRWwgPSBzd2lwZXIuJHdyYXBwZXJFbDtcbiAgICBjb25zdCB3cmFwcGVySWQgPSBwYXJhbXMuaWQgfHwgJHdyYXBwZXJFbC5hdHRyKCdpZCcpIHx8IGBzd2lwZXItd3JhcHBlci0ke2dldFJhbmRvbU51bWJlcigxNil9YDtcbiAgICBjb25zdCBsaXZlID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheSAmJiBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQgPyAnb2ZmJyA6ICdwb2xpdGUnO1xuICAgIGFkZEVsSWQoJHdyYXBwZXJFbCwgd3JhcHBlcklkKTtcbiAgICBhZGRFbExpdmUoJHdyYXBwZXJFbCwgbGl2ZSk7IC8vIFNsaWRlXG5cbiAgICBpbml0U2xpZGVzKCk7IC8vIE5hdmlnYXRpb25cblxuICAgIGxldCAkbmV4dEVsO1xuICAgIGxldCAkcHJldkVsO1xuXG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWwpIHtcbiAgICAgICRuZXh0RWwgPSBzd2lwZXIubmF2aWdhdGlvbi4kbmV4dEVsO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiBzd2lwZXIubmF2aWdhdGlvbi4kcHJldkVsKSB7XG4gICAgICAkcHJldkVsID0gc3dpcGVyLm5hdmlnYXRpb24uJHByZXZFbDtcbiAgICB9XG5cbiAgICBpZiAoJG5leHRFbCAmJiAkbmV4dEVsLmxlbmd0aCkge1xuICAgICAgaW5pdE5hdkVsKCRuZXh0RWwsIHdyYXBwZXJJZCwgcGFyYW1zLm5leHRTbGlkZU1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGlmICgkcHJldkVsICYmICRwcmV2RWwubGVuZ3RoKSB7XG4gICAgICBpbml0TmF2RWwoJHByZXZFbCwgd3JhcHBlcklkLCBwYXJhbXMucHJldlNsaWRlTWVzc2FnZSk7XG4gICAgfSAvLyBQYWdpbmF0aW9uXG5cblxuICAgIGlmIChoYXNDbGlja2FibGVQYWdpbmF0aW9uKCkpIHtcbiAgICAgIHN3aXBlci5wYWdpbmF0aW9uLiRlbC5vbigna2V5ZG93bicsIGNsYXNzZXNUb1NlbGVjdG9yKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcyksIG9uRW50ZXJPclNwYWNlS2V5KTtcbiAgICB9IC8vIFRhYiBmb2N1c1xuXG5cbiAgICBzd2lwZXIuJGVsLm9uKCdmb2N1cycsIGhhbmRsZUZvY3VzLCB0cnVlKTtcbiAgICBzd2lwZXIuJGVsLm9uKCdwb2ludGVyZG93bicsIGhhbmRsZVBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICBzd2lwZXIuJGVsLm9uKCdwb2ludGVydXAnLCBoYW5kbGVQb2ludGVyVXAsIHRydWUpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgaWYgKGxpdmVSZWdpb24gJiYgbGl2ZVJlZ2lvbi5sZW5ndGggPiAwKSBsaXZlUmVnaW9uLnJlbW92ZSgpO1xuICAgIGxldCAkbmV4dEVsO1xuICAgIGxldCAkcHJldkVsO1xuXG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLiRuZXh0RWwpIHtcbiAgICAgICRuZXh0RWwgPSBzd2lwZXIubmF2aWdhdGlvbi4kbmV4dEVsO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIubmF2aWdhdGlvbiAmJiBzd2lwZXIubmF2aWdhdGlvbi4kcHJldkVsKSB7XG4gICAgICAkcHJldkVsID0gc3dpcGVyLm5hdmlnYXRpb24uJHByZXZFbDtcbiAgICB9XG5cbiAgICBpZiAoJG5leHRFbCkge1xuICAgICAgJG5leHRFbC5vZmYoJ2tleWRvd24nLCBvbkVudGVyT3JTcGFjZUtleSk7XG4gICAgfVxuXG4gICAgaWYgKCRwcmV2RWwpIHtcbiAgICAgICRwcmV2RWwub2ZmKCdrZXlkb3duJywgb25FbnRlck9yU3BhY2VLZXkpO1xuICAgIH0gLy8gUGFnaW5hdGlvblxuXG5cbiAgICBpZiAoaGFzQ2xpY2thYmxlUGFnaW5hdGlvbigpKSB7XG4gICAgICBzd2lwZXIucGFnaW5hdGlvbi4kZWwub2ZmKCdrZXlkb3duJywgY2xhc3Nlc1RvU2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSwgb25FbnRlck9yU3BhY2VLZXkpO1xuICAgIH0gLy8gVGFiIGZvY3VzXG5cblxuICAgIHN3aXBlci4kZWwub2ZmKCdmb2N1cycsIGhhbmRsZUZvY3VzLCB0cnVlKTtcbiAgICBzd2lwZXIuJGVsLm9mZigncG9pbnRlcmRvd24nLCBoYW5kbGVQb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgc3dpcGVyLiRlbC5vZmYoJ3BvaW50ZXJ1cCcsIGhhbmRsZVBvaW50ZXJVcCwgdHJ1ZSk7XG4gIH1cblxuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBsaXZlUmVnaW9uID0gJChgPHNwYW4gY2xhc3M9XCIke3N3aXBlci5wYXJhbXMuYTExeS5ub3RpZmljYXRpb25DbGFzc31cIiBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIiBhcmlhLWF0b21pYz1cInRydWVcIj48L3NwYW4+YCk7XG4gIH0pO1xuICBvbignYWZ0ZXJJbml0JywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5hMTF5LmVuYWJsZWQpIHJldHVybjtcbiAgICBpbml0KCk7XG4gIH0pO1xuICBvbignc2xpZGVzTGVuZ3RoQ2hhbmdlIHNuYXBHcmlkTGVuZ3RoQ2hhbmdlIHNsaWRlc0dyaWRMZW5ndGhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGluaXRTbGlkZXMoKTtcbiAgfSk7XG4gIG9uKCdmcm9tRWRnZSB0b0VkZ2UgYWZ0ZXJJbml0IGxvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5hMTF5LmVuYWJsZWQpIHJldHVybjtcbiAgICB1cGRhdGVOYXZpZ2F0aW9uKCk7XG4gIH0pO1xuICBvbigncGFnaW5hdGlvblVwZGF0ZScsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuYTExeS5lbmFibGVkKSByZXR1cm47XG4gICAgdXBkYXRlUGFnaW5hdGlvbigpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG59IiwiLyogZXNsaW50IG5vLXVuZGVyc2NvcmUtZGFuZ2xlOiBcIm9mZlwiICovXG5cbi8qIGVzbGludCBuby11c2UtYmVmb3JlLWRlZmluZTogXCJvZmZcIiAqL1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICdzc3Itd2luZG93JztcbmltcG9ydCB7IG5leHRUaWNrIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEF1dG9wbGF5KHtcbiAgc3dpcGVyLFxuICBleHRlbmRQYXJhbXMsXG4gIG9uLFxuICBlbWl0XG59KSB7XG4gIGxldCB0aW1lb3V0O1xuICBzd2lwZXIuYXV0b3BsYXkgPSB7XG4gICAgcnVubmluZzogZmFsc2UsXG4gICAgcGF1c2VkOiBmYWxzZVxuICB9O1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGF1dG9wbGF5OiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIGRlbGF5OiAzMDAwLFxuICAgICAgd2FpdEZvclRyYW5zaXRpb246IHRydWUsXG4gICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogdHJ1ZSxcbiAgICAgIHN0b3BPbkxhc3RTbGlkZTogZmFsc2UsXG4gICAgICByZXZlcnNlRGlyZWN0aW9uOiBmYWxzZSxcbiAgICAgIHBhdXNlT25Nb3VzZUVudGVyOiBmYWxzZVxuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gcnVuKCkge1xuICAgIGlmICghc3dpcGVyLnNpemUpIHtcbiAgICAgIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nID0gZmFsc2U7XG4gICAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgJGFjdGl2ZVNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgbGV0IGRlbGF5ID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcblxuICAgIGlmICgkYWN0aXZlU2xpZGVFbC5hdHRyKCdkYXRhLXN3aXBlci1hdXRvcGxheScpKSB7XG4gICAgICBkZWxheSA9ICRhY3RpdmVTbGlkZUVsLmF0dHIoJ2RhdGEtc3dpcGVyLWF1dG9wbGF5JykgfHwgc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IG5leHRUaWNrKCgpID0+IHtcbiAgICAgIGxldCBhdXRvcGxheVJlc3VsdDtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucmV2ZXJzZURpcmVjdGlvbikge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZVByZXYoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfSBlbHNlIGlmICghc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgICAgICAgYXV0b3BsYXlSZXN1bHQgPSBzd2lwZXIuc2xpZGVQcmV2KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuc3RvcE9uTGFzdFNsaWRlKSB7XG4gICAgICAgICAgYXV0b3BsYXlSZXN1bHQgPSBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEsIHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICBhdXRvcGxheVJlc3VsdCA9IHN3aXBlci5zbGlkZU5leHQoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICB9IGVsc2UgaWYgKCFzd2lwZXIuaXNFbmQpIHtcbiAgICAgICAgYXV0b3BsYXlSZXN1bHQgPSBzd2lwZXIuc2xpZGVOZXh0KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgfSBlbHNlIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGUpIHtcbiAgICAgICAgYXV0b3BsYXlSZXN1bHQgPSBzd2lwZXIuc2xpZGVUbygwLCBzd2lwZXIucGFyYW1zLnNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3AoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcnVuKCk7ZWxzZSBpZiAoYXV0b3BsYXlSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJ1bigpO1xuICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGlmICh0eXBlb2YgdGltZW91dCAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybiBmYWxzZTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucnVubmluZyA9IHRydWU7XG4gICAgZW1pdCgnYXV0b3BsYXlTdGFydCcpO1xuICAgIHJ1bigpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBpZiAoIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiB0aW1lb3V0ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgPSBmYWxzZTtcbiAgICBlbWl0KCdhdXRvcGxheVN0b3AnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKHNwZWVkKSB7XG4gICAgaWYgKCFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSByZXR1cm47XG4gICAgaWYgKHRpbWVvdXQpIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gdHJ1ZTtcblxuICAgIGlmIChzcGVlZCA9PT0gMCB8fCAhc3dpcGVyLnBhcmFtcy5hdXRvcGxheS53YWl0Rm9yVHJhbnNpdGlvbikge1xuICAgICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IGZhbHNlO1xuICAgICAgcnVuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFsndHJhbnNpdGlvbmVuZCcsICd3ZWJraXRUcmFuc2l0aW9uRW5kJ10uZm9yRWFjaChldmVudCA9PiB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uVHJhbnNpdGlvbkVuZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuXG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicgJiYgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHtcbiAgICAgIHBhdXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgIHJ1bigpO1xuICAgICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZChlKSB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLiR3cmFwcGVyRWwpIHJldHVybjtcbiAgICBpZiAoZS50YXJnZXQgIT09IHN3aXBlci4kd3JhcHBlckVsWzBdKSByZXR1cm47XG4gICAgWyd0cmFuc2l0aW9uZW5kJywgJ3dlYmtpdFRyYW5zaXRpb25FbmQnXS5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uVHJhbnNpdGlvbkVuZCk7XG4gICAgfSk7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IGZhbHNlO1xuXG4gICAgaWYgKCFzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgc3RvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBydW4oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbk1vdXNlRW50ZXIoKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHN0b3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdCgnYXV0b3BsYXlQYXVzZScpO1xuICAgICAgcGF1c2UoKTtcbiAgICB9XG5cbiAgICBbJ3RyYW5zaXRpb25lbmQnLCAnd2Via2l0VHJhbnNpdGlvbkVuZCddLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25UcmFuc2l0aW9uRW5kKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSBmYWxzZTtcbiAgICBlbWl0KCdhdXRvcGxheVJlc3VtZScpO1xuICAgIHJ1bigpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXR0YWNoTW91c2VFdmVudHMoKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucGF1c2VPbk1vdXNlRW50ZXIpIHtcbiAgICAgIHN3aXBlci4kZWwub24oJ21vdXNlZW50ZXInLCBvbk1vdXNlRW50ZXIpO1xuICAgICAgc3dpcGVyLiRlbC5vbignbW91c2VsZWF2ZScsIG9uTW91c2VMZWF2ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGV0YWNoTW91c2VFdmVudHMoKSB7XG4gICAgc3dpcGVyLiRlbC5vZmYoJ21vdXNlZW50ZXInLCBvbk1vdXNlRW50ZXIpO1xuICAgIHN3aXBlci4kZWwub2ZmKCdtb3VzZWxlYXZlJywgb25Nb3VzZUxlYXZlKTtcbiAgfVxuXG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQpIHtcbiAgICAgIHN0YXJ0KCk7XG4gICAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgIGF0dGFjaE1vdXNlRXZlbnRzKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIChfcywgc3BlZWQsIGludGVybmFsKSA9PiB7XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSB7XG4gICAgICBpZiAoaW50ZXJuYWwgfHwgIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlKHNwZWVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBvbignc2xpZGVyRmlyc3RNb3ZlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgc3RvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBvbigndG91Y2hFbmQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSAmJiBzd2lwZXIuYXV0b3BsYXkucGF1c2VkICYmICFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICBydW4oKTtcbiAgICB9XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBkZXRhY2hNb3VzZUV2ZW50cygpO1xuXG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UpO1xuICB9KTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIuYXV0b3BsYXksIHtcbiAgICBwYXVzZSxcbiAgICBydW4sXG4gICAgc3RhcnQsXG4gICAgc3RvcFxuICB9KTtcbn0iLCIvKiBlc2xpbnQgbm8tYml0d2lzZTogW1wiZXJyb3JcIiwgeyBcImFsbG93XCI6IFtcIj4+XCJdIH1dICovXG5pbXBvcnQgeyBuZXh0VGljayB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250cm9sbGVyKHtcbiAgc3dpcGVyLFxuICBleHRlbmRQYXJhbXMsXG4gIG9uXG59KSB7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgY29udHJvbGxlcjoge1xuICAgICAgY29udHJvbDogdW5kZWZpbmVkLFxuICAgICAgaW52ZXJzZTogZmFsc2UsXG4gICAgICBieTogJ3NsaWRlJyAvLyBvciAnY29udGFpbmVyJ1xuXG4gICAgfVxuICB9KTtcbiAgc3dpcGVyLmNvbnRyb2xsZXIgPSB7XG4gICAgY29udHJvbDogdW5kZWZpbmVkXG4gIH07XG5cbiAgZnVuY3Rpb24gTGluZWFyU3BsaW5lKHgsIHkpIHtcbiAgICBjb25zdCBiaW5hcnlTZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goKSB7XG4gICAgICBsZXQgbWF4SW5kZXg7XG4gICAgICBsZXQgbWluSW5kZXg7XG4gICAgICBsZXQgZ3Vlc3M7XG4gICAgICByZXR1cm4gKGFycmF5LCB2YWwpID0+IHtcbiAgICAgICAgbWluSW5kZXggPSAtMTtcbiAgICAgICAgbWF4SW5kZXggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKG1heEluZGV4IC0gbWluSW5kZXggPiAxKSB7XG4gICAgICAgICAgZ3Vlc3MgPSBtYXhJbmRleCArIG1pbkluZGV4ID4+IDE7XG5cbiAgICAgICAgICBpZiAoYXJyYXlbZ3Vlc3NdIDw9IHZhbCkge1xuICAgICAgICAgICAgbWluSW5kZXggPSBndWVzcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF4SW5kZXggPSBndWVzcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF4SW5kZXg7XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLmxhc3RJbmRleCA9IHgubGVuZ3RoIC0gMTsgLy8gR2l2ZW4gYW4geCB2YWx1ZSAoeDIpLCByZXR1cm4gdGhlIGV4cGVjdGVkIHkyIHZhbHVlOlxuICAgIC8vICh4MSx5MSkgaXMgdGhlIGtub3duIHBvaW50IGJlZm9yZSBnaXZlbiB2YWx1ZSxcbiAgICAvLyAoeDMseTMpIGlzIHRoZSBrbm93biBwb2ludCBhZnRlciBnaXZlbiB2YWx1ZS5cblxuICAgIGxldCBpMTtcbiAgICBsZXQgaTM7XG5cbiAgICB0aGlzLmludGVycG9sYXRlID0gZnVuY3Rpb24gaW50ZXJwb2xhdGUoeDIpIHtcbiAgICAgIGlmICgheDIpIHJldHVybiAwOyAvLyBHZXQgdGhlIGluZGV4ZXMgb2YgeDEgYW5kIHgzICh0aGUgYXJyYXkgaW5kZXhlcyBiZWZvcmUgYW5kIGFmdGVyIGdpdmVuIHgyKTpcblxuICAgICAgaTMgPSBiaW5hcnlTZWFyY2godGhpcy54LCB4Mik7XG4gICAgICBpMSA9IGkzIC0gMTsgLy8gV2UgaGF2ZSBvdXIgaW5kZXhlcyBpMSAmIGkzLCBzbyB3ZSBjYW4gY2FsY3VsYXRlIGFscmVhZHk6XG4gICAgICAvLyB5MiA6PSAoKHgy4oiSeDEpIMOXICh5M+KIknkxKSkgw7cgKHgz4oiSeDEpICsgeTFcblxuICAgICAgcmV0dXJuICh4MiAtIHRoaXMueFtpMV0pICogKHRoaXMueVtpM10gLSB0aGlzLnlbaTFdKSAvICh0aGlzLnhbaTNdIC0gdGhpcy54W2kxXSkgKyB0aGlzLnlbaTFdO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyB4eHg6IGZvciBub3cgaSB3aWxsIGp1c3Qgc2F2ZSBvbmUgc3BsaW5lIGZ1bmN0aW9uIHRvIHRvXG5cblxuICBmdW5jdGlvbiBnZXRJbnRlcnBvbGF0ZUZ1bmN0aW9uKGMpIHtcbiAgICBpZiAoIXN3aXBlci5jb250cm9sbGVyLnNwbGluZSkge1xuICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lID0gc3dpcGVyLnBhcmFtcy5sb29wID8gbmV3IExpbmVhclNwbGluZShzd2lwZXIuc2xpZGVzR3JpZCwgYy5zbGlkZXNHcmlkKSA6IG5ldyBMaW5lYXJTcGxpbmUoc3dpcGVyLnNuYXBHcmlkLCBjLnNuYXBHcmlkKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoX3QsIGJ5Q29udHJvbGxlcikge1xuICAgIGNvbnN0IGNvbnRyb2xsZWQgPSBzd2lwZXIuY29udHJvbGxlci5jb250cm9sO1xuICAgIGxldCBtdWx0aXBsaWVyO1xuICAgIGxldCBjb250cm9sbGVkVHJhbnNsYXRlO1xuICAgIGNvbnN0IFN3aXBlciA9IHN3aXBlci5jb25zdHJ1Y3RvcjtcblxuICAgIGZ1bmN0aW9uIHNldENvbnRyb2xsZWRUcmFuc2xhdGUoYykge1xuICAgICAgLy8gdGhpcyB3aWxsIGNyZWF0ZSBhbiBJbnRlcnBvbGF0ZSBmdW5jdGlvbiBiYXNlZCBvbiB0aGUgc25hcEdyaWRzXG4gICAgICAvLyB4IGlzIHRoZSBHcmlkIG9mIHRoZSBzY3JvbGxlZCBzY3JvbGxlciBhbmQgeSB3aWxsIGJlIHRoZSBjb250cm9sbGVkIHNjcm9sbGVyXG4gICAgICAvLyBpdCBtYWtlcyBzZW5zZSB0byBjcmVhdGUgdGhpcyBvbmx5IG9uY2UgYW5kIHJlY2FsbCBpdCBmb3IgdGhlIGludGVycG9sYXRpb25cbiAgICAgIC8vIHRoZSBmdW5jdGlvbiBkb2VzIGEgbG90IG9mIHZhbHVlIGNhY2hpbmcgZm9yIHBlcmZvcm1hbmNlXG4gICAgICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmJ5ID09PSAnc2xpZGUnKSB7XG4gICAgICAgIGdldEludGVycG9sYXRlRnVuY3Rpb24oYyk7IC8vIGkgYW0gbm90IHN1cmUgd2h5IHRoZSB2YWx1ZXMgaGF2ZSB0byBiZSBtdWx0aXBsaWNhdGVkIHRoaXMgd2F5LCB0cmllZCB0byBpbnZlcnQgdGhlIHNuYXBHcmlkXG4gICAgICAgIC8vIGJ1dCBpdCBkaWQgbm90IHdvcmsgb3V0XG5cbiAgICAgICAgY29udHJvbGxlZFRyYW5zbGF0ZSA9IC1zd2lwZXIuY29udHJvbGxlci5zcGxpbmUuaW50ZXJwb2xhdGUoLXRyYW5zbGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghY29udHJvbGxlZFRyYW5zbGF0ZSB8fCBzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuYnkgPT09ICdjb250YWluZXInKSB7XG4gICAgICAgIG11bHRpcGxpZXIgPSAoYy5tYXhUcmFuc2xhdGUoKSAtIGMubWluVHJhbnNsYXRlKCkpIC8gKHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSk7XG4gICAgICAgIGNvbnRyb2xsZWRUcmFuc2xhdGUgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAqIG11bHRpcGxpZXIgKyBjLm1pblRyYW5zbGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmludmVyc2UpIHtcbiAgICAgICAgY29udHJvbGxlZFRyYW5zbGF0ZSA9IGMubWF4VHJhbnNsYXRlKCkgLSBjb250cm9sbGVkVHJhbnNsYXRlO1xuICAgICAgfVxuXG4gICAgICBjLnVwZGF0ZVByb2dyZXNzKGNvbnRyb2xsZWRUcmFuc2xhdGUpO1xuICAgICAgYy5zZXRUcmFuc2xhdGUoY29udHJvbGxlZFRyYW5zbGF0ZSwgc3dpcGVyKTtcbiAgICAgIGMudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIGMudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRyb2xsZWQpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRyb2xsZWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGNvbnRyb2xsZWRbaV0gIT09IGJ5Q29udHJvbGxlciAmJiBjb250cm9sbGVkW2ldIGluc3RhbmNlb2YgU3dpcGVyKSB7XG4gICAgICAgICAgc2V0Q29udHJvbGxlZFRyYW5zbGF0ZShjb250cm9sbGVkW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29udHJvbGxlZCBpbnN0YW5jZW9mIFN3aXBlciAmJiBieUNvbnRyb2xsZXIgIT09IGNvbnRyb2xsZWQpIHtcbiAgICAgIHNldENvbnRyb2xsZWRUcmFuc2xhdGUoY29udHJvbGxlZCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKSB7XG4gICAgY29uc3QgU3dpcGVyID0gc3dpcGVyLmNvbnN0cnVjdG9yO1xuICAgIGNvbnN0IGNvbnRyb2xsZWQgPSBzd2lwZXIuY29udHJvbGxlci5jb250cm9sO1xuICAgIGxldCBpO1xuXG4gICAgZnVuY3Rpb24gc2V0Q29udHJvbGxlZFRyYW5zaXRpb24oYykge1xuICAgICAgYy5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uLCBzd2lwZXIpO1xuXG4gICAgICBpZiAoZHVyYXRpb24gIT09IDApIHtcbiAgICAgICAgYy50cmFuc2l0aW9uU3RhcnQoKTtcblxuICAgICAgICBpZiAoYy5wYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGMudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYy4kd3JhcHBlckVsLnRyYW5zaXRpb25FbmQoKCkgPT4ge1xuICAgICAgICAgIGlmICghY29udHJvbGxlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKGMucGFyYW1zLmxvb3AgJiYgc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmJ5ID09PSAnc2xpZGUnKSB7XG4gICAgICAgICAgICBjLmxvb3BGaXgoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjLnRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29udHJvbGxlZCkpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb250cm9sbGVkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChjb250cm9sbGVkW2ldICE9PSBieUNvbnRyb2xsZXIgJiYgY29udHJvbGxlZFtpXSBpbnN0YW5jZW9mIFN3aXBlcikge1xuICAgICAgICAgIHNldENvbnRyb2xsZWRUcmFuc2l0aW9uKGNvbnRyb2xsZWRbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb250cm9sbGVkIGluc3RhbmNlb2YgU3dpcGVyICYmIGJ5Q29udHJvbGxlciAhPT0gY29udHJvbGxlZCkge1xuICAgICAgc2V0Q29udHJvbGxlZFRyYW5zaXRpb24oY29udHJvbGxlZCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlU3BsaW5lKCkge1xuICAgIGlmICghc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkgcmV0dXJuO1xuXG4gICAgaWYgKHN3aXBlci5jb250cm9sbGVyLnNwbGluZSkge1xuICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuc3BsaW5lID0gdW5kZWZpbmVkO1xuICAgICAgZGVsZXRlIHN3aXBlci5jb250cm9sbGVyLnNwbGluZTtcbiAgICB9XG4gIH1cblxuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBzd2lwZXIuY29udHJvbGxlci5jb250cm9sID0gc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmNvbnRyb2w7XG4gIH0pO1xuICBvbigndXBkYXRlJywgKCkgPT4ge1xuICAgIHJlbW92ZVNwbGluZSgpO1xuICB9KTtcbiAgb24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICByZW1vdmVTcGxpbmUoKTtcbiAgfSk7XG4gIG9uKCdvYnNlcnZlclVwZGF0ZScsICgpID0+IHtcbiAgICByZW1vdmVTcGxpbmUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoX3MsIHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sKSByZXR1cm47XG4gICAgc3dpcGVyLmNvbnRyb2xsZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbiwgYnlDb250cm9sbGVyKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sKSByZXR1cm47XG4gICAgc3dpcGVyLmNvbnRyb2xsZXIuc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKTtcbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLmNvbnRyb2xsZXIsIHtcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvblxuICB9KTtcbn0iLCJpbXBvcnQgY3JlYXRlU2hhZG93IGZyb20gJy4uLy4uL3NoYXJlZC9jcmVhdGUtc2hhZG93LmpzJztcbmltcG9ydCBlZmZlY3RJbml0IGZyb20gJy4uLy4uL3NoYXJlZC9lZmZlY3QtaW5pdC5qcyc7XG5pbXBvcnQgZWZmZWN0VGFyZ2V0IGZyb20gJy4uLy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0LmpzJztcbmltcG9ydCBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCBmcm9tICcuLi8uLi9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWZmZWN0Q2FyZHMoe1xuICBzd2lwZXIsXG4gIGV4dGVuZFBhcmFtcyxcbiAgb25cbn0pIHtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBjYXJkc0VmZmVjdDoge1xuICAgICAgc2xpZGVTaGFkb3dzOiB0cnVlLFxuICAgICAgdHJhbnNmb3JtRWw6IG51bGwsXG4gICAgICByb3RhdGU6IHRydWUsXG4gICAgICBwZXJTbGlkZVJvdGF0ZTogMixcbiAgICAgIHBlclNsaWRlT2Zmc2V0OiA4XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzLFxuICAgICAgYWN0aXZlSW5kZXhcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuY2FyZHNFZmZlY3Q7XG4gICAgY29uc3Qge1xuICAgICAgc3RhcnRUcmFuc2xhdGUsXG4gICAgICBpc1RvdWNoZWRcbiAgICB9ID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgICBjb25zdCBjdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRyYW5zbGF0ZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCAkc2xpZGVFbCA9IHNsaWRlcy5lcShpKTtcbiAgICAgIGNvbnN0IHNsaWRlUHJvZ3Jlc3MgPSAkc2xpZGVFbFswXS5wcm9ncmVzcztcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVQcm9ncmVzcywgLTQpLCA0KTtcbiAgICAgIGxldCBvZmZzZXQgPSAkc2xpZGVFbFswXS5zd2lwZXJTbGlkZU9mZnNldDtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBzd2lwZXIuJHdyYXBwZXJFbC50cmFuc2Zvcm0oYHRyYW5zbGF0ZVgoJHtzd2lwZXIubWluVHJhbnNsYXRlKCl9cHgpYCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBvZmZzZXQgLT0gc2xpZGVzWzBdLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICBsZXQgdFggPSBzd2lwZXIucGFyYW1zLmNzc01vZGUgPyAtb2Zmc2V0IC0gc3dpcGVyLnRyYW5zbGF0ZSA6IC1vZmZzZXQ7XG4gICAgICBsZXQgdFkgPSAwO1xuICAgICAgY29uc3QgdFogPSAtMTAwICogTWF0aC5hYnMocHJvZ3Jlc3MpO1xuICAgICAgbGV0IHNjYWxlID0gMTtcbiAgICAgIGxldCByb3RhdGUgPSAtcGFyYW1zLnBlclNsaWRlUm90YXRlICogcHJvZ3Jlc3M7XG4gICAgICBsZXQgdFhBZGQgPSBwYXJhbXMucGVyU2xpZGVPZmZzZXQgLSBNYXRoLmFicyhwcm9ncmVzcykgKiAwLjc1O1xuICAgICAgY29uc3Qgc2xpZGVJbmRleCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuZnJvbSArIGkgOiBpO1xuICAgICAgY29uc3QgaXNTd2lwZVRvTmV4dCA9IChzbGlkZUluZGV4ID09PSBhY3RpdmVJbmRleCB8fCBzbGlkZUluZGV4ID09PSBhY3RpdmVJbmRleCAtIDEpICYmIHByb2dyZXNzID4gMCAmJiBwcm9ncmVzcyA8IDEgJiYgKGlzVG91Y2hlZCB8fCBzd2lwZXIucGFyYW1zLmNzc01vZGUpICYmIGN1cnJlbnRUcmFuc2xhdGUgPCBzdGFydFRyYW5zbGF0ZTtcbiAgICAgIGNvbnN0IGlzU3dpcGVUb1ByZXYgPSAoc2xpZGVJbmRleCA9PT0gYWN0aXZlSW5kZXggfHwgc2xpZGVJbmRleCA9PT0gYWN0aXZlSW5kZXggKyAxKSAmJiBwcm9ncmVzcyA8IDAgJiYgcHJvZ3Jlc3MgPiAtMSAmJiAoaXNUb3VjaGVkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgJiYgY3VycmVudFRyYW5zbGF0ZSA+IHN0YXJ0VHJhbnNsYXRlO1xuXG4gICAgICBpZiAoaXNTd2lwZVRvTmV4dCB8fCBpc1N3aXBlVG9QcmV2KSB7XG4gICAgICAgIGNvbnN0IHN1YlByb2dyZXNzID0gKDEgLSBNYXRoLmFicygoTWF0aC5hYnMocHJvZ3Jlc3MpIC0gMC41KSAvIDAuNSkpICoqIDAuNTtcbiAgICAgICAgcm90YXRlICs9IC0yOCAqIHByb2dyZXNzICogc3ViUHJvZ3Jlc3M7XG4gICAgICAgIHNjYWxlICs9IC0wLjUgKiBzdWJQcm9ncmVzcztcbiAgICAgICAgdFhBZGQgKz0gOTYgKiBzdWJQcm9ncmVzcztcbiAgICAgICAgdFkgPSBgJHstMjUgKiBzdWJQcm9ncmVzcyAqIE1hdGguYWJzKHByb2dyZXNzKX0lYDtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb2dyZXNzIDwgMCkge1xuICAgICAgICAvLyBuZXh0XG4gICAgICAgIHRYID0gYGNhbGMoJHt0WH1weCArICgke3RYQWRkICogTWF0aC5hYnMocHJvZ3Jlc3MpfSUpKWA7XG4gICAgICB9IGVsc2UgaWYgKHByb2dyZXNzID4gMCkge1xuICAgICAgICAvLyBwcmV2XG4gICAgICAgIHRYID0gYGNhbGMoJHt0WH1weCArICgtJHt0WEFkZCAqIE1hdGguYWJzKHByb2dyZXNzKX0lKSlgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdFggPSBgJHt0WH1weGA7XG4gICAgICB9XG5cbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIGNvbnN0IHByZXZZID0gdFk7XG4gICAgICAgIHRZID0gdFg7XG4gICAgICAgIHRYID0gcHJldlk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNjYWxlU3RyaW5nID0gcHJvZ3Jlc3MgPCAwID8gYCR7MSArICgxIC0gc2NhbGUpICogcHJvZ3Jlc3N9YCA6IGAkezEgLSAoMSAtIHNjYWxlKSAqIHByb2dyZXNzfWA7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBgXG4gICAgICAgIHRyYW5zbGF0ZTNkKCR7dFh9LCAke3RZfSwgJHt0Wn1weClcbiAgICAgICAgcm90YXRlWigke3BhcmFtcy5yb3RhdGUgPyByb3RhdGUgOiAwfWRlZylcbiAgICAgICAgc2NhbGUoJHtzY2FsZVN0cmluZ30pXG4gICAgICBgO1xuXG4gICAgICBpZiAocGFyYW1zLnNsaWRlU2hhZG93cykge1xuICAgICAgICAvLyBTZXQgc2hhZG93c1xuICAgICAgICBsZXQgJHNoYWRvd0VsID0gJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3cnKTtcblxuICAgICAgICBpZiAoJHNoYWRvd0VsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICRzaGFkb3dFbCA9IGNyZWF0ZVNoYWRvdyhwYXJhbXMsICRzbGlkZUVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkc2hhZG93RWwubGVuZ3RoKSAkc2hhZG93RWxbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWluKE1hdGgubWF4KChNYXRoLmFicyhwcm9ncmVzcykgLSAwLjUpIC8gMC41LCAwKSwgMSk7XG4gICAgICB9XG5cbiAgICAgICRzbGlkZUVsWzBdLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKHNsaWRlUHJvZ3Jlc3MpKSArIHNsaWRlcy5sZW5ndGg7XG4gICAgICBjb25zdCAkdGFyZ2V0RWwgPSBlZmZlY3RUYXJnZXQocGFyYW1zLCAkc2xpZGVFbCk7XG4gICAgICAkdGFyZ2V0RWwudHJhbnNmb3JtKHRyYW5zZm9ybSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNldFRyYW5zaXRpb24gPSBkdXJhdGlvbiA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdHJhbnNmb3JtRWxcbiAgICB9ID0gc3dpcGVyLnBhcmFtcy5jYXJkc0VmZmVjdDtcbiAgICBjb25zdCAkdHJhbnNpdGlvbkVsZW1lbnRzID0gdHJhbnNmb3JtRWwgPyBzd2lwZXIuc2xpZGVzLmZpbmQodHJhbnNmb3JtRWwpIDogc3dpcGVyLnNsaWRlcztcbiAgICAkdHJhbnNpdGlvbkVsZW1lbnRzLnRyYW5zaXRpb24oZHVyYXRpb24pLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93JykudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoe1xuICAgICAgc3dpcGVyLFxuICAgICAgZHVyYXRpb24sXG4gICAgICB0cmFuc2Zvcm1FbFxuICAgIH0pO1xuICB9O1xuXG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2NhcmRzJyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgcGVyc3BlY3RpdmU6ICgpID0+IHRydWUsXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICFzd2lwZXIucGFyYW1zLmNzc01vZGVcbiAgICB9KVxuICB9KTtcbn0iLCJpbXBvcnQgY3JlYXRlU2hhZG93IGZyb20gJy4uLy4uL3NoYXJlZC9jcmVhdGUtc2hhZG93LmpzJztcbmltcG9ydCBlZmZlY3RJbml0IGZyb20gJy4uLy4uL3NoYXJlZC9lZmZlY3QtaW5pdC5qcyc7XG5pbXBvcnQgZWZmZWN0VGFyZ2V0IGZyb20gJy4uLy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0LmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVmZmVjdENvdmVyZmxvdyh7XG4gIHN3aXBlcixcbiAgZXh0ZW5kUGFyYW1zLFxuICBvblxufSkge1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGNvdmVyZmxvd0VmZmVjdDoge1xuICAgICAgcm90YXRlOiA1MCxcbiAgICAgIHN0cmV0Y2g6IDAsXG4gICAgICBkZXB0aDogMTAwLFxuICAgICAgc2NhbGU6IDEsXG4gICAgICBtb2RpZmllcjogMSxcbiAgICAgIHNsaWRlU2hhZG93czogdHJ1ZSxcbiAgICAgIHRyYW5zZm9ybUVsOiBudWxsXG4gICAgfVxuICB9KTtcblxuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGg6IHN3aXBlcldpZHRoLFxuICAgICAgaGVpZ2h0OiBzd2lwZXJIZWlnaHQsXG4gICAgICBzbGlkZXMsXG4gICAgICBzbGlkZXNTaXplc0dyaWRcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuY292ZXJmbG93RWZmZWN0O1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBzd2lwZXIudHJhbnNsYXRlO1xuICAgIGNvbnN0IGNlbnRlciA9IGlzSG9yaXpvbnRhbCA/IC10cmFuc2Zvcm0gKyBzd2lwZXJXaWR0aCAvIDIgOiAtdHJhbnNmb3JtICsgc3dpcGVySGVpZ2h0IC8gMjtcbiAgICBjb25zdCByb3RhdGUgPSBpc0hvcml6b250YWwgPyBwYXJhbXMucm90YXRlIDogLXBhcmFtcy5yb3RhdGU7XG4gICAgY29uc3QgdHJhbnNsYXRlID0gcGFyYW1zLmRlcHRoOyAvLyBFYWNoIHNsaWRlIG9mZnNldCBmcm9tIGNlbnRlclxuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgJHNsaWRlRWwgPSBzbGlkZXMuZXEoaSk7XG4gICAgICBjb25zdCBzbGlkZVNpemUgPSBzbGlkZXNTaXplc0dyaWRbaV07XG4gICAgICBjb25zdCBzbGlkZU9mZnNldCA9ICRzbGlkZUVsWzBdLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgY29uc3QgY2VudGVyT2Zmc2V0ID0gKGNlbnRlciAtIHNsaWRlT2Zmc2V0IC0gc2xpZGVTaXplIC8gMikgLyBzbGlkZVNpemU7XG4gICAgICBjb25zdCBvZmZzZXRNdWx0aXBsaWVyID0gdHlwZW9mIHBhcmFtcy5tb2RpZmllciA9PT0gJ2Z1bmN0aW9uJyA/IHBhcmFtcy5tb2RpZmllcihjZW50ZXJPZmZzZXQpIDogY2VudGVyT2Zmc2V0ICogcGFyYW1zLm1vZGlmaWVyO1xuICAgICAgbGV0IHJvdGF0ZVkgPSBpc0hvcml6b250YWwgPyByb3RhdGUgKiBvZmZzZXRNdWx0aXBsaWVyIDogMDtcbiAgICAgIGxldCByb3RhdGVYID0gaXNIb3Jpem9udGFsID8gMCA6IHJvdGF0ZSAqIG9mZnNldE11bHRpcGxpZXI7IC8vIHZhciByb3RhdGVaID0gMFxuXG4gICAgICBsZXQgdHJhbnNsYXRlWiA9IC10cmFuc2xhdGUgKiBNYXRoLmFicyhvZmZzZXRNdWx0aXBsaWVyKTtcbiAgICAgIGxldCBzdHJldGNoID0gcGFyYW1zLnN0cmV0Y2g7IC8vIEFsbG93IHBlcmNlbnRhZ2UgdG8gbWFrZSBhIHJlbGF0aXZlIHN0cmV0Y2ggZm9yIHJlc3BvbnNpdmUgc2xpZGVyc1xuXG4gICAgICBpZiAodHlwZW9mIHN0cmV0Y2ggPT09ICdzdHJpbmcnICYmIHN0cmV0Y2guaW5kZXhPZignJScpICE9PSAtMSkge1xuICAgICAgICBzdHJldGNoID0gcGFyc2VGbG9hdChwYXJhbXMuc3RyZXRjaCkgLyAxMDAgKiBzbGlkZVNpemU7XG4gICAgICB9XG5cbiAgICAgIGxldCB0cmFuc2xhdGVZID0gaXNIb3Jpem9udGFsID8gMCA6IHN0cmV0Y2ggKiBvZmZzZXRNdWx0aXBsaWVyO1xuICAgICAgbGV0IHRyYW5zbGF0ZVggPSBpc0hvcml6b250YWwgPyBzdHJldGNoICogb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICBsZXQgc2NhbGUgPSAxIC0gKDEgLSBwYXJhbXMuc2NhbGUpICogTWF0aC5hYnMob2Zmc2V0TXVsdGlwbGllcik7IC8vIEZpeCBmb3IgdWx0cmEgc21hbGwgdmFsdWVzXG5cbiAgICAgIGlmIChNYXRoLmFicyh0cmFuc2xhdGVYKSA8IDAuMDAxKSB0cmFuc2xhdGVYID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyh0cmFuc2xhdGVZKSA8IDAuMDAxKSB0cmFuc2xhdGVZID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyh0cmFuc2xhdGVaKSA8IDAuMDAxKSB0cmFuc2xhdGVaID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyhyb3RhdGVZKSA8IDAuMDAxKSByb3RhdGVZID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyhyb3RhdGVYKSA8IDAuMDAxKSByb3RhdGVYID0gMDtcbiAgICAgIGlmIChNYXRoLmFicyhzY2FsZSkgPCAwLjAwMSkgc2NhbGUgPSAwO1xuICAgICAgY29uc3Qgc2xpZGVUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt0cmFuc2xhdGVYfXB4LCR7dHJhbnNsYXRlWX1weCwke3RyYW5zbGF0ZVp9cHgpICByb3RhdGVYKCR7cm90YXRlWH1kZWcpIHJvdGF0ZVkoJHtyb3RhdGVZfWRlZykgc2NhbGUoJHtzY2FsZX0pYDtcbiAgICAgIGNvbnN0ICR0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsICRzbGlkZUVsKTtcbiAgICAgICR0YXJnZXRFbC50cmFuc2Zvcm0oc2xpZGVUcmFuc2Zvcm0pO1xuICAgICAgJHNsaWRlRWxbMF0uc3R5bGUuekluZGV4ID0gLU1hdGguYWJzKE1hdGgucm91bmQob2Zmc2V0TXVsdGlwbGllcikpICsgMTtcblxuICAgICAgaWYgKHBhcmFtcy5zbGlkZVNoYWRvd3MpIHtcbiAgICAgICAgLy8gU2V0IHNoYWRvd3NcbiAgICAgICAgbGV0ICRzaGFkb3dCZWZvcmVFbCA9IGlzSG9yaXpvbnRhbCA/ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKSA6ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCcpO1xuICAgICAgICBsZXQgJHNoYWRvd0FmdGVyRWwgPSBpc0hvcml6b250YWwgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCcpIDogJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tJyk7XG5cbiAgICAgICAgaWYgKCRzaGFkb3dCZWZvcmVFbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAkc2hhZG93QmVmb3JlRWwgPSBjcmVhdGVTaGFkb3cocGFyYW1zLCAkc2xpZGVFbCwgaXNIb3Jpem9udGFsID8gJ2xlZnQnIDogJ3RvcCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRzaGFkb3dBZnRlckVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICRzaGFkb3dBZnRlckVsID0gY3JlYXRlU2hhZG93KHBhcmFtcywgJHNsaWRlRWwsIGlzSG9yaXpvbnRhbCA/ICdyaWdodCcgOiAnYm90dG9tJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNoYWRvd0JlZm9yZUVsLmxlbmd0aCkgJHNoYWRvd0JlZm9yZUVsWzBdLnN0eWxlLm9wYWNpdHkgPSBvZmZzZXRNdWx0aXBsaWVyID4gMCA/IG9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgICBpZiAoJHNoYWRvd0FmdGVyRWwubGVuZ3RoKSAkc2hhZG93QWZ0ZXJFbFswXS5zdHlsZS5vcGFjaXR5ID0gLW9mZnNldE11bHRpcGxpZXIgPiAwID8gLW9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZHVyYXRpb24gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHRyYW5zZm9ybUVsXG4gICAgfSA9IHN3aXBlci5wYXJhbXMuY292ZXJmbG93RWZmZWN0O1xuICAgIGNvbnN0ICR0cmFuc2l0aW9uRWxlbWVudHMgPSB0cmFuc2Zvcm1FbCA/IHN3aXBlci5zbGlkZXMuZmluZCh0cmFuc2Zvcm1FbCkgOiBzd2lwZXIuc2xpZGVzO1xuICAgICR0cmFuc2l0aW9uRWxlbWVudHMudHJhbnNpdGlvbihkdXJhdGlvbikuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH07XG5cbiAgZWZmZWN0SW5pdCh7XG4gICAgZWZmZWN0OiAnY292ZXJmbG93JyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgcGVyc3BlY3RpdmU6ICgpID0+IHRydWUsXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZVxuICAgIH0pXG4gIH0pO1xufSIsImltcG9ydCBjcmVhdGVTaGFkb3cgZnJvbSAnLi4vLi4vc2hhcmVkL2NyZWF0ZS1zaGFkb3cuanMnO1xuaW1wb3J0IGVmZmVjdEluaXQgZnJvbSAnLi4vLi4vc2hhcmVkL2VmZmVjdC1pbml0LmpzJztcbmltcG9ydCBlZmZlY3RUYXJnZXQgZnJvbSAnLi4vLi4vc2hhcmVkL2VmZmVjdC10YXJnZXQuanMnO1xuaW1wb3J0IGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIGZyb20gJy4uLy4uL3NoYXJlZC9lZmZlY3QtdmlydHVhbC10cmFuc2l0aW9uLWVuZC5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFZmZlY3RDcmVhdGl2ZSh7XG4gIHN3aXBlcixcbiAgZXh0ZW5kUGFyYW1zLFxuICBvblxufSkge1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGNyZWF0aXZlRWZmZWN0OiB7XG4gICAgICB0cmFuc2Zvcm1FbDogbnVsbCxcbiAgICAgIGxpbWl0UHJvZ3Jlc3M6IDEsXG4gICAgICBzaGFkb3dQZXJQcm9ncmVzczogZmFsc2UsXG4gICAgICBwcm9ncmVzc011bHRpcGxpZXI6IDEsXG4gICAgICBwZXJzcGVjdGl2ZTogdHJ1ZSxcbiAgICAgIHByZXY6IHtcbiAgICAgICAgdHJhbnNsYXRlOiBbMCwgMCwgMF0sXG4gICAgICAgIHJvdGF0ZTogWzAsIDAsIDBdLFxuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICBzY2FsZTogMVxuICAgICAgfSxcbiAgICAgIG5leHQ6IHtcbiAgICAgICAgdHJhbnNsYXRlOiBbMCwgMCwgMF0sXG4gICAgICAgIHJvdGF0ZTogWzAsIDAsIDBdLFxuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICBzY2FsZTogMVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgZ2V0VHJhbnNsYXRlVmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gYCR7dmFsdWV9cHhgO1xuICB9O1xuXG4gIGNvbnN0IHNldFRyYW5zbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXMsXG4gICAgICAkd3JhcHBlckVsLFxuICAgICAgc2xpZGVzU2l6ZXNHcmlkXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmNyZWF0aXZlRWZmZWN0O1xuICAgIGNvbnN0IHtcbiAgICAgIHByb2dyZXNzTXVsdGlwbGllcjogbXVsdGlwbGllclxuICAgIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgaXNDZW50ZXJlZFNsaWRlcyA9IHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXM7XG5cbiAgICBpZiAoaXNDZW50ZXJlZFNsaWRlcykge1xuICAgICAgY29uc3QgbWFyZ2luID0gc2xpZGVzU2l6ZXNHcmlkWzBdIC8gMiAtIHN3aXBlci5wYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlIHx8IDA7XG4gICAgICAkd3JhcHBlckVsLnRyYW5zZm9ybShgdHJhbnNsYXRlWChjYWxjKDUwJSAtICR7bWFyZ2lufXB4KSlgKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgJHNsaWRlRWwgPSBzbGlkZXMuZXEoaSk7XG4gICAgICBjb25zdCBzbGlkZVByb2dyZXNzID0gJHNsaWRlRWxbMF0ucHJvZ3Jlc3M7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KCRzbGlkZUVsWzBdLnByb2dyZXNzLCAtcGFyYW1zLmxpbWl0UHJvZ3Jlc3MpLCBwYXJhbXMubGltaXRQcm9ncmVzcyk7XG4gICAgICBsZXQgb3JpZ2luYWxQcm9ncmVzcyA9IHByb2dyZXNzO1xuXG4gICAgICBpZiAoIWlzQ2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgb3JpZ2luYWxQcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KCRzbGlkZUVsWzBdLm9yaWdpbmFsUHJvZ3Jlc3MsIC1wYXJhbXMubGltaXRQcm9ncmVzcyksIHBhcmFtcy5saW1pdFByb2dyZXNzKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2Zmc2V0ID0gJHNsaWRlRWxbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICBjb25zdCB0ID0gW3N3aXBlci5wYXJhbXMuY3NzTW9kZSA/IC1vZmZzZXQgLSBzd2lwZXIudHJhbnNsYXRlIDogLW9mZnNldCwgMCwgMF07XG4gICAgICBjb25zdCByID0gWzAsIDAsIDBdO1xuICAgICAgbGV0IGN1c3RvbSA9IGZhbHNlO1xuXG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0WzFdID0gdFswXTtcbiAgICAgICAgdFswXSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICB0cmFuc2xhdGU6IFswLCAwLCAwXSxcbiAgICAgICAgcm90YXRlOiBbMCwgMCwgMF0sXG4gICAgICAgIHNjYWxlOiAxLFxuICAgICAgICBvcGFjaXR5OiAxXG4gICAgICB9O1xuXG4gICAgICBpZiAocHJvZ3Jlc3MgPCAwKSB7XG4gICAgICAgIGRhdGEgPSBwYXJhbXMubmV4dDtcbiAgICAgICAgY3VzdG9tID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAgIGRhdGEgPSBwYXJhbXMucHJldjtcbiAgICAgICAgY3VzdG9tID0gdHJ1ZTtcbiAgICAgIH0gLy8gc2V0IHRyYW5zbGF0ZVxuXG5cbiAgICAgIHQuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIHRbaW5kZXhdID0gYGNhbGMoJHt2YWx1ZX1weCArICgke2dldFRyYW5zbGF0ZVZhbHVlKGRhdGEudHJhbnNsYXRlW2luZGV4XSl9ICogJHtNYXRoLmFicyhwcm9ncmVzcyAqIG11bHRpcGxpZXIpfSkpYDtcbiAgICAgIH0pOyAvLyBzZXQgcm90YXRlc1xuXG4gICAgICByLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICByW2luZGV4XSA9IGRhdGEucm90YXRlW2luZGV4XSAqIE1hdGguYWJzKHByb2dyZXNzICogbXVsdGlwbGllcik7XG4gICAgICB9KTtcbiAgICAgICRzbGlkZUVsWzBdLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKHNsaWRlUHJvZ3Jlc3MpKSArIHNsaWRlcy5sZW5ndGg7XG4gICAgICBjb25zdCB0cmFuc2xhdGVTdHJpbmcgPSB0LmpvaW4oJywgJyk7XG4gICAgICBjb25zdCByb3RhdGVTdHJpbmcgPSBgcm90YXRlWCgke3JbMF19ZGVnKSByb3RhdGVZKCR7clsxXX1kZWcpIHJvdGF0ZVooJHtyWzJdfWRlZylgO1xuICAgICAgY29uc3Qgc2NhbGVTdHJpbmcgPSBvcmlnaW5hbFByb2dyZXNzIDwgMCA/IGBzY2FsZSgkezEgKyAoMSAtIGRhdGEuc2NhbGUpICogb3JpZ2luYWxQcm9ncmVzcyAqIG11bHRpcGxpZXJ9KWAgOiBgc2NhbGUoJHsxIC0gKDEgLSBkYXRhLnNjYWxlKSAqIG9yaWdpbmFsUHJvZ3Jlc3MgKiBtdWx0aXBsaWVyfSlgO1xuICAgICAgY29uc3Qgb3BhY2l0eVN0cmluZyA9IG9yaWdpbmFsUHJvZ3Jlc3MgPCAwID8gMSArICgxIC0gZGF0YS5vcGFjaXR5KSAqIG9yaWdpbmFsUHJvZ3Jlc3MgKiBtdWx0aXBsaWVyIDogMSAtICgxIC0gZGF0YS5vcGFjaXR5KSAqIG9yaWdpbmFsUHJvZ3Jlc3MgKiBtdWx0aXBsaWVyO1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlU3RyaW5nfSkgJHtyb3RhdGVTdHJpbmd9ICR7c2NhbGVTdHJpbmd9YDsgLy8gU2V0IHNoYWRvd3NcblxuICAgICAgaWYgKGN1c3RvbSAmJiBkYXRhLnNoYWRvdyB8fCAhY3VzdG9tKSB7XG4gICAgICAgIGxldCAkc2hhZG93RWwgPSAkc2xpZGVFbC5jaGlsZHJlbignLnN3aXBlci1zbGlkZS1zaGFkb3cnKTtcblxuICAgICAgICBpZiAoJHNoYWRvd0VsLmxlbmd0aCA9PT0gMCAmJiBkYXRhLnNoYWRvdykge1xuICAgICAgICAgICRzaGFkb3dFbCA9IGNyZWF0ZVNoYWRvdyhwYXJhbXMsICRzbGlkZUVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkc2hhZG93RWwubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3Qgc2hhZG93T3BhY2l0eSA9IHBhcmFtcy5zaGFkb3dQZXJQcm9ncmVzcyA/IHByb2dyZXNzICogKDEgLyBwYXJhbXMubGltaXRQcm9ncmVzcykgOiBwcm9ncmVzcztcbiAgICAgICAgICAkc2hhZG93RWxbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWluKE1hdGgubWF4KE1hdGguYWJzKHNoYWRvd09wYWNpdHkpLCAwKSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgJHRhcmdldEVsID0gZWZmZWN0VGFyZ2V0KHBhcmFtcywgJHNsaWRlRWwpO1xuICAgICAgJHRhcmdldEVsLnRyYW5zZm9ybSh0cmFuc2Zvcm0pLmNzcyh7XG4gICAgICAgIG9wYWNpdHk6IG9wYWNpdHlTdHJpbmdcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZGF0YS5vcmlnaW4pIHtcbiAgICAgICAgJHRhcmdldEVsLmNzcygndHJhbnNmb3JtLW9yaWdpbicsIGRhdGEub3JpZ2luKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB0cmFuc2Zvcm1FbFxuICAgIH0gPSBzd2lwZXIucGFyYW1zLmNyZWF0aXZlRWZmZWN0O1xuICAgIGNvbnN0ICR0cmFuc2l0aW9uRWxlbWVudHMgPSB0cmFuc2Zvcm1FbCA/IHN3aXBlci5zbGlkZXMuZmluZCh0cmFuc2Zvcm1FbCkgOiBzd2lwZXIuc2xpZGVzO1xuICAgICR0cmFuc2l0aW9uRWxlbWVudHMudHJhbnNpdGlvbihkdXJhdGlvbikuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3cnKS50cmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCh7XG4gICAgICBzd2lwZXIsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRyYW5zZm9ybUVsLFxuICAgICAgYWxsU2xpZGVzOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgZWZmZWN0SW5pdCh7XG4gICAgZWZmZWN0OiAnY3JlYXRpdmUnLFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBwZXJzcGVjdGl2ZTogKCkgPT4gc3dpcGVyLnBhcmFtcy5jcmVhdGl2ZUVmZmVjdC5wZXJzcGVjdGl2ZSxcbiAgICBvdmVyd3JpdGVQYXJhbXM6ICgpID0+ICh7XG4gICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgdmlydHVhbFRyYW5zbGF0ZTogIXN3aXBlci5wYXJhbXMuY3NzTW9kZVxuICAgIH0pXG4gIH0pO1xufSIsImltcG9ydCAkIGZyb20gJy4uLy4uL3NoYXJlZC9kb20uanMnO1xuaW1wb3J0IGVmZmVjdEluaXQgZnJvbSAnLi4vLi4vc2hhcmVkL2VmZmVjdC1pbml0LmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVmZmVjdEN1YmUoe1xuICBzd2lwZXIsXG4gIGV4dGVuZFBhcmFtcyxcbiAgb25cbn0pIHtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBjdWJlRWZmZWN0OiB7XG4gICAgICBzbGlkZVNoYWRvd3M6IHRydWUsXG4gICAgICBzaGFkb3c6IHRydWUsXG4gICAgICBzaGFkb3dPZmZzZXQ6IDIwLFxuICAgICAgc2hhZG93U2NhbGU6IDAuOTRcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGNyZWF0ZVNsaWRlU2hhZG93cyA9ICgkc2xpZGVFbCwgcHJvZ3Jlc3MsIGlzSG9yaXpvbnRhbCkgPT4ge1xuICAgIGxldCBzaGFkb3dCZWZvcmUgPSBpc0hvcml6b250YWwgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AnKTtcbiAgICBsZXQgc2hhZG93QWZ0ZXIgPSBpc0hvcml6b250YWwgPyAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCcpIDogJHNsaWRlRWwuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tJyk7XG5cbiAgICBpZiAoc2hhZG93QmVmb3JlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2hhZG93QmVmb3JlID0gJChgPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZS1zaGFkb3ctJHtpc0hvcml6b250YWwgPyAnbGVmdCcgOiAndG9wJ31cIj48L2Rpdj5gKTtcbiAgICAgICRzbGlkZUVsLmFwcGVuZChzaGFkb3dCZWZvcmUpO1xuICAgIH1cblxuICAgIGlmIChzaGFkb3dBZnRlci5sZW5ndGggPT09IDApIHtcbiAgICAgIHNoYWRvd0FmdGVyID0gJChgPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZS1zaGFkb3ctJHtpc0hvcml6b250YWwgPyAncmlnaHQnIDogJ2JvdHRvbSd9XCI+PC9kaXY+YCk7XG4gICAgICAkc2xpZGVFbC5hcHBlbmQoc2hhZG93QWZ0ZXIpO1xuICAgIH1cblxuICAgIGlmIChzaGFkb3dCZWZvcmUubGVuZ3RoKSBzaGFkb3dCZWZvcmVbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KC1wcm9ncmVzcywgMCk7XG4gICAgaWYgKHNoYWRvd0FmdGVyLmxlbmd0aCkgc2hhZG93QWZ0ZXJbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KHByb2dyZXNzLCAwKTtcbiAgfTtcblxuICBjb25zdCByZWNyZWF0ZVNoYWRvd3MgPSAoKSA9PiB7XG4gICAgLy8gY3JlYXRlIG5ldyBvbmVzXG4gICAgY29uc3QgaXNIb3Jpem9udGFsID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpO1xuICAgIHN3aXBlci5zbGlkZXMuZWFjaChzbGlkZUVsID0+IHtcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oc2xpZGVFbC5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgIGNyZWF0ZVNsaWRlU2hhZG93cygkKHNsaWRlRWwpLCBwcm9ncmVzcywgaXNIb3Jpem9udGFsKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgJGVsLFxuICAgICAgJHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlcyxcbiAgICAgIHdpZHRoOiBzd2lwZXJXaWR0aCxcbiAgICAgIGhlaWdodDogc3dpcGVySGVpZ2h0LFxuICAgICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgICBzaXplOiBzd2lwZXJTaXplLFxuICAgICAgYnJvd3NlclxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5jdWJlRWZmZWN0O1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgICBsZXQgd3JhcHBlclJvdGF0ZSA9IDA7XG4gICAgbGV0ICRjdWJlU2hhZG93RWw7XG5cbiAgICBpZiAocGFyYW1zLnNoYWRvdykge1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAkY3ViZVNoYWRvd0VsID0gJHdyYXBwZXJFbC5maW5kKCcuc3dpcGVyLWN1YmUtc2hhZG93Jyk7XG5cbiAgICAgICAgaWYgKCRjdWJlU2hhZG93RWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgJGN1YmVTaGFkb3dFbCA9ICQoJzxkaXYgY2xhc3M9XCJzd2lwZXItY3ViZS1zaGFkb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgICAkd3JhcHBlckVsLmFwcGVuZCgkY3ViZVNoYWRvd0VsKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRjdWJlU2hhZG93RWwuY3NzKHtcbiAgICAgICAgICBoZWlnaHQ6IGAke3N3aXBlcldpZHRofXB4YFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRjdWJlU2hhZG93RWwgPSAkZWwuZmluZCgnLnN3aXBlci1jdWJlLXNoYWRvdycpO1xuXG4gICAgICAgIGlmICgkY3ViZVNoYWRvd0VsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICRjdWJlU2hhZG93RWwgPSAkKCc8ZGl2IGNsYXNzPVwic3dpcGVyLWN1YmUtc2hhZG93XCI+PC9kaXY+Jyk7XG4gICAgICAgICAgJGVsLmFwcGVuZCgkY3ViZVNoYWRvd0VsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCAkc2xpZGVFbCA9IHNsaWRlcy5lcShpKTtcbiAgICAgIGxldCBzbGlkZUluZGV4ID0gaTtcblxuICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICBzbGlkZUluZGV4ID0gcGFyc2VJbnQoJHNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgICAgfVxuXG4gICAgICBsZXQgc2xpZGVBbmdsZSA9IHNsaWRlSW5kZXggKiA5MDtcbiAgICAgIGxldCByb3VuZCA9IE1hdGguZmxvb3Ioc2xpZGVBbmdsZSAvIDM2MCk7XG5cbiAgICAgIGlmIChydGwpIHtcbiAgICAgICAgc2xpZGVBbmdsZSA9IC1zbGlkZUFuZ2xlO1xuICAgICAgICByb3VuZCA9IE1hdGguZmxvb3IoLXNsaWRlQW5nbGUgLyAzNjApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKCRzbGlkZUVsWzBdLnByb2dyZXNzLCAxKSwgLTEpO1xuICAgICAgbGV0IHR4ID0gMDtcbiAgICAgIGxldCB0eSA9IDA7XG4gICAgICBsZXQgdHogPSAwO1xuXG4gICAgICBpZiAoc2xpZGVJbmRleCAlIDQgPT09IDApIHtcbiAgICAgICAgdHggPSAtcm91bmQgKiA0ICogc3dpcGVyU2l6ZTtcbiAgICAgICAgdHogPSAwO1xuICAgICAgfSBlbHNlIGlmICgoc2xpZGVJbmRleCAtIDEpICUgNCA9PT0gMCkge1xuICAgICAgICB0eCA9IDA7XG4gICAgICAgIHR6ID0gLXJvdW5kICogNCAqIHN3aXBlclNpemU7XG4gICAgICB9IGVsc2UgaWYgKChzbGlkZUluZGV4IC0gMikgJSA0ID09PSAwKSB7XG4gICAgICAgIHR4ID0gc3dpcGVyU2l6ZSArIHJvdW5kICogNCAqIHN3aXBlclNpemU7XG4gICAgICAgIHR6ID0gc3dpcGVyU2l6ZTtcbiAgICAgIH0gZWxzZSBpZiAoKHNsaWRlSW5kZXggLSAzKSAlIDQgPT09IDApIHtcbiAgICAgICAgdHggPSAtc3dpcGVyU2l6ZTtcbiAgICAgICAgdHogPSAzICogc3dpcGVyU2l6ZSArIHN3aXBlclNpemUgKiA0ICogcm91bmQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChydGwpIHtcbiAgICAgICAgdHggPSAtdHg7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNIb3Jpem9udGFsKSB7XG4gICAgICAgIHR5ID0gdHg7XG4gICAgICAgIHR4ID0gMDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gYHJvdGF0ZVgoJHtpc0hvcml6b250YWwgPyAwIDogLXNsaWRlQW5nbGV9ZGVnKSByb3RhdGVZKCR7aXNIb3Jpem9udGFsID8gc2xpZGVBbmdsZSA6IDB9ZGVnKSB0cmFuc2xhdGUzZCgke3R4fXB4LCAke3R5fXB4LCAke3R6fXB4KWA7XG5cbiAgICAgIGlmIChwcm9ncmVzcyA8PSAxICYmIHByb2dyZXNzID4gLTEpIHtcbiAgICAgICAgd3JhcHBlclJvdGF0ZSA9IHNsaWRlSW5kZXggKiA5MCArIHByb2dyZXNzICogOTA7XG4gICAgICAgIGlmIChydGwpIHdyYXBwZXJSb3RhdGUgPSAtc2xpZGVJbmRleCAqIDkwIC0gcHJvZ3Jlc3MgKiA5MDtcbiAgICAgIH1cblxuICAgICAgJHNsaWRlRWwudHJhbnNmb3JtKHRyYW5zZm9ybSk7XG5cbiAgICAgIGlmIChwYXJhbXMuc2xpZGVTaGFkb3dzKSB7XG4gICAgICAgIGNyZWF0ZVNsaWRlU2hhZG93cygkc2xpZGVFbCwgcHJvZ3Jlc3MsIGlzSG9yaXpvbnRhbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHdyYXBwZXJFbC5jc3Moe1xuICAgICAgJy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbic6IGA1MCUgNTAlIC0ke3N3aXBlclNpemUgLyAyfXB4YCxcbiAgICAgICd0cmFuc2Zvcm0tb3JpZ2luJzogYDUwJSA1MCUgLSR7c3dpcGVyU2l6ZSAvIDJ9cHhgXG4gICAgfSk7XG5cbiAgICBpZiAocGFyYW1zLnNoYWRvdykge1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAkY3ViZVNoYWRvd0VsLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoMHB4LCAke3N3aXBlcldpZHRoIC8gMiArIHBhcmFtcy5zaGFkb3dPZmZzZXR9cHgsICR7LXN3aXBlcldpZHRoIC8gMn1weCkgcm90YXRlWCg5MGRlZykgcm90YXRlWigwZGVnKSBzY2FsZSgke3BhcmFtcy5zaGFkb3dTY2FsZX0pYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzaGFkb3dBbmdsZSA9IE1hdGguYWJzKHdyYXBwZXJSb3RhdGUpIC0gTWF0aC5mbG9vcihNYXRoLmFicyh3cmFwcGVyUm90YXRlKSAvIDkwKSAqIDkwO1xuICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gMS41IC0gKE1hdGguc2luKHNoYWRvd0FuZ2xlICogMiAqIE1hdGguUEkgLyAzNjApIC8gMiArIE1hdGguY29zKHNoYWRvd0FuZ2xlICogMiAqIE1hdGguUEkgLyAzNjApIC8gMik7XG4gICAgICAgIGNvbnN0IHNjYWxlMSA9IHBhcmFtcy5zaGFkb3dTY2FsZTtcbiAgICAgICAgY29uc3Qgc2NhbGUyID0gcGFyYW1zLnNoYWRvd1NjYWxlIC8gbXVsdGlwbGllcjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyYW1zLnNoYWRvd09mZnNldDtcbiAgICAgICAgJGN1YmVTaGFkb3dFbC50cmFuc2Zvcm0oYHNjYWxlM2QoJHtzY2FsZTF9LCAxLCAke3NjYWxlMn0pIHRyYW5zbGF0ZTNkKDBweCwgJHtzd2lwZXJIZWlnaHQgLyAyICsgb2Zmc2V0fXB4LCAkey1zd2lwZXJIZWlnaHQgLyAyIC8gc2NhbGUyfXB4KSByb3RhdGVYKC05MGRlZylgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB6RmFjdG9yID0gYnJvd3Nlci5pc1NhZmFyaSB8fCBicm93c2VyLmlzV2ViVmlldyA/IC1zd2lwZXJTaXplIC8gMiA6IDA7XG4gICAgJHdyYXBwZXJFbC50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKDBweCwwLCR7ekZhY3Rvcn1weCkgcm90YXRlWCgke3N3aXBlci5pc0hvcml6b250YWwoKSA/IDAgOiB3cmFwcGVyUm90YXRlfWRlZykgcm90YXRlWSgke3N3aXBlci5pc0hvcml6b250YWwoKSA/IC13cmFwcGVyUm90YXRlIDogMH1kZWcpYCk7XG4gICAgJHdyYXBwZXJFbFswXS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zd2lwZXItY3ViZS10cmFuc2xhdGUteicsIGAke3pGYWN0b3J9cHhgKTtcbiAgfTtcblxuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZHVyYXRpb24gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICRlbCxcbiAgICAgIHNsaWRlc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgc2xpZGVzLnRyYW5zaXRpb24oZHVyYXRpb24pLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpLnRyYW5zaXRpb24oZHVyYXRpb24pO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3ViZUVmZmVjdC5zaGFkb3cgJiYgIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgJGVsLmZpbmQoJy5zd2lwZXItY3ViZS1zaGFkb3cnKS50cmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgZWZmZWN0SW5pdCh7XG4gICAgZWZmZWN0OiAnY3ViZScsXG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBzZXRUcmFuc2l0aW9uLFxuICAgIHJlY3JlYXRlU2hhZG93cyxcbiAgICBnZXRFZmZlY3RQYXJhbXM6ICgpID0+IHN3aXBlci5wYXJhbXMuY3ViZUVmZmVjdCxcbiAgICBwZXJzcGVjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICBvdmVyd3JpdGVQYXJhbXM6ICgpID0+ICh7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgcmVzaXN0YW5jZVJhdGlvOiAwLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICAgICAgdmlydHVhbFRyYW5zbGF0ZTogdHJ1ZVxuICAgIH0pXG4gIH0pO1xufSIsImltcG9ydCBlZmZlY3RJbml0IGZyb20gJy4uLy4uL3NoYXJlZC9lZmZlY3QtaW5pdC5qcyc7XG5pbXBvcnQgZWZmZWN0VGFyZ2V0IGZyb20gJy4uLy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0LmpzJztcbmltcG9ydCBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCBmcm9tICcuLi8uLi9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWZmZWN0RmFkZSh7XG4gIHN3aXBlcixcbiAgZXh0ZW5kUGFyYW1zLFxuICBvblxufSkge1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgIGNyb3NzRmFkZTogZmFsc2UsXG4gICAgICB0cmFuc2Zvcm1FbDogbnVsbFxuICAgIH1cbiAgfSk7XG5cbiAgY29uc3Qgc2V0VHJhbnNsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0ICRzbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5lcShpKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9ICRzbGlkZUVsWzBdLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgbGV0IHR4ID0gLW9mZnNldDtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB0eCAtPSBzd2lwZXIudHJhbnNsYXRlO1xuICAgICAgbGV0IHR5ID0gMDtcblxuICAgICAgaWYgKCFzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgdHkgPSB0eDtcbiAgICAgICAgdHggPSAwO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzbGlkZU9wYWNpdHkgPSBzd2lwZXIucGFyYW1zLmZhZGVFZmZlY3QuY3Jvc3NGYWRlID8gTWF0aC5tYXgoMSAtIE1hdGguYWJzKCRzbGlkZUVsWzBdLnByb2dyZXNzKSwgMCkgOiAxICsgTWF0aC5taW4oTWF0aC5tYXgoJHNsaWRlRWxbMF0ucHJvZ3Jlc3MsIC0xKSwgMCk7XG4gICAgICBjb25zdCAkdGFyZ2V0RWwgPSBlZmZlY3RUYXJnZXQocGFyYW1zLCAkc2xpZGVFbCk7XG4gICAgICAkdGFyZ2V0RWwuY3NzKHtcbiAgICAgICAgb3BhY2l0eTogc2xpZGVPcGFjaXR5XG4gICAgICB9KS50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKCR7dHh9cHgsICR7dHl9cHgsIDBweClgKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB0cmFuc2Zvcm1FbFxuICAgIH0gPSBzd2lwZXIucGFyYW1zLmZhZGVFZmZlY3Q7XG4gICAgY29uc3QgJHRyYW5zaXRpb25FbGVtZW50cyA9IHRyYW5zZm9ybUVsID8gc3dpcGVyLnNsaWRlcy5maW5kKHRyYW5zZm9ybUVsKSA6IHN3aXBlci5zbGlkZXM7XG4gICAgJHRyYW5zaXRpb25FbGVtZW50cy50cmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgICBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCh7XG4gICAgICBzd2lwZXIsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRyYW5zZm9ybUVsLFxuICAgICAgYWxsU2xpZGVzOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgZWZmZWN0SW5pdCh7XG4gICAgZWZmZWN0OiAnZmFkZScsXG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBzZXRUcmFuc2l0aW9uLFxuICAgIG92ZXJ3cml0ZVBhcmFtczogKCkgPT4gKHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICB2aXJ0dWFsVHJhbnNsYXRlOiAhc3dpcGVyLnBhcmFtcy5jc3NNb2RlXG4gICAgfSlcbiAgfSk7XG59IiwiaW1wb3J0ICQgZnJvbSAnLi4vLi4vc2hhcmVkL2RvbS5qcyc7XG5pbXBvcnQgY3JlYXRlU2hhZG93IGZyb20gJy4uLy4uL3NoYXJlZC9jcmVhdGUtc2hhZG93LmpzJztcbmltcG9ydCBlZmZlY3RJbml0IGZyb20gJy4uLy4uL3NoYXJlZC9lZmZlY3QtaW5pdC5qcyc7XG5pbXBvcnQgZWZmZWN0VGFyZ2V0IGZyb20gJy4uLy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0LmpzJztcbmltcG9ydCBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCBmcm9tICcuLi8uLi9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWZmZWN0RmxpcCh7XG4gIHN3aXBlcixcbiAgZXh0ZW5kUGFyYW1zLFxuICBvblxufSkge1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGZsaXBFZmZlY3Q6IHtcbiAgICAgIHNsaWRlU2hhZG93czogdHJ1ZSxcbiAgICAgIGxpbWl0Um90YXRpb246IHRydWUsXG4gICAgICB0cmFuc2Zvcm1FbDogbnVsbFxuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgY3JlYXRlU2xpZGVTaGFkb3dzID0gKCRzbGlkZUVsLCBwcm9ncmVzcywgcGFyYW1zKSA9PiB7XG4gICAgbGV0IHNoYWRvd0JlZm9yZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKSA6ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCcpO1xuICAgIGxldCBzaGFkb3dBZnRlciA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0JykgOiAkc2xpZGVFbC5maW5kKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20nKTtcblxuICAgIGlmIChzaGFkb3dCZWZvcmUubGVuZ3RoID09PSAwKSB7XG4gICAgICBzaGFkb3dCZWZvcmUgPSBjcmVhdGVTaGFkb3cocGFyYW1zLCAkc2xpZGVFbCwgc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ2xlZnQnIDogJ3RvcCcpO1xuICAgIH1cblxuICAgIGlmIChzaGFkb3dBZnRlci5sZW5ndGggPT09IDApIHtcbiAgICAgIHNoYWRvd0FmdGVyID0gY3JlYXRlU2hhZG93KHBhcmFtcywgJHNsaWRlRWwsIHN3aXBlci5pc0hvcml6b250YWwoKSA/ICdyaWdodCcgOiAnYm90dG9tJyk7XG4gICAgfVxuXG4gICAgaWYgKHNoYWRvd0JlZm9yZS5sZW5ndGgpIHNoYWRvd0JlZm9yZVswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgoLXByb2dyZXNzLCAwKTtcbiAgICBpZiAoc2hhZG93QWZ0ZXIubGVuZ3RoKSBzaGFkb3dBZnRlclswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgocHJvZ3Jlc3MsIDApO1xuICB9O1xuXG4gIGNvbnN0IHJlY3JlYXRlU2hhZG93cyA9ICgpID0+IHtcbiAgICAvLyBTZXQgc2hhZG93c1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuZmxpcEVmZmVjdDtcbiAgICBzd2lwZXIuc2xpZGVzLmVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBjb25zdCAkc2xpZGVFbCA9ICQoc2xpZGVFbCk7XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSAkc2xpZGVFbFswXS5wcm9ncmVzcztcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZmxpcEVmZmVjdC5saW1pdFJvdGF0aW9uKSB7XG4gICAgICAgIHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oc2xpZGVFbC5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgIH1cblxuICAgICAgY3JlYXRlU2xpZGVTaGFkb3dzKCRzbGlkZUVsLCBwcm9ncmVzcywgcGFyYW1zKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzLFxuICAgICAgcnRsVHJhbnNsYXRlOiBydGxcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuZmxpcEVmZmVjdDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCAkc2xpZGVFbCA9IHNsaWRlcy5lcShpKTtcbiAgICAgIGxldCBwcm9ncmVzcyA9ICRzbGlkZUVsWzBdLnByb2dyZXNzO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0LmxpbWl0Um90YXRpb24pIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigkc2xpZGVFbFswXS5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2Zmc2V0ID0gJHNsaWRlRWxbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICBjb25zdCByb3RhdGUgPSAtMTgwICogcHJvZ3Jlc3M7XG4gICAgICBsZXQgcm90YXRlWSA9IHJvdGF0ZTtcbiAgICAgIGxldCByb3RhdGVYID0gMDtcbiAgICAgIGxldCB0eCA9IHN3aXBlci5wYXJhbXMuY3NzTW9kZSA/IC1vZmZzZXQgLSBzd2lwZXIudHJhbnNsYXRlIDogLW9mZnNldDtcbiAgICAgIGxldCB0eSA9IDA7XG5cbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIHR5ID0gdHg7XG4gICAgICAgIHR4ID0gMDtcbiAgICAgICAgcm90YXRlWCA9IC1yb3RhdGVZO1xuICAgICAgICByb3RhdGVZID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocnRsKSB7XG4gICAgICAgIHJvdGF0ZVkgPSAtcm90YXRlWTtcbiAgICAgIH1cblxuICAgICAgJHNsaWRlRWxbMF0uc3R5bGUuekluZGV4ID0gLU1hdGguYWJzKE1hdGgucm91bmQocHJvZ3Jlc3MpKSArIHNsaWRlcy5sZW5ndGg7XG5cbiAgICAgIGlmIChwYXJhbXMuc2xpZGVTaGFkb3dzKSB7XG4gICAgICAgIGNyZWF0ZVNsaWRlU2hhZG93cygkc2xpZGVFbCwgcHJvZ3Jlc3MsIHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3R4fXB4LCAke3R5fXB4LCAwcHgpIHJvdGF0ZVgoJHtyb3RhdGVYfWRlZykgcm90YXRlWSgke3JvdGF0ZVl9ZGVnKWA7XG4gICAgICBjb25zdCAkdGFyZ2V0RWwgPSBlZmZlY3RUYXJnZXQocGFyYW1zLCAkc2xpZGVFbCk7XG4gICAgICAkdGFyZ2V0RWwudHJhbnNmb3JtKHRyYW5zZm9ybSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNldFRyYW5zaXRpb24gPSBkdXJhdGlvbiA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdHJhbnNmb3JtRWxcbiAgICB9ID0gc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0O1xuICAgIGNvbnN0ICR0cmFuc2l0aW9uRWxlbWVudHMgPSB0cmFuc2Zvcm1FbCA/IHN3aXBlci5zbGlkZXMuZmluZCh0cmFuc2Zvcm1FbCkgOiBzd2lwZXIuc2xpZGVzO1xuICAgICR0cmFuc2l0aW9uRWxlbWVudHMudHJhbnNpdGlvbihkdXJhdGlvbikuZmluZCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykudHJhbnNpdGlvbihkdXJhdGlvbik7XG4gICAgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoe1xuICAgICAgc3dpcGVyLFxuICAgICAgZHVyYXRpb24sXG4gICAgICB0cmFuc2Zvcm1FbFxuICAgIH0pO1xuICB9O1xuXG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2ZsaXAnLFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICByZWNyZWF0ZVNoYWRvd3MsXG4gICAgZ2V0RWZmZWN0UGFyYW1zOiAoKSA9PiBzd2lwZXIucGFyYW1zLmZsaXBFZmZlY3QsXG4gICAgcGVyc3BlY3RpdmU6ICgpID0+IHRydWUsXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICFzd2lwZXIucGFyYW1zLmNzc01vZGVcbiAgICB9KVxuICB9KTtcbn0iLCJpbXBvcnQgeyBub3cgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZnJlZU1vZGUoe1xuICBzd2lwZXIsXG4gIGV4dGVuZFBhcmFtcyxcbiAgZW1pdCxcbiAgb25jZVxufSkge1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGZyZWVNb2RlOiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIG1vbWVudHVtOiB0cnVlLFxuICAgICAgbW9tZW50dW1SYXRpbzogMSxcbiAgICAgIG1vbWVudHVtQm91bmNlOiB0cnVlLFxuICAgICAgbW9tZW50dW1Cb3VuY2VSYXRpbzogMSxcbiAgICAgIG1vbWVudHVtVmVsb2NpdHlSYXRpbzogMSxcbiAgICAgIHN0aWNreTogZmFsc2UsXG4gICAgICBtaW5pbXVtVmVsb2NpdHk6IDAuMDJcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIG9uVG91Y2hTdGFydCgpIHtcbiAgICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCk7XG4gICAgc3dpcGVyLnNldFRyYW5zbGF0ZSh0cmFuc2xhdGUpO1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEudmVsb2NpdGllcy5sZW5ndGggPSAwO1xuICAgIHN3aXBlci5mcmVlTW9kZS5vblRvdWNoRW5kKHtcbiAgICAgIGN1cnJlbnRQb3M6IHN3aXBlci5ydGwgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGVcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHRvdWNoRXZlbnRzRGF0YTogZGF0YSxcbiAgICAgIHRvdWNoZXNcbiAgICB9ID0gc3dpcGVyOyAvLyBWZWxvY2l0eVxuXG4gICAgaWYgKGRhdGEudmVsb2NpdGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGRhdGEudmVsb2NpdGllcy5wdXNoKHtcbiAgICAgICAgcG9zaXRpb246IHRvdWNoZXNbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3N0YXJ0WCcgOiAnc3RhcnRZJ10sXG4gICAgICAgIHRpbWU6IGRhdGEudG91Y2hTdGFydFRpbWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGRhdGEudmVsb2NpdGllcy5wdXNoKHtcbiAgICAgIHBvc2l0aW9uOiB0b3VjaGVzW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdjdXJyZW50WCcgOiAnY3VycmVudFknXSxcbiAgICAgIHRpbWU6IG5vdygpXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblRvdWNoRW5kKHtcbiAgICBjdXJyZW50UG9zXG4gIH0pIHtcbiAgICBjb25zdCB7XG4gICAgICBwYXJhbXMsXG4gICAgICAkd3JhcHBlckVsLFxuICAgICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgICBzbmFwR3JpZCxcbiAgICAgIHRvdWNoRXZlbnRzRGF0YTogZGF0YVxuICAgIH0gPSBzd2lwZXI7IC8vIFRpbWUgZGlmZlxuXG4gICAgY29uc3QgdG91Y2hFbmRUaW1lID0gbm93KCk7XG4gICAgY29uc3QgdGltZURpZmYgPSB0b3VjaEVuZFRpbWUgLSBkYXRhLnRvdWNoU3RhcnRUaW1lO1xuXG4gICAgaWYgKGN1cnJlbnRQb3MgPCAtc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50UG9zID4gLXN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgaWYgKHN3aXBlci5zbGlkZXMubGVuZ3RoIDwgc25hcEdyaWQubGVuZ3RoKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHNuYXBHcmlkLmxlbmd0aCAtIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuZnJlZU1vZGUubW9tZW50dW0pIHtcbiAgICAgIGlmIChkYXRhLnZlbG9jaXRpZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBjb25zdCBsYXN0TW92ZUV2ZW50ID0gZGF0YS52ZWxvY2l0aWVzLnBvcCgpO1xuICAgICAgICBjb25zdCB2ZWxvY2l0eUV2ZW50ID0gZGF0YS52ZWxvY2l0aWVzLnBvcCgpO1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGxhc3RNb3ZlRXZlbnQucG9zaXRpb24gLSB2ZWxvY2l0eUV2ZW50LnBvc2l0aW9uO1xuICAgICAgICBjb25zdCB0aW1lID0gbGFzdE1vdmVFdmVudC50aW1lIC0gdmVsb2NpdHlFdmVudC50aW1lO1xuICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSBkaXN0YW5jZSAvIHRpbWU7XG4gICAgICAgIHN3aXBlci52ZWxvY2l0eSAvPSAyO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhzd2lwZXIudmVsb2NpdHkpIDwgcGFyYW1zLmZyZWVNb2RlLm1pbmltdW1WZWxvY2l0eSkge1xuICAgICAgICAgIHN3aXBlci52ZWxvY2l0eSA9IDA7XG4gICAgICAgIH0gLy8gdGhpcyBpbXBsaWVzIHRoYXQgdGhlIHVzZXIgc3RvcHBlZCBtb3ZpbmcgYSBmaW5nZXIgdGhlbiByZWxlYXNlZC5cbiAgICAgICAgLy8gVGhlcmUgd291bGQgYmUgbm8gZXZlbnRzIHdpdGggZGlzdGFuY2UgemVybywgc28gdGhlIGxhc3QgZXZlbnQgaXMgc3RhbGUuXG5cblxuICAgICAgICBpZiAodGltZSA+IDE1MCB8fCBub3coKSAtIGxhc3RNb3ZlRXZlbnQudGltZSA+IDMwMCkge1xuICAgICAgICAgIHN3aXBlci52ZWxvY2l0eSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci52ZWxvY2l0eSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci52ZWxvY2l0eSAqPSBwYXJhbXMuZnJlZU1vZGUubW9tZW50dW1WZWxvY2l0eVJhdGlvO1xuICAgICAgZGF0YS52ZWxvY2l0aWVzLmxlbmd0aCA9IDA7XG4gICAgICBsZXQgbW9tZW50dW1EdXJhdGlvbiA9IDEwMDAgKiBwYXJhbXMuZnJlZU1vZGUubW9tZW50dW1SYXRpbztcbiAgICAgIGNvbnN0IG1vbWVudHVtRGlzdGFuY2UgPSBzd2lwZXIudmVsb2NpdHkgKiBtb21lbnR1bUR1cmF0aW9uO1xuICAgICAgbGV0IG5ld1Bvc2l0aW9uID0gc3dpcGVyLnRyYW5zbGF0ZSArIG1vbWVudHVtRGlzdGFuY2U7XG4gICAgICBpZiAocnRsKSBuZXdQb3NpdGlvbiA9IC1uZXdQb3NpdGlvbjtcbiAgICAgIGxldCBkb0JvdW5jZSA9IGZhbHNlO1xuICAgICAgbGV0IGFmdGVyQm91bmNlUG9zaXRpb247XG4gICAgICBjb25zdCBib3VuY2VBbW91bnQgPSBNYXRoLmFicyhzd2lwZXIudmVsb2NpdHkpICogMjAgKiBwYXJhbXMuZnJlZU1vZGUubW9tZW50dW1Cb3VuY2VSYXRpbztcbiAgICAgIGxldCBuZWVkc0xvb3BGaXg7XG5cbiAgICAgIGlmIChuZXdQb3NpdGlvbiA8IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgICBpZiAocGFyYW1zLmZyZWVNb2RlLm1vbWVudHVtQm91bmNlKSB7XG4gICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uICsgc3dpcGVyLm1heFRyYW5zbGF0ZSgpIDwgLWJvdW5jZUFtb3VudCkge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBib3VuY2VBbW91bnQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWZ0ZXJCb3VuY2VQb3NpdGlvbiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgICAgICAgICBkb0JvdW5jZSA9IHRydWU7XG4gICAgICAgICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdQb3NpdGlvbiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMubG9vcCAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXMpIG5lZWRzTG9vcEZpeCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKG5ld1Bvc2l0aW9uID4gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICAgIGlmIChwYXJhbXMuZnJlZU1vZGUubW9tZW50dW1Cb3VuY2UpIHtcbiAgICAgICAgICBpZiAobmV3UG9zaXRpb24gLSBzd2lwZXIubWluVHJhbnNsYXRlKCkgPiBib3VuY2VBbW91bnQpIHtcbiAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpICsgYm91bmNlQW1vdW50O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFmdGVyQm91bmNlUG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgICAgZG9Cb3VuY2UgPSB0cnVlO1xuICAgICAgICAgIGRhdGEuYWxsb3dNb21lbnR1bUJvdW5jZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLmxvb3AgJiYgcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSBuZWVkc0xvb3BGaXggPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGUuc3RpY2t5KSB7XG4gICAgICAgIGxldCBuZXh0U2xpZGU7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbmFwR3JpZC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgIGlmIChzbmFwR3JpZFtqXSA+IC1uZXdQb3NpdGlvbikge1xuICAgICAgICAgICAgbmV4dFNsaWRlID0gajtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChNYXRoLmFicyhzbmFwR3JpZFtuZXh0U2xpZGVdIC0gbmV3UG9zaXRpb24pIDwgTWF0aC5hYnMoc25hcEdyaWRbbmV4dFNsaWRlIC0gMV0gLSBuZXdQb3NpdGlvbikgfHwgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgICAgICBuZXdQb3NpdGlvbiA9IHNuYXBHcmlkW25leHRTbGlkZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzbmFwR3JpZFtuZXh0U2xpZGUgLSAxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld1Bvc2l0aW9uID0gLW5ld1Bvc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZHNMb29wRml4KSB7XG4gICAgICAgIG9uY2UoJ3RyYW5zaXRpb25FbmQnLCAoKSA9PiB7XG4gICAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIEZpeCBkdXJhdGlvblxuXG5cbiAgICAgIGlmIChzd2lwZXIudmVsb2NpdHkgIT09IDApIHtcbiAgICAgICAgaWYgKHJ0bCkge1xuICAgICAgICAgIG1vbWVudHVtRHVyYXRpb24gPSBNYXRoLmFicygoLW5ld1Bvc2l0aW9uIC0gc3dpcGVyLnRyYW5zbGF0ZSkgLyBzd2lwZXIudmVsb2NpdHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vbWVudHVtRHVyYXRpb24gPSBNYXRoLmFicygobmV3UG9zaXRpb24gLSBzd2lwZXIudHJhbnNsYXRlKSAvIHN3aXBlci52ZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLmZyZWVNb2RlLnN0aWNreSkge1xuICAgICAgICAgIC8vIElmIGZyZWVNb2RlLnN0aWNreSBpcyBhY3RpdmUgYW5kIHRoZSB1c2VyIGVuZHMgYSBzd2lwZSB3aXRoIGEgc2xvdy12ZWxvY2l0eVxuICAgICAgICAgIC8vIGV2ZW50LCB0aGVuIGR1cmF0aW9ucyBjYW4gYmUgMjArIHNlY29uZHMgdG8gc2xpZGUgb25lIChvciB6ZXJvISkgc2xpZGVzLlxuICAgICAgICAgIC8vIEl0J3MgZWFzeSB0byBzZWUgdGhpcyB3aGVuIHNpbXVsYXRpbmcgdG91Y2ggd2l0aCBtb3VzZSBldmVudHMuIFRvIGZpeCB0aGlzLFxuICAgICAgICAgIC8vIGxpbWl0IHNpbmdsZS1zbGlkZSBzd2lwZXMgdG8gdGhlIGRlZmF1bHQgc2xpZGUgZHVyYXRpb24uIFRoaXMgYWxzbyBoYXMgdGhlXG4gICAgICAgICAgLy8gbmljZSBzaWRlIGVmZmVjdCBvZiBtYXRjaGluZyBzbGlkZSBzcGVlZCBpZiB0aGUgdXNlciBzdG9wcGVkIG1vdmluZyBiZWZvcmVcbiAgICAgICAgICAvLyBsaWZ0aW5nIGZpbmdlciBvciBtb3VzZSB2cy4gbW92aW5nIHNsb3dseSBiZWZvcmUgbGlmdGluZyB0aGUgZmluZ2VyL21vdXNlLlxuICAgICAgICAgIC8vIEZvciBmYXN0ZXIgc3dpcGVzLCBhbHNvIGFwcGx5IGxpbWl0cyAoYWxiZWl0IGhpZ2hlciBvbmVzKS5cbiAgICAgICAgICBjb25zdCBtb3ZlRGlzdGFuY2UgPSBNYXRoLmFicygocnRsID8gLW5ld1Bvc2l0aW9uIDogbmV3UG9zaXRpb24pIC0gc3dpcGVyLnRyYW5zbGF0ZSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFNsaWRlU2l6ZSA9IHN3aXBlci5zbGlkZXNTaXplc0dyaWRbc3dpcGVyLmFjdGl2ZUluZGV4XTtcblxuICAgICAgICAgIGlmIChtb3ZlRGlzdGFuY2UgPCBjdXJyZW50U2xpZGVTaXplKSB7XG4gICAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gcGFyYW1zLnNwZWVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAobW92ZURpc3RhbmNlIDwgMiAqIGN1cnJlbnRTbGlkZVNpemUpIHtcbiAgICAgICAgICAgIG1vbWVudHVtRHVyYXRpb24gPSBwYXJhbXMuc3BlZWQgKiAxLjU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vbWVudHVtRHVyYXRpb24gPSBwYXJhbXMuc3BlZWQgKiAyLjU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtcy5mcmVlTW9kZS5zdGlja3kpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZS5tb21lbnR1bUJvdW5jZSAmJiBkb0JvdW5jZSkge1xuICAgICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoYWZ0ZXJCb3VuY2VQb3NpdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKG1vbWVudHVtRHVyYXRpb24pO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydCh0cnVlLCBzd2lwZXIuc3dpcGVEaXJlY3Rpb24pO1xuICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uRW5kKCgpID0+IHtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UpIHJldHVybjtcbiAgICAgICAgICBlbWl0KCdtb21lbnR1bUJvdW5jZScpO1xuICAgICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHBhcmFtcy5zcGVlZCk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKGFmdGVyQm91bmNlUG9zaXRpb24pO1xuICAgICAgICAgICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uRW5kKCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICAgICAgICBzd2lwZXIudHJhbnNpdGlvbkVuZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChzd2lwZXIudmVsb2NpdHkpIHtcbiAgICAgICAgZW1pdCgnX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24obW9tZW50dW1EdXJhdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3UG9zaXRpb24pO1xuICAgICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHRydWUsIHN3aXBlci5zd2lwZURpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG4gICAgICAgICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uRW5kKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdQb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5mcmVlTW9kZS5zdGlja3kpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvQ2xvc2VzdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLmZyZWVNb2RlKSB7XG4gICAgICBlbWl0KCdfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZScpO1xuICAgIH1cblxuICAgIGlmICghcGFyYW1zLmZyZWVNb2RlLm1vbWVudHVtIHx8IHRpbWVEaWZmID49IHBhcmFtcy5sb25nU3dpcGVzTXMpIHtcbiAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgZnJlZU1vZGU6IHtcbiAgICAgIG9uVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaEVuZFxuICAgIH1cbiAgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR3JpZCh7XG4gIHN3aXBlcixcbiAgZXh0ZW5kUGFyYW1zXG59KSB7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgZ3JpZDoge1xuICAgICAgcm93czogMSxcbiAgICAgIGZpbGw6ICdjb2x1bW4nXG4gICAgfVxuICB9KTtcbiAgbGV0IHNsaWRlc051bWJlckV2ZW5Ub1Jvd3M7XG4gIGxldCBzbGlkZXNQZXJSb3c7XG4gIGxldCBudW1GdWxsQ29sdW1ucztcblxuICBjb25zdCBpbml0U2xpZGVzID0gc2xpZGVzTGVuZ3RoID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXNQZXJWaWV3XG4gICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgY29uc3Qge1xuICAgICAgcm93cyxcbiAgICAgIGZpbGxcbiAgICB9ID0gc3dpcGVyLnBhcmFtcy5ncmlkO1xuICAgIHNsaWRlc1BlclJvdyA9IHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgLyByb3dzO1xuICAgIG51bUZ1bGxDb2x1bW5zID0gTWF0aC5mbG9vcihzbGlkZXNMZW5ndGggLyByb3dzKTtcblxuICAgIGlmIChNYXRoLmZsb29yKHNsaWRlc0xlbmd0aCAvIHJvd3MpID09PSBzbGlkZXNMZW5ndGggLyByb3dzKSB7XG4gICAgICBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzID0gc2xpZGVzTGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzID0gTWF0aC5jZWlsKHNsaWRlc0xlbmd0aCAvIHJvd3MpICogcm93cztcbiAgICB9XG5cbiAgICBpZiAoc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nICYmIGZpbGwgPT09ICdyb3cnKSB7XG4gICAgICBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzID0gTWF0aC5tYXgoc2xpZGVzTnVtYmVyRXZlblRvUm93cywgc2xpZGVzUGVyVmlldyAqIHJvd3MpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTbGlkZSA9IChpLCBzbGlkZSwgc2xpZGVzTGVuZ3RoLCBnZXREaXJlY3Rpb25MYWJlbCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc1Blckdyb3VwLFxuICAgICAgc3BhY2VCZXR3ZWVuXG4gICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgY29uc3Qge1xuICAgICAgcm93cyxcbiAgICAgIGZpbGxcbiAgICB9ID0gc3dpcGVyLnBhcmFtcy5ncmlkOyAvLyBTZXQgc2xpZGVzIG9yZGVyXG5cbiAgICBsZXQgbmV3U2xpZGVPcmRlckluZGV4O1xuICAgIGxldCBjb2x1bW47XG4gICAgbGV0IHJvdztcblxuICAgIGlmIChmaWxsID09PSAncm93JyAmJiBzbGlkZXNQZXJHcm91cCA+IDEpIHtcbiAgICAgIGNvbnN0IGdyb3VwSW5kZXggPSBNYXRoLmZsb29yKGkgLyAoc2xpZGVzUGVyR3JvdXAgKiByb3dzKSk7XG4gICAgICBjb25zdCBzbGlkZUluZGV4SW5Hcm91cCA9IGkgLSByb3dzICogc2xpZGVzUGVyR3JvdXAgKiBncm91cEluZGV4O1xuICAgICAgY29uc3QgY29sdW1uc0luR3JvdXAgPSBncm91cEluZGV4ID09PSAwID8gc2xpZGVzUGVyR3JvdXAgOiBNYXRoLm1pbihNYXRoLmNlaWwoKHNsaWRlc0xlbmd0aCAtIGdyb3VwSW5kZXggKiByb3dzICogc2xpZGVzUGVyR3JvdXApIC8gcm93cyksIHNsaWRlc1Blckdyb3VwKTtcbiAgICAgIHJvdyA9IE1hdGguZmxvb3Ioc2xpZGVJbmRleEluR3JvdXAgLyBjb2x1bW5zSW5Hcm91cCk7XG4gICAgICBjb2x1bW4gPSBzbGlkZUluZGV4SW5Hcm91cCAtIHJvdyAqIGNvbHVtbnNJbkdyb3VwICsgZ3JvdXBJbmRleCAqIHNsaWRlc1Blckdyb3VwO1xuICAgICAgbmV3U2xpZGVPcmRlckluZGV4ID0gY29sdW1uICsgcm93ICogc2xpZGVzTnVtYmVyRXZlblRvUm93cyAvIHJvd3M7XG4gICAgICBzbGlkZS5jc3Moe1xuICAgICAgICAnLXdlYmtpdC1vcmRlcic6IG5ld1NsaWRlT3JkZXJJbmRleCxcbiAgICAgICAgb3JkZXI6IG5ld1NsaWRlT3JkZXJJbmRleFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChmaWxsID09PSAnY29sdW1uJykge1xuICAgICAgY29sdW1uID0gTWF0aC5mbG9vcihpIC8gcm93cyk7XG4gICAgICByb3cgPSBpIC0gY29sdW1uICogcm93cztcblxuICAgICAgaWYgKGNvbHVtbiA+IG51bUZ1bGxDb2x1bW5zIHx8IGNvbHVtbiA9PT0gbnVtRnVsbENvbHVtbnMgJiYgcm93ID09PSByb3dzIC0gMSkge1xuICAgICAgICByb3cgKz0gMTtcblxuICAgICAgICBpZiAocm93ID49IHJvd3MpIHtcbiAgICAgICAgICByb3cgPSAwO1xuICAgICAgICAgIGNvbHVtbiArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvdyA9IE1hdGguZmxvb3IoaSAvIHNsaWRlc1BlclJvdyk7XG4gICAgICBjb2x1bW4gPSBpIC0gcm93ICogc2xpZGVzUGVyUm93O1xuICAgIH1cblxuICAgIHNsaWRlLmNzcyhnZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luLXRvcCcpLCByb3cgIT09IDAgPyBzcGFjZUJldHdlZW4gJiYgYCR7c3BhY2VCZXR3ZWVufXB4YCA6ICcnKTtcbiAgfTtcblxuICBjb25zdCB1cGRhdGVXcmFwcGVyU2l6ZSA9IChzbGlkZVNpemUsIHNuYXBHcmlkLCBnZXREaXJlY3Rpb25MYWJlbCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNwYWNlQmV0d2VlbixcbiAgICAgIGNlbnRlcmVkU2xpZGVzLFxuICAgICAgcm91bmRMZW5ndGhzXG4gICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgY29uc3Qge1xuICAgICAgcm93c1xuICAgIH0gPSBzd2lwZXIucGFyYW1zLmdyaWQ7XG4gICAgc3dpcGVyLnZpcnR1YWxTaXplID0gKHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbikgKiBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzO1xuICAgIHN3aXBlci52aXJ0dWFsU2l6ZSA9IE1hdGguY2VpbChzd2lwZXIudmlydHVhbFNpemUgLyByb3dzKSAtIHNwYWNlQmV0d2VlbjtcbiAgICBzd2lwZXIuJHdyYXBwZXJFbC5jc3Moe1xuICAgICAgW2dldERpcmVjdGlvbkxhYmVsKCd3aWR0aCcpXTogYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgc3BhY2VCZXR3ZWVufXB4YFxuICAgIH0pO1xuXG4gICAgaWYgKGNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbmFwR3JpZC5zcGxpY2UoMCwgc25hcEdyaWQubGVuZ3RoKTtcbiAgICAgIGNvbnN0IG5ld1NsaWRlc0dyaWQgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbmFwR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBsZXQgc2xpZGVzR3JpZEl0ZW0gPSBzbmFwR3JpZFtpXTtcbiAgICAgICAgaWYgKHJvdW5kTGVuZ3Rocykgc2xpZGVzR3JpZEl0ZW0gPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgICAgaWYgKHNuYXBHcmlkW2ldIDwgc3dpcGVyLnZpcnR1YWxTaXplICsgc25hcEdyaWRbMF0pIG5ld1NsaWRlc0dyaWQucHVzaChzbGlkZXNHcmlkSXRlbSk7XG4gICAgICB9XG5cbiAgICAgIHNuYXBHcmlkLnB1c2goLi4ubmV3U2xpZGVzR3JpZCk7XG4gICAgfVxuICB9O1xuXG4gIHN3aXBlci5ncmlkID0ge1xuICAgIGluaXRTbGlkZXMsXG4gICAgdXBkYXRlU2xpZGUsXG4gICAgdXBkYXRlV3JhcHBlclNpemVcbiAgfTtcbn0iLCJpbXBvcnQgeyBnZXRXaW5kb3csIGdldERvY3VtZW50IH0gZnJvbSAnc3NyLXdpbmRvdyc7XG5pbXBvcnQgJCBmcm9tICcuLi8uLi9zaGFyZWQvZG9tLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhhc2hOYXZpZ2F0aW9uKHtcbiAgc3dpcGVyLFxuICBleHRlbmRQYXJhbXMsXG4gIGVtaXQsXG4gIG9uXG59KSB7XG4gIGxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGhhc2hOYXZpZ2F0aW9uOiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIHJlcGxhY2VTdGF0ZTogZmFsc2UsXG4gICAgICB3YXRjaFN0YXRlOiBmYWxzZVxuICAgIH1cbiAgfSk7XG5cbiAgY29uc3Qgb25IYXNoQ2hhbmdlID0gKCkgPT4ge1xuICAgIGVtaXQoJ2hhc2hDaGFuZ2UnKTtcbiAgICBjb25zdCBuZXdIYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuICAgIGNvbnN0IGFjdGl2ZVNsaWRlSGFzaCA9IHN3aXBlci5zbGlkZXMuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KS5hdHRyKCdkYXRhLWhhc2gnKTtcblxuICAgIGlmIChuZXdIYXNoICE9PSBhY3RpdmVTbGlkZUhhc2gpIHtcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gc3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31bZGF0YS1oYXNoPVwiJHtuZXdIYXNofVwiXWApLmluZGV4KCk7XG4gICAgICBpZiAodHlwZW9mIG5ld0luZGV4ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgICAgc3dpcGVyLnNsaWRlVG8obmV3SW5kZXgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzZXRIYXNoID0gKCkgPT4ge1xuICAgIGlmICghaW5pdGlhbGl6ZWQgfHwgIXN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24ucmVwbGFjZVN0YXRlICYmIHdpbmRvdy5oaXN0b3J5ICYmIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIGAjJHtzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCkuYXR0cignZGF0YS1oYXNoJyl9YCB8fCAnJyk7XG4gICAgICBlbWl0KCdoYXNoU2V0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNsaWRlID0gc3dpcGVyLnNsaWRlcy5lcShzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgY29uc3QgaGFzaCA9IHNsaWRlLmF0dHIoJ2RhdGEtaGFzaCcpIHx8IHNsaWRlLmF0dHIoJ2RhdGEtaGlzdG9yeScpO1xuICAgICAgZG9jdW1lbnQubG9jYXRpb24uaGFzaCA9IGhhc2ggfHwgJyc7XG4gICAgICBlbWl0KCdoYXNoU2V0Jyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWQgfHwgc3dpcGVyLnBhcmFtcy5oaXN0b3J5ICYmIHN3aXBlci5wYXJhbXMuaGlzdG9yeS5lbmFibGVkKSByZXR1cm47XG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIGNvbnN0IGhhc2ggPSBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJyk7XG5cbiAgICBpZiAoaGFzaCkge1xuICAgICAgY29uc3Qgc3BlZWQgPSAwO1xuXG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXMuZXEoaSk7XG4gICAgICAgIGNvbnN0IHNsaWRlSGFzaCA9IHNsaWRlLmF0dHIoJ2RhdGEtaGFzaCcpIHx8IHNsaWRlLmF0dHIoJ2RhdGEtaGlzdG9yeScpO1xuXG4gICAgICAgIGlmIChzbGlkZUhhc2ggPT09IGhhc2ggJiYgIXNsaWRlLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IHNsaWRlLmluZGV4KCk7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgsIHNwZWVkLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi53YXRjaFN0YXRlKSB7XG4gICAgICAkKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCBvbkhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkZXN0cm95ID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLndhdGNoU3RhdGUpIHtcbiAgICAgICQod2luZG93KS5vZmYoJ2hhc2hjaGFuZ2UnLCBvbkhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKSB7XG4gICAgICBpbml0KCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCkge1xuICAgICAgZGVzdHJveSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCd0cmFuc2l0aW9uRW5kIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJywgKCkgPT4ge1xuICAgIGlmIChpbml0aWFsaXplZCkge1xuICAgICAgc2V0SGFzaCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzbGlkZUNoYW5nZScsICgpID0+IHtcbiAgICBpZiAoaW5pdGlhbGl6ZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzZXRIYXNoKCk7XG4gICAgfVxuICB9KTtcbn0iLCJpbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdzc3Itd2luZG93JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhpc3Rvcnkoe1xuICBzd2lwZXIsXG4gIGV4dGVuZFBhcmFtcyxcbiAgb25cbn0pIHtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBoaXN0b3J5OiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIHJvb3Q6ICcnLFxuICAgICAgcmVwbGFjZVN0YXRlOiBmYWxzZSxcbiAgICAgIGtleTogJ3NsaWRlcycsXG4gICAgICBrZWVwUXVlcnk6IGZhbHNlXG4gICAgfVxuICB9KTtcbiAgbGV0IGluaXRpYWxpemVkID0gZmFsc2U7XG4gIGxldCBwYXRocyA9IHt9O1xuXG4gIGNvbnN0IHNsdWdpZnkgPSB0ZXh0ID0+IHtcbiAgICByZXR1cm4gdGV4dC50b1N0cmluZygpLnJlcGxhY2UoL1xccysvZywgJy0nKS5yZXBsYWNlKC9bXlxcdy1dKy9nLCAnJykucmVwbGFjZSgvLS0rL2csICctJykucmVwbGFjZSgvXi0rLywgJycpLnJlcGxhY2UoLy0rJC8sICcnKTtcbiAgfTtcblxuICBjb25zdCBnZXRQYXRoVmFsdWVzID0gdXJsT3ZlcnJpZGUgPT4ge1xuICAgIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIGxldCBsb2NhdGlvbjtcblxuICAgIGlmICh1cmxPdmVycmlkZSkge1xuICAgICAgbG9jYXRpb24gPSBuZXcgVVJMKHVybE92ZXJyaWRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgfVxuXG4gICAgY29uc3QgcGF0aEFycmF5ID0gbG9jYXRpb24ucGF0aG5hbWUuc2xpY2UoMSkuc3BsaXQoJy8nKS5maWx0ZXIocGFydCA9PiBwYXJ0ICE9PSAnJyk7XG4gICAgY29uc3QgdG90YWwgPSBwYXRoQXJyYXkubGVuZ3RoO1xuICAgIGNvbnN0IGtleSA9IHBhdGhBcnJheVt0b3RhbCAtIDJdO1xuICAgIGNvbnN0IHZhbHVlID0gcGF0aEFycmF5W3RvdGFsIC0gMV07XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleSxcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBzZXRIaXN0b3J5ID0gKGtleSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICBpZiAoIWluaXRpYWxpemVkIHx8ICFzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGxldCBsb2NhdGlvbjtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnVybCkge1xuICAgICAgbG9jYXRpb24gPSBuZXcgVVJMKHN3aXBlci5wYXJhbXMudXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgfVxuXG4gICAgY29uc3Qgc2xpZGUgPSBzd2lwZXIuc2xpZGVzLmVxKGluZGV4KTtcbiAgICBsZXQgdmFsdWUgPSBzbHVnaWZ5KHNsaWRlLmF0dHIoJ2RhdGEtaGlzdG9yeScpKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmhpc3Rvcnkucm9vdC5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgcm9vdCA9IHN3aXBlci5wYXJhbXMuaGlzdG9yeS5yb290O1xuICAgICAgaWYgKHJvb3Rbcm9vdC5sZW5ndGggLSAxXSA9PT0gJy8nKSByb290ID0gcm9vdC5zbGljZSgwLCByb290Lmxlbmd0aCAtIDEpO1xuICAgICAgdmFsdWUgPSBgJHtyb290fS8ke2tleX0vJHt2YWx1ZX1gO1xuICAgIH0gZWxzZSBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHZhbHVlID0gYCR7a2V5fS8ke3ZhbHVlfWA7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5rZWVwUXVlcnkpIHtcbiAgICAgIHZhbHVlICs9IGxvY2F0aW9uLnNlYXJjaDtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB3aW5kb3cuaGlzdG9yeS5zdGF0ZTtcblxuICAgIGlmIChjdXJyZW50U3RhdGUgJiYgY3VycmVudFN0YXRlLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe1xuICAgICAgICB2YWx1ZVxuICAgICAgfSwgbnVsbCwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe1xuICAgICAgICB2YWx1ZVxuICAgICAgfSwgbnVsbCwgdmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzY3JvbGxUb1NsaWRlID0gKHNwZWVkLCB2YWx1ZSwgcnVuQ2FsbGJhY2tzKSA9PiB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXMuZXEoaSk7XG4gICAgICAgIGNvbnN0IHNsaWRlSGlzdG9yeSA9IHNsdWdpZnkoc2xpZGUuYXR0cignZGF0YS1oaXN0b3J5JykpO1xuXG4gICAgICAgIGlmIChzbGlkZUhpc3RvcnkgPT09IHZhbHVlICYmICFzbGlkZS5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBzbGlkZS5pbmRleCgpO1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbygwLCBzcGVlZCwgcnVuQ2FsbGJhY2tzKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2V0SGlzdG9yeVBvcFN0YXRlID0gKCkgPT4ge1xuICAgIHBhdGhzID0gZ2V0UGF0aFZhbHVlcyhzd2lwZXIucGFyYW1zLnVybCk7XG4gICAgc2Nyb2xsVG9TbGlkZShzd2lwZXIucGFyYW1zLnNwZWVkLCBwYXRocy52YWx1ZSwgZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkpIHJldHVybjtcblxuICAgIGlmICghd2luZG93Lmhpc3RvcnkgfHwgIXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSkge1xuICAgICAgc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgIHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHBhdGhzID0gZ2V0UGF0aFZhbHVlcyhzd2lwZXIucGFyYW1zLnVybCk7XG4gICAgaWYgKCFwYXRocy5rZXkgJiYgIXBhdGhzLnZhbHVlKSByZXR1cm47XG4gICAgc2Nyb2xsVG9TbGlkZSgwLCBwYXRocy52YWx1ZSwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpO1xuXG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBzZXRIaXN0b3J5UG9wU3RhdGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkZXN0cm95ID0gKCkgPT4ge1xuICAgIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuXG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBzZXRIaXN0b3J5UG9wU3RhdGUpO1xuICAgIH1cbiAgfTtcblxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQpIHtcbiAgICAgIGluaXQoKTtcbiAgICB9XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQpIHtcbiAgICAgIGRlc3Ryb3koKTtcbiAgICB9XG4gIH0pO1xuICBvbigndHJhbnNpdGlvbkVuZCBfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZScsICgpID0+IHtcbiAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHNldEhpc3Rvcnkoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmtleSwgc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICB9XG4gIH0pO1xuICBvbignc2xpZGVDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxpemVkICYmIHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc2V0SGlzdG9yeShzd2lwZXIucGFyYW1zLmhpc3Rvcnkua2V5LCBzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgIH1cbiAgfSk7XG59IiwiLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cbmltcG9ydCB7IGdldFdpbmRvdywgZ2V0RG9jdW1lbnQgfSBmcm9tICdzc3Itd2luZG93JztcbmltcG9ydCAkIGZyb20gJy4uLy4uL3NoYXJlZC9kb20uanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gS2V5Ym9hcmQoe1xuICBzd2lwZXIsXG4gIGV4dGVuZFBhcmFtcyxcbiAgb24sXG4gIGVtaXRcbn0pIHtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgc3dpcGVyLmtleWJvYXJkID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlXG4gIH07XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAga2V5Ym9hcmQ6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgb25seUluVmlld3BvcnQ6IHRydWUsXG4gICAgICBwYWdlVXBEb3duOiB0cnVlXG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgcnRsVHJhbnNsYXRlOiBydGxcbiAgICB9ID0gc3dpcGVyO1xuICAgIGxldCBlID0gZXZlbnQ7XG4gICAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDsgLy8ganF1ZXJ5IGZpeFxuXG4gICAgY29uc3Qga2MgPSBlLmtleUNvZGUgfHwgZS5jaGFyQ29kZTtcbiAgICBjb25zdCBwYWdlVXBEb3duID0gc3dpcGVyLnBhcmFtcy5rZXlib2FyZC5wYWdlVXBEb3duO1xuICAgIGNvbnN0IGlzUGFnZVVwID0gcGFnZVVwRG93biAmJiBrYyA9PT0gMzM7XG4gICAgY29uc3QgaXNQYWdlRG93biA9IHBhZ2VVcERvd24gJiYga2MgPT09IDM0O1xuICAgIGNvbnN0IGlzQXJyb3dMZWZ0ID0ga2MgPT09IDM3O1xuICAgIGNvbnN0IGlzQXJyb3dSaWdodCA9IGtjID09PSAzOTtcbiAgICBjb25zdCBpc0Fycm93VXAgPSBrYyA9PT0gMzg7XG4gICAgY29uc3QgaXNBcnJvd0Rvd24gPSBrYyA9PT0gNDA7IC8vIERpcmVjdGlvbnMgbG9ja3NcblxuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVOZXh0ICYmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgaXNBcnJvd1JpZ2h0IHx8IHN3aXBlci5pc1ZlcnRpY2FsKCkgJiYgaXNBcnJvd0Rvd24gfHwgaXNQYWdlRG93bikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIGlzQXJyb3dMZWZ0IHx8IHN3aXBlci5pc1ZlcnRpY2FsKCkgJiYgaXNBcnJvd1VwIHx8IGlzUGFnZVVwKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChlLnNoaWZ0S2V5IHx8IGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZSAmJiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnIHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RleHRhcmVhJykpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMua2V5Ym9hcmQub25seUluVmlld3BvcnQgJiYgKGlzUGFnZVVwIHx8IGlzUGFnZURvd24gfHwgaXNBcnJvd0xlZnQgfHwgaXNBcnJvd1JpZ2h0IHx8IGlzQXJyb3dVcCB8fCBpc0Fycm93RG93bikpIHtcbiAgICAgIGxldCBpblZpZXcgPSBmYWxzZTsgLy8gQ2hlY2sgdGhhdCBzd2lwZXIgc2hvdWxkIGJlIGluc2lkZSBvZiB2aXNpYmxlIGFyZWEgb2Ygd2luZG93XG5cbiAgICAgIGlmIChzd2lwZXIuJGVsLnBhcmVudHMoYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31gKS5sZW5ndGggPiAwICYmIHN3aXBlci4kZWwucGFyZW50cyhgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzfWApLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBjb25zdCAkZWwgPSBzd2lwZXIuJGVsO1xuICAgICAgY29uc3Qgc3dpcGVyV2lkdGggPSAkZWxbMF0uY2xpZW50V2lkdGg7XG4gICAgICBjb25zdCBzd2lwZXJIZWlnaHQgPSAkZWxbMF0uY2xpZW50SGVpZ2h0O1xuICAgICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGNvbnN0IHN3aXBlck9mZnNldCA9IHN3aXBlci4kZWwub2Zmc2V0KCk7XG4gICAgICBpZiAocnRsKSBzd2lwZXJPZmZzZXQubGVmdCAtPSBzd2lwZXIuJGVsWzBdLnNjcm9sbExlZnQ7XG4gICAgICBjb25zdCBzd2lwZXJDb29yZCA9IFtbc3dpcGVyT2Zmc2V0LmxlZnQsIHN3aXBlck9mZnNldC50b3BdLCBbc3dpcGVyT2Zmc2V0LmxlZnQgKyBzd2lwZXJXaWR0aCwgc3dpcGVyT2Zmc2V0LnRvcF0sIFtzd2lwZXJPZmZzZXQubGVmdCwgc3dpcGVyT2Zmc2V0LnRvcCArIHN3aXBlckhlaWdodF0sIFtzd2lwZXJPZmZzZXQubGVmdCArIHN3aXBlcldpZHRoLCBzd2lwZXJPZmZzZXQudG9wICsgc3dpcGVySGVpZ2h0XV07XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3dpcGVyQ29vcmQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBzd2lwZXJDb29yZFtpXTtcblxuICAgICAgICBpZiAocG9pbnRbMF0gPj0gMCAmJiBwb2ludFswXSA8PSB3aW5kb3dXaWR0aCAmJiBwb2ludFsxXSA+PSAwICYmIHBvaW50WzFdIDw9IHdpbmRvd0hlaWdodCkge1xuICAgICAgICAgIGlmIChwb2ludFswXSA9PT0gMCAmJiBwb2ludFsxXSA9PT0gMCkgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgICAgICAgIGluVmlldyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpblZpZXcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgaWYgKGlzUGFnZVVwIHx8IGlzUGFnZURvd24gfHwgaXNBcnJvd0xlZnQgfHwgaXNBcnJvd1JpZ2h0KSB7XG4gICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNQYWdlRG93biB8fCBpc0Fycm93UmlnaHQpICYmICFydGwgfHwgKGlzUGFnZVVwIHx8IGlzQXJyb3dMZWZ0KSAmJiBydGwpIHN3aXBlci5zbGlkZU5leHQoKTtcbiAgICAgIGlmICgoaXNQYWdlVXAgfHwgaXNBcnJvd0xlZnQpICYmICFydGwgfHwgKGlzUGFnZURvd24gfHwgaXNBcnJvd1JpZ2h0KSAmJiBydGwpIHN3aXBlci5zbGlkZVByZXYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzUGFnZVVwIHx8IGlzUGFnZURvd24gfHwgaXNBcnJvd1VwIHx8IGlzQXJyb3dEb3duKSB7XG4gICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1BhZ2VEb3duIHx8IGlzQXJyb3dEb3duKSBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICBpZiAoaXNQYWdlVXAgfHwgaXNBcnJvd1VwKSBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgfVxuXG4gICAgZW1pdCgna2V5UHJlc3MnLCBrYyk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICBpZiAoc3dpcGVyLmtleWJvYXJkLmVuYWJsZWQpIHJldHVybjtcbiAgICAkKGRvY3VtZW50KS5vbigna2V5ZG93bicsIGhhbmRsZSk7XG4gICAgc3dpcGVyLmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICBpZiAoIXN3aXBlci5rZXlib2FyZC5lbmFibGVkKSByZXR1cm47XG4gICAgJChkb2N1bWVudCkub2ZmKCdrZXlkb3duJywgaGFuZGxlKTtcbiAgICBzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMua2V5Ym9hcmQuZW5hYmxlZCkge1xuICAgICAgZW5hYmxlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5rZXlib2FyZC5lbmFibGVkKSB7XG4gICAgICBkaXNhYmxlKCk7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIua2V5Ym9hcmQsIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZVxuICB9KTtcbn0iLCJpbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdzc3Itd2luZG93JztcbmltcG9ydCAkIGZyb20gJy4uLy4uL3NoYXJlZC9kb20uanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGF6eSh7XG4gIHN3aXBlcixcbiAgZXh0ZW5kUGFyYW1zLFxuICBvbixcbiAgZW1pdFxufSkge1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGxhenk6IHtcbiAgICAgIGNoZWNrSW5WaWV3OiBmYWxzZSxcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgbG9hZFByZXZOZXh0OiBmYWxzZSxcbiAgICAgIGxvYWRQcmV2TmV4dEFtb3VudDogMSxcbiAgICAgIGxvYWRPblRyYW5zaXRpb25TdGFydDogZmFsc2UsXG4gICAgICBzY3JvbGxpbmdFbGVtZW50OiAnJyxcbiAgICAgIGVsZW1lbnRDbGFzczogJ3N3aXBlci1sYXp5JyxcbiAgICAgIGxvYWRpbmdDbGFzczogJ3N3aXBlci1sYXp5LWxvYWRpbmcnLFxuICAgICAgbG9hZGVkQ2xhc3M6ICdzd2lwZXItbGF6eS1sb2FkZWQnLFxuICAgICAgcHJlbG9hZGVyQ2xhc3M6ICdzd2lwZXItbGF6eS1wcmVsb2FkZXInXG4gICAgfVxuICB9KTtcbiAgc3dpcGVyLmxhenkgPSB7fTtcbiAgbGV0IHNjcm9sbEhhbmRsZXJBdHRhY2hlZCA9IGZhbHNlO1xuICBsZXQgaW5pdGlhbEltYWdlTG9hZGVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gbG9hZEluU2xpZGUoaW5kZXgsIGxvYWRJbkR1cGxpY2F0ZSA9IHRydWUpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmxhenk7XG4gICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLnNsaWRlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgICBjb25zdCAkc2xpZGVFbCA9IGlzVmlydHVhbCA/IHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtpbmRleH1cIl1gKSA6IHN3aXBlci5zbGlkZXMuZXEoaW5kZXgpO1xuICAgIGNvbnN0ICRpbWFnZXMgPSAkc2xpZGVFbC5maW5kKGAuJHtwYXJhbXMuZWxlbWVudENsYXNzfTpub3QoLiR7cGFyYW1zLmxvYWRlZENsYXNzfSk6bm90KC4ke3BhcmFtcy5sb2FkaW5nQ2xhc3N9KWApO1xuXG4gICAgaWYgKCRzbGlkZUVsLmhhc0NsYXNzKHBhcmFtcy5lbGVtZW50Q2xhc3MpICYmICEkc2xpZGVFbC5oYXNDbGFzcyhwYXJhbXMubG9hZGVkQ2xhc3MpICYmICEkc2xpZGVFbC5oYXNDbGFzcyhwYXJhbXMubG9hZGluZ0NsYXNzKSkge1xuICAgICAgJGltYWdlcy5wdXNoKCRzbGlkZUVsWzBdKTtcbiAgICB9XG5cbiAgICBpZiAoJGltYWdlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAkaW1hZ2VzLmVhY2goaW1hZ2VFbCA9PiB7XG4gICAgICBjb25zdCAkaW1hZ2VFbCA9ICQoaW1hZ2VFbCk7XG4gICAgICAkaW1hZ2VFbC5hZGRDbGFzcyhwYXJhbXMubG9hZGluZ0NsYXNzKTtcbiAgICAgIGNvbnN0IGJhY2tncm91bmQgPSAkaW1hZ2VFbC5hdHRyKCdkYXRhLWJhY2tncm91bmQnKTtcbiAgICAgIGNvbnN0IHNyYyA9ICRpbWFnZUVsLmF0dHIoJ2RhdGEtc3JjJyk7XG4gICAgICBjb25zdCBzcmNzZXQgPSAkaW1hZ2VFbC5hdHRyKCdkYXRhLXNyY3NldCcpO1xuICAgICAgY29uc3Qgc2l6ZXMgPSAkaW1hZ2VFbC5hdHRyKCdkYXRhLXNpemVzJyk7XG4gICAgICBjb25zdCAkcGljdHVyZUVsID0gJGltYWdlRWwucGFyZW50KCdwaWN0dXJlJyk7XG4gICAgICBzd2lwZXIubG9hZEltYWdlKCRpbWFnZUVsWzBdLCBzcmMgfHwgYmFja2dyb3VuZCwgc3Jjc2V0LCBzaXplcywgZmFsc2UsICgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzd2lwZXIgPT09ICd1bmRlZmluZWQnIHx8IHN3aXBlciA9PT0gbnVsbCB8fCAhc3dpcGVyIHx8IHN3aXBlciAmJiAhc3dpcGVyLnBhcmFtcyB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGJhY2tncm91bmQpIHtcbiAgICAgICAgICAkaW1hZ2VFbC5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCBgdXJsKFwiJHtiYWNrZ3JvdW5kfVwiKWApO1xuICAgICAgICAgICRpbWFnZUVsLnJlbW92ZUF0dHIoJ2RhdGEtYmFja2dyb3VuZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChzcmNzZXQpIHtcbiAgICAgICAgICAgICRpbWFnZUVsLmF0dHIoJ3NyY3NldCcsIHNyY3NldCk7XG4gICAgICAgICAgICAkaW1hZ2VFbC5yZW1vdmVBdHRyKCdkYXRhLXNyY3NldCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzaXplcykge1xuICAgICAgICAgICAgJGltYWdlRWwuYXR0cignc2l6ZXMnLCBzaXplcyk7XG4gICAgICAgICAgICAkaW1hZ2VFbC5yZW1vdmVBdHRyKCdkYXRhLXNpemVzJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCRwaWN0dXJlRWwubGVuZ3RoKSB7XG4gICAgICAgICAgICAkcGljdHVyZUVsLmNoaWxkcmVuKCdzb3VyY2UnKS5lYWNoKHNvdXJjZUVsID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgJHNvdXJjZSA9ICQoc291cmNlRWwpO1xuXG4gICAgICAgICAgICAgIGlmICgkc291cmNlLmF0dHIoJ2RhdGEtc3Jjc2V0JykpIHtcbiAgICAgICAgICAgICAgICAkc291cmNlLmF0dHIoJ3NyY3NldCcsICRzb3VyY2UuYXR0cignZGF0YS1zcmNzZXQnKSk7XG4gICAgICAgICAgICAgICAgJHNvdXJjZS5yZW1vdmVBdHRyKCdkYXRhLXNyY3NldCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgICAkaW1hZ2VFbC5hdHRyKCdzcmMnLCBzcmMpO1xuICAgICAgICAgICAgJGltYWdlRWwucmVtb3ZlQXR0cignZGF0YS1zcmMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkaW1hZ2VFbC5hZGRDbGFzcyhwYXJhbXMubG9hZGVkQ2xhc3MpLnJlbW92ZUNsYXNzKHBhcmFtcy5sb2FkaW5nQ2xhc3MpO1xuICAgICAgICAkc2xpZGVFbC5maW5kKGAuJHtwYXJhbXMucHJlbG9hZGVyQ2xhc3N9YCkucmVtb3ZlKCk7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCAmJiBsb2FkSW5EdXBsaWNhdGUpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZU9yaWdpbmFsSW5kZXggPSAkc2xpZGVFbC5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xuXG4gICAgICAgICAgaWYgKCRzbGlkZUVsLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2xpZGUgPSBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbihgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtzbGlkZU9yaWdpbmFsSW5kZXh9XCJdOm5vdCguJHtzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3N9KWApO1xuICAgICAgICAgICAgbG9hZEluU2xpZGUob3JpZ2luYWxTbGlkZS5pbmRleCgpLCBmYWxzZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGR1cGxpY2F0ZWRTbGlkZSA9IHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3N9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtzbGlkZU9yaWdpbmFsSW5kZXh9XCJdYCk7XG4gICAgICAgICAgICBsb2FkSW5TbGlkZShkdXBsaWNhdGVkU2xpZGUuaW5kZXgoKSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVtaXQoJ2xhenlJbWFnZVJlYWR5JywgJHNsaWRlRWxbMF0sICRpbWFnZUVsWzBdKTtcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBlbWl0KCdsYXp5SW1hZ2VMb2FkJywgJHNsaWRlRWxbMF0sICRpbWFnZUVsWzBdKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgJHdyYXBwZXJFbCxcbiAgICAgIHBhcmFtczogc3dpcGVyUGFyYW1zLFxuICAgICAgc2xpZGVzLFxuICAgICAgYWN0aXZlSW5kZXhcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlclBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyUGFyYW1zLmxhenk7XG4gICAgbGV0IHNsaWRlc1BlclZpZXcgPSBzd2lwZXJQYXJhbXMuc2xpZGVzUGVyVmlldztcblxuICAgIGlmIChzbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICAgIHNsaWRlc1BlclZpZXcgPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNsaWRlRXhpc3QoaW5kZXgpIHtcbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgaWYgKCR3cmFwcGVyRWwuY2hpbGRyZW4oYC4ke3N3aXBlclBhcmFtcy5zbGlkZUNsYXNzfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7aW5kZXh9XCJdYCkubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2xpZGVzW2luZGV4XSkgcmV0dXJuIHRydWU7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzbGlkZUluZGV4KHNsaWRlRWwpIHtcbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgcmV0dXJuICQoc2xpZGVFbCkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICQoc2xpZGVFbCkuaW5kZXgoKTtcbiAgICB9XG5cbiAgICBpZiAoIWluaXRpYWxJbWFnZUxvYWRlZCkgaW5pdGlhbEltYWdlTG9hZGVkID0gdHJ1ZTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICAgICR3cmFwcGVyRWwuY2hpbGRyZW4oYC4ke3N3aXBlclBhcmFtcy5zbGlkZVZpc2libGVDbGFzc31gKS5lYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICBjb25zdCBpbmRleCA9IGlzVmlydHVhbCA/ICQoc2xpZGVFbCkuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSA6ICQoc2xpZGVFbCkuaW5kZXgoKTtcbiAgICAgICAgbG9hZEluU2xpZGUoaW5kZXgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzbGlkZXNQZXJWaWV3ID4gMSkge1xuICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4OyBpIDwgYWN0aXZlSW5kZXggKyBzbGlkZXNQZXJWaWV3OyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlRXhpc3QoaSkpIGxvYWRJblNsaWRlKGkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkSW5TbGlkZShhY3RpdmVJbmRleCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5sb2FkUHJldk5leHQpIHtcbiAgICAgIGlmIChzbGlkZXNQZXJWaWV3ID4gMSB8fCBwYXJhbXMubG9hZFByZXZOZXh0QW1vdW50ICYmIHBhcmFtcy5sb2FkUHJldk5leHRBbW91bnQgPiAxKSB7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcmFtcy5sb2FkUHJldk5leHRBbW91bnQ7XG4gICAgICAgIGNvbnN0IHNwdiA9IE1hdGguY2VpbChzbGlkZXNQZXJWaWV3KTtcbiAgICAgICAgY29uc3QgbWF4SW5kZXggPSBNYXRoLm1pbihhY3RpdmVJbmRleCArIHNwdiArIE1hdGgubWF4KGFtb3VudCwgc3B2KSwgc2xpZGVzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IG1pbkluZGV4ID0gTWF0aC5tYXgoYWN0aXZlSW5kZXggLSBNYXRoLm1heChzcHYsIGFtb3VudCksIDApOyAvLyBOZXh0IFNsaWRlc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCArIHNwdjsgaSA8IG1heEluZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICBpZiAoc2xpZGVFeGlzdChpKSkgbG9hZEluU2xpZGUoaSk7XG4gICAgICAgIH0gLy8gUHJldiBTbGlkZXNcblxuXG4gICAgICAgIGZvciAobGV0IGkgPSBtaW5JbmRleDsgaSA8IGFjdGl2ZUluZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICBpZiAoc2xpZGVFeGlzdChpKSkgbG9hZEluU2xpZGUoaSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5leHRTbGlkZSA9ICR3cmFwcGVyRWwuY2hpbGRyZW4oYC4ke3N3aXBlclBhcmFtcy5zbGlkZU5leHRDbGFzc31gKTtcbiAgICAgICAgaWYgKG5leHRTbGlkZS5sZW5ndGggPiAwKSBsb2FkSW5TbGlkZShzbGlkZUluZGV4KG5leHRTbGlkZSkpO1xuICAgICAgICBjb25zdCBwcmV2U2xpZGUgPSAkd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtzd2lwZXJQYXJhbXMuc2xpZGVQcmV2Q2xhc3N9YCk7XG4gICAgICAgIGlmIChwcmV2U2xpZGUubGVuZ3RoID4gMCkgbG9hZEluU2xpZGUoc2xpZGVJbmRleChwcmV2U2xpZGUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0luVmlld09uTG9hZCgpIHtcbiAgICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgY29uc3QgJHNjcm9sbEVsZW1lbnQgPSBzd2lwZXIucGFyYW1zLmxhenkuc2Nyb2xsaW5nRWxlbWVudCA/ICQoc3dpcGVyLnBhcmFtcy5sYXp5LnNjcm9sbGluZ0VsZW1lbnQpIDogJCh3aW5kb3cpO1xuICAgIGNvbnN0IGlzV2luZG93ID0gJHNjcm9sbEVsZW1lbnRbMF0gPT09IHdpbmRvdztcbiAgICBjb25zdCBzY3JvbGxFbGVtZW50V2lkdGggPSBpc1dpbmRvdyA/IHdpbmRvdy5pbm5lcldpZHRoIDogJHNjcm9sbEVsZW1lbnRbMF0ub2Zmc2V0V2lkdGg7XG4gICAgY29uc3Qgc2Nyb2xsRWxlbWVudEhlaWdodCA9IGlzV2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogJHNjcm9sbEVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IHN3aXBlck9mZnNldCA9IHN3aXBlci4kZWwub2Zmc2V0KCk7XG4gICAgY29uc3Qge1xuICAgICAgcnRsVHJhbnNsYXRlOiBydGxcbiAgICB9ID0gc3dpcGVyO1xuICAgIGxldCBpblZpZXcgPSBmYWxzZTtcbiAgICBpZiAocnRsKSBzd2lwZXJPZmZzZXQubGVmdCAtPSBzd2lwZXIuJGVsWzBdLnNjcm9sbExlZnQ7XG4gICAgY29uc3Qgc3dpcGVyQ29vcmQgPSBbW3N3aXBlck9mZnNldC5sZWZ0LCBzd2lwZXJPZmZzZXQudG9wXSwgW3N3aXBlck9mZnNldC5sZWZ0ICsgc3dpcGVyLndpZHRoLCBzd2lwZXJPZmZzZXQudG9wXSwgW3N3aXBlck9mZnNldC5sZWZ0LCBzd2lwZXJPZmZzZXQudG9wICsgc3dpcGVyLmhlaWdodF0sIFtzd2lwZXJPZmZzZXQubGVmdCArIHN3aXBlci53aWR0aCwgc3dpcGVyT2Zmc2V0LnRvcCArIHN3aXBlci5oZWlnaHRdXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3dpcGVyQ29vcmQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHBvaW50ID0gc3dpcGVyQ29vcmRbaV07XG5cbiAgICAgIGlmIChwb2ludFswXSA+PSAwICYmIHBvaW50WzBdIDw9IHNjcm9sbEVsZW1lbnRXaWR0aCAmJiBwb2ludFsxXSA+PSAwICYmIHBvaW50WzFdIDw9IHNjcm9sbEVsZW1lbnRIZWlnaHQpIHtcbiAgICAgICAgaWYgKHBvaW50WzBdID09PSAwICYmIHBvaW50WzFdID09PSAwKSBjb250aW51ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICAgIGluVmlldyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcGFzc2l2ZUxpc3RlbmVyID0gc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcgJiYgc3dpcGVyLnN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHN3aXBlci5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0gOiBmYWxzZTtcblxuICAgIGlmIChpblZpZXcpIHtcbiAgICAgIGxvYWQoKTtcbiAgICAgICRzY3JvbGxFbGVtZW50Lm9mZignc2Nyb2xsJywgY2hlY2tJblZpZXdPbkxvYWQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgfSBlbHNlIGlmICghc2Nyb2xsSGFuZGxlckF0dGFjaGVkKSB7XG4gICAgICBzY3JvbGxIYW5kbGVyQXR0YWNoZWQgPSB0cnVlO1xuICAgICAgJHNjcm9sbEVsZW1lbnQub24oJ3Njcm9sbCcsIGNoZWNrSW5WaWV3T25Mb2FkLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnByZWxvYWRJbWFnZXMpIHtcbiAgICAgIHN3aXBlci5wYXJhbXMucHJlbG9hZEltYWdlcyA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkuZW5hYmxlZCkge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMubGF6eS5jaGVja0luVmlldykge1xuICAgICAgICBjaGVja0luVmlld09uTG9hZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIG9uKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZnJlZU1vZGUgJiYgc3dpcGVyLnBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmICFzd2lwZXIucGFyYW1zLmZyZWVNb2RlLnN0aWNreSkge1xuICAgICAgbG9hZCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzY3JvbGxiYXJEcmFnTW92ZSByZXNpemUgX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubGF6eS5lbmFibGVkKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmNoZWNrSW5WaWV3KSB7XG4gICAgICAgIGNoZWNrSW5WaWV3T25Mb2FkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgb24oJ3RyYW5zaXRpb25TdGFydCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmVuYWJsZWQpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxhenkubG9hZE9uVHJhbnNpdGlvblN0YXJ0IHx8ICFzd2lwZXIucGFyYW1zLmxhenkubG9hZE9uVHJhbnNpdGlvblN0YXJ0ICYmICFpbml0aWFsSW1hZ2VMb2FkZWQpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubGF6eS5jaGVja0luVmlldykge1xuICAgICAgICAgIGNoZWNrSW5WaWV3T25Mb2FkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgb24oJ3RyYW5zaXRpb25FbmQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubGF6eS5lbmFibGVkICYmICFzd2lwZXIucGFyYW1zLmxhenkubG9hZE9uVHJhbnNpdGlvblN0YXJ0KSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sYXp5LmNoZWNrSW5WaWV3KSB7XG4gICAgICAgIGNoZWNrSW5WaWV3T25Mb2FkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgb24oJ3NsaWRlQ2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGxhenksXG4gICAgICBjc3NNb2RlLFxuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzcyxcbiAgICAgIHRvdWNoUmVsZWFzZU9uRWRnZXMsXG4gICAgICByZXNpc3RhbmNlUmF0aW9cbiAgICB9ID0gc3dpcGVyLnBhcmFtcztcblxuICAgIGlmIChsYXp5LmVuYWJsZWQgJiYgKGNzc01vZGUgfHwgd2F0Y2hTbGlkZXNQcm9ncmVzcyAmJiAodG91Y2hSZWxlYXNlT25FZGdlcyB8fCByZXNpc3RhbmNlUmF0aW8gPT09IDApKSkge1xuICAgICAgbG9hZCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLiRlbCkgcmV0dXJuO1xuICAgIHN3aXBlci4kZWwuZmluZChgLiR7c3dpcGVyLnBhcmFtcy5sYXp5LmxvYWRpbmdDbGFzc31gKS5yZW1vdmVDbGFzcyhzd2lwZXIucGFyYW1zLmxhenkubG9hZGluZ0NsYXNzKTtcbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLmxhenksIHtcbiAgICBsb2FkLFxuICAgIGxvYWRJblNsaWRlXG4gIH0pO1xufSIsImltcG9ydCBhcHBlbmRTbGlkZSBmcm9tICcuL21ldGhvZHMvYXBwZW5kU2xpZGUuanMnO1xuaW1wb3J0IHByZXBlbmRTbGlkZSBmcm9tICcuL21ldGhvZHMvcHJlcGVuZFNsaWRlLmpzJztcbmltcG9ydCBhZGRTbGlkZSBmcm9tICcuL21ldGhvZHMvYWRkU2xpZGUuanMnO1xuaW1wb3J0IHJlbW92ZVNsaWRlIGZyb20gJy4vbWV0aG9kcy9yZW1vdmVTbGlkZS5qcyc7XG5pbXBvcnQgcmVtb3ZlQWxsU2xpZGVzIGZyb20gJy4vbWV0aG9kcy9yZW1vdmVBbGxTbGlkZXMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWFuaXB1bGF0aW9uKHtcbiAgc3dpcGVyXG59KSB7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgYXBwZW5kU2xpZGU6IGFwcGVuZFNsaWRlLmJpbmQoc3dpcGVyKSxcbiAgICBwcmVwZW5kU2xpZGU6IHByZXBlbmRTbGlkZS5iaW5kKHN3aXBlciksXG4gICAgYWRkU2xpZGU6IGFkZFNsaWRlLmJpbmQoc3dpcGVyKSxcbiAgICByZW1vdmVTbGlkZTogcmVtb3ZlU2xpZGUuYmluZChzd2lwZXIpLFxuICAgIHJlbW92ZUFsbFNsaWRlczogcmVtb3ZlQWxsU2xpZGVzLmJpbmQoc3dpcGVyKVxuICB9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRTbGlkZShpbmRleCwgc2xpZGVzKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICAkd3JhcHBlckVsLFxuICAgIHBhcmFtcyxcbiAgICBhY3RpdmVJbmRleFxuICB9ID0gc3dpcGVyO1xuICBsZXQgYWN0aXZlSW5kZXhCdWZmZXIgPSBhY3RpdmVJbmRleDtcblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBhY3RpdmVJbmRleEJ1ZmZlciAtPSBzd2lwZXIubG9vcGVkU2xpZGVzO1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIHN3aXBlci5zbGlkZXMgPSAkd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtwYXJhbXMuc2xpZGVDbGFzc31gKTtcbiAgfVxuXG4gIGNvbnN0IGJhc2VMZW5ndGggPSBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcblxuICBpZiAoaW5kZXggPD0gMCkge1xuICAgIHN3aXBlci5wcmVwZW5kU2xpZGUoc2xpZGVzKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaW5kZXggPj0gYmFzZUxlbmd0aCkge1xuICAgIHN3aXBlci5hcHBlbmRTbGlkZShzbGlkZXMpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4QnVmZmVyID4gaW5kZXggPyBhY3RpdmVJbmRleEJ1ZmZlciArIDEgOiBhY3RpdmVJbmRleEJ1ZmZlcjtcbiAgY29uc3Qgc2xpZGVzQnVmZmVyID0gW107XG5cbiAgZm9yIChsZXQgaSA9IGJhc2VMZW5ndGggLSAxOyBpID49IGluZGV4OyBpIC09IDEpIHtcbiAgICBjb25zdCBjdXJyZW50U2xpZGUgPSBzd2lwZXIuc2xpZGVzLmVxKGkpO1xuICAgIGN1cnJlbnRTbGlkZS5yZW1vdmUoKTtcbiAgICBzbGlkZXNCdWZmZXIudW5zaGlmdChjdXJyZW50U2xpZGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzbGlkZXMgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIHNsaWRlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldKSAkd3JhcHBlckVsLmFwcGVuZChzbGlkZXNbaV0pO1xuICAgIH1cblxuICAgIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXhCdWZmZXIgPiBpbmRleCA/IGFjdGl2ZUluZGV4QnVmZmVyICsgc2xpZGVzLmxlbmd0aCA6IGFjdGl2ZUluZGV4QnVmZmVyO1xuICB9IGVsc2Uge1xuICAgICR3cmFwcGVyRWwuYXBwZW5kKHNsaWRlcyk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0J1ZmZlci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICR3cmFwcGVyRWwuYXBwZW5kKHNsaWRlc0J1ZmZlcltpXSk7XG4gIH1cblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICB9XG5cbiAgaWYgKCFwYXJhbXMub2JzZXJ2ZXIpIHtcbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCArIHN3aXBlci5sb29wZWRTbGlkZXMsIDAsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCwgZmFsc2UpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwZW5kU2xpZGUoc2xpZGVzKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICAkd3JhcHBlckVsLFxuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuXG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzbGlkZXMgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIHNsaWRlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldKSAkd3JhcHBlckVsLmFwcGVuZChzbGlkZXNbaV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAkd3JhcHBlckVsLmFwcGVuZChzbGlkZXMpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgfVxuXG4gIGlmICghcGFyYW1zLm9ic2VydmVyKSB7XG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJlcGVuZFNsaWRlKHNsaWRlcykge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgICR3cmFwcGVyRWwsXG4gICAgYWN0aXZlSW5kZXhcbiAgfSA9IHN3aXBlcjtcblxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgfVxuXG4gIGxldCBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4ICsgMTtcblxuICBpZiAodHlwZW9mIHNsaWRlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChzbGlkZXNbaV0pICR3cmFwcGVyRWwucHJlcGVuZChzbGlkZXNbaV0pO1xuICAgIH1cblxuICAgIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyBzbGlkZXMubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgICR3cmFwcGVyRWwucHJlcGVuZChzbGlkZXMpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgfVxuXG4gIGlmICghcGFyYW1zLm9ic2VydmVyKSB7XG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG5cbiAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDAsIGZhbHNlKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVBbGxTbGlkZXMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHNsaWRlc0luZGV4ZXMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN3aXBlci5zbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzbGlkZXNJbmRleGVzLnB1c2goaSk7XG4gIH1cblxuICBzd2lwZXIucmVtb3ZlU2xpZGUoc2xpZGVzSW5kZXhlcyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlU2xpZGUoc2xpZGVzSW5kZXhlcykge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgICR3cmFwcGVyRWwsXG4gICAgYWN0aXZlSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgbGV0IGFjdGl2ZUluZGV4QnVmZmVyID0gYWN0aXZlSW5kZXg7XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgYWN0aXZlSW5kZXhCdWZmZXIgLT0gc3dpcGVyLmxvb3BlZFNsaWRlcztcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICBzd2lwZXIuc2xpZGVzID0gJHdyYXBwZXJFbC5jaGlsZHJlbihgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9YCk7XG4gIH1cblxuICBsZXQgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlcjtcbiAgbGV0IGluZGV4VG9SZW1vdmU7XG5cbiAgaWYgKHR5cGVvZiBzbGlkZXNJbmRleGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXNJbmRleGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNJbmRleGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpbmRleFRvUmVtb3ZlID0gc2xpZGVzSW5kZXhlc1tpXTtcbiAgICAgIGlmIChzd2lwZXIuc2xpZGVzW2luZGV4VG9SZW1vdmVdKSBzd2lwZXIuc2xpZGVzLmVxKGluZGV4VG9SZW1vdmUpLnJlbW92ZSgpO1xuICAgICAgaWYgKGluZGV4VG9SZW1vdmUgPCBuZXdBY3RpdmVJbmRleCkgbmV3QWN0aXZlSW5kZXggLT0gMTtcbiAgICB9XG5cbiAgICBuZXdBY3RpdmVJbmRleCA9IE1hdGgubWF4KG5ld0FjdGl2ZUluZGV4LCAwKTtcbiAgfSBlbHNlIHtcbiAgICBpbmRleFRvUmVtb3ZlID0gc2xpZGVzSW5kZXhlcztcbiAgICBpZiAoc3dpcGVyLnNsaWRlc1tpbmRleFRvUmVtb3ZlXSkgc3dpcGVyLnNsaWRlcy5lcShpbmRleFRvUmVtb3ZlKS5yZW1vdmUoKTtcbiAgICBpZiAoaW5kZXhUb1JlbW92ZSA8IG5ld0FjdGl2ZUluZGV4KSBuZXdBY3RpdmVJbmRleCAtPSAxO1xuICAgIG5ld0FjdGl2ZUluZGV4ID0gTWF0aC5tYXgobmV3QWN0aXZlSW5kZXgsIDApO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgfVxuXG4gIGlmICghcGFyYW1zLm9ic2VydmVyKSB7XG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXggKyBzd2lwZXIubG9vcGVkU2xpZGVzLCAwLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDAsIGZhbHNlKTtcbiAgfVxufSIsIi8qIGVzbGludC1kaXNhYmxlIGNvbnNpc3RlbnQtcmV0dXJuICovXG5pbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdzc3Itd2luZG93JztcbmltcG9ydCAkIGZyb20gJy4uLy4uL3NoYXJlZC9kb20uanMnO1xuaW1wb3J0IHsgbm93LCBuZXh0VGljayB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3VzZXdoZWVsKHtcbiAgc3dpcGVyLFxuICBleHRlbmRQYXJhbXMsXG4gIG9uLFxuICBlbWl0XG59KSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIG1vdXNld2hlZWw6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgcmVsZWFzZU9uRWRnZXM6IGZhbHNlLFxuICAgICAgaW52ZXJ0OiBmYWxzZSxcbiAgICAgIGZvcmNlVG9BeGlzOiBmYWxzZSxcbiAgICAgIHNlbnNpdGl2aXR5OiAxLFxuICAgICAgZXZlbnRzVGFyZ2V0OiAnY29udGFpbmVyJyxcbiAgICAgIHRocmVzaG9sZERlbHRhOiBudWxsLFxuICAgICAgdGhyZXNob2xkVGltZTogbnVsbFxuICAgIH1cbiAgfSk7XG4gIHN3aXBlci5tb3VzZXdoZWVsID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlXG4gIH07XG4gIGxldCB0aW1lb3V0O1xuICBsZXQgbGFzdFNjcm9sbFRpbWUgPSBub3coKTtcbiAgbGV0IGxhc3RFdmVudEJlZm9yZVNuYXA7XG4gIGNvbnN0IHJlY2VudFdoZWVsRXZlbnRzID0gW107XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplKGUpIHtcbiAgICAvLyBSZWFzb25hYmxlIGRlZmF1bHRzXG4gICAgY29uc3QgUElYRUxfU1RFUCA9IDEwO1xuICAgIGNvbnN0IExJTkVfSEVJR0hUID0gNDA7XG4gICAgY29uc3QgUEFHRV9IRUlHSFQgPSA4MDA7XG4gICAgbGV0IHNYID0gMDtcbiAgICBsZXQgc1kgPSAwOyAvLyBzcGluWCwgc3BpbllcblxuICAgIGxldCBwWCA9IDA7XG4gICAgbGV0IHBZID0gMDsgLy8gcGl4ZWxYLCBwaXhlbFlcbiAgICAvLyBMZWdhY3lcblxuICAgIGlmICgnZGV0YWlsJyBpbiBlKSB7XG4gICAgICBzWSA9IGUuZGV0YWlsO1xuICAgIH1cblxuICAgIGlmICgnd2hlZWxEZWx0YScgaW4gZSkge1xuICAgICAgc1kgPSAtZS53aGVlbERlbHRhIC8gMTIwO1xuICAgIH1cblxuICAgIGlmICgnd2hlZWxEZWx0YVknIGluIGUpIHtcbiAgICAgIHNZID0gLWUud2hlZWxEZWx0YVkgLyAxMjA7XG4gICAgfVxuXG4gICAgaWYgKCd3aGVlbERlbHRhWCcgaW4gZSkge1xuICAgICAgc1ggPSAtZS53aGVlbERlbHRhWCAvIDEyMDtcbiAgICB9IC8vIHNpZGUgc2Nyb2xsaW5nIG9uIEZGIHdpdGggRE9NTW91c2VTY3JvbGxcblxuXG4gICAgaWYgKCdheGlzJyBpbiBlICYmIGUuYXhpcyA9PT0gZS5IT1JJWk9OVEFMX0FYSVMpIHtcbiAgICAgIHNYID0gc1k7XG4gICAgICBzWSA9IDA7XG4gICAgfVxuXG4gICAgcFggPSBzWCAqIFBJWEVMX1NURVA7XG4gICAgcFkgPSBzWSAqIFBJWEVMX1NURVA7XG5cbiAgICBpZiAoJ2RlbHRhWScgaW4gZSkge1xuICAgICAgcFkgPSBlLmRlbHRhWTtcbiAgICB9XG5cbiAgICBpZiAoJ2RlbHRhWCcgaW4gZSkge1xuICAgICAgcFggPSBlLmRlbHRhWDtcbiAgICB9XG5cbiAgICBpZiAoZS5zaGlmdEtleSAmJiAhcFgpIHtcbiAgICAgIC8vIGlmIHVzZXIgc2Nyb2xscyB3aXRoIHNoaWZ0IGhlIHdhbnRzIGhvcml6b250YWwgc2Nyb2xsXG4gICAgICBwWCA9IHBZO1xuICAgICAgcFkgPSAwO1xuICAgIH1cblxuICAgIGlmICgocFggfHwgcFkpICYmIGUuZGVsdGFNb2RlKSB7XG4gICAgICBpZiAoZS5kZWx0YU1vZGUgPT09IDEpIHtcbiAgICAgICAgLy8gZGVsdGEgaW4gTElORSB1bml0c1xuICAgICAgICBwWCAqPSBMSU5FX0hFSUdIVDtcbiAgICAgICAgcFkgKj0gTElORV9IRUlHSFQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkZWx0YSBpbiBQQUdFIHVuaXRzXG4gICAgICAgIHBYICo9IFBBR0VfSEVJR0hUO1xuICAgICAgICBwWSAqPSBQQUdFX0hFSUdIVDtcbiAgICAgIH1cbiAgICB9IC8vIEZhbGwtYmFjayBpZiBzcGluIGNhbm5vdCBiZSBkZXRlcm1pbmVkXG5cblxuICAgIGlmIChwWCAmJiAhc1gpIHtcbiAgICAgIHNYID0gcFggPCAxID8gLTEgOiAxO1xuICAgIH1cblxuICAgIGlmIChwWSAmJiAhc1kpIHtcbiAgICAgIHNZID0gcFkgPCAxID8gLTEgOiAxO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzcGluWDogc1gsXG4gICAgICBzcGluWTogc1ksXG4gICAgICBwaXhlbFg6IHBYLFxuICAgICAgcGl4ZWxZOiBwWVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKCkge1xuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIubW91c2VFbnRlcmVkID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5tb3VzZUVudGVyZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFuaW1hdGVTbGlkZXIobmV3RXZlbnQpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZERlbHRhICYmIG5ld0V2ZW50LmRlbHRhIDwgc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZERlbHRhKSB7XG4gICAgICAvLyBQcmV2ZW50IGlmIGRlbHRhIG9mIHdoZWVsIHNjcm9sbCBkZWx0YSBpcyBiZWxvdyBjb25maWd1cmVkIHRocmVzaG9sZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkVGltZSAmJiBub3coKSAtIGxhc3RTY3JvbGxUaW1lIDwgc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZFRpbWUpIHtcbiAgICAgIC8vIFByZXZlbnQgaWYgdGltZSBiZXR3ZWVuIHNjcm9sbHMgaXMgYmVsb3cgY29uZmlndXJlZCB0aHJlc2hvbGRcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIElmIHRoZSBtb3ZlbWVudCBpcyBOT1QgYmlnIGVub3VnaCBhbmRcbiAgICAvLyBpZiB0aGUgbGFzdCB0aW1lIHRoZSB1c2VyIHNjcm9sbGVkIHdhcyB0b28gY2xvc2UgdG8gdGhlIGN1cnJlbnQgb25lIChhdm9pZCBjb250aW51b3VzbHkgdHJpZ2dlcmluZyB0aGUgc2xpZGVyKTpcbiAgICAvLyAgIERvbid0IGdvIGFueSBmdXJ0aGVyIChhdm9pZCBpbnNpZ25pZmljYW50IHNjcm9sbCBtb3ZlbWVudCkuXG5cblxuICAgIGlmIChuZXdFdmVudC5kZWx0YSA+PSA2ICYmIG5vdygpIC0gbGFzdFNjcm9sbFRpbWUgPCA2MCkge1xuICAgICAgLy8gUmV0dXJuIGZhbHNlIGFzIGEgZGVmYXVsdFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBJZiB1c2VyIGlzIHNjcm9sbGluZyB0b3dhcmRzIHRoZSBlbmQ6XG4gICAgLy8gICBJZiB0aGUgc2xpZGVyIGhhc24ndCBoaXQgdGhlIGxhdGVzdCBzbGlkZSBvclxuICAgIC8vICAgaWYgdGhlIHNsaWRlciBpcyBhIGxvb3AgYW5kXG4gICAgLy8gICBpZiB0aGUgc2xpZGVyIGlzbid0IG1vdmluZyByaWdodCBub3c6XG4gICAgLy8gICAgIEdvIHRvIG5leHQgc2xpZGUgYW5kXG4gICAgLy8gICAgIGVtaXQgYSBzY3JvbGwgZXZlbnQuXG4gICAgLy8gRWxzZSAodGhlIHVzZXIgaXMgc2Nyb2xsaW5nIHRvd2FyZHMgdGhlIGJlZ2lubmluZykgYW5kXG4gICAgLy8gaWYgdGhlIHNsaWRlciBoYXNuJ3QgaGl0IHRoZSBmaXJzdCBzbGlkZSBvclxuICAgIC8vIGlmIHRoZSBzbGlkZXIgaXMgYSBsb29wIGFuZFxuICAgIC8vIGlmIHRoZSBzbGlkZXIgaXNuJ3QgbW92aW5nIHJpZ2h0IG5vdzpcbiAgICAvLyAgIEdvIHRvIHByZXYgc2xpZGUgYW5kXG4gICAgLy8gICBlbWl0IGEgc2Nyb2xsIGV2ZW50LlxuXG5cbiAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uIDwgMCkge1xuICAgICAgaWYgKCghc3dpcGVyLmlzRW5kIHx8IHN3aXBlci5wYXJhbXMubG9vcCkgJiYgIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgICBlbWl0KCdzY3JvbGwnLCBuZXdFdmVudC5yYXcpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKCFzd2lwZXIuaXNCZWdpbm5pbmcgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSAmJiAhc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgZW1pdCgnc2Nyb2xsJywgbmV3RXZlbnQucmF3KTtcbiAgICB9IC8vIElmIHlvdSBnb3QgaGVyZSBpcyBiZWNhdXNlIGFuIGFuaW1hdGlvbiBoYXMgYmVlbiB0cmlnZ2VyZWQgc28gc3RvcmUgdGhlIGN1cnJlbnQgdGltZVxuXG5cbiAgICBsYXN0U2Nyb2xsVGltZSA9IG5ldyB3aW5kb3cuRGF0ZSgpLmdldFRpbWUoKTsgLy8gUmV0dXJuIGZhbHNlIGFzIGEgZGVmYXVsdFxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVsZWFzZVNjcm9sbChuZXdFdmVudCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbDtcblxuICAgIGlmIChuZXdFdmVudC5kaXJlY3Rpb24gPCAwKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAgIC8vIFJldHVybiB0cnVlIHRvIGFuaW1hdGUgc2Nyb2xsIG9uIGVkZ2VzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAvLyBSZXR1cm4gdHJ1ZSB0byBhbmltYXRlIHNjcm9sbCBvbiBlZGdlc1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XG4gICAgbGV0IGUgPSBldmVudDtcbiAgICBsZXQgZGlzYWJsZVBhcmVudFN3aXBlciA9IHRydWU7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbDtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBsZXQgdGFyZ2V0ID0gc3dpcGVyLiRlbDtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0ICE9PSAnY29udGFpbmVyJykge1xuICAgICAgdGFyZ2V0ID0gJChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0KTtcbiAgICB9XG5cbiAgICBpZiAoIXN3aXBlci5tb3VzZUVudGVyZWQgJiYgIXRhcmdldFswXS5jb250YWlucyhlLnRhcmdldCkgJiYgIXBhcmFtcy5yZWxlYXNlT25FZGdlcykgcmV0dXJuIHRydWU7XG4gICAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDsgLy8ganF1ZXJ5IGZpeFxuXG4gICAgbGV0IGRlbHRhID0gMDtcbiAgICBjb25zdCBydGxGYWN0b3IgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gLTEgOiAxO1xuICAgIGNvbnN0IGRhdGEgPSBub3JtYWxpemUoZSk7XG5cbiAgICBpZiAocGFyYW1zLmZvcmNlVG9BeGlzKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkYXRhLnBpeGVsWCkgPiBNYXRoLmFicyhkYXRhLnBpeGVsWSkpIGRlbHRhID0gLWRhdGEucGl4ZWxYICogcnRsRmFjdG9yO2Vsc2UgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGRhdGEucGl4ZWxZKSA+IE1hdGguYWJzKGRhdGEucGl4ZWxYKSkgZGVsdGEgPSAtZGF0YS5waXhlbFk7ZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsdGEgPSBNYXRoLmFicyhkYXRhLnBpeGVsWCkgPiBNYXRoLmFicyhkYXRhLnBpeGVsWSkgPyAtZGF0YS5waXhlbFggKiBydGxGYWN0b3IgOiAtZGF0YS5waXhlbFk7XG4gICAgfVxuXG4gICAgaWYgKGRlbHRhID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocGFyYW1zLmludmVydCkgZGVsdGEgPSAtZGVsdGE7IC8vIEdldCB0aGUgc2Nyb2xsIHBvc2l0aW9uc1xuXG4gICAgbGV0IHBvc2l0aW9ucyA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKSArIGRlbHRhICogcGFyYW1zLnNlbnNpdGl2aXR5O1xuICAgIGlmIChwb3NpdGlvbnMgPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSBwb3NpdGlvbnMgPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgaWYgKHBvc2l0aW9ucyA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHBvc2l0aW9ucyA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTsgLy8gV2hlbiBsb29wIGlzIHRydWU6XG4gICAgLy8gICAgIHRoZSBkaXNhYmxlUGFyZW50U3dpcGVyIHdpbGwgYmUgdHJ1ZS5cbiAgICAvLyBXaGVuIGxvb3AgaXMgZmFsc2U6XG4gICAgLy8gICAgIGlmIHRoZSBzY3JvbGwgcG9zaXRpb25zIGlzIG5vdCBvbiBlZGdlLFxuICAgIC8vICAgICB0aGVuIHRoZSBkaXNhYmxlUGFyZW50U3dpcGVyIHdpbGwgYmUgdHJ1ZS5cbiAgICAvLyAgICAgaWYgdGhlIHNjcm9sbCBvbiBlZGdlIHBvc2l0aW9ucyxcbiAgICAvLyAgICAgdGhlbiB0aGUgZGlzYWJsZVBhcmVudFN3aXBlciB3aWxsIGJlIGZhbHNlLlxuXG4gICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IHN3aXBlci5wYXJhbXMubG9vcCA/IHRydWUgOiAhKHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIHx8IHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKTtcbiAgICBpZiAoZGlzYWJsZVBhcmVudFN3aXBlciAmJiBzd2lwZXIucGFyYW1zLm5lc3RlZCkgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGlmICghc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSB8fCAhc3dpcGVyLnBhcmFtcy5mcmVlTW9kZS5lbmFibGVkKSB7XG4gICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGV2ZW50IGluIGEgdmFyaWFibGUgd2hpY2ggc3RvcmVzIHRoZSByZWxldmFudCBkYXRhXG4gICAgICBjb25zdCBuZXdFdmVudCA9IHtcbiAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgIGRlbHRhOiBNYXRoLmFicyhkZWx0YSksXG4gICAgICAgIGRpcmVjdGlvbjogTWF0aC5zaWduKGRlbHRhKSxcbiAgICAgICAgcmF3OiBldmVudFxuICAgICAgfTsgLy8gS2VlcCB0aGUgbW9zdCByZWNlbnQgZXZlbnRzXG5cbiAgICAgIGlmIChyZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggPj0gMikge1xuICAgICAgICByZWNlbnRXaGVlbEV2ZW50cy5zaGlmdCgpOyAvLyBvbmx5IHN0b3JlIHRoZSBsYXN0IE4gZXZlbnRzXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByZXZFdmVudCA9IHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA/IHJlY2VudFdoZWVsRXZlbnRzW3JlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgICAgcmVjZW50V2hlZWxFdmVudHMucHVzaChuZXdFdmVudCk7IC8vIElmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBwcmV2aW91cyByZWNvcmRlZCBldmVudDpcbiAgICAgIC8vICAgSWYgZGlyZWN0aW9uIGhhcyBjaGFuZ2VkIG9yXG4gICAgICAvLyAgIGlmIHRoZSBzY3JvbGwgaXMgcXVpY2tlciB0aGFuIHRoZSBwcmV2aW91cyBvbmU6XG4gICAgICAvLyAgICAgQW5pbWF0ZSB0aGUgc2xpZGVyLlxuICAgICAgLy8gRWxzZSAodGhpcyBpcyB0aGUgZmlyc3QgdGltZSB0aGUgd2hlZWwgaXMgbW92ZWQpOlxuICAgICAgLy8gICAgIEFuaW1hdGUgdGhlIHNsaWRlci5cblxuICAgICAgaWYgKHByZXZFdmVudCkge1xuICAgICAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uICE9PSBwcmV2RXZlbnQuZGlyZWN0aW9uIHx8IG5ld0V2ZW50LmRlbHRhID4gcHJldkV2ZW50LmRlbHRhIHx8IG5ld0V2ZW50LnRpbWUgPiBwcmV2RXZlbnQudGltZSArIDE1MCkge1xuICAgICAgICAgIGFuaW1hdGVTbGlkZXIobmV3RXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRlU2xpZGVyKG5ld0V2ZW50KTtcbiAgICAgIH0gLy8gSWYgaXQncyB0aW1lIHRvIHJlbGVhc2UgdGhlIHNjcm9sbDpcbiAgICAgIC8vICAgUmV0dXJuIG5vdyBzbyB5b3UgZG9uJ3QgaGl0IHRoZSBwcmV2ZW50RGVmYXVsdC5cblxuXG4gICAgICBpZiAocmVsZWFzZVNjcm9sbChuZXdFdmVudCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZyZWVtb2RlIG9yIHNjcm9sbENvbnRhaW5lcjpcbiAgICAgIC8vIElmIHdlIHJlY2VudGx5IHNuYXBwZWQgYWZ0ZXIgYSBtb21lbnR1bSBzY3JvbGwsIHRoZW4gaWdub3JlIHdoZWVsIGV2ZW50c1xuICAgICAgLy8gdG8gZ2l2ZSB0aW1lIGZvciB0aGUgZGVjZWxlcmF0aW9uIHRvIGZpbmlzaC4gU3RvcCBpZ25vcmluZyBhZnRlciA1MDAgbXNlY3NcbiAgICAgIC8vIG9yIGlmIGl0J3MgYSBuZXcgc2Nyb2xsIChsYXJnZXIgZGVsdGEgb3IgaW52ZXJzZSBzaWduIGFzIGxhc3QgZXZlbnQgYmVmb3JlXG4gICAgICAvLyBhbiBlbmQtb2YtbW9tZW50dW0gc25hcCkuXG4gICAgICBjb25zdCBuZXdFdmVudCA9IHtcbiAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgIGRlbHRhOiBNYXRoLmFicyhkZWx0YSksXG4gICAgICAgIGRpcmVjdGlvbjogTWF0aC5zaWduKGRlbHRhKVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGlnbm9yZVdoZWVsRXZlbnRzID0gbGFzdEV2ZW50QmVmb3JlU25hcCAmJiBuZXdFdmVudC50aW1lIDwgbGFzdEV2ZW50QmVmb3JlU25hcC50aW1lICsgNTAwICYmIG5ld0V2ZW50LmRlbHRhIDw9IGxhc3RFdmVudEJlZm9yZVNuYXAuZGVsdGEgJiYgbmV3RXZlbnQuZGlyZWN0aW9uID09PSBsYXN0RXZlbnRCZWZvcmVTbmFwLmRpcmVjdGlvbjtcblxuICAgICAgaWYgKCFpZ25vcmVXaGVlbEV2ZW50cykge1xuICAgICAgICBsYXN0RXZlbnRCZWZvcmVTbmFwID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvc2l0aW9uID0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpICsgZGVsdGEgKiBwYXJhbXMuc2Vuc2l0aXZpdHk7XG4gICAgICAgIGNvbnN0IHdhc0JlZ2lubmluZyA9IHN3aXBlci5pc0JlZ2lubmluZztcbiAgICAgICAgY29uc3Qgd2FzRW5kID0gc3dpcGVyLmlzRW5kO1xuICAgICAgICBpZiAocG9zaXRpb24gPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSBwb3NpdGlvbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkgcG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuXG4gICAgICAgIGlmICghd2FzQmVnaW5uaW5nICYmIHN3aXBlci5pc0JlZ2lubmluZyB8fCAhd2FzRW5kICYmIHN3aXBlci5pc0VuZCkge1xuICAgICAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mcmVlTW9kZS5zdGlja3kpIHtcbiAgICAgICAgICAvLyBXaGVuIHdoZWVsIHNjcm9sbGluZyBzdGFydHMgd2l0aCBzdGlja3kgKGFrYSBzbmFwKSBlbmFibGVkLCB0aGVuIGRldGVjdFxuICAgICAgICAgIC8vIHRoZSBlbmQgb2YgYSBtb21lbnR1bSBzY3JvbGwgYnkgc3RvcmluZyByZWNlbnQgKE49MTU/KSB3aGVlbCBldmVudHMuXG4gICAgICAgICAgLy8gMS4gZG8gYWxsIE4gZXZlbnRzIGhhdmUgZGVjcmVhc2luZyBvciBzYW1lIChhYnNvbHV0ZSB2YWx1ZSkgZGVsdGE/XG4gICAgICAgICAgLy8gMi4gZGlkIGFsbCBOIGV2ZW50cyBhcnJpdmUgaW4gdGhlIGxhc3QgTSAoTT01MDA/KSBtc2Vjcz9cbiAgICAgICAgICAvLyAzLiBkb2VzIHRoZSBlYXJsaWVzdCBldmVudCBoYXZlIGFuIChhYnNvbHV0ZSB2YWx1ZSkgZGVsdGEgdGhhdCdzXG4gICAgICAgICAgLy8gICAgYXQgbGVhc3QgUCAoUD0xPykgbGFyZ2VyIHRoYW4gdGhlIG1vc3QgcmVjZW50IGV2ZW50J3MgZGVsdGE/XG4gICAgICAgICAgLy8gNC4gZG9lcyB0aGUgbGF0ZXN0IGV2ZW50IGhhdmUgYSBkZWx0YSB0aGF0J3Mgc21hbGxlciB0aGFuIFEgKFE9Nj8pIHBpeGVscz9cbiAgICAgICAgICAvLyBJZiAxLTQgYXJlIFwieWVzXCIgdGhlbiB3ZSdyZSBuZWFyIHRoZSBlbmQgb2YgYSBtb21lbnR1bSBzY3JvbGwgZGVjZWxlcmF0aW9uLlxuICAgICAgICAgIC8vIFNuYXAgaW1tZWRpYXRlbHkgYW5kIGlnbm9yZSByZW1haW5pbmcgd2hlZWwgZXZlbnRzIGluIHRoaXMgc2Nyb2xsLlxuICAgICAgICAgIC8vIFNlZSBjb21tZW50IGFib3ZlIGZvciBcInJlbWFpbmluZyB3aGVlbCBldmVudHMgaW4gdGhpcyBzY3JvbGxcIiBkZXRlcm1pbmF0aW9uLlxuICAgICAgICAgIC8vIElmIDEtNCBhcmVuJ3Qgc2F0aXNmaWVkLCB0aGVuIHdhaXQgdG8gc25hcCB1bnRpbCA1MDBtcyBhZnRlciB0aGUgbGFzdCBldmVudC5cbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgdGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChyZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggPj0gMTUpIHtcbiAgICAgICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnNoaWZ0KCk7IC8vIG9ubHkgc3RvcmUgdGhlIGxhc3QgTiBldmVudHNcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBwcmV2RXZlbnQgPSByZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggPyByZWNlbnRXaGVlbEV2ZW50c1tyZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBjb25zdCBmaXJzdEV2ZW50ID0gcmVjZW50V2hlZWxFdmVudHNbMF07XG4gICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMucHVzaChuZXdFdmVudCk7XG5cbiAgICAgICAgICBpZiAocHJldkV2ZW50ICYmIChuZXdFdmVudC5kZWx0YSA+IHByZXZFdmVudC5kZWx0YSB8fCBuZXdFdmVudC5kaXJlY3Rpb24gIT09IHByZXZFdmVudC5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICAvLyBJbmNyZWFzaW5nIG9yIHJldmVyc2Utc2lnbiBkZWx0YSBtZWFucyB0aGUgdXNlciBzdGFydGVkIHNjcm9sbGluZyBhZ2Fpbi4gQ2xlYXIgdGhlIHdoZWVsIGV2ZW50IGxvZy5cbiAgICAgICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnNwbGljZSgwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAxNSAmJiBuZXdFdmVudC50aW1lIC0gZmlyc3RFdmVudC50aW1lIDwgNTAwICYmIGZpcnN0RXZlbnQuZGVsdGEgLSBuZXdFdmVudC5kZWx0YSA+PSAxICYmIG5ld0V2ZW50LmRlbHRhIDw9IDYpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGF0IHRoZSBlbmQgb2YgdGhlIGRlY2VsZXJhdGlvbiBvZiBhIG1vbWVudHVtIHNjcm9sbCwgc28gdGhlcmUncyBubyBuZWVkXG4gICAgICAgICAgICAvLyB0byB3YWl0IGZvciBtb3JlIGV2ZW50cy4gU25hcCBBU0FQIG9uIHRoZSBuZXh0IHRpY2suXG4gICAgICAgICAgICAvLyBBbHNvLCBiZWNhdXNlIHRoZXJlJ3Mgc29tZSByZW1haW5pbmcgbW9tZW50dW0gd2UnbGwgYmlhcyB0aGUgc25hcCBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiBvZiB0aGUgb25nb2luZyBzY3JvbGwgYmVjYXVzZSBpdCdzIGJldHRlciBVWCBmb3IgdGhlIHNjcm9sbCB0byBzbmFwXG4gICAgICAgICAgICAvLyBpbiB0aGUgc2FtZSBkaXJlY3Rpb24gYXMgdGhlIHNjcm9sbCBpbnN0ZWFkIG9mIHJldmVyc2luZyB0byBzbmFwLiAgVGhlcmVmb3JlLFxuICAgICAgICAgICAgLy8gaWYgaXQncyBhbHJlYWR5IHNjcm9sbGVkIG1vcmUgdGhhbiAyMCUgaW4gdGhlIGN1cnJlbnQgZGlyZWN0aW9uLCBrZWVwIGdvaW5nLlxuICAgICAgICAgICAgY29uc3Qgc25hcFRvVGhyZXNob2xkID0gZGVsdGEgPiAwID8gMC44IDogMC4yO1xuICAgICAgICAgICAgbGFzdEV2ZW50QmVmb3JlU25hcCA9IG5ld0V2ZW50O1xuICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuICAgICAgICAgICAgdGltZW91dCA9IG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHVuZGVmaW5lZCwgc25hcFRvVGhyZXNob2xkKTtcbiAgICAgICAgICAgIH0sIDApOyAvLyBubyBkZWxheTsgbW92ZSBvbiBuZXh0IHRpY2tcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGdldCBoZXJlLCB0aGVuIHdlIGhhdmVuJ3QgZGV0ZWN0ZWQgdGhlIGVuZCBvZiBhIG1vbWVudHVtIHNjcm9sbCwgc29cbiAgICAgICAgICAgIC8vIHdlJ2xsIGNvbnNpZGVyIGEgc2Nyb2xsIFwiY29tcGxldGVcIiB3aGVuIHRoZXJlIGhhdmVuJ3QgYmVlbiBhbnkgd2hlZWwgZXZlbnRzXG4gICAgICAgICAgICAvLyBmb3IgNTAwbXMuXG4gICAgICAgICAgICB0aW1lb3V0ID0gbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzbmFwVG9UaHJlc2hvbGQgPSAwLjU7XG4gICAgICAgICAgICAgIGxhc3RFdmVudEJlZm9yZVNuYXAgPSBuZXdFdmVudDtcbiAgICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3Qoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdW5kZWZpbmVkLCBzbmFwVG9UaHJlc2hvbGQpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gRW1pdCBldmVudFxuXG5cbiAgICAgICAgaWYgKCFpZ25vcmVXaGVlbEV2ZW50cykgZW1pdCgnc2Nyb2xsJywgZSk7IC8vIFN0b3AgYXV0b3BsYXlcblxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheSAmJiBzd2lwZXIucGFyYW1zLmF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24pIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7IC8vIFJldHVybiBwYWdlIHNjcm9sbCBvbiBlZGdlIHBvc2l0aW9uc1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIHx8IHBvc2l0aW9uID09PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZXZlbnRzKG1ldGhvZCkge1xuICAgIGxldCB0YXJnZXQgPSBzd2lwZXIuJGVsO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQgIT09ICdjb250YWluZXInKSB7XG4gICAgICB0YXJnZXQgPSAkKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpO1xuICAgIH1cblxuICAgIHRhcmdldFttZXRob2RdKCdtb3VzZWVudGVyJywgaGFuZGxlTW91c2VFbnRlcik7XG4gICAgdGFyZ2V0W21ldGhvZF0oJ21vdXNlbGVhdmUnLCBoYW5kbGVNb3VzZUxlYXZlKTtcbiAgICB0YXJnZXRbbWV0aG9kXSgnd2hlZWwnLCBoYW5kbGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBoYW5kbGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQpIHJldHVybiBmYWxzZTtcbiAgICBldmVudHMoJ29uJyk7XG4gICAgc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICghc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgIGV2ZW50cygnb2ZmJyk7XG4gICAgc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIGRpc2FibGUoKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQpIGVuYWJsZSgpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQpIGRpc2FibGUoKTtcbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLm1vdXNld2hlZWwsIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZVxuICB9KTtcbn0iLCJpbXBvcnQgY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCBmcm9tICcuLi8uLi9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQuanMnO1xuaW1wb3J0ICQgZnJvbSAnLi4vLi4vc2hhcmVkL2RvbS5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBOYXZpZ2F0aW9uKHtcbiAgc3dpcGVyLFxuICBleHRlbmRQYXJhbXMsXG4gIG9uLFxuICBlbWl0XG59KSB7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBudWxsLFxuICAgICAgcHJldkVsOiBudWxsLFxuICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgZGlzYWJsZWRDbGFzczogJ3N3aXBlci1idXR0b24tZGlzYWJsZWQnLFxuICAgICAgaGlkZGVuQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWhpZGRlbicsXG4gICAgICBsb2NrQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWxvY2snLFxuICAgICAgbmF2aWdhdGlvbkRpc2FibGVkQ2xhc3M6ICdzd2lwZXItbmF2aWdhdGlvbi1kaXNhYmxlZCdcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIubmF2aWdhdGlvbiA9IHtcbiAgICBuZXh0RWw6IG51bGwsXG4gICAgJG5leHRFbDogbnVsbCxcbiAgICBwcmV2RWw6IG51bGwsXG4gICAgJHByZXZFbDogbnVsbFxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldEVsKGVsKSB7XG4gICAgbGV0ICRlbDtcblxuICAgIGlmIChlbCkge1xuICAgICAgJGVsID0gJChlbCk7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIHR5cGVvZiBlbCA9PT0gJ3N0cmluZycgJiYgJGVsLmxlbmd0aCA+IDEgJiYgc3dpcGVyLiRlbC5maW5kKGVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgJGVsID0gc3dpcGVyLiRlbC5maW5kKGVsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJGVsO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlRWwoJGVsLCBkaXNhYmxlZCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbjtcblxuICAgIGlmICgkZWwgJiYgJGVsLmxlbmd0aCA+IDApIHtcbiAgICAgICRlbFtkaXNhYmxlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShwYXJhbXMuZGlzYWJsZWRDbGFzcyk7XG4gICAgICBpZiAoJGVsWzBdICYmICRlbFswXS50YWdOYW1lID09PSAnQlVUVE9OJykgJGVsWzBdLmRpc2FibGVkID0gZGlzYWJsZWQ7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgJGVsW3N3aXBlci5pc0xvY2tlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gVXBkYXRlIE5hdmlnYXRpb24gQnV0dG9uc1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgICBjb25zdCB7XG4gICAgICAkbmV4dEVsLFxuICAgICAgJHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICB0b2dnbGVFbCgkcHJldkVsLCBzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKTtcbiAgICB0b2dnbGVFbCgkbmV4dEVsLCBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUHJldkNsaWNrKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5sb29wICYmICFzd2lwZXIucGFyYW1zLnJld2luZCkgcmV0dXJuO1xuICAgIHN3aXBlci5zbGlkZVByZXYoKTtcbiAgICBlbWl0KCduYXZpZ2F0aW9uUHJldicpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25OZXh0Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25OZXh0Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbjtcbiAgICBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24gPSBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKHN3aXBlciwgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLm5hdmlnYXRpb24sIHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbiwge1xuICAgICAgbmV4dEVsOiAnc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgIHByZXZFbDogJ3N3aXBlci1idXR0b24tcHJldidcbiAgICB9KTtcbiAgICBpZiAoIShwYXJhbXMubmV4dEVsIHx8IHBhcmFtcy5wcmV2RWwpKSByZXR1cm47XG4gICAgY29uc3QgJG5leHRFbCA9IGdldEVsKHBhcmFtcy5uZXh0RWwpO1xuICAgIGNvbnN0ICRwcmV2RWwgPSBnZXRFbChwYXJhbXMucHJldkVsKTtcblxuICAgIGlmICgkbmV4dEVsICYmICRuZXh0RWwubGVuZ3RoID4gMCkge1xuICAgICAgJG5leHRFbC5vbignY2xpY2snLCBvbk5leHRDbGljayk7XG4gICAgfVxuXG4gICAgaWYgKCRwcmV2RWwgJiYgJHByZXZFbC5sZW5ndGggPiAwKSB7XG4gICAgICAkcHJldkVsLm9uKCdjbGljaycsIG9uUHJldkNsaWNrKTtcbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5uYXZpZ2F0aW9uLCB7XG4gICAgICAkbmV4dEVsLFxuICAgICAgbmV4dEVsOiAkbmV4dEVsICYmICRuZXh0RWxbMF0sXG4gICAgICAkcHJldkVsLFxuICAgICAgcHJldkVsOiAkcHJldkVsICYmICRwcmV2RWxbMF1cbiAgICB9KTtcblxuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIGlmICgkbmV4dEVsKSAkbmV4dEVsLmFkZENsYXNzKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgICAgaWYgKCRwcmV2RWwpICRwcmV2RWwuYWRkQ2xhc3MocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBjb25zdCB7XG4gICAgICAkbmV4dEVsLFxuICAgICAgJHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcblxuICAgIGlmICgkbmV4dEVsICYmICRuZXh0RWwubGVuZ3RoKSB7XG4gICAgICAkbmV4dEVsLm9mZignY2xpY2snLCBvbk5leHRDbGljayk7XG4gICAgICAkbmV4dEVsLnJlbW92ZUNsYXNzKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5kaXNhYmxlZENsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAoJHByZXZFbCAmJiAkcHJldkVsLmxlbmd0aCkge1xuICAgICAgJHByZXZFbC5vZmYoJ2NsaWNrJywgb25QcmV2Q2xpY2spO1xuICAgICAgJHByZXZFbC5yZW1vdmVDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5lbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBkaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQoKTtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCd0b0VkZ2UgZnJvbUVkZ2UgbG9jayB1bmxvY2snLCAoKSA9PiB7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBkZXN0cm95KCk7XG4gIH0pO1xuICBvbignZW5hYmxlIGRpc2FibGUnLCAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgJG5leHRFbCxcbiAgICAgICRwcmV2RWxcbiAgICB9ID0gc3dpcGVyLm5hdmlnYXRpb247XG5cbiAgICBpZiAoJG5leHRFbCkge1xuICAgICAgJG5leHRFbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubG9ja0NsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAoJHByZXZFbCkge1xuICAgICAgJHByZXZFbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubG9ja0NsYXNzKTtcbiAgICB9XG4gIH0pO1xuICBvbignY2xpY2snLCAoX3MsIGUpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICAkbmV4dEVsLFxuICAgICAgJHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBjb25zdCB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5oaWRlT25DbGljayAmJiAhJCh0YXJnZXRFbCkuaXMoJHByZXZFbCkgJiYgISQodGFyZ2V0RWwpLmlzKCRuZXh0RWwpKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgKHN3aXBlci5wYWdpbmF0aW9uLmVsID09PSB0YXJnZXRFbCB8fCBzd2lwZXIucGFnaW5hdGlvbi5lbC5jb250YWlucyh0YXJnZXRFbCkpKSByZXR1cm47XG4gICAgICBsZXQgaXNIaWRkZW47XG5cbiAgICAgIGlmICgkbmV4dEVsKSB7XG4gICAgICAgIGlzSGlkZGVuID0gJG5leHRFbC5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgfSBlbHNlIGlmICgkcHJldkVsKSB7XG4gICAgICAgIGlzSGlkZGVuID0gJHByZXZFbC5oYXNDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNIaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgZW1pdCgnbmF2aWdhdGlvblNob3cnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVtaXQoJ25hdmlnYXRpb25IaWRlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkbmV4dEVsKSB7XG4gICAgICAgICRuZXh0RWwudG9nZ2xlQ2xhc3Moc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRwcmV2RWwpIHtcbiAgICAgICAgJHByZXZFbC50b2dnbGVDbGFzcyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgZW5hYmxlID0gKCkgPT4ge1xuICAgIHN3aXBlci4kZWwucmVtb3ZlQ2xhc3Moc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLm5hdmlnYXRpb25EaXNhYmxlZENsYXNzKTtcbiAgICBpbml0KCk7XG4gICAgdXBkYXRlKCk7XG4gIH07XG5cbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuJGVsLmFkZENsYXNzKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5uYXZpZ2F0aW9uRGlzYWJsZWRDbGFzcyk7XG4gICAgZGVzdHJveSgpO1xuICB9O1xuXG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLm5hdmlnYXRpb24sIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZSxcbiAgICB1cGRhdGUsXG4gICAgaW5pdCxcbiAgICBkZXN0cm95XG4gIH0pO1xufSIsImltcG9ydCAkIGZyb20gJy4uLy4uL3NoYXJlZC9kb20uanMnO1xuaW1wb3J0IGNsYXNzZXNUb1NlbGVjdG9yIGZyb20gJy4uLy4uL3NoYXJlZC9jbGFzc2VzLXRvLXNlbGVjdG9yLmpzJztcbmltcG9ydCBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIGZyb20gJy4uLy4uL3NoYXJlZC9jcmVhdGUtZWxlbWVudC1pZi1ub3QtZGVmaW5lZC5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWdpbmF0aW9uKHtcbiAgc3dpcGVyLFxuICBleHRlbmRQYXJhbXMsXG4gIG9uLFxuICBlbWl0XG59KSB7XG4gIGNvbnN0IHBmeCA9ICdzd2lwZXItcGFnaW5hdGlvbic7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IG51bGwsXG4gICAgICBidWxsZXRFbGVtZW50OiAnc3BhbicsXG4gICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgcmVuZGVyQnVsbGV0OiBudWxsLFxuICAgICAgcmVuZGVyUHJvZ3Jlc3NiYXI6IG51bGwsXG4gICAgICByZW5kZXJGcmFjdGlvbjogbnVsbCxcbiAgICAgIHJlbmRlckN1c3RvbTogbnVsbCxcbiAgICAgIHByb2dyZXNzYmFyT3Bwb3NpdGU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2J1bGxldHMnLFxuICAgICAgLy8gJ2J1bGxldHMnIG9yICdwcm9ncmVzc2Jhcicgb3IgJ2ZyYWN0aW9uJyBvciAnY3VzdG9tJ1xuICAgICAgZHluYW1pY0J1bGxldHM6IGZhbHNlLFxuICAgICAgZHluYW1pY01haW5CdWxsZXRzOiAxLFxuICAgICAgZm9ybWF0RnJhY3Rpb25DdXJyZW50OiBudW1iZXIgPT4gbnVtYmVyLFxuICAgICAgZm9ybWF0RnJhY3Rpb25Ub3RhbDogbnVtYmVyID0+IG51bWJlcixcbiAgICAgIGJ1bGxldENsYXNzOiBgJHtwZnh9LWJ1bGxldGAsXG4gICAgICBidWxsZXRBY3RpdmVDbGFzczogYCR7cGZ4fS1idWxsZXQtYWN0aXZlYCxcbiAgICAgIG1vZGlmaWVyQ2xhc3M6IGAke3BmeH0tYCxcbiAgICAgIGN1cnJlbnRDbGFzczogYCR7cGZ4fS1jdXJyZW50YCxcbiAgICAgIHRvdGFsQ2xhc3M6IGAke3BmeH0tdG90YWxgLFxuICAgICAgaGlkZGVuQ2xhc3M6IGAke3BmeH0taGlkZGVuYCxcbiAgICAgIHByb2dyZXNzYmFyRmlsbENsYXNzOiBgJHtwZnh9LXByb2dyZXNzYmFyLWZpbGxgLFxuICAgICAgcHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzOiBgJHtwZnh9LXByb2dyZXNzYmFyLW9wcG9zaXRlYCxcbiAgICAgIGNsaWNrYWJsZUNsYXNzOiBgJHtwZnh9LWNsaWNrYWJsZWAsXG4gICAgICBsb2NrQ2xhc3M6IGAke3BmeH0tbG9ja2AsXG4gICAgICBob3Jpem9udGFsQ2xhc3M6IGAke3BmeH0taG9yaXpvbnRhbGAsXG4gICAgICB2ZXJ0aWNhbENsYXNzOiBgJHtwZnh9LXZlcnRpY2FsYCxcbiAgICAgIHBhZ2luYXRpb25EaXNhYmxlZENsYXNzOiBgJHtwZnh9LWRpc2FibGVkYFxuICAgIH1cbiAgfSk7XG4gIHN3aXBlci5wYWdpbmF0aW9uID0ge1xuICAgIGVsOiBudWxsLFxuICAgICRlbDogbnVsbCxcbiAgICBidWxsZXRzOiBbXVxuICB9O1xuICBsZXQgYnVsbGV0U2l6ZTtcbiAgbGV0IGR5bmFtaWNCdWxsZXRJbmRleCA9IDA7XG5cbiAgZnVuY3Rpb24gaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuICFzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uZWwgfHwgIXN3aXBlci5wYWdpbmF0aW9uLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi4kZWwgfHwgc3dpcGVyLnBhZ2luYXRpb24uJGVsLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNpZGVCdWxsZXRzKCRidWxsZXRFbCwgcG9zaXRpb24pIHtcbiAgICBjb25zdCB7XG4gICAgICBidWxsZXRBY3RpdmVDbGFzc1xuICAgIH0gPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgJGJ1bGxldEVsW3Bvc2l0aW9uXSgpLmFkZENsYXNzKGAke2J1bGxldEFjdGl2ZUNsYXNzfS0ke3Bvc2l0aW9ufWApW3Bvc2l0aW9uXSgpLmFkZENsYXNzKGAke2J1bGxldEFjdGl2ZUNsYXNzfS0ke3Bvc2l0aW9ufS0ke3Bvc2l0aW9ufWApO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIC8vIFJlbmRlciB8fCBVcGRhdGUgUGFnaW5hdGlvbiBidWxsZXRzL2l0ZW1zXG4gICAgY29uc3QgcnRsID0gc3dpcGVyLnJ0bDtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgaWYgKGlzUGFnaW5hdGlvbkRpc2FibGVkKCkpIHJldHVybjtcbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICBjb25zdCAkZWwgPSBzd2lwZXIucGFnaW5hdGlvbi4kZWw7IC8vIEN1cnJlbnQvVG90YWxcblxuICAgIGxldCBjdXJyZW50O1xuICAgIGNvbnN0IHRvdGFsID0gc3dpcGVyLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKChzbGlkZXNMZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzICogMikgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBjdXJyZW50ID0gTWF0aC5jZWlsKChzd2lwZXIuYWN0aXZlSW5kZXggLSBzd2lwZXIubG9vcGVkU2xpZGVzKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuXG4gICAgICBpZiAoY3VycmVudCA+IHNsaWRlc0xlbmd0aCAtIDEgLSBzd2lwZXIubG9vcGVkU2xpZGVzICogMikge1xuICAgICAgICBjdXJyZW50IC09IHNsaWRlc0xlbmd0aCAtIHN3aXBlci5sb29wZWRTbGlkZXMgKiAyO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudCA+IHRvdGFsIC0gMSkgY3VycmVudCAtPSB0b3RhbDtcbiAgICAgIGlmIChjdXJyZW50IDwgMCAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb25UeXBlICE9PSAnYnVsbGV0cycpIGN1cnJlbnQgPSB0b3RhbCArIGN1cnJlbnQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3dpcGVyLnNuYXBJbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGN1cnJlbnQgPSBzd2lwZXIuc25hcEluZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50ID0gc3dpcGVyLmFjdGl2ZUluZGV4IHx8IDA7XG4gICAgfSAvLyBUeXBlc1xuXG5cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdidWxsZXRzJyAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYnVsbGV0cyA9IHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHM7XG4gICAgICBsZXQgZmlyc3RJbmRleDtcbiAgICAgIGxldCBsYXN0SW5kZXg7XG4gICAgICBsZXQgbWlkSW5kZXg7XG5cbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgYnVsbGV0U2l6ZSA9IGJ1bGxldHMuZXEoMClbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ291dGVyV2lkdGgnIDogJ291dGVySGVpZ2h0J10odHJ1ZSk7XG4gICAgICAgICRlbC5jc3Moc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnLCBgJHtidWxsZXRTaXplICogKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgKyA0KX1weGApO1xuXG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzID4gMSAmJiBzd2lwZXIucHJldmlvdXNJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZHluYW1pY0J1bGxldEluZGV4ICs9IGN1cnJlbnQgLSAoc3dpcGVyLnByZXZpb3VzSW5kZXggLSBzd2lwZXIubG9vcGVkU2xpZGVzIHx8IDApO1xuXG4gICAgICAgICAgaWYgKGR5bmFtaWNCdWxsZXRJbmRleCA+IHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgLSAxKSB7XG4gICAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggPSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGR5bmFtaWNCdWxsZXRJbmRleCA8IDApIHtcbiAgICAgICAgICAgIGR5bmFtaWNCdWxsZXRJbmRleCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZmlyc3RJbmRleCA9IE1hdGgubWF4KGN1cnJlbnQgLSBkeW5hbWljQnVsbGV0SW5kZXgsIDApO1xuICAgICAgICBsYXN0SW5kZXggPSBmaXJzdEluZGV4ICsgKE1hdGgubWluKGJ1bGxldHMubGVuZ3RoLCBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzKSAtIDEpO1xuICAgICAgICBtaWRJbmRleCA9IChsYXN0SW5kZXggKyBmaXJzdEluZGV4KSAvIDI7XG4gICAgICB9XG5cbiAgICAgIGJ1bGxldHMucmVtb3ZlQ2xhc3MoWycnLCAnLW5leHQnLCAnLW5leHQtbmV4dCcsICctcHJldicsICctcHJldi1wcmV2JywgJy1tYWluJ10ubWFwKHN1ZmZpeCA9PiBgJHtwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3N9JHtzdWZmaXh9YCkuam9pbignICcpKTtcblxuICAgICAgaWYgKCRlbC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGJ1bGxldHMuZWFjaChidWxsZXQgPT4ge1xuICAgICAgICAgIGNvbnN0ICRidWxsZXQgPSAkKGJ1bGxldCk7XG4gICAgICAgICAgY29uc3QgYnVsbGV0SW5kZXggPSAkYnVsbGV0LmluZGV4KCk7XG5cbiAgICAgICAgICBpZiAoYnVsbGV0SW5kZXggPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICRidWxsZXQuYWRkQ2xhc3MocGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFyYW1zLmR5bmFtaWNCdWxsZXRzKSB7XG4gICAgICAgICAgICBpZiAoYnVsbGV0SW5kZXggPj0gZmlyc3RJbmRleCAmJiBidWxsZXRJbmRleCA8PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgJGJ1bGxldC5hZGRDbGFzcyhgJHtwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3N9LW1haW5gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBmaXJzdEluZGV4KSB7XG4gICAgICAgICAgICAgIHNldFNpZGVCdWxsZXRzKCRidWxsZXQsICdwcmV2Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgIHNldFNpZGVCdWxsZXRzKCRidWxsZXQsICduZXh0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0ICRidWxsZXQgPSBidWxsZXRzLmVxKGN1cnJlbnQpO1xuICAgICAgICBjb25zdCBidWxsZXRJbmRleCA9ICRidWxsZXQuaW5kZXgoKTtcbiAgICAgICAgJGJ1bGxldC5hZGRDbGFzcyhwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MpO1xuXG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICBjb25zdCAkZmlyc3REaXNwbGF5ZWRCdWxsZXQgPSBidWxsZXRzLmVxKGZpcnN0SW5kZXgpO1xuICAgICAgICAgIGNvbnN0ICRsYXN0RGlzcGxheWVkQnVsbGV0ID0gYnVsbGV0cy5lcShsYXN0SW5kZXgpO1xuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IGZpcnN0SW5kZXg7IGkgPD0gbGFzdEluZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGJ1bGxldHMuZXEoaSkuYWRkQ2xhc3MoYCR7cGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzfS1tYWluYCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID49IGJ1bGxldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgIGJ1bGxldHMuZXEoYnVsbGV0cy5sZW5ndGggLSBpKS5hZGRDbGFzcyhgJHtwYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3N9LW1haW5gKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJ1bGxldHMuZXEoYnVsbGV0cy5sZW5ndGggLSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMSkuYWRkQ2xhc3MoYCR7cGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzfS1wcmV2YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRTaWRlQnVsbGV0cygkZmlyc3REaXNwbGF5ZWRCdWxsZXQsICdwcmV2Jyk7XG4gICAgICAgICAgICAgIHNldFNpZGVCdWxsZXRzKCRsYXN0RGlzcGxheWVkQnVsbGV0LCAnbmV4dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRTaWRlQnVsbGV0cygkZmlyc3REaXNwbGF5ZWRCdWxsZXQsICdwcmV2Jyk7XG4gICAgICAgICAgICBzZXRTaWRlQnVsbGV0cygkbGFzdERpc3BsYXllZEJ1bGxldCwgJ25leHQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICBjb25zdCBkeW5hbWljQnVsbGV0c0xlbmd0aCA9IE1hdGgubWluKGJ1bGxldHMubGVuZ3RoLCBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzICsgNCk7XG4gICAgICAgIGNvbnN0IGJ1bGxldHNPZmZzZXQgPSAoYnVsbGV0U2l6ZSAqIGR5bmFtaWNCdWxsZXRzTGVuZ3RoIC0gYnVsbGV0U2l6ZSkgLyAyIC0gbWlkSW5kZXggKiBidWxsZXRTaXplO1xuICAgICAgICBjb25zdCBvZmZzZXRQcm9wID0gcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgYnVsbGV0cy5jc3Moc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gb2Zmc2V0UHJvcCA6ICd0b3AnLCBgJHtidWxsZXRzT2Zmc2V0fXB4YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnZnJhY3Rpb24nKSB7XG4gICAgICAkZWwuZmluZChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMuY3VycmVudENsYXNzKSkudGV4dChwYXJhbXMuZm9ybWF0RnJhY3Rpb25DdXJyZW50KGN1cnJlbnQgKyAxKSk7XG4gICAgICAkZWwuZmluZChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMudG90YWxDbGFzcykpLnRleHQocGFyYW1zLmZvcm1hdEZyYWN0aW9uVG90YWwodG90YWwpKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgIGxldCBwcm9ncmVzc2JhckRpcmVjdGlvbjtcblxuICAgICAgaWYgKHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlKSB7XG4gICAgICAgIHByb2dyZXNzYmFyRGlyZWN0aW9uID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyZXNzYmFyRGlyZWN0aW9uID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJztcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2NhbGUgPSAoY3VycmVudCArIDEpIC8gdG90YWw7XG4gICAgICBsZXQgc2NhbGVYID0gMTtcbiAgICAgIGxldCBzY2FsZVkgPSAxO1xuXG4gICAgICBpZiAocHJvZ3Jlc3NiYXJEaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICBzY2FsZVggPSBzY2FsZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjYWxlWSA9IHNjYWxlO1xuICAgICAgfVxuXG4gICAgICAkZWwuZmluZChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpKS50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZVgoJHtzY2FsZVh9KSBzY2FsZVkoJHtzY2FsZVl9KWApLnRyYW5zaXRpb24oc3dpcGVyLnBhcmFtcy5zcGVlZCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnY3VzdG9tJyAmJiBwYXJhbXMucmVuZGVyQ3VzdG9tKSB7XG4gICAgICAkZWwuaHRtbChwYXJhbXMucmVuZGVyQ3VzdG9tKHN3aXBlciwgY3VycmVudCArIDEsIHRvdGFsKSk7XG4gICAgICBlbWl0KCdwYWdpbmF0aW9uUmVuZGVyJywgJGVsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdCgncGFnaW5hdGlvblVwZGF0ZScsICRlbFswXSk7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgJGVsW3N3aXBlci5pc0xvY2tlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgLy8gUmVuZGVyIENvbnRhaW5lclxuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGNvbnN0IHNsaWRlc0xlbmd0aCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgIGNvbnN0ICRlbCA9IHN3aXBlci5wYWdpbmF0aW9uLiRlbDtcbiAgICBsZXQgcGFnaW5hdGlvbkhUTUwgPSAnJztcblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnKSB7XG4gICAgICBsZXQgbnVtYmVyT2ZCdWxsZXRzID0gc3dpcGVyLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKChzbGlkZXNMZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzICogMikgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG5cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wICYmIG51bWJlck9mQnVsbGV0cyA+IHNsaWRlc0xlbmd0aCkge1xuICAgICAgICBudW1iZXJPZkJ1bGxldHMgPSBzbGlkZXNMZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZCdWxsZXRzOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5yZW5kZXJCdWxsZXQpIHtcbiAgICAgICAgICBwYWdpbmF0aW9uSFRNTCArPSBwYXJhbXMucmVuZGVyQnVsbGV0LmNhbGwoc3dpcGVyLCBpLCBwYXJhbXMuYnVsbGV0Q2xhc3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhZ2luYXRpb25IVE1MICs9IGA8JHtwYXJhbXMuYnVsbGV0RWxlbWVudH0gY2xhc3M9XCIke3BhcmFtcy5idWxsZXRDbGFzc31cIj48LyR7cGFyYW1zLmJ1bGxldEVsZW1lbnR9PmA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGVsLmh0bWwocGFnaW5hdGlvbkhUTUwpO1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyA9ICRlbC5maW5kKGNsYXNzZXNUb1NlbGVjdG9yKHBhcmFtcy5idWxsZXRDbGFzcykpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2ZyYWN0aW9uJykge1xuICAgICAgaWYgKHBhcmFtcy5yZW5kZXJGcmFjdGlvbikge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IHBhcmFtcy5yZW5kZXJGcmFjdGlvbi5jYWxsKHN3aXBlciwgcGFyYW1zLmN1cnJlbnRDbGFzcywgcGFyYW1zLnRvdGFsQ2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBgPHNwYW4gY2xhc3M9XCIke3BhcmFtcy5jdXJyZW50Q2xhc3N9XCI+PC9zcGFuPmAgKyAnIC8gJyArIGA8c3BhbiBjbGFzcz1cIiR7cGFyYW1zLnRvdGFsQ2xhc3N9XCI+PC9zcGFuPmA7XG4gICAgICB9XG5cbiAgICAgICRlbC5odG1sKHBhZ2luYXRpb25IVE1MKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIpIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIuY2FsbChzd2lwZXIsIHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7cGFyYW1zLnByb2dyZXNzYmFyRmlsbENsYXNzfVwiPjwvc3Bhbj5gO1xuICAgICAgfVxuXG4gICAgICAkZWwuaHRtbChwYWdpbmF0aW9uSFRNTCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50eXBlICE9PSAnY3VzdG9tJykge1xuICAgICAgZW1pdCgncGFnaW5hdGlvblJlbmRlcicsIHN3aXBlci5wYWdpbmF0aW9uLiRlbFswXSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24gPSBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKHN3aXBlciwgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLnBhZ2luYXRpb24sIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbiwge1xuICAgICAgZWw6ICdzd2lwZXItcGFnaW5hdGlvbidcbiAgICB9KTtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgaWYgKCFwYXJhbXMuZWwpIHJldHVybjtcbiAgICBsZXQgJGVsID0gJChwYXJhbXMuZWwpO1xuICAgIGlmICgkZWwubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiAkZWwubGVuZ3RoID4gMSkge1xuICAgICAgJGVsID0gc3dpcGVyLiRlbC5maW5kKHBhcmFtcy5lbCk7IC8vIGNoZWNrIGlmIGl0IGJlbG9uZ3MgdG8gYW5vdGhlciBuZXN0ZWQgU3dpcGVyXG5cbiAgICAgIGlmICgkZWwubGVuZ3RoID4gMSkge1xuICAgICAgICAkZWwgPSAkZWwuZmlsdGVyKGVsID0+IHtcbiAgICAgICAgICBpZiAoJChlbCkucGFyZW50cygnLnN3aXBlcicpWzBdICE9PSBzd2lwZXIuZWwpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgcGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgJGVsLmFkZENsYXNzKHBhcmFtcy5jbGlja2FibGVDbGFzcyk7XG4gICAgfVxuXG4gICAgJGVsLmFkZENsYXNzKHBhcmFtcy5tb2RpZmllckNsYXNzICsgcGFyYW1zLnR5cGUpO1xuICAgICRlbC5hZGRDbGFzcyhzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBwYXJhbXMuaG9yaXpvbnRhbENsYXNzIDogcGFyYW1zLnZlcnRpY2FsQ2xhc3MpO1xuXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgcGFyYW1zLmR5bmFtaWNCdWxsZXRzKSB7XG4gICAgICAkZWwuYWRkQ2xhc3MoYCR7cGFyYW1zLm1vZGlmaWVyQ2xhc3N9JHtwYXJhbXMudHlwZX0tZHluYW1pY2ApO1xuICAgICAgZHluYW1pY0J1bGxldEluZGV4ID0gMDtcblxuICAgICAgaWYgKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPCAxKSB7XG4gICAgICAgIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJyAmJiBwYXJhbXMucHJvZ3Jlc3NiYXJPcHBvc2l0ZSkge1xuICAgICAgJGVsLmFkZENsYXNzKHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlQ2xhc3MpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuY2xpY2thYmxlKSB7XG4gICAgICAkZWwub24oJ2NsaWNrJywgY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmJ1bGxldENsYXNzKSwgZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IGluZGV4ID0gJCh0aGlzKS5pbmRleCgpICogc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkgaW5kZXggKz0gc3dpcGVyLmxvb3BlZFNsaWRlcztcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIucGFnaW5hdGlvbiwge1xuICAgICAgJGVsLFxuICAgICAgZWw6ICRlbFswXVxuICAgIH0pO1xuXG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgJGVsLmFkZENsYXNzKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmIChpc1BhZ2luYXRpb25EaXNhYmxlZCgpKSByZXR1cm47XG4gICAgY29uc3QgJGVsID0gc3dpcGVyLnBhZ2luYXRpb24uJGVsO1xuICAgICRlbC5yZW1vdmVDbGFzcyhwYXJhbXMuaGlkZGVuQ2xhc3MpO1xuICAgICRlbC5yZW1vdmVDbGFzcyhwYXJhbXMubW9kaWZpZXJDbGFzcyArIHBhcmFtcy50eXBlKTtcbiAgICAkZWwucmVtb3ZlQ2xhc3Moc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gcGFyYW1zLmhvcml6b250YWxDbGFzcyA6IHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLnJlbW92ZUNsYXNzKSBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLnJlbW92ZUNsYXNzKHBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyk7XG5cbiAgICBpZiAocGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgJGVsLm9mZignY2xpY2snLCBjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMuYnVsbGV0Q2xhc3MpKTtcbiAgICB9XG4gIH1cblxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCgpO1xuICAgICAgcmVuZGVyKCk7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignYWN0aXZlSW5kZXhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3dpcGVyLnNuYXBJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzbmFwSW5kZXhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzbGlkZXNMZW5ndGhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgcmVuZGVyKCk7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignc25hcEdyaWRMZW5ndGhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHJlbmRlcigpO1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgZGVzdHJveSgpO1xuICB9KTtcbiAgb24oJ2VuYWJsZSBkaXNhYmxlJywgKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICRlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcblxuICAgIGlmICgkZWwpIHtcbiAgICAgICRlbFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ubG9ja0NsYXNzKTtcbiAgICB9XG4gIH0pO1xuICBvbignbG9jayB1bmxvY2snLCAoKSA9PiB7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xuICBvbignY2xpY2snLCAoX3MsIGUpID0+IHtcbiAgICBjb25zdCB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IHtcbiAgICAgICRlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uZWwgJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGVPbkNsaWNrICYmICRlbCAmJiAkZWwubGVuZ3RoID4gMCAmJiAhJCh0YXJnZXRFbCkuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkge1xuICAgICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIChzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCkpIHJldHVybjtcbiAgICAgIGNvbnN0IGlzSGlkZGVuID0gJGVsLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcyk7XG5cbiAgICAgIGlmIChpc0hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICBlbWl0KCdwYWdpbmF0aW9uU2hvdycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW1pdCgncGFnaW5hdGlvbkhpZGUnKTtcbiAgICAgIH1cblxuICAgICAgJGVsLnRvZ2dsZUNsYXNzKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBlbmFibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLiRlbC5yZW1vdmVDbGFzcyhzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucGFnaW5hdGlvbkRpc2FibGVkQ2xhc3MpO1xuXG4gICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uLiRlbCkge1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24uJGVsLnJlbW92ZUNsYXNzKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcyk7XG4gICAgfVxuXG4gICAgaW5pdCgpO1xuICAgIHJlbmRlcigpO1xuICAgIHVwZGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGRpc2FibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLiRlbC5hZGRDbGFzcyhzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucGFnaW5hdGlvbkRpc2FibGVkQ2xhc3MpO1xuXG4gICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uLiRlbCkge1xuICAgICAgc3dpcGVyLnBhZ2luYXRpb24uJGVsLmFkZENsYXNzKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpO1xuICB9O1xuXG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhZ2luYXRpb24sIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZSxcbiAgICByZW5kZXIsXG4gICAgdXBkYXRlLFxuICAgIGluaXQsXG4gICAgZGVzdHJveVxuICB9KTtcbn0iLCJpbXBvcnQgJCBmcm9tICcuLi8uLi9zaGFyZWQvZG9tLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhcmFsbGF4KHtcbiAgc3dpcGVyLFxuICBleHRlbmRQYXJhbXMsXG4gIG9uXG59KSB7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgcGFyYWxsYXg6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgfVxuICB9KTtcblxuICBjb25zdCBzZXRUcmFuc2Zvcm0gPSAoZWwsIHByb2dyZXNzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCAkZWwgPSAkKGVsKTtcbiAgICBjb25zdCBydGxGYWN0b3IgPSBydGwgPyAtMSA6IDE7XG4gICAgY29uc3QgcCA9ICRlbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheCcpIHx8ICcwJztcbiAgICBsZXQgeCA9ICRlbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheC14Jyk7XG4gICAgbGV0IHkgPSAkZWwuYXR0cignZGF0YS1zd2lwZXItcGFyYWxsYXgteScpO1xuICAgIGNvbnN0IHNjYWxlID0gJGVsLmF0dHIoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlJyk7XG4gICAgY29uc3Qgb3BhY2l0eSA9ICRlbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5Jyk7XG5cbiAgICBpZiAoeCB8fCB5KSB7XG4gICAgICB4ID0geCB8fCAnMCc7XG4gICAgICB5ID0geSB8fCAnMCc7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHggPSBwO1xuICAgICAgeSA9ICcwJztcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IHA7XG4gICAgICB4ID0gJzAnO1xuICAgIH1cblxuICAgIGlmICh4LmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgICB4ID0gYCR7cGFyc2VJbnQoeCwgMTApICogcHJvZ3Jlc3MgKiBydGxGYWN0b3J9JWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSBgJHt4ICogcHJvZ3Jlc3MgKiBydGxGYWN0b3J9cHhgO1xuICAgIH1cblxuICAgIGlmICh5LmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgICB5ID0gYCR7cGFyc2VJbnQoeSwgMTApICogcHJvZ3Jlc3N9JWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHkgPSBgJHt5ICogcHJvZ3Jlc3N9cHhgO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcgJiYgb3BhY2l0eSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY3VycmVudE9wYWNpdHkgPSBvcGFjaXR5IC0gKG9wYWNpdHkgLSAxKSAqICgxIC0gTWF0aC5hYnMocHJvZ3Jlc3MpKTtcbiAgICAgICRlbFswXS5zdHlsZS5vcGFjaXR5ID0gY3VycmVudE9wYWNpdHk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzY2FsZSA9PT0gJ3VuZGVmaW5lZCcgfHwgc2NhbGUgPT09IG51bGwpIHtcbiAgICAgICRlbC50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKCR7eH0sICR7eX0sIDBweClgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY3VycmVudFNjYWxlID0gc2NhbGUgLSAoc2NhbGUgLSAxKSAqICgxIC0gTWF0aC5hYnMocHJvZ3Jlc3MpKTtcbiAgICAgICRlbC50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKCR7eH0sICR7eX0sIDBweCkgc2NhbGUoJHtjdXJyZW50U2NhbGV9KWApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgJGVsLFxuICAgICAgc2xpZGVzLFxuICAgICAgcHJvZ3Jlc3MsXG4gICAgICBzbmFwR3JpZFxuICAgIH0gPSBzd2lwZXI7XG4gICAgJGVsLmNoaWxkcmVuKCdbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVdJykuZWFjaChlbCA9PiB7XG4gICAgICBzZXRUcmFuc2Zvcm0oZWwsIHByb2dyZXNzKTtcbiAgICB9KTtcbiAgICBzbGlkZXMuZWFjaCgoc2xpZGVFbCwgc2xpZGVJbmRleCkgPT4ge1xuICAgICAgbGV0IHNsaWRlUHJvZ3Jlc3MgPSBzbGlkZUVsLnByb2dyZXNzO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEgJiYgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycpIHtcbiAgICAgICAgc2xpZGVQcm9ncmVzcyArPSBNYXRoLmNlaWwoc2xpZGVJbmRleCAvIDIpIC0gcHJvZ3Jlc3MgKiAoc25hcEdyaWQubGVuZ3RoIC0gMSk7XG4gICAgICB9XG5cbiAgICAgIHNsaWRlUHJvZ3Jlc3MgPSBNYXRoLm1pbihNYXRoLm1heChzbGlkZVByb2dyZXNzLCAtMSksIDEpO1xuICAgICAgJChzbGlkZUVsKS5maW5kKCdbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVdJykuZWFjaChlbCA9PiB7XG4gICAgICAgIHNldFRyYW5zZm9ybShlbCwgc2xpZGVQcm9ncmVzcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gKGR1cmF0aW9uID0gc3dpcGVyLnBhcmFtcy5zcGVlZCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICRlbFxuICAgIH0gPSBzd2lwZXI7XG4gICAgJGVsLmZpbmQoJ1tkYXRhLXN3aXBlci1wYXJhbGxheF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC14XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtb3BhY2l0eV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZV0nKS5lYWNoKHBhcmFsbGF4RWwgPT4ge1xuICAgICAgY29uc3QgJHBhcmFsbGF4RWwgPSAkKHBhcmFsbGF4RWwpO1xuICAgICAgbGV0IHBhcmFsbGF4RHVyYXRpb24gPSBwYXJzZUludCgkcGFyYWxsYXhFbC5hdHRyKCdkYXRhLXN3aXBlci1wYXJhbGxheC1kdXJhdGlvbicpLCAxMCkgfHwgZHVyYXRpb247XG4gICAgICBpZiAoZHVyYXRpb24gPT09IDApIHBhcmFsbGF4RHVyYXRpb24gPSAwO1xuICAgICAgJHBhcmFsbGF4RWwudHJhbnNpdGlvbihwYXJhbGxheER1cmF0aW9uKTtcbiAgICB9KTtcbiAgfTtcblxuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9IHRydWU7XG4gICAgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSB0cnVlO1xuICB9KTtcbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zd2lwZXIsIGR1cmF0aW9uKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICdzc3Itd2luZG93JztcbmltcG9ydCAkIGZyb20gJy4uLy4uL3NoYXJlZC9kb20uanMnO1xuaW1wb3J0IHsgbmV4dFRpY2sgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgZnJvbSAnLi4vLi4vc2hhcmVkL2NyZWF0ZS1lbGVtZW50LWlmLW5vdC1kZWZpbmVkLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNjcm9sbGJhcih7XG4gIHN3aXBlcixcbiAgZXh0ZW5kUGFyYW1zLFxuICBvbixcbiAgZW1pdFxufSkge1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGxldCBpc1RvdWNoZWQgPSBmYWxzZTtcbiAgbGV0IHRpbWVvdXQgPSBudWxsO1xuICBsZXQgZHJhZ1RpbWVvdXQgPSBudWxsO1xuICBsZXQgZHJhZ1N0YXJ0UG9zO1xuICBsZXQgZHJhZ1NpemU7XG4gIGxldCB0cmFja1NpemU7XG4gIGxldCBkaXZpZGVyO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIHNjcm9sbGJhcjoge1xuICAgICAgZWw6IG51bGwsXG4gICAgICBkcmFnU2l6ZTogJ2F1dG8nLFxuICAgICAgaGlkZTogZmFsc2UsXG4gICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgc25hcE9uUmVsZWFzZTogdHJ1ZSxcbiAgICAgIGxvY2tDbGFzczogJ3N3aXBlci1zY3JvbGxiYXItbG9jaycsXG4gICAgICBkcmFnQ2xhc3M6ICdzd2lwZXItc2Nyb2xsYmFyLWRyYWcnLFxuICAgICAgc2Nyb2xsYmFyRGlzYWJsZWRDbGFzczogJ3N3aXBlci1zY3JvbGxiYXItZGlzYWJsZWQnLFxuICAgICAgaG9yaXpvbnRhbENsYXNzOiBgc3dpcGVyLXNjcm9sbGJhci1ob3Jpem9udGFsYCxcbiAgICAgIHZlcnRpY2FsQ2xhc3M6IGBzd2lwZXItc2Nyb2xsYmFyLXZlcnRpY2FsYFxuICAgIH1cbiAgfSk7XG4gIHN3aXBlci5zY3JvbGxiYXIgPSB7XG4gICAgZWw6IG51bGwsXG4gICAgZHJhZ0VsOiBudWxsLFxuICAgICRlbDogbnVsbCxcbiAgICAkZHJhZ0VsOiBudWxsXG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZWwgfHwgIXN3aXBlci5zY3JvbGxiYXIuZWwpIHJldHVybjtcbiAgICBjb25zdCB7XG4gICAgICBzY3JvbGxiYXIsXG4gICAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICAgIHByb2dyZXNzXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCB7XG4gICAgICAkZHJhZ0VsLFxuICAgICAgJGVsXG4gICAgfSA9IHNjcm9sbGJhcjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICBsZXQgbmV3U2l6ZSA9IGRyYWdTaXplO1xuICAgIGxldCBuZXdQb3MgPSAodHJhY2tTaXplIC0gZHJhZ1NpemUpICogcHJvZ3Jlc3M7XG5cbiAgICBpZiAocnRsKSB7XG4gICAgICBuZXdQb3MgPSAtbmV3UG9zO1xuXG4gICAgICBpZiAobmV3UG9zID4gMCkge1xuICAgICAgICBuZXdTaXplID0gZHJhZ1NpemUgLSBuZXdQb3M7XG4gICAgICAgIG5ld1BvcyA9IDA7XG4gICAgICB9IGVsc2UgaWYgKC1uZXdQb3MgKyBkcmFnU2l6ZSA+IHRyYWNrU2l6ZSkge1xuICAgICAgICBuZXdTaXplID0gdHJhY2tTaXplICsgbmV3UG9zO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmV3UG9zIDwgMCkge1xuICAgICAgbmV3U2l6ZSA9IGRyYWdTaXplICsgbmV3UG9zO1xuICAgICAgbmV3UG9zID0gMDtcbiAgICB9IGVsc2UgaWYgKG5ld1BvcyArIGRyYWdTaXplID4gdHJhY2tTaXplKSB7XG4gICAgICBuZXdTaXplID0gdHJhY2tTaXplIC0gbmV3UG9zO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICRkcmFnRWwudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgke25ld1Bvc31weCwgMCwgMClgKTtcbiAgICAgICRkcmFnRWxbMF0uc3R5bGUud2lkdGggPSBgJHtuZXdTaXplfXB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgJGRyYWdFbC50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKDBweCwgJHtuZXdQb3N9cHgsIDApYCk7XG4gICAgICAkZHJhZ0VsWzBdLnN0eWxlLmhlaWdodCA9IGAke25ld1NpemV9cHhgO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuaGlkZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgJGVsWzBdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkZWxbMF0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICRlbC50cmFuc2l0aW9uKDQwMCk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKSB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIHN3aXBlci5zY3JvbGxiYXIuJGRyYWdFbC50cmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNpemUoKSB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhclxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3Qge1xuICAgICAgJGRyYWdFbCxcbiAgICAgICRlbFxuICAgIH0gPSBzY3JvbGxiYXI7XG4gICAgJGRyYWdFbFswXS5zdHlsZS53aWR0aCA9ICcnO1xuICAgICRkcmFnRWxbMF0uc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgdHJhY2tTaXplID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJGVsWzBdLm9mZnNldFdpZHRoIDogJGVsWzBdLm9mZnNldEhlaWdodDtcbiAgICBkaXZpZGVyID0gc3dpcGVyLnNpemUgLyAoc3dpcGVyLnZpcnR1YWxTaXplICsgc3dpcGVyLnBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmUgLSAoc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5zbmFwR3JpZFswXSA6IDApKTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5kcmFnU2l6ZSA9PT0gJ2F1dG8nKSB7XG4gICAgICBkcmFnU2l6ZSA9IHRyYWNrU2l6ZSAqIGRpdmlkZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWdTaXplID0gcGFyc2VJbnQoc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ1NpemUsIDEwKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAkZHJhZ0VsWzBdLnN0eWxlLndpZHRoID0gYCR7ZHJhZ1NpemV9cHhgO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZHJhZ0VsWzBdLnN0eWxlLmhlaWdodCA9IGAke2RyYWdTaXplfXB4YDtcbiAgICB9XG5cbiAgICBpZiAoZGl2aWRlciA+PSAxKSB7XG4gICAgICAkZWxbMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9IGVsc2Uge1xuICAgICAgJGVsWzBdLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuaGlkZSkge1xuICAgICAgJGVsWzBdLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHNjcm9sbGJhci4kZWxbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmxvY2tDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9pbnRlclBvc2l0aW9uKGUpIHtcbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICByZXR1cm4gZS50eXBlID09PSAndG91Y2hzdGFydCcgfHwgZS50eXBlID09PSAndG91Y2htb3ZlJyA/IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYIDogZS5jbGllbnRYO1xuICAgIH1cblxuICAgIHJldHVybiBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFkgOiBlLmNsaWVudFk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXREcmFnUG9zaXRpb24oZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHJ0bFRyYW5zbGF0ZTogcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCB7XG4gICAgICAkZWxcbiAgICB9ID0gc2Nyb2xsYmFyO1xuICAgIGxldCBwb3NpdGlvblJhdGlvO1xuICAgIHBvc2l0aW9uUmF0aW8gPSAoZ2V0UG9pbnRlclBvc2l0aW9uKGUpIC0gJGVsLm9mZnNldCgpW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnXSAtIChkcmFnU3RhcnRQb3MgIT09IG51bGwgPyBkcmFnU3RhcnRQb3MgOiBkcmFnU2l6ZSAvIDIpKSAvICh0cmFja1NpemUgLSBkcmFnU2l6ZSk7XG4gICAgcG9zaXRpb25SYXRpbyA9IE1hdGgubWF4KE1hdGgubWluKHBvc2l0aW9uUmF0aW8sIDEpLCAwKTtcblxuICAgIGlmIChydGwpIHtcbiAgICAgIHBvc2l0aW9uUmF0aW8gPSAxIC0gcG9zaXRpb25SYXRpbztcbiAgICB9XG5cbiAgICBjb25zdCBwb3NpdGlvbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKSArIChzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpICogcG9zaXRpb25SYXRpbztcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MocG9zaXRpb24pO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUocG9zaXRpb24pO1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdTdGFydChlKSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXI7XG4gICAgY29uc3Qge1xuICAgICAgc2Nyb2xsYmFyLFxuICAgICAgJHdyYXBwZXJFbFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3Qge1xuICAgICAgJGVsLFxuICAgICAgJGRyYWdFbFxuICAgIH0gPSBzY3JvbGxiYXI7XG4gICAgaXNUb3VjaGVkID0gdHJ1ZTtcbiAgICBkcmFnU3RhcnRQb3MgPSBlLnRhcmdldCA9PT0gJGRyYWdFbFswXSB8fCBlLnRhcmdldCA9PT0gJGRyYWdFbCA/IGdldFBvaW50ZXJQb3NpdGlvbihlKSAtIGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnXSA6IG51bGw7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgJHdyYXBwZXJFbC50cmFuc2l0aW9uKDEwMCk7XG4gICAgJGRyYWdFbC50cmFuc2l0aW9uKDEwMCk7XG4gICAgc2V0RHJhZ1Bvc2l0aW9uKGUpO1xuICAgIGNsZWFyVGltZW91dChkcmFnVGltZW91dCk7XG4gICAgJGVsLnRyYW5zaXRpb24oMCk7XG5cbiAgICBpZiAocGFyYW1zLmhpZGUpIHtcbiAgICAgICRlbC5jc3MoJ29wYWNpdHknLCAxKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5jc3MoJ3Njcm9sbC1zbmFwLXR5cGUnLCAnbm9uZScpO1xuICAgIH1cblxuICAgIGVtaXQoJ3Njcm9sbGJhckRyYWdTdGFydCcsIGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnTW92ZShlKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2Nyb2xsYmFyLFxuICAgICAgJHdyYXBwZXJFbFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3Qge1xuICAgICAgJGVsLFxuICAgICAgJGRyYWdFbFxuICAgIH0gPSBzY3JvbGxiYXI7XG4gICAgaWYgKCFpc1RvdWNoZWQpIHJldHVybjtcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIHNldERyYWdQb3NpdGlvbihlKTtcbiAgICAkd3JhcHBlckVsLnRyYW5zaXRpb24oMCk7XG4gICAgJGVsLnRyYW5zaXRpb24oMCk7XG4gICAgJGRyYWdFbC50cmFuc2l0aW9uKDApO1xuICAgIGVtaXQoJ3Njcm9sbGJhckRyYWdNb3ZlJywgZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdFbmQoZSkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgICR3cmFwcGVyRWxcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHtcbiAgICAgICRlbFxuICAgIH0gPSBzY3JvbGxiYXI7XG4gICAgaWYgKCFpc1RvdWNoZWQpIHJldHVybjtcbiAgICBpc1RvdWNoZWQgPSBmYWxzZTtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLmNzcygnc2Nyb2xsLXNuYXAtdHlwZScsICcnKTtcbiAgICAgICR3cmFwcGVyRWwudHJhbnNpdGlvbignJyk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5oaWRlKSB7XG4gICAgICBjbGVhclRpbWVvdXQoZHJhZ1RpbWVvdXQpO1xuICAgICAgZHJhZ1RpbWVvdXQgPSBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICRlbC5jc3MoJ29wYWNpdHknLCAwKTtcbiAgICAgICAgJGVsLnRyYW5zaXRpb24oNDAwKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cblxuICAgIGVtaXQoJ3Njcm9sbGJhckRyYWdFbmQnLCBlKTtcblxuICAgIGlmIChwYXJhbXMuc25hcE9uUmVsZWFzZSkge1xuICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXZlbnRzKG1ldGhvZCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHRvdWNoRXZlbnRzVG91Y2gsXG4gICAgICB0b3VjaEV2ZW50c0Rlc2t0b3AsXG4gICAgICBwYXJhbXMsXG4gICAgICBzdXBwb3J0XG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCAkZWwgPSBzY3JvbGxiYXIuJGVsO1xuICAgIGlmICghJGVsKSByZXR1cm47XG4gICAgY29uc3QgdGFyZ2V0ID0gJGVsWzBdO1xuICAgIGNvbnN0IGFjdGl2ZUxpc3RlbmVyID0gc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIGNvbnN0IHBhc3NpdmVMaXN0ZW5lciA9IHN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyICYmIHBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG4gICAgY29uc3QgZXZlbnRNZXRob2QgPSBtZXRob2QgPT09ICdvbicgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG5cbiAgICBpZiAoIXN1cHBvcnQudG91Y2gpIHtcbiAgICAgIHRhcmdldFtldmVudE1ldGhvZF0odG91Y2hFdmVudHNEZXNrdG9wLnN0YXJ0LCBvbkRyYWdTdGFydCwgYWN0aXZlTGlzdGVuZXIpO1xuICAgICAgZG9jdW1lbnRbZXZlbnRNZXRob2RdKHRvdWNoRXZlbnRzRGVza3RvcC5tb3ZlLCBvbkRyYWdNb3ZlLCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgICBkb2N1bWVudFtldmVudE1ldGhvZF0odG91Y2hFdmVudHNEZXNrdG9wLmVuZCwgb25EcmFnRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRbZXZlbnRNZXRob2RdKHRvdWNoRXZlbnRzVG91Y2guc3RhcnQsIG9uRHJhZ1N0YXJ0LCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgICB0YXJnZXRbZXZlbnRNZXRob2RdKHRvdWNoRXZlbnRzVG91Y2gubW92ZSwgb25EcmFnTW92ZSwgYWN0aXZlTGlzdGVuZXIpO1xuICAgICAgdGFyZ2V0W2V2ZW50TWV0aG9kXSh0b3VjaEV2ZW50c1RvdWNoLmVuZCwgb25EcmFnRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVuYWJsZURyYWdnYWJsZSgpIHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmVsIHx8ICFzd2lwZXIuc2Nyb2xsYmFyLmVsKSByZXR1cm47XG4gICAgZXZlbnRzKCdvbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzYWJsZURyYWdnYWJsZSgpIHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmVsIHx8ICFzd2lwZXIuc2Nyb2xsYmFyLmVsKSByZXR1cm47XG4gICAgZXZlbnRzKCdvZmYnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2Nyb2xsYmFyLFxuICAgICAgJGVsOiAkc3dpcGVyRWxcbiAgICB9ID0gc3dpcGVyO1xuICAgIHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5zY3JvbGxiYXIsIHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLCB7XG4gICAgICBlbDogJ3N3aXBlci1zY3JvbGxiYXInXG4gICAgfSk7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXI7XG4gICAgaWYgKCFwYXJhbXMuZWwpIHJldHVybjtcbiAgICBsZXQgJGVsID0gJChwYXJhbXMuZWwpO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycgJiYgJGVsLmxlbmd0aCA+IDEgJiYgJHN3aXBlckVsLmZpbmQocGFyYW1zLmVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICRlbCA9ICRzd2lwZXJFbC5maW5kKHBhcmFtcy5lbCk7XG4gICAgfVxuXG4gICAgJGVsLmFkZENsYXNzKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MgOiBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgbGV0ICRkcmFnRWwgPSAkZWwuZmluZChgLiR7c3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ0NsYXNzfWApO1xuXG4gICAgaWYgKCRkcmFnRWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAkZHJhZ0VsID0gJChgPGRpdiBjbGFzcz1cIiR7c3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ0NsYXNzfVwiPjwvZGl2PmApO1xuICAgICAgJGVsLmFwcGVuZCgkZHJhZ0VsKTtcbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKHNjcm9sbGJhciwge1xuICAgICAgJGVsLFxuICAgICAgZWw6ICRlbFswXSxcbiAgICAgICRkcmFnRWwsXG4gICAgICBkcmFnRWw6ICRkcmFnRWxbMF1cbiAgICB9KTtcblxuICAgIGlmIChwYXJhbXMuZHJhZ2dhYmxlKSB7XG4gICAgICBlbmFibGVEcmFnZ2FibGUoKTtcbiAgICB9XG5cbiAgICBpZiAoJGVsKSB7XG4gICAgICAkZWxbc3dpcGVyLmVuYWJsZWQgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgIGNvbnN0ICRlbCA9IHN3aXBlci5zY3JvbGxiYXIuJGVsO1xuXG4gICAgaWYgKCRlbCkge1xuICAgICAgJGVsLnJlbW92ZUNsYXNzKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MgOiBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgfVxuXG4gICAgZGlzYWJsZURyYWdnYWJsZSgpO1xuICB9XG5cbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCgpO1xuICAgICAgdXBkYXRlU2l6ZSgpO1xuICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3VwZGF0ZSByZXNpemUgb2JzZXJ2ZXJVcGRhdGUgbG9jayB1bmxvY2snLCAoKSA9PiB7XG4gICAgdXBkYXRlU2l6ZSgpO1xuICB9KTtcbiAgb24oJ3NldFRyYW5zbGF0ZScsICgpID0+IHtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbikgPT4ge1xuICAgIHNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICB9KTtcbiAgb24oJ2VuYWJsZSBkaXNhYmxlJywgKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICRlbFxuICAgIH0gPSBzd2lwZXIuc2Nyb2xsYmFyO1xuXG4gICAgaWYgKCRlbCkge1xuICAgICAgJGVsW3N3aXBlci5lbmFibGVkID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmxvY2tDbGFzcyk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgZGVzdHJveSgpO1xuICB9KTtcblxuICBjb25zdCBlbmFibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLiRlbC5yZW1vdmVDbGFzcyhzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5zY3JvbGxiYXJEaXNhYmxlZENsYXNzKTtcblxuICAgIGlmIChzd2lwZXIuc2Nyb2xsYmFyLiRlbCkge1xuICAgICAgc3dpcGVyLnNjcm9sbGJhci4kZWwucmVtb3ZlQ2xhc3Moc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuc2Nyb2xsYmFyRGlzYWJsZWRDbGFzcyk7XG4gICAgfVxuXG4gICAgaW5pdCgpO1xuICAgIHVwZGF0ZVNpemUoKTtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfTtcblxuICBjb25zdCBkaXNhYmxlID0gKCkgPT4ge1xuICAgIHN3aXBlci4kZWwuYWRkQ2xhc3Moc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuc2Nyb2xsYmFyRGlzYWJsZWRDbGFzcyk7XG5cbiAgICBpZiAoc3dpcGVyLnNjcm9sbGJhci4kZWwpIHtcbiAgICAgIHN3aXBlci5zY3JvbGxiYXIuJGVsLmFkZENsYXNzKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLnNjcm9sbGJhckRpc2FibGVkQ2xhc3MpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTtcbiAgfTtcblxuICBPYmplY3QuYXNzaWduKHN3aXBlci5zY3JvbGxiYXIsIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZSxcbiAgICB1cGRhdGVTaXplLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBpbml0LFxuICAgIGRlc3Ryb3lcbiAgfSk7XG59IiwiaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0ICQgZnJvbSAnLi4vLi4vc2hhcmVkL2RvbS5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUaHVtYih7XG4gIHN3aXBlcixcbiAgZXh0ZW5kUGFyYW1zLFxuICBvblxufSkge1xuICBleHRlbmRQYXJhbXMoe1xuICAgIHRodW1iczoge1xuICAgICAgc3dpcGVyOiBudWxsLFxuICAgICAgbXVsdGlwbGVBY3RpdmVUaHVtYnM6IHRydWUsXG4gICAgICBhdXRvU2Nyb2xsT2Zmc2V0OiAwLFxuICAgICAgc2xpZGVUaHVtYkFjdGl2ZUNsYXNzOiAnc3dpcGVyLXNsaWRlLXRodW1iLWFjdGl2ZScsXG4gICAgICB0aHVtYnNDb250YWluZXJDbGFzczogJ3N3aXBlci10aHVtYnMnXG4gICAgfVxuICB9KTtcbiAgbGV0IGluaXRpYWxpemVkID0gZmFsc2U7XG4gIGxldCBzd2lwZXJDcmVhdGVkID0gZmFsc2U7XG4gIHN3aXBlci50aHVtYnMgPSB7XG4gICAgc3dpcGVyOiBudWxsXG4gIH07XG5cbiAgZnVuY3Rpb24gb25UaHVtYkNsaWNrKCkge1xuICAgIGNvbnN0IHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgIGlmICghdGh1bWJzU3dpcGVyIHx8IHRodW1ic1N3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICBjb25zdCBjbGlja2VkSW5kZXggPSB0aHVtYnNTd2lwZXIuY2xpY2tlZEluZGV4O1xuICAgIGNvbnN0IGNsaWNrZWRTbGlkZSA9IHRodW1ic1N3aXBlci5jbGlja2VkU2xpZGU7XG4gICAgaWYgKGNsaWNrZWRTbGlkZSAmJiAkKGNsaWNrZWRTbGlkZSkuaGFzQ2xhc3Moc3dpcGVyLnBhcmFtcy50aHVtYnMuc2xpZGVUaHVtYkFjdGl2ZUNsYXNzKSkgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgY2xpY2tlZEluZGV4ID09PSAndW5kZWZpbmVkJyB8fCBjbGlja2VkSW5kZXggPT09IG51bGwpIHJldHVybjtcbiAgICBsZXQgc2xpZGVUb0luZGV4O1xuXG4gICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgc2xpZGVUb0luZGV4ID0gcGFyc2VJbnQoJCh0aHVtYnNTd2lwZXIuY2xpY2tlZFNsaWRlKS5hdHRyKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlVG9JbmRleCA9IGNsaWNrZWRJbmRleDtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBsZXQgY3VycmVudEluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuXG4gICAgICBpZiAoc3dpcGVyLnNsaWRlcy5lcShjdXJyZW50SW5kZXgpLmhhc0NsYXNzKHN3aXBlci5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICAgICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLiR3cmFwcGVyRWxbMF0uY2xpZW50TGVmdDtcbiAgICAgICAgY3VycmVudEluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcmV2SW5kZXggPSBzd2lwZXIuc2xpZGVzLmVxKGN1cnJlbnRJbmRleCkucHJldkFsbChgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtzbGlkZVRvSW5kZXh9XCJdYCkuZXEoMCkuaW5kZXgoKTtcbiAgICAgIGNvbnN0IG5leHRJbmRleCA9IHN3aXBlci5zbGlkZXMuZXEoY3VycmVudEluZGV4KS5uZXh0QWxsKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3NsaWRlVG9JbmRleH1cIl1gKS5lcSgwKS5pbmRleCgpO1xuICAgICAgaWYgKHR5cGVvZiBwcmV2SW5kZXggPT09ICd1bmRlZmluZWQnKSBzbGlkZVRvSW5kZXggPSBuZXh0SW5kZXg7ZWxzZSBpZiAodHlwZW9mIG5leHRJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHNsaWRlVG9JbmRleCA9IHByZXZJbmRleDtlbHNlIGlmIChuZXh0SW5kZXggLSBjdXJyZW50SW5kZXggPCBjdXJyZW50SW5kZXggLSBwcmV2SW5kZXgpIHNsaWRlVG9JbmRleCA9IG5leHRJbmRleDtlbHNlIHNsaWRlVG9JbmRleCA9IHByZXZJbmRleDtcbiAgICB9XG5cbiAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCB7XG4gICAgICB0aHVtYnM6IHRodW1ic1BhcmFtc1xuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGlmIChpbml0aWFsaXplZCkgcmV0dXJuIGZhbHNlO1xuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBjb25zdCBTd2lwZXJDbGFzcyA9IHN3aXBlci5jb25zdHJ1Y3RvcjtcblxuICAgIGlmICh0aHVtYnNQYXJhbXMuc3dpcGVyIGluc3RhbmNlb2YgU3dpcGVyQ2xhc3MpIHtcbiAgICAgIHN3aXBlci50aHVtYnMuc3dpcGVyID0gdGh1bWJzUGFyYW1zLnN3aXBlcjtcbiAgICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnRodW1icy5zd2lwZXIub3JpZ2luYWxQYXJhbXMsIHtcbiAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmFzc2lnbihzd2lwZXIudGh1bWJzLnN3aXBlci5wYXJhbXMsIHtcbiAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodGh1bWJzUGFyYW1zLnN3aXBlcikpIHtcbiAgICAgIGNvbnN0IHRodW1ic1N3aXBlclBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHRodW1ic1BhcmFtcy5zd2lwZXIpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aHVtYnNTd2lwZXJQYXJhbXMsIHtcbiAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLnRodW1icy5zd2lwZXIgPSBuZXcgU3dpcGVyQ2xhc3ModGh1bWJzU3dpcGVyUGFyYW1zKTtcbiAgICAgIHN3aXBlckNyZWF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHN3aXBlci50aHVtYnMuc3dpcGVyLiRlbC5hZGRDbGFzcyhzd2lwZXIucGFyYW1zLnRodW1icy50aHVtYnNDb250YWluZXJDbGFzcyk7XG4gICAgc3dpcGVyLnRodW1icy5zd2lwZXIub24oJ3RhcCcsIG9uVGh1bWJDbGljayk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUoaW5pdGlhbCkge1xuICAgIGNvbnN0IHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgIGlmICghdGh1bWJzU3dpcGVyIHx8IHRodW1ic1N3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICBjb25zdCBzbGlkZXNQZXJWaWV3ID0gdGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyB0aHVtYnNTd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldzsgLy8gQWN0aXZhdGUgdGh1bWJzXG5cbiAgICBsZXQgdGh1bWJzVG9BY3RpdmF0ZSA9IDE7XG4gICAgY29uc3QgdGh1bWJBY3RpdmVDbGFzcyA9IHN3aXBlci5wYXJhbXMudGh1bWJzLnNsaWRlVGh1bWJBY3RpdmVDbGFzcztcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxICYmICFzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICB0aHVtYnNUb0FjdGl2YXRlID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgIH1cblxuICAgIGlmICghc3dpcGVyLnBhcmFtcy50aHVtYnMubXVsdGlwbGVBY3RpdmVUaHVtYnMpIHtcbiAgICAgIHRodW1ic1RvQWN0aXZhdGUgPSAxO1xuICAgIH1cblxuICAgIHRodW1ic1RvQWN0aXZhdGUgPSBNYXRoLmZsb29yKHRodW1ic1RvQWN0aXZhdGUpO1xuICAgIHRodW1ic1N3aXBlci5zbGlkZXMucmVtb3ZlQ2xhc3ModGh1bWJBY3RpdmVDbGFzcyk7XG5cbiAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5sb29wIHx8IHRodW1ic1N3aXBlci5wYXJhbXMudmlydHVhbCAmJiB0aHVtYnNTd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aHVtYnNUb0FjdGl2YXRlOyBpICs9IDEpIHtcbiAgICAgICAgdGh1bWJzU3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c3dpcGVyLnJlYWxJbmRleCArIGl9XCJdYCkuYWRkQ2xhc3ModGh1bWJBY3RpdmVDbGFzcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGh1bWJzVG9BY3RpdmF0ZTsgaSArPSAxKSB7XG4gICAgICAgIHRodW1ic1N3aXBlci5zbGlkZXMuZXEoc3dpcGVyLnJlYWxJbmRleCArIGkpLmFkZENsYXNzKHRodW1iQWN0aXZlQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGF1dG9TY3JvbGxPZmZzZXQgPSBzd2lwZXIucGFyYW1zLnRodW1icy5hdXRvU2Nyb2xsT2Zmc2V0O1xuICAgIGNvbnN0IHVzZU9mZnNldCA9IGF1dG9TY3JvbGxPZmZzZXQgJiYgIXRodW1ic1N3aXBlci5wYXJhbXMubG9vcDtcblxuICAgIGlmIChzd2lwZXIucmVhbEluZGV4ICE9PSB0aHVtYnNTd2lwZXIucmVhbEluZGV4IHx8IHVzZU9mZnNldCkge1xuICAgICAgbGV0IGN1cnJlbnRUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgIGxldCBuZXdUaHVtYnNJbmRleDtcbiAgICAgIGxldCBkaXJlY3Rpb247XG5cbiAgICAgIGlmICh0aHVtYnNTd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgaWYgKHRodW1ic1N3aXBlci5zbGlkZXMuZXEoY3VycmVudFRodW1ic0luZGV4KS5oYXNDbGFzcyh0aHVtYnNTd2lwZXIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG4gICAgICAgICAgdGh1bWJzU3dpcGVyLmxvb3BGaXgoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbiAgICAgICAgICB0aHVtYnNTd2lwZXIuX2NsaWVudExlZnQgPSB0aHVtYnNTd2lwZXIuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0O1xuICAgICAgICAgIGN1cnJlbnRUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgICAgfSAvLyBGaW5kIGFjdHVhbCB0aHVtYnMgaW5kZXggdG8gc2xpZGUgdG9cblxuXG4gICAgICAgIGNvbnN0IHByZXZUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5zbGlkZXMuZXEoY3VycmVudFRodW1ic0luZGV4KS5wcmV2QWxsKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3N3aXBlci5yZWFsSW5kZXh9XCJdYCkuZXEoMCkuaW5kZXgoKTtcbiAgICAgICAgY29uc3QgbmV4dFRodW1ic0luZGV4ID0gdGh1bWJzU3dpcGVyLnNsaWRlcy5lcShjdXJyZW50VGh1bWJzSW5kZXgpLm5leHRBbGwoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c3dpcGVyLnJlYWxJbmRleH1cIl1gKS5lcSgwKS5pbmRleCgpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgcHJldlRodW1ic0luZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV4dFRodW1ic0luZGV4O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBuZXh0VGh1bWJzSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbmV3VGh1bWJzSW5kZXggPSBwcmV2VGh1bWJzSW5kZXg7XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dFRodW1ic0luZGV4IC0gY3VycmVudFRodW1ic0luZGV4ID09PSBjdXJyZW50VGh1bWJzSW5kZXggLSBwcmV2VGh1bWJzSW5kZXgpIHtcbiAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxID8gbmV4dFRodW1ic0luZGV4IDogY3VycmVudFRodW1ic0luZGV4O1xuICAgICAgICB9IGVsc2UgaWYgKG5leHRUaHVtYnNJbmRleCAtIGN1cnJlbnRUaHVtYnNJbmRleCA8IGN1cnJlbnRUaHVtYnNJbmRleCAtIHByZXZUaHVtYnNJbmRleCkge1xuICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV4dFRodW1ic0luZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gcHJldlRodW1ic0luZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlyZWN0aW9uID0gc3dpcGVyLmFjdGl2ZUluZGV4ID4gc3dpcGVyLnByZXZpb3VzSW5kZXggPyAnbmV4dCcgOiAncHJldic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdUaHVtYnNJbmRleCA9IHN3aXBlci5yZWFsSW5kZXg7XG4gICAgICAgIGRpcmVjdGlvbiA9IG5ld1RodW1ic0luZGV4ID4gc3dpcGVyLnByZXZpb3VzSW5kZXggPyAnbmV4dCcgOiAncHJldic7XG4gICAgICB9XG5cbiAgICAgIGlmICh1c2VPZmZzZXQpIHtcbiAgICAgICAgbmV3VGh1bWJzSW5kZXggKz0gZGlyZWN0aW9uID09PSAnbmV4dCcgPyBhdXRvU2Nyb2xsT2Zmc2V0IDogLTEgKiBhdXRvU2Nyb2xsT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICBpZiAodGh1bWJzU3dpcGVyLnZpc2libGVTbGlkZXNJbmRleGVzICYmIHRodW1ic1N3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcy5pbmRleE9mKG5ld1RodW1ic0luZGV4KSA8IDApIHtcbiAgICAgICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgICBpZiAobmV3VGh1bWJzSW5kZXggPiBjdXJyZW50VGh1bWJzSW5kZXgpIHtcbiAgICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV3VGh1bWJzSW5kZXggLSBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1RodW1ic0luZGV4ID0gbmV3VGh1bWJzSW5kZXggKyBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5ld1RodW1ic0luZGV4ID4gY3VycmVudFRodW1ic0luZGV4ICYmIHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEpIHsvLyBuZXdUaHVtYnNJbmRleCA9IG5ld1RodW1ic0luZGV4IC0gc2xpZGVzUGVyVmlldyArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aHVtYnNTd2lwZXIuc2xpZGVUbyhuZXdUaHVtYnNJbmRleCwgaW5pdGlhbCA/IDAgOiB1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHRodW1ic1xuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGlmICghdGh1bWJzIHx8ICF0aHVtYnMuc3dpcGVyKSByZXR1cm47XG4gICAgaW5pdCgpO1xuICAgIHVwZGF0ZSh0cnVlKTtcbiAgfSk7XG4gIG9uKCdzbGlkZUNoYW5nZSB1cGRhdGUgcmVzaXplIG9ic2VydmVyVXBkYXRlJywgKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ3NldFRyYW5zaXRpb24nLCAoX3MsIGR1cmF0aW9uKSA9PiB7XG4gICAgY29uc3QgdGh1bWJzU3dpcGVyID0gc3dpcGVyLnRodW1icy5zd2lwZXI7XG4gICAgaWYgKCF0aHVtYnNTd2lwZXIgfHwgdGh1bWJzU3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIHRodW1ic1N3aXBlci5zZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfSk7XG4gIG9uKCdiZWZvcmVEZXN0cm95JywgKCkgPT4ge1xuICAgIGNvbnN0IHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgIGlmICghdGh1bWJzU3dpcGVyIHx8IHRodW1ic1N3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgIGlmIChzd2lwZXJDcmVhdGVkKSB7XG4gICAgICB0aHVtYnNTd2lwZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLnRodW1icywge1xuICAgIGluaXQsXG4gICAgdXBkYXRlXG4gIH0pO1xufSIsImltcG9ydCAkIGZyb20gJy4uLy4uL3NoYXJlZC9kb20uanMnO1xuaW1wb3J0IHsgc2V0Q1NTUHJvcGVydHkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVmlydHVhbCh7XG4gIHN3aXBlcixcbiAgZXh0ZW5kUGFyYW1zLFxuICBvbixcbiAgZW1pdFxufSkge1xuICBleHRlbmRQYXJhbXMoe1xuICAgIHZpcnR1YWw6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgc2xpZGVzOiBbXSxcbiAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgcmVuZGVyU2xpZGU6IG51bGwsXG4gICAgICByZW5kZXJFeHRlcm5hbDogbnVsbCxcbiAgICAgIHJlbmRlckV4dGVybmFsVXBkYXRlOiB0cnVlLFxuICAgICAgYWRkU2xpZGVzQmVmb3JlOiAwLFxuICAgICAgYWRkU2xpZGVzQWZ0ZXI6IDBcbiAgICB9XG4gIH0pO1xuICBsZXQgY3NzTW9kZVRpbWVvdXQ7XG4gIHN3aXBlci52aXJ0dWFsID0ge1xuICAgIGNhY2hlOiB7fSxcbiAgICBmcm9tOiB1bmRlZmluZWQsXG4gICAgdG86IHVuZGVmaW5lZCxcbiAgICBzbGlkZXM6IFtdLFxuICAgIG9mZnNldDogMCxcbiAgICBzbGlkZXNHcmlkOiBbXVxuICB9O1xuXG4gIGZ1bmN0aW9uIHJlbmRlclNsaWRlKHNsaWRlLCBpbmRleCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMudmlydHVhbDtcblxuICAgIGlmIChwYXJhbXMuY2FjaGUgJiYgc3dpcGVyLnZpcnR1YWwuY2FjaGVbaW5kZXhdKSB7XG4gICAgICByZXR1cm4gc3dpcGVyLnZpcnR1YWwuY2FjaGVbaW5kZXhdO1xuICAgIH1cblxuICAgIGNvbnN0ICRzbGlkZUVsID0gcGFyYW1zLnJlbmRlclNsaWRlID8gJChwYXJhbXMucmVuZGVyU2xpZGUuY2FsbChzd2lwZXIsIHNsaWRlLCBpbmRleCkpIDogJChgPGRpdiBjbGFzcz1cIiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfVwiIGRhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtpbmRleH1cIj4ke3NsaWRlfTwvZGl2PmApO1xuICAgIGlmICghJHNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSkgJHNsaWRlRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBpbmRleCk7XG4gICAgaWYgKHBhcmFtcy5jYWNoZSkgc3dpcGVyLnZpcnR1YWwuY2FjaGVbaW5kZXhdID0gJHNsaWRlRWw7XG4gICAgcmV0dXJuICRzbGlkZUVsO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlKGZvcmNlKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzUGVyVmlldyxcbiAgICAgIHNsaWRlc1Blckdyb3VwLFxuICAgICAgY2VudGVyZWRTbGlkZXNcbiAgICB9ID0gc3dpcGVyLnBhcmFtcztcbiAgICBjb25zdCB7XG4gICAgICBhZGRTbGlkZXNCZWZvcmUsXG4gICAgICBhZGRTbGlkZXNBZnRlclxuICAgIH0gPSBzd2lwZXIucGFyYW1zLnZpcnR1YWw7XG4gICAgY29uc3Qge1xuICAgICAgZnJvbTogcHJldmlvdXNGcm9tLFxuICAgICAgdG86IHByZXZpb3VzVG8sXG4gICAgICBzbGlkZXMsXG4gICAgICBzbGlkZXNHcmlkOiBwcmV2aW91c1NsaWRlc0dyaWQsXG4gICAgICBvZmZzZXQ6IHByZXZpb3VzT2Zmc2V0XG4gICAgfSA9IHN3aXBlci52aXJ0dWFsO1xuXG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IHx8IDA7XG4gICAgbGV0IG9mZnNldFByb3A7XG4gICAgaWYgKHN3aXBlci5ydGxUcmFuc2xhdGUpIG9mZnNldFByb3AgPSAncmlnaHQnO2Vsc2Ugb2Zmc2V0UHJvcCA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgIGxldCBzbGlkZXNBZnRlcjtcbiAgICBsZXQgc2xpZGVzQmVmb3JlO1xuXG4gICAgaWYgKGNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZXNBZnRlciA9IE1hdGguZmxvb3Ioc2xpZGVzUGVyVmlldyAvIDIpICsgc2xpZGVzUGVyR3JvdXAgKyBhZGRTbGlkZXNBZnRlcjtcbiAgICAgIHNsaWRlc0JlZm9yZSA9IE1hdGguZmxvb3Ioc2xpZGVzUGVyVmlldyAvIDIpICsgc2xpZGVzUGVyR3JvdXAgKyBhZGRTbGlkZXNCZWZvcmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlc0FmdGVyID0gc2xpZGVzUGVyVmlldyArIChzbGlkZXNQZXJHcm91cCAtIDEpICsgYWRkU2xpZGVzQWZ0ZXI7XG4gICAgICBzbGlkZXNCZWZvcmUgPSBzbGlkZXNQZXJHcm91cCArIGFkZFNsaWRlc0JlZm9yZTtcbiAgICB9XG5cbiAgICBjb25zdCBmcm9tID0gTWF0aC5tYXgoKGFjdGl2ZUluZGV4IHx8IDApIC0gc2xpZGVzQmVmb3JlLCAwKTtcbiAgICBjb25zdCB0byA9IE1hdGgubWluKChhY3RpdmVJbmRleCB8fCAwKSArIHNsaWRlc0FmdGVyLCBzbGlkZXMubGVuZ3RoIC0gMSk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gKHN3aXBlci5zbGlkZXNHcmlkW2Zyb21dIHx8IDApIC0gKHN3aXBlci5zbGlkZXNHcmlkWzBdIHx8IDApO1xuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnZpcnR1YWwsIHtcbiAgICAgIGZyb20sXG4gICAgICB0byxcbiAgICAgIG9mZnNldCxcbiAgICAgIHNsaWRlc0dyaWQ6IHN3aXBlci5zbGlkZXNHcmlkXG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBvblJlbmRlcmVkKCkge1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuXG4gICAgICBpZiAoc3dpcGVyLmxhenkgJiYgc3dpcGVyLnBhcmFtcy5sYXp5LmVuYWJsZWQpIHtcbiAgICAgICAgc3dpcGVyLmxhenkubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICBlbWl0KCd2aXJ0dWFsVXBkYXRlJyk7XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzRnJvbSA9PT0gZnJvbSAmJiBwcmV2aW91c1RvID09PSB0byAmJiAhZm9yY2UpIHtcbiAgICAgIGlmIChzd2lwZXIuc2xpZGVzR3JpZCAhPT0gcHJldmlvdXNTbGlkZXNHcmlkICYmIG9mZnNldCAhPT0gcHJldmlvdXNPZmZzZXQpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlcy5jc3Mob2Zmc2V0UHJvcCwgYCR7b2Zmc2V0fXB4YCk7XG4gICAgICB9XG5cbiAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgICAgZW1pdCgndmlydHVhbFVwZGF0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWwpIHtcbiAgICAgIHN3aXBlci5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbC5jYWxsKHN3aXBlciwge1xuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGZyb20sXG4gICAgICAgIHRvLFxuICAgICAgICBzbGlkZXM6IGZ1bmN0aW9uIGdldFNsaWRlcygpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZXNUb1JlbmRlciA9IFtdO1xuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IGZyb207IGkgPD0gdG87IGkgKz0gMSkge1xuICAgICAgICAgICAgc2xpZGVzVG9SZW5kZXIucHVzaChzbGlkZXNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzbGlkZXNUb1JlbmRlcjtcbiAgICAgICAgfSgpXG4gICAgICB9KTtcblxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbFVwZGF0ZSkge1xuICAgICAgICBvblJlbmRlcmVkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbWl0KCd2aXJ0dWFsVXBkYXRlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcmVwZW5kSW5kZXhlcyA9IFtdO1xuICAgIGNvbnN0IGFwcGVuZEluZGV4ZXMgPSBbXTtcblxuICAgIGlmIChmb3JjZSkge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwuZmluZChgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfWApLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gcHJldmlvdXNGcm9tOyBpIDw9IHByZXZpb3VzVG87IGkgKz0gMSkge1xuICAgICAgICBpZiAoaSA8IGZyb20gfHwgaSA+IHRvKSB7XG4gICAgICAgICAgc3dpcGVyLiR3cmFwcGVyRWwuZmluZChgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7aX1cIl1gKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoaSA+PSBmcm9tICYmIGkgPD0gdG8pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcmV2aW91c1RvID09PSAndW5kZWZpbmVkJyB8fCBmb3JjZSkge1xuICAgICAgICAgIGFwcGVuZEluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaSA+IHByZXZpb3VzVG8pIGFwcGVuZEluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICBpZiAoaSA8IHByZXZpb3VzRnJvbSkgcHJlcGVuZEluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGFwcGVuZEluZGV4ZXMuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5hcHBlbmQocmVuZGVyU2xpZGUoc2xpZGVzW2luZGV4XSwgaW5kZXgpKTtcbiAgICB9KTtcbiAgICBwcmVwZW5kSW5kZXhlcy5zb3J0KChhLCBiKSA9PiBiIC0gYSkuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5wcmVwZW5kKHJlbmRlclNsaWRlKHNsaWRlc1tpbmRleF0sIGluZGV4KSk7XG4gICAgfSk7XG4gICAgc3dpcGVyLiR3cmFwcGVyRWwuY2hpbGRyZW4oJy5zd2lwZXItc2xpZGUnKS5jc3Mob2Zmc2V0UHJvcCwgYCR7b2Zmc2V0fXB4YCk7XG4gICAgb25SZW5kZXJlZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kU2xpZGUoc2xpZGVzKSB7XG4gICAgaWYgKHR5cGVvZiBzbGlkZXMgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIHNsaWRlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSkgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnB1c2goc2xpZGVzW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnB1c2goc2xpZGVzKTtcbiAgICB9XG5cbiAgICB1cGRhdGUodHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVwZW5kU2xpZGUoc2xpZGVzKSB7XG4gICAgY29uc3QgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgbGV0IG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyAxO1xuICAgIGxldCBudW1iZXJPZk5ld1NsaWRlcyA9IDE7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzbGlkZXMpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoc2xpZGVzW2ldKSBzd2lwZXIudmlydHVhbC5zbGlkZXMudW5zaGlmdChzbGlkZXNbaV0pO1xuICAgICAgfVxuXG4gICAgICBuZXdBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4ICsgc2xpZGVzLmxlbmd0aDtcbiAgICAgIG51bWJlck9mTmV3U2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQoc2xpZGVzKTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7XG4gICAgICBjb25zdCBjYWNoZSA9IHN3aXBlci52aXJ0dWFsLmNhY2hlO1xuICAgICAgY29uc3QgbmV3Q2FjaGUgPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGNhY2hlKS5mb3JFYWNoKGNhY2hlZEluZGV4ID0+IHtcbiAgICAgICAgY29uc3QgJGNhY2hlZEVsID0gY2FjaGVbY2FjaGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjYWNoZWRFbEluZGV4ID0gJGNhY2hlZEVsLmF0dHIoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG5cbiAgICAgICAgaWYgKGNhY2hlZEVsSW5kZXgpIHtcbiAgICAgICAgICAkY2FjaGVkRWwuYXR0cignZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBwYXJzZUludChjYWNoZWRFbEluZGV4LCAxMCkgKyBudW1iZXJPZk5ld1NsaWRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdDYWNoZVtwYXJzZUludChjYWNoZWRJbmRleCwgMTApICsgbnVtYmVyT2ZOZXdTbGlkZXNdID0gJGNhY2hlZEVsO1xuICAgICAgfSk7XG4gICAgICBzd2lwZXIudmlydHVhbC5jYWNoZSA9IG5ld0NhY2hlO1xuICAgIH1cblxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVTbGlkZShzbGlkZXNJbmRleGVzKSB7XG4gICAgaWYgKHR5cGVvZiBzbGlkZXNJbmRleGVzID09PSAndW5kZWZpbmVkJyB8fCBzbGlkZXNJbmRleGVzID09PSBudWxsKSByZXR1cm47XG4gICAgbGV0IGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2xpZGVzSW5kZXhlcykpIHtcbiAgICAgIGZvciAobGV0IGkgPSBzbGlkZXNJbmRleGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5zcGxpY2Uoc2xpZGVzSW5kZXhlc1tpXSwgMSk7XG5cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5jYWNoZSkge1xuICAgICAgICAgIGRlbGV0ZSBzd2lwZXIudmlydHVhbC5jYWNoZVtzbGlkZXNJbmRleGVzW2ldXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzbGlkZXNJbmRleGVzW2ldIDwgYWN0aXZlSW5kZXgpIGFjdGl2ZUluZGV4IC09IDE7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gTWF0aC5tYXgoYWN0aXZlSW5kZXgsIDApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMuc3BsaWNlKHNsaWRlc0luZGV4ZXMsIDEpO1xuXG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBzd2lwZXIudmlydHVhbC5jYWNoZVtzbGlkZXNJbmRleGVzXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNsaWRlc0luZGV4ZXMgPCBhY3RpdmVJbmRleCkgYWN0aXZlSW5kZXggLT0gMTtcbiAgICAgIGFjdGl2ZUluZGV4ID0gTWF0aC5tYXgoYWN0aXZlSW5kZXgsIDApO1xuICAgIH1cblxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCwgMCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVBbGxTbGlkZXMoKSB7XG4gICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzID0gW107XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7XG4gICAgICBzd2lwZXIudmlydHVhbC5jYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbygwLCAwKTtcbiAgfVxuXG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMgPSBzd2lwZXIucGFyYW1zLnZpcnR1YWwuc2xpZGVzO1xuICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfXZpcnR1YWxgKTtcbiAgICBzd2lwZXIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcblxuICAgIGlmICghc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUpIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSAmJiAhc3dpcGVyLl9pbW1lZGlhdGVWaXJ0dWFsKSB7XG4gICAgICBjbGVhclRpbWVvdXQoY3NzTW9kZVRpbWVvdXQpO1xuICAgICAgY3NzTW9kZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICB9LCAxMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignaW5pdCB1cGRhdGUgcmVzaXplJywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcblxuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHNldENTU1Byb3BlcnR5KHN3aXBlci53cmFwcGVyRWwsICctLXN3aXBlci12aXJ0dWFsLXNpemUnLCBgJHtzd2lwZXIudmlydHVhbFNpemV9cHhgKTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuYXNzaWduKHN3aXBlci52aXJ0dWFsLCB7XG4gICAgYXBwZW5kU2xpZGUsXG4gICAgcHJlcGVuZFNsaWRlLFxuICAgIHJlbW92ZVNsaWRlLFxuICAgIHJlbW92ZUFsbFNsaWRlcyxcbiAgICB1cGRhdGVcbiAgfSk7XG59IiwiaW1wb3J0IHsgZ2V0V2luZG93IH0gZnJvbSAnc3NyLXdpbmRvdyc7XG5pbXBvcnQgJCBmcm9tICcuLi8uLi9zaGFyZWQvZG9tLmpzJztcbmltcG9ydCB7IGdldFRyYW5zbGF0ZSB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBab29tKHtcbiAgc3dpcGVyLFxuICBleHRlbmRQYXJhbXMsXG4gIG9uLFxuICBlbWl0XG59KSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIHpvb206IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgbWF4UmF0aW86IDMsXG4gICAgICBtaW5SYXRpbzogMSxcbiAgICAgIHRvZ2dsZTogdHJ1ZSxcbiAgICAgIGNvbnRhaW5lckNsYXNzOiAnc3dpcGVyLXpvb20tY29udGFpbmVyJyxcbiAgICAgIHpvb21lZFNsaWRlQ2xhc3M6ICdzd2lwZXItc2xpZGUtem9vbWVkJ1xuICAgIH1cbiAgfSk7XG4gIHN3aXBlci56b29tID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlXG4gIH07XG4gIGxldCBjdXJyZW50U2NhbGUgPSAxO1xuICBsZXQgaXNTY2FsaW5nID0gZmFsc2U7XG4gIGxldCBnZXN0dXJlc0VuYWJsZWQ7XG4gIGxldCBmYWtlR2VzdHVyZVRvdWNoZWQ7XG4gIGxldCBmYWtlR2VzdHVyZU1vdmVkO1xuICBjb25zdCBnZXN0dXJlID0ge1xuICAgICRzbGlkZUVsOiB1bmRlZmluZWQsXG4gICAgc2xpZGVXaWR0aDogdW5kZWZpbmVkLFxuICAgIHNsaWRlSGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgJGltYWdlRWw6IHVuZGVmaW5lZCxcbiAgICAkaW1hZ2VXcmFwRWw6IHVuZGVmaW5lZCxcbiAgICBtYXhSYXRpbzogM1xuICB9O1xuICBjb25zdCBpbWFnZSA9IHtcbiAgICBpc1RvdWNoZWQ6IHVuZGVmaW5lZCxcbiAgICBpc01vdmVkOiB1bmRlZmluZWQsXG4gICAgY3VycmVudFg6IHVuZGVmaW5lZCxcbiAgICBjdXJyZW50WTogdW5kZWZpbmVkLFxuICAgIG1pblg6IHVuZGVmaW5lZCxcbiAgICBtaW5ZOiB1bmRlZmluZWQsXG4gICAgbWF4WDogdW5kZWZpbmVkLFxuICAgIG1heFk6IHVuZGVmaW5lZCxcbiAgICB3aWR0aDogdW5kZWZpbmVkLFxuICAgIGhlaWdodDogdW5kZWZpbmVkLFxuICAgIHN0YXJ0WDogdW5kZWZpbmVkLFxuICAgIHN0YXJ0WTogdW5kZWZpbmVkLFxuICAgIHRvdWNoZXNTdGFydDoge30sXG4gICAgdG91Y2hlc0N1cnJlbnQ6IHt9XG4gIH07XG4gIGNvbnN0IHZlbG9jaXR5ID0ge1xuICAgIHg6IHVuZGVmaW5lZCxcbiAgICB5OiB1bmRlZmluZWQsXG4gICAgcHJldlBvc2l0aW9uWDogdW5kZWZpbmVkLFxuICAgIHByZXZQb3NpdGlvblk6IHVuZGVmaW5lZCxcbiAgICBwcmV2VGltZTogdW5kZWZpbmVkXG4gIH07XG4gIGxldCBzY2FsZSA9IDE7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzd2lwZXIuem9vbSwgJ3NjYWxlJywge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBzY2FsZTtcbiAgICB9LFxuXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICBpZiAoc2NhbGUgIT09IHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGltYWdlRWwgPSBnZXN0dXJlLiRpbWFnZUVsID8gZ2VzdHVyZS4kaW1hZ2VFbFswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc2xpZGVFbCA9IGdlc3R1cmUuJHNsaWRlRWwgPyBnZXN0dXJlLiRzbGlkZUVsWzBdIDogdW5kZWZpbmVkO1xuICAgICAgICBlbWl0KCd6b29tQ2hhbmdlJywgdmFsdWUsIGltYWdlRWwsIHNsaWRlRWwpO1xuICAgICAgfVxuXG4gICAgICBzY2FsZSA9IHZhbHVlO1xuICAgIH1cblxuICB9KTtcblxuICBmdW5jdGlvbiBnZXREaXN0YW5jZUJldHdlZW5Ub3VjaGVzKGUpIHtcbiAgICBpZiAoZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA8IDIpIHJldHVybiAxO1xuICAgIGNvbnN0IHgxID0gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgIGNvbnN0IHkxID0gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgIGNvbnN0IHgyID0gZS50YXJnZXRUb3VjaGVzWzFdLnBhZ2VYO1xuICAgIGNvbnN0IHkyID0gZS50YXJnZXRUb3VjaGVzWzFdLnBhZ2VZO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqKiAyICsgKHkyIC0geTEpICoqIDIpO1xuICAgIHJldHVybiBkaXN0YW5jZTtcbiAgfSAvLyBFdmVudHNcblxuXG4gIGZ1bmN0aW9uIG9uR2VzdHVyZVN0YXJ0KGUpIHtcbiAgICBjb25zdCBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIGZha2VHZXN0dXJlVG91Y2hlZCA9IGZhbHNlO1xuICAgIGZha2VHZXN0dXJlTW92ZWQgPSBmYWxzZTtcblxuICAgIGlmICghc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgaWYgKGUudHlwZSAhPT0gJ3RvdWNoc3RhcnQnIHx8IGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZmFrZUdlc3R1cmVUb3VjaGVkID0gdHJ1ZTtcbiAgICAgIGdlc3R1cmUuc2NhbGVTdGFydCA9IGdldERpc3RhbmNlQmV0d2VlblRvdWNoZXMoZSk7XG4gICAgfVxuXG4gICAgaWYgKCFnZXN0dXJlLiRzbGlkZUVsIHx8ICFnZXN0dXJlLiRzbGlkZUVsLmxlbmd0aCkge1xuICAgICAgZ2VzdHVyZS4kc2xpZGVFbCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31gKTtcbiAgICAgIGlmIChnZXN0dXJlLiRzbGlkZUVsLmxlbmd0aCA9PT0gMCkgZ2VzdHVyZS4kc2xpZGVFbCA9IHN3aXBlci5zbGlkZXMuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIGdlc3R1cmUuJGltYWdlRWwgPSBnZXN0dXJlLiRzbGlkZUVsLmZpbmQoYC4ke3BhcmFtcy5jb250YWluZXJDbGFzc31gKS5lcSgwKS5maW5kKCdwaWN0dXJlLCBpbWcsIHN2ZywgY2FudmFzLCAuc3dpcGVyLXpvb20tdGFyZ2V0JykuZXEoMCk7XG4gICAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbCA9IGdlc3R1cmUuJGltYWdlRWwucGFyZW50KGAuJHtwYXJhbXMuY29udGFpbmVyQ2xhc3N9YCk7XG4gICAgICBnZXN0dXJlLm1heFJhdGlvID0gZ2VzdHVyZS4kaW1hZ2VXcmFwRWwuYXR0cignZGF0YS1zd2lwZXItem9vbScpIHx8IHBhcmFtcy5tYXhSYXRpbztcblxuICAgICAgaWYgKGdlc3R1cmUuJGltYWdlV3JhcEVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBnZXN0dXJlLiRpbWFnZUVsID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuJGltYWdlRWwpIHtcbiAgICAgIGdlc3R1cmUuJGltYWdlRWwudHJhbnNpdGlvbigwKTtcbiAgICB9XG5cbiAgICBpc1NjYWxpbmcgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gb25HZXN0dXJlQ2hhbmdlKGUpIHtcbiAgICBjb25zdCBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIGNvbnN0IHpvb20gPSBzd2lwZXIuem9vbTtcblxuICAgIGlmICghc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgaWYgKGUudHlwZSAhPT0gJ3RvdWNobW92ZScgfHwgZS50eXBlID09PSAndG91Y2htb3ZlJyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZha2VHZXN0dXJlTW92ZWQgPSB0cnVlO1xuICAgICAgZ2VzdHVyZS5zY2FsZU1vdmUgPSBnZXREaXN0YW5jZUJldHdlZW5Ub3VjaGVzKGUpO1xuICAgIH1cblxuICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGUudHlwZSA9PT0gJ2dlc3R1cmVjaGFuZ2UnKSBvbkdlc3R1cmVTdGFydChlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgem9vbS5zY2FsZSA9IGUuc2NhbGUgKiBjdXJyZW50U2NhbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLnNjYWxlTW92ZSAvIGdlc3R1cmUuc2NhbGVTdGFydCAqIGN1cnJlbnRTY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoem9vbS5zY2FsZSA+IGdlc3R1cmUubWF4UmF0aW8pIHtcbiAgICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLm1heFJhdGlvIC0gMSArICh6b29tLnNjYWxlIC0gZ2VzdHVyZS5tYXhSYXRpbyArIDEpICoqIDAuNTtcbiAgICB9XG5cbiAgICBpZiAoem9vbS5zY2FsZSA8IHBhcmFtcy5taW5SYXRpbykge1xuICAgICAgem9vbS5zY2FsZSA9IHBhcmFtcy5taW5SYXRpbyArIDEgLSAocGFyYW1zLm1pblJhdGlvIC0gem9vbS5zY2FsZSArIDEpICoqIDAuNTtcbiAgICB9XG5cbiAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKCR7em9vbS5zY2FsZX0pYCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkdlc3R1cmVFbmQoZSkge1xuICAgIGNvbnN0IGRldmljZSA9IHN3aXBlci5kZXZpY2U7XG4gICAgY29uc3Qgc3VwcG9ydCA9IHN3aXBlci5zdXBwb3J0O1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuem9vbTtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG5cbiAgICBpZiAoIXN1cHBvcnQuZ2VzdHVyZXMpIHtcbiAgICAgIGlmICghZmFrZUdlc3R1cmVUb3VjaGVkIHx8ICFmYWtlR2VzdHVyZU1vdmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGUudHlwZSAhPT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICd0b3VjaGVuZCcgJiYgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPCAyICYmICFkZXZpY2UuYW5kcm9pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZha2VHZXN0dXJlVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgZmFrZUdlc3R1cmVNb3ZlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIHpvb20uc2NhbGUgPSBNYXRoLm1heChNYXRoLm1pbih6b29tLnNjYWxlLCBnZXN0dXJlLm1heFJhdGlvKSwgcGFyYW1zLm1pblJhdGlvKTtcbiAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zaXRpb24oc3dpcGVyLnBhcmFtcy5zcGVlZCkudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoJHt6b29tLnNjYWxlfSlgKTtcbiAgICBjdXJyZW50U2NhbGUgPSB6b29tLnNjYWxlO1xuICAgIGlzU2NhbGluZyA9IGZhbHNlO1xuICAgIGlmICh6b29tLnNjYWxlID09PSAxKSBnZXN0dXJlLiRzbGlkZUVsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICBjb25zdCBkZXZpY2UgPSBzd2lwZXIuZGV2aWNlO1xuICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmIChpbWFnZS5pc1RvdWNoZWQpIHJldHVybjtcbiAgICBpZiAoZGV2aWNlLmFuZHJvaWQgJiYgZS5jYW5jZWxhYmxlKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaW1hZ2UuaXNUb3VjaGVkID0gdHJ1ZTtcbiAgICBpbWFnZS50b3VjaGVzU3RhcnQueCA9IGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWDtcbiAgICBpbWFnZS50b3VjaGVzU3RhcnQueSA9IGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGUpIHtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgaWYgKCFnZXN0dXJlLiRpbWFnZUVsIHx8IGdlc3R1cmUuJGltYWdlRWwubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICBpZiAoIWltYWdlLmlzVG91Y2hlZCB8fCAhZ2VzdHVyZS4kc2xpZGVFbCkgcmV0dXJuO1xuXG4gICAgaWYgKCFpbWFnZS5pc01vdmVkKSB7XG4gICAgICBpbWFnZS53aWR0aCA9IGdlc3R1cmUuJGltYWdlRWxbMF0ub2Zmc2V0V2lkdGg7XG4gICAgICBpbWFnZS5oZWlnaHQgPSBnZXN0dXJlLiRpbWFnZUVsWzBdLm9mZnNldEhlaWdodDtcbiAgICAgIGltYWdlLnN0YXJ0WCA9IGdldFRyYW5zbGF0ZShnZXN0dXJlLiRpbWFnZVdyYXBFbFswXSwgJ3gnKSB8fCAwO1xuICAgICAgaW1hZ2Uuc3RhcnRZID0gZ2V0VHJhbnNsYXRlKGdlc3R1cmUuJGltYWdlV3JhcEVsWzBdLCAneScpIHx8IDA7XG4gICAgICBnZXN0dXJlLnNsaWRlV2lkdGggPSBnZXN0dXJlLiRzbGlkZUVsWzBdLm9mZnNldFdpZHRoO1xuICAgICAgZ2VzdHVyZS5zbGlkZUhlaWdodCA9IGdlc3R1cmUuJHNsaWRlRWxbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwudHJhbnNpdGlvbigwKTtcbiAgICB9IC8vIERlZmluZSBpZiB3ZSBuZWVkIGltYWdlIGRyYWdcblxuXG4gICAgY29uc3Qgc2NhbGVkV2lkdGggPSBpbWFnZS53aWR0aCAqIHpvb20uc2NhbGU7XG4gICAgY29uc3Qgc2NhbGVkSGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0ICogem9vbS5zY2FsZTtcbiAgICBpZiAoc2NhbGVkV2lkdGggPCBnZXN0dXJlLnNsaWRlV2lkdGggJiYgc2NhbGVkSGVpZ2h0IDwgZ2VzdHVyZS5zbGlkZUhlaWdodCkgcmV0dXJuO1xuICAgIGltYWdlLm1pblggPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlV2lkdGggLyAyIC0gc2NhbGVkV2lkdGggLyAyLCAwKTtcbiAgICBpbWFnZS5tYXhYID0gLWltYWdlLm1pblg7XG4gICAgaW1hZ2UubWluWSA9IE1hdGgubWluKGdlc3R1cmUuc2xpZGVIZWlnaHQgLyAyIC0gc2NhbGVkSGVpZ2h0IC8gMiwgMCk7XG4gICAgaW1hZ2UubWF4WSA9IC1pbWFnZS5taW5ZO1xuICAgIGltYWdlLnRvdWNoZXNDdXJyZW50LnggPSBlLnR5cGUgPT09ICd0b3VjaG1vdmUnID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWDtcbiAgICBpbWFnZS50b3VjaGVzQ3VycmVudC55ID0gZS50eXBlID09PSAndG91Y2htb3ZlJyA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XG5cbiAgICBpZiAoIWltYWdlLmlzTW92ZWQgJiYgIWlzU2NhbGluZykge1xuICAgICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSAmJiAoTWF0aC5mbG9vcihpbWFnZS5taW5YKSA9PT0gTWF0aC5mbG9vcihpbWFnZS5zdGFydFgpICYmIGltYWdlLnRvdWNoZXNDdXJyZW50LnggPCBpbWFnZS50b3VjaGVzU3RhcnQueCB8fCBNYXRoLmZsb29yKGltYWdlLm1heFgpID09PSBNYXRoLmZsb29yKGltYWdlLnN0YXJ0WCkgJiYgaW1hZ2UudG91Y2hlc0N1cnJlbnQueCA+IGltYWdlLnRvdWNoZXNTdGFydC54KSkge1xuICAgICAgICBpbWFnZS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSAmJiAoTWF0aC5mbG9vcihpbWFnZS5taW5ZKSA9PT0gTWF0aC5mbG9vcihpbWFnZS5zdGFydFkpICYmIGltYWdlLnRvdWNoZXNDdXJyZW50LnkgPCBpbWFnZS50b3VjaGVzU3RhcnQueSB8fCBNYXRoLmZsb29yKGltYWdlLm1heFkpID09PSBNYXRoLmZsb29yKGltYWdlLnN0YXJ0WSkgJiYgaW1hZ2UudG91Y2hlc0N1cnJlbnQueSA+IGltYWdlLnRvdWNoZXNTdGFydC55KSkge1xuICAgICAgICBpbWFnZS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlLmNhbmNlbGFibGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGltYWdlLmlzTW92ZWQgPSB0cnVlO1xuICAgIGltYWdlLmN1cnJlbnRYID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueCAtIGltYWdlLnRvdWNoZXNTdGFydC54ICsgaW1hZ2Uuc3RhcnRYO1xuICAgIGltYWdlLmN1cnJlbnRZID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIGltYWdlLnRvdWNoZXNTdGFydC55ICsgaW1hZ2Uuc3RhcnRZO1xuXG4gICAgaWYgKGltYWdlLmN1cnJlbnRYIDwgaW1hZ2UubWluWCkge1xuICAgICAgaW1hZ2UuY3VycmVudFggPSBpbWFnZS5taW5YICsgMSAtIChpbWFnZS5taW5YIC0gaW1hZ2UuY3VycmVudFggKyAxKSAqKiAwLjg7XG4gICAgfVxuXG4gICAgaWYgKGltYWdlLmN1cnJlbnRYID4gaW1hZ2UubWF4WCkge1xuICAgICAgaW1hZ2UuY3VycmVudFggPSBpbWFnZS5tYXhYIC0gMSArIChpbWFnZS5jdXJyZW50WCAtIGltYWdlLm1heFggKyAxKSAqKiAwLjg7XG4gICAgfVxuXG4gICAgaWYgKGltYWdlLmN1cnJlbnRZIDwgaW1hZ2UubWluWSkge1xuICAgICAgaW1hZ2UuY3VycmVudFkgPSBpbWFnZS5taW5ZICsgMSAtIChpbWFnZS5taW5ZIC0gaW1hZ2UuY3VycmVudFkgKyAxKSAqKiAwLjg7XG4gICAgfVxuXG4gICAgaWYgKGltYWdlLmN1cnJlbnRZID4gaW1hZ2UubWF4WSkge1xuICAgICAgaW1hZ2UuY3VycmVudFkgPSBpbWFnZS5tYXhZIC0gMSArIChpbWFnZS5jdXJyZW50WSAtIGltYWdlLm1heFkgKyAxKSAqKiAwLjg7XG4gICAgfSAvLyBWZWxvY2l0eVxuXG5cbiAgICBpZiAoIXZlbG9jaXR5LnByZXZQb3NpdGlvblgpIHZlbG9jaXR5LnByZXZQb3NpdGlvblggPSBpbWFnZS50b3VjaGVzQ3VycmVudC54O1xuICAgIGlmICghdmVsb2NpdHkucHJldlBvc2l0aW9uWSkgdmVsb2NpdHkucHJldlBvc2l0aW9uWSA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lnk7XG4gICAgaWYgKCF2ZWxvY2l0eS5wcmV2VGltZSkgdmVsb2NpdHkucHJldlRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZlbG9jaXR5LnggPSAoaW1hZ2UudG91Y2hlc0N1cnJlbnQueCAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblgpIC8gKERhdGUubm93KCkgLSB2ZWxvY2l0eS5wcmV2VGltZSkgLyAyO1xuICAgIHZlbG9jaXR5LnkgPSAoaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblkpIC8gKERhdGUubm93KCkgLSB2ZWxvY2l0eS5wcmV2VGltZSkgLyAyO1xuICAgIGlmIChNYXRoLmFicyhpbWFnZS50b3VjaGVzQ3VycmVudC54IC0gdmVsb2NpdHkucHJldlBvc2l0aW9uWCkgPCAyKSB2ZWxvY2l0eS54ID0gMDtcbiAgICBpZiAoTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblkpIDwgMikgdmVsb2NpdHkueSA9IDA7XG4gICAgdmVsb2NpdHkucHJldlBvc2l0aW9uWCA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lng7XG4gICAgdmVsb2NpdHkucHJldlBvc2l0aW9uWSA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lnk7XG4gICAgdmVsb2NpdHkucHJldlRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoJHtpbWFnZS5jdXJyZW50WH1weCwgJHtpbWFnZS5jdXJyZW50WX1weCwwKWApO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Ub3VjaEVuZCgpIHtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgaWYgKCFnZXN0dXJlLiRpbWFnZUVsIHx8IGdlc3R1cmUuJGltYWdlRWwubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBpZiAoIWltYWdlLmlzVG91Y2hlZCB8fCAhaW1hZ2UuaXNNb3ZlZCkge1xuICAgICAgaW1hZ2UuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICBpbWFnZS5pc01vdmVkID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW1hZ2UuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgaW1hZ2UuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGxldCBtb21lbnR1bUR1cmF0aW9uWCA9IDMwMDtcbiAgICBsZXQgbW9tZW50dW1EdXJhdGlvblkgPSAzMDA7XG4gICAgY29uc3QgbW9tZW50dW1EaXN0YW5jZVggPSB2ZWxvY2l0eS54ICogbW9tZW50dW1EdXJhdGlvblg7XG4gICAgY29uc3QgbmV3UG9zaXRpb25YID0gaW1hZ2UuY3VycmVudFggKyBtb21lbnR1bURpc3RhbmNlWDtcbiAgICBjb25zdCBtb21lbnR1bURpc3RhbmNlWSA9IHZlbG9jaXR5LnkgKiBtb21lbnR1bUR1cmF0aW9uWTtcbiAgICBjb25zdCBuZXdQb3NpdGlvblkgPSBpbWFnZS5jdXJyZW50WSArIG1vbWVudHVtRGlzdGFuY2VZOyAvLyBGaXggZHVyYXRpb25cblxuICAgIGlmICh2ZWxvY2l0eS54ICE9PSAwKSBtb21lbnR1bUR1cmF0aW9uWCA9IE1hdGguYWJzKChuZXdQb3NpdGlvblggLSBpbWFnZS5jdXJyZW50WCkgLyB2ZWxvY2l0eS54KTtcbiAgICBpZiAodmVsb2NpdHkueSAhPT0gMCkgbW9tZW50dW1EdXJhdGlvblkgPSBNYXRoLmFicygobmV3UG9zaXRpb25ZIC0gaW1hZ2UuY3VycmVudFkpIC8gdmVsb2NpdHkueSk7XG4gICAgY29uc3QgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGgubWF4KG1vbWVudHVtRHVyYXRpb25YLCBtb21lbnR1bUR1cmF0aW9uWSk7XG4gICAgaW1hZ2UuY3VycmVudFggPSBuZXdQb3NpdGlvblg7XG4gICAgaW1hZ2UuY3VycmVudFkgPSBuZXdQb3NpdGlvblk7IC8vIERlZmluZSBpZiB3ZSBuZWVkIGltYWdlIGRyYWdcblxuICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gaW1hZ2Uud2lkdGggKiB6b29tLnNjYWxlO1xuICAgIGNvbnN0IHNjYWxlZEhlaWdodCA9IGltYWdlLmhlaWdodCAqIHpvb20uc2NhbGU7XG4gICAgaW1hZ2UubWluWCA9IE1hdGgubWluKGdlc3R1cmUuc2xpZGVXaWR0aCAvIDIgLSBzY2FsZWRXaWR0aCAvIDIsIDApO1xuICAgIGltYWdlLm1heFggPSAtaW1hZ2UubWluWDtcbiAgICBpbWFnZS5taW5ZID0gTWF0aC5taW4oZ2VzdHVyZS5zbGlkZUhlaWdodCAvIDIgLSBzY2FsZWRIZWlnaHQgLyAyLCAwKTtcbiAgICBpbWFnZS5tYXhZID0gLWltYWdlLm1pblk7XG4gICAgaW1hZ2UuY3VycmVudFggPSBNYXRoLm1heChNYXRoLm1pbihpbWFnZS5jdXJyZW50WCwgaW1hZ2UubWF4WCksIGltYWdlLm1pblgpO1xuICAgIGltYWdlLmN1cnJlbnRZID0gTWF0aC5tYXgoTWF0aC5taW4oaW1hZ2UuY3VycmVudFksIGltYWdlLm1heFkpLCBpbWFnZS5taW5ZKTtcbiAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKG1vbWVudHVtRHVyYXRpb24pLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoJHtpbWFnZS5jdXJyZW50WH1weCwgJHtpbWFnZS5jdXJyZW50WX1weCwwKWApO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKCkge1xuICAgIGNvbnN0IHpvb20gPSBzd2lwZXIuem9vbTtcblxuICAgIGlmIChnZXN0dXJlLiRzbGlkZUVsICYmIHN3aXBlci5wcmV2aW91c0luZGV4ICE9PSBzd2lwZXIuYWN0aXZlSW5kZXgpIHtcbiAgICAgIGlmIChnZXN0dXJlLiRpbWFnZUVsKSB7XG4gICAgICAgIGdlc3R1cmUuJGltYWdlRWwudHJhbnNmb3JtKCd0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoMSknKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdlc3R1cmUuJGltYWdlV3JhcEVsKSB7XG4gICAgICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsLnRyYW5zZm9ybSgndHJhbnNsYXRlM2QoMCwwLDApJyk7XG4gICAgICB9XG5cbiAgICAgIHpvb20uc2NhbGUgPSAxO1xuICAgICAgY3VycmVudFNjYWxlID0gMTtcbiAgICAgIGdlc3R1cmUuJHNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gICAgICBnZXN0dXJlLiRpbWFnZUVsID0gdW5kZWZpbmVkO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gem9vbUluKGUpIHtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuXG4gICAgaWYgKCFnZXN0dXJlLiRzbGlkZUVsKSB7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCkge1xuICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gJChlLnRhcmdldCkuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfWApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWdlc3R1cmUuJHNsaWRlRWwpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCAmJiBzd2lwZXIudmlydHVhbCkge1xuICAgICAgICAgIGdlc3R1cmUuJHNsaWRlRWwgPSBzd2lwZXIuJHdyYXBwZXJFbC5jaGlsZHJlbihgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdlc3R1cmUuJHNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmVxKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZ2VzdHVyZS4kaW1hZ2VFbCA9IGdlc3R1cmUuJHNsaWRlRWwuZmluZChgLiR7cGFyYW1zLmNvbnRhaW5lckNsYXNzfWApLmVxKDApLmZpbmQoJ3BpY3R1cmUsIGltZywgc3ZnLCBjYW52YXMsIC5zd2lwZXItem9vbS10YXJnZXQnKS5lcSgwKTtcbiAgICAgIGdlc3R1cmUuJGltYWdlV3JhcEVsID0gZ2VzdHVyZS4kaW1hZ2VFbC5wYXJlbnQoYC4ke3BhcmFtcy5jb250YWluZXJDbGFzc31gKTtcbiAgICB9XG5cbiAgICBpZiAoIWdlc3R1cmUuJGltYWdlRWwgfHwgZ2VzdHVyZS4kaW1hZ2VFbC5sZW5ndGggPT09IDAgfHwgIWdlc3R1cmUuJGltYWdlV3JhcEVsIHx8IGdlc3R1cmUuJGltYWdlV3JhcEVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJztcbiAgICB9XG5cbiAgICBnZXN0dXJlLiRzbGlkZUVsLmFkZENsYXNzKGAke3BhcmFtcy56b29tZWRTbGlkZUNsYXNzfWApO1xuICAgIGxldCB0b3VjaFg7XG4gICAgbGV0IHRvdWNoWTtcbiAgICBsZXQgb2Zmc2V0WDtcbiAgICBsZXQgb2Zmc2V0WTtcbiAgICBsZXQgZGlmZlg7XG4gICAgbGV0IGRpZmZZO1xuICAgIGxldCB0cmFuc2xhdGVYO1xuICAgIGxldCB0cmFuc2xhdGVZO1xuICAgIGxldCBpbWFnZVdpZHRoO1xuICAgIGxldCBpbWFnZUhlaWdodDtcbiAgICBsZXQgc2NhbGVkV2lkdGg7XG4gICAgbGV0IHNjYWxlZEhlaWdodDtcbiAgICBsZXQgdHJhbnNsYXRlTWluWDtcbiAgICBsZXQgdHJhbnNsYXRlTWluWTtcbiAgICBsZXQgdHJhbnNsYXRlTWF4WDtcbiAgICBsZXQgdHJhbnNsYXRlTWF4WTtcbiAgICBsZXQgc2xpZGVXaWR0aDtcbiAgICBsZXQgc2xpZGVIZWlnaHQ7XG5cbiAgICBpZiAodHlwZW9mIGltYWdlLnRvdWNoZXNTdGFydC54ID09PSAndW5kZWZpbmVkJyAmJiBlKSB7XG4gICAgICB0b3VjaFggPSBlLnR5cGUgPT09ICd0b3VjaGVuZCcgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWDtcbiAgICAgIHRvdWNoWSA9IGUudHlwZSA9PT0gJ3RvdWNoZW5kJyA/IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3VjaFggPSBpbWFnZS50b3VjaGVzU3RhcnQueDtcbiAgICAgIHRvdWNoWSA9IGltYWdlLnRvdWNoZXNTdGFydC55O1xuICAgIH1cblxuICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLiRpbWFnZVdyYXBFbC5hdHRyKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuICAgIGN1cnJlbnRTY2FsZSA9IGdlc3R1cmUuJGltYWdlV3JhcEVsLmF0dHIoJ2RhdGEtc3dpcGVyLXpvb20nKSB8fCBwYXJhbXMubWF4UmF0aW87XG5cbiAgICBpZiAoZSkge1xuICAgICAgc2xpZGVXaWR0aCA9IGdlc3R1cmUuJHNsaWRlRWxbMF0ub2Zmc2V0V2lkdGg7XG4gICAgICBzbGlkZUhlaWdodCA9IGdlc3R1cmUuJHNsaWRlRWxbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgb2Zmc2V0WCA9IGdlc3R1cmUuJHNsaWRlRWwub2Zmc2V0KCkubGVmdCArIHdpbmRvdy5zY3JvbGxYO1xuICAgICAgb2Zmc2V0WSA9IGdlc3R1cmUuJHNsaWRlRWwub2Zmc2V0KCkudG9wICsgd2luZG93LnNjcm9sbFk7XG4gICAgICBkaWZmWCA9IG9mZnNldFggKyBzbGlkZVdpZHRoIC8gMiAtIHRvdWNoWDtcbiAgICAgIGRpZmZZID0gb2Zmc2V0WSArIHNsaWRlSGVpZ2h0IC8gMiAtIHRvdWNoWTtcbiAgICAgIGltYWdlV2lkdGggPSBnZXN0dXJlLiRpbWFnZUVsWzBdLm9mZnNldFdpZHRoO1xuICAgICAgaW1hZ2VIZWlnaHQgPSBnZXN0dXJlLiRpbWFnZUVsWzBdLm9mZnNldEhlaWdodDtcbiAgICAgIHNjYWxlZFdpZHRoID0gaW1hZ2VXaWR0aCAqIHpvb20uc2NhbGU7XG4gICAgICBzY2FsZWRIZWlnaHQgPSBpbWFnZUhlaWdodCAqIHpvb20uc2NhbGU7XG4gICAgICB0cmFuc2xhdGVNaW5YID0gTWF0aC5taW4oc2xpZGVXaWR0aCAvIDIgLSBzY2FsZWRXaWR0aCAvIDIsIDApO1xuICAgICAgdHJhbnNsYXRlTWluWSA9IE1hdGgubWluKHNsaWRlSGVpZ2h0IC8gMiAtIHNjYWxlZEhlaWdodCAvIDIsIDApO1xuICAgICAgdHJhbnNsYXRlTWF4WCA9IC10cmFuc2xhdGVNaW5YO1xuICAgICAgdHJhbnNsYXRlTWF4WSA9IC10cmFuc2xhdGVNaW5ZO1xuICAgICAgdHJhbnNsYXRlWCA9IGRpZmZYICogem9vbS5zY2FsZTtcbiAgICAgIHRyYW5zbGF0ZVkgPSBkaWZmWSAqIHpvb20uc2NhbGU7XG5cbiAgICAgIGlmICh0cmFuc2xhdGVYIDwgdHJhbnNsYXRlTWluWCkge1xuICAgICAgICB0cmFuc2xhdGVYID0gdHJhbnNsYXRlTWluWDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRyYW5zbGF0ZVggPiB0cmFuc2xhdGVNYXhYKSB7XG4gICAgICAgIHRyYW5zbGF0ZVggPSB0cmFuc2xhdGVNYXhYO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJhbnNsYXRlWSA8IHRyYW5zbGF0ZU1pblkpIHtcbiAgICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZU1pblk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0cmFuc2xhdGVZID4gdHJhbnNsYXRlTWF4WSkge1xuICAgICAgICB0cmFuc2xhdGVZID0gdHJhbnNsYXRlTWF4WTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNsYXRlWCA9IDA7XG4gICAgICB0cmFuc2xhdGVZID0gMDtcbiAgICB9XG5cbiAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgke3RyYW5zbGF0ZVh9cHgsICR7dHJhbnNsYXRlWX1weCwwKWApO1xuICAgIGdlc3R1cmUuJGltYWdlRWwudHJhbnNpdGlvbigzMDApLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKCR7em9vbS5zY2FsZX0pYCk7XG4gIH1cblxuICBmdW5jdGlvbiB6b29tT3V0KCkge1xuICAgIGNvbnN0IHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG5cbiAgICBpZiAoIWdlc3R1cmUuJHNsaWRlRWwpIHtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgc3dpcGVyLnZpcnR1YWwpIHtcbiAgICAgICAgZ2VzdHVyZS4kc2xpZGVFbCA9IHN3aXBlci4kd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3N9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXN0dXJlLiRzbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5lcShzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBnZXN0dXJlLiRpbWFnZUVsID0gZ2VzdHVyZS4kc2xpZGVFbC5maW5kKGAuJHtwYXJhbXMuY29udGFpbmVyQ2xhc3N9YCkuZXEoMCkuZmluZCgncGljdHVyZSwgaW1nLCBzdmcsIGNhbnZhcywgLnN3aXBlci16b29tLXRhcmdldCcpLmVxKDApO1xuICAgICAgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgPSBnZXN0dXJlLiRpbWFnZUVsLnBhcmVudChgLiR7cGFyYW1zLmNvbnRhaW5lckNsYXNzfWApO1xuICAgIH1cblxuICAgIGlmICghZ2VzdHVyZS4kaW1hZ2VFbCB8fCBnZXN0dXJlLiRpbWFnZUVsLmxlbmd0aCA9PT0gMCB8fCAhZ2VzdHVyZS4kaW1hZ2VXcmFwRWwgfHwgZ2VzdHVyZS4kaW1hZ2VXcmFwRWwubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnRvdWNoQWN0aW9uID0gJyc7XG4gICAgfVxuXG4gICAgem9vbS5zY2FsZSA9IDE7XG4gICAgY3VycmVudFNjYWxlID0gMTtcbiAgICBnZXN0dXJlLiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKCd0cmFuc2xhdGUzZCgwLDAsMCknKTtcbiAgICBnZXN0dXJlLiRpbWFnZUVsLnRyYW5zaXRpb24oMzAwKS50cmFuc2Zvcm0oJ3RyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKScpO1xuICAgIGdlc3R1cmUuJHNsaWRlRWwucmVtb3ZlQ2xhc3MoYCR7cGFyYW1zLnpvb21lZFNsaWRlQ2xhc3N9YCk7XG4gICAgZ2VzdHVyZS4kc2xpZGVFbCA9IHVuZGVmaW5lZDtcbiAgfSAvLyBUb2dnbGUgWm9vbVxuXG5cbiAgZnVuY3Rpb24gem9vbVRvZ2dsZShlKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuXG4gICAgaWYgKHpvb20uc2NhbGUgJiYgem9vbS5zY2FsZSAhPT0gMSkge1xuICAgICAgLy8gWm9vbSBPdXRcbiAgICAgIHpvb21PdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gWm9vbSBJblxuICAgICAgem9vbUluKGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExpc3RlbmVycygpIHtcbiAgICBjb25zdCBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgY29uc3QgcGFzc2l2ZUxpc3RlbmVyID0gc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0ID09PSAndG91Y2hzdGFydCcgJiYgc3VwcG9ydC5wYXNzaXZlTGlzdGVuZXIgJiYgc3dpcGVyLnBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIGNvbnN0IGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmUgPSBzdXBwb3J0LnBhc3NpdmVMaXN0ZW5lciA/IHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgIH0gOiB0cnVlO1xuICAgIHJldHVybiB7XG4gICAgICBwYXNzaXZlTGlzdGVuZXIsXG4gICAgICBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNsaWRlU2VsZWN0b3IoKSB7XG4gICAgcmV0dXJuIGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUdlc3R1cmVzKG1ldGhvZCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHBhc3NpdmVMaXN0ZW5lclxuICAgIH0gPSBnZXRMaXN0ZW5lcnMoKTtcbiAgICBjb25zdCBzbGlkZVNlbGVjdG9yID0gZ2V0U2xpZGVTZWxlY3RvcigpO1xuICAgIHN3aXBlci4kd3JhcHBlckVsW21ldGhvZF0oJ2dlc3R1cmVzdGFydCcsIHNsaWRlU2VsZWN0b3IsIG9uR2VzdHVyZVN0YXJ0LCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIHN3aXBlci4kd3JhcHBlckVsW21ldGhvZF0oJ2dlc3R1cmVjaGFuZ2UnLCBzbGlkZVNlbGVjdG9yLCBvbkdlc3R1cmVDaGFuZ2UsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgc3dpcGVyLiR3cmFwcGVyRWxbbWV0aG9kXSgnZ2VzdHVyZWVuZCcsIHNsaWRlU2VsZWN0b3IsIG9uR2VzdHVyZUVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuYWJsZUdlc3R1cmVzKCkge1xuICAgIGlmIChnZXN0dXJlc0VuYWJsZWQpIHJldHVybjtcbiAgICBnZXN0dXJlc0VuYWJsZWQgPSB0cnVlO1xuICAgIHRvZ2dsZUdlc3R1cmVzKCdvbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzYWJsZUdlc3R1cmVzKCkge1xuICAgIGlmICghZ2VzdHVyZXNFbmFibGVkKSByZXR1cm47XG4gICAgZ2VzdHVyZXNFbmFibGVkID0gZmFsc2U7XG4gICAgdG9nZ2xlR2VzdHVyZXMoJ29mZicpO1xuICB9IC8vIEF0dGFjaC9EZXRhY2ggRXZlbnRzXG5cblxuICBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGlmICh6b29tLmVuYWJsZWQpIHJldHVybjtcbiAgICB6b29tLmVuYWJsZWQgPSB0cnVlO1xuICAgIGNvbnN0IHN1cHBvcnQgPSBzd2lwZXIuc3VwcG9ydDtcbiAgICBjb25zdCB7XG4gICAgICBwYXNzaXZlTGlzdGVuZXIsXG4gICAgICBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlXG4gICAgfSA9IGdldExpc3RlbmVycygpO1xuICAgIGNvbnN0IHNsaWRlU2VsZWN0b3IgPSBnZXRTbGlkZVNlbGVjdG9yKCk7IC8vIFNjYWxlIGltYWdlXG5cbiAgICBpZiAoc3VwcG9ydC5nZXN0dXJlcykge1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub24oc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0LCBlbmFibGVHZXN0dXJlcywgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5lbmQsIGRpc2FibGVHZXN0dXJlcywgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICB9IGVsc2UgaWYgKHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQsIHNsaWRlU2VsZWN0b3IsIG9uR2VzdHVyZVN0YXJ0LCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub24oc3dpcGVyLnRvdWNoRXZlbnRzLm1vdmUsIHNsaWRlU2VsZWN0b3IsIG9uR2VzdHVyZUNoYW5nZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vbihzd2lwZXIudG91Y2hFdmVudHMuZW5kLCBzbGlkZVNlbGVjdG9yLCBvbkdlc3R1cmVFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG5cbiAgICAgIGlmIChzd2lwZXIudG91Y2hFdmVudHMuY2FuY2VsKSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9uKHN3aXBlci50b3VjaEV2ZW50cy5jYW5jZWwsIHNsaWRlU2VsZWN0b3IsIG9uR2VzdHVyZUVuZCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9IC8vIE1vdmUgaW1hZ2VcblxuXG4gICAgc3dpcGVyLiR3cmFwcGVyRWwub24oc3dpcGVyLnRvdWNoRXZlbnRzLm1vdmUsIGAuJHtzd2lwZXIucGFyYW1zLnpvb20uY29udGFpbmVyQ2xhc3N9YCwgb25Ub3VjaE1vdmUsIGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgaWYgKCF6b29tLmVuYWJsZWQpIHJldHVybjtcbiAgICBjb25zdCBzdXBwb3J0ID0gc3dpcGVyLnN1cHBvcnQ7XG4gICAgem9vbS5lbmFibGVkID0gZmFsc2U7XG4gICAgY29uc3Qge1xuICAgICAgcGFzc2l2ZUxpc3RlbmVyLFxuICAgICAgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZVxuICAgIH0gPSBnZXRMaXN0ZW5lcnMoKTtcbiAgICBjb25zdCBzbGlkZVNlbGVjdG9yID0gZ2V0U2xpZGVTZWxlY3RvcigpOyAvLyBTY2FsZSBpbWFnZVxuXG4gICAgaWYgKHN1cHBvcnQuZ2VzdHVyZXMpIHtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMuc3RhcnQsIGVuYWJsZUdlc3R1cmVzLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgICAgc3dpcGVyLiR3cmFwcGVyRWwub2ZmKHN3aXBlci50b3VjaEV2ZW50cy5lbmQsIGRpc2FibGVHZXN0dXJlcywgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICB9IGVsc2UgaWYgKHN3aXBlci50b3VjaEV2ZW50cy5zdGFydCA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICBzd2lwZXIuJHdyYXBwZXJFbC5vZmYoc3dpcGVyLnRvdWNoRXZlbnRzLnN0YXJ0LCBzbGlkZVNlbGVjdG9yLCBvbkdlc3R1cmVTdGFydCwgcGFzc2l2ZUxpc3RlbmVyKTtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMubW92ZSwgc2xpZGVTZWxlY3Rvciwgb25HZXN0dXJlQ2hhbmdlLCBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlKTtcbiAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMuZW5kLCBzbGlkZVNlbGVjdG9yLCBvbkdlc3R1cmVFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG5cbiAgICAgIGlmIChzd2lwZXIudG91Y2hFdmVudHMuY2FuY2VsKSB7XG4gICAgICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMuY2FuY2VsLCBzbGlkZVNlbGVjdG9yLCBvbkdlc3R1cmVFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfSAvLyBNb3ZlIGltYWdlXG5cblxuICAgIHN3aXBlci4kd3JhcHBlckVsLm9mZihzd2lwZXIudG91Y2hFdmVudHMubW92ZSwgYC4ke3N3aXBlci5wYXJhbXMuem9vbS5jb250YWluZXJDbGFzc31gLCBvblRvdWNoTW92ZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gIH1cblxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQpIHtcbiAgICAgIGVuYWJsZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRpc2FibGUoKTtcbiAgfSk7XG4gIG9uKCd0b3VjaFN0YXJ0JywgKF9zLCBlKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuem9vbS5lbmFibGVkKSByZXR1cm47XG4gICAgb25Ub3VjaFN0YXJ0KGUpO1xuICB9KTtcbiAgb24oJ3RvdWNoRW5kJywgKF9zLCBlKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuem9vbS5lbmFibGVkKSByZXR1cm47XG4gICAgb25Ub3VjaEVuZChlKTtcbiAgfSk7XG4gIG9uKCdkb3VibGVUYXAnLCAoX3MsIGUpID0+IHtcbiAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcgJiYgc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnpvb20udG9nZ2xlKSB7XG4gICAgICB6b29tVG9nZ2xlKGUpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCd0cmFuc2l0aW9uRW5kJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuem9vbS5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuem9vbS5lbmFibGVkKSB7XG4gICAgICBvblRyYW5zaXRpb25FbmQoKTtcbiAgICB9XG4gIH0pO1xuICBvbignc2xpZGVDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBvblRyYW5zaXRpb25FbmQoKTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuYXNzaWduKHN3aXBlci56b29tLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGUsXG4gICAgaW46IHpvb21JbixcbiAgICBvdXQ6IHpvb21PdXQsXG4gICAgdG9nZ2xlOiB6b29tVG9nZ2xlXG4gIH0pO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsYXNzZXNUb1NlbGVjdG9yKGNsYXNzZXMgPSAnJykge1xuICByZXR1cm4gYC4ke2NsYXNzZXMudHJpbSgpLnJlcGxhY2UoLyhbXFwuOiFcXC9dKS9nLCAnXFxcXCQxJykgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAucmVwbGFjZSgvIC9nLCAnLicpfWA7XG59IiwiaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICdzc3Itd2luZG93JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQoc3dpcGVyLCBvcmlnaW5hbFBhcmFtcywgcGFyYW1zLCBjaGVja1Byb3BzKSB7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcblxuICBpZiAoc3dpcGVyLnBhcmFtcy5jcmVhdGVFbGVtZW50cykge1xuICAgIE9iamVjdC5rZXlzKGNoZWNrUHJvcHMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmICghcGFyYW1zW2tleV0gJiYgcGFyYW1zLmF1dG8gPT09IHRydWUpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBzd2lwZXIuJGVsLmNoaWxkcmVuKGAuJHtjaGVja1Byb3BzW2tleV19YClbMF07XG5cbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2hlY2tQcm9wc1trZXldO1xuICAgICAgICAgIHN3aXBlci4kZWwuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW1zW2tleV0gPSBlbGVtZW50O1xuICAgICAgICBvcmlnaW5hbFBhcmFtc1trZXldID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXJhbXM7XG59IiwiaW1wb3J0ICQgZnJvbSAnLi9kb20uanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU2hhZG93KHBhcmFtcywgJHNsaWRlRWwsIHNpZGUpIHtcbiAgY29uc3Qgc2hhZG93Q2xhc3MgPSBgc3dpcGVyLXNsaWRlLXNoYWRvdyR7c2lkZSA/IGAtJHtzaWRlfWAgOiAnJ31gO1xuICBjb25zdCAkc2hhZG93Q29udGFpbmVyID0gcGFyYW1zLnRyYW5zZm9ybUVsID8gJHNsaWRlRWwuZmluZChwYXJhbXMudHJhbnNmb3JtRWwpIDogJHNsaWRlRWw7XG4gIGxldCAkc2hhZG93RWwgPSAkc2hhZG93Q29udGFpbmVyLmNoaWxkcmVuKGAuJHtzaGFkb3dDbGFzc31gKTtcblxuICBpZiAoISRzaGFkb3dFbC5sZW5ndGgpIHtcbiAgICAkc2hhZG93RWwgPSAkKGA8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlLXNoYWRvdyR7c2lkZSA/IGAtJHtzaWRlfWAgOiAnJ31cIj48L2Rpdj5gKTtcbiAgICAkc2hhZG93Q29udGFpbmVyLmFwcGVuZCgkc2hhZG93RWwpO1xuICB9XG5cbiAgcmV0dXJuICRzaGFkb3dFbDtcbn0iLCJpbXBvcnQgeyAkLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGhhc0NsYXNzLCB0b2dnbGVDbGFzcywgYXR0ciwgcmVtb3ZlQXR0ciwgdHJhbnNmb3JtLCB0cmFuc2l0aW9uLCBvbiwgb2ZmLCB0cmlnZ2VyLCB0cmFuc2l0aW9uRW5kLCBvdXRlcldpZHRoLCBvdXRlckhlaWdodCwgc3R5bGVzLCBvZmZzZXQsIGNzcywgZWFjaCwgaHRtbCwgdGV4dCwgaXMsIGluZGV4LCBlcSwgYXBwZW5kLCBwcmVwZW5kLCBuZXh0LCBuZXh0QWxsLCBwcmV2LCBwcmV2QWxsLCBwYXJlbnQsIHBhcmVudHMsIGNsb3Nlc3QsIGZpbmQsIGNoaWxkcmVuLCBmaWx0ZXIsIHJlbW92ZSB9IGZyb20gJ2RvbTcnO1xuY29uc3QgTWV0aG9kcyA9IHtcbiAgYWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzLFxuICBoYXNDbGFzcyxcbiAgdG9nZ2xlQ2xhc3MsXG4gIGF0dHIsXG4gIHJlbW92ZUF0dHIsXG4gIHRyYW5zZm9ybSxcbiAgdHJhbnNpdGlvbixcbiAgb24sXG4gIG9mZixcbiAgdHJpZ2dlcixcbiAgdHJhbnNpdGlvbkVuZCxcbiAgb3V0ZXJXaWR0aCxcbiAgb3V0ZXJIZWlnaHQsXG4gIHN0eWxlcyxcbiAgb2Zmc2V0LFxuICBjc3MsXG4gIGVhY2gsXG4gIGh0bWwsXG4gIHRleHQsXG4gIGlzLFxuICBpbmRleCxcbiAgZXEsXG4gIGFwcGVuZCxcbiAgcHJlcGVuZCxcbiAgbmV4dCxcbiAgbmV4dEFsbCxcbiAgcHJldixcbiAgcHJldkFsbCxcbiAgcGFyZW50LFxuICBwYXJlbnRzLFxuICBjbG9zZXN0LFxuICBmaW5kLFxuICBjaGlsZHJlbixcbiAgZmlsdGVyLFxuICByZW1vdmVcbn07XG5PYmplY3Qua2V5cyhNZXRob2RzKS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoJC5mbiwgbWV0aG9kTmFtZSwge1xuICAgIHZhbHVlOiBNZXRob2RzW21ldGhvZE5hbWVdLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pO1xufSk7XG5leHBvcnQgZGVmYXVsdCAkOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVmZmVjdEluaXQocGFyYW1zKSB7XG4gIGNvbnN0IHtcbiAgICBlZmZlY3QsXG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBzZXRUcmFuc2l0aW9uLFxuICAgIG92ZXJ3cml0ZVBhcmFtcyxcbiAgICBwZXJzcGVjdGl2ZSxcbiAgICByZWNyZWF0ZVNoYWRvd3MsXG4gICAgZ2V0RWZmZWN0UGFyYW1zXG4gIH0gPSBwYXJhbXM7XG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtlZmZlY3R9YCk7XG5cbiAgICBpZiAocGVyc3BlY3RpdmUgJiYgcGVyc3BlY3RpdmUoKSkge1xuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9M2RgKTtcbiAgICB9XG5cbiAgICBjb25zdCBvdmVyd3JpdGVQYXJhbXNSZXN1bHQgPSBvdmVyd3JpdGVQYXJhbXMgPyBvdmVyd3JpdGVQYXJhbXMoKSA6IHt9O1xuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbikgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH0pO1xuICBvbigndHJhbnNpdGlvbkVuZCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuXG4gICAgaWYgKHJlY3JlYXRlU2hhZG93cykge1xuICAgICAgaWYgKCFnZXRFZmZlY3RQYXJhbXMgfHwgIWdldEVmZmVjdFBhcmFtcygpLnNsaWRlU2hhZG93cykgcmV0dXJuOyAvLyByZW1vdmUgc2hhZG93c1xuXG4gICAgICBzd2lwZXIuc2xpZGVzLmVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgIGNvbnN0ICRzbGlkZUVsID0gc3dpcGVyLiQoc2xpZGVFbCk7XG4gICAgICAgICRzbGlkZUVsLmZpbmQoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpLnJlbW92ZSgpO1xuICAgICAgfSk7IC8vIGNyZWF0ZSBuZXcgb25lXG5cbiAgICAgIHJlY3JlYXRlU2hhZG93cygpO1xuICAgIH1cbiAgfSk7XG4gIGxldCByZXF1aXJlVXBkYXRlT25WaXJ0dWFsO1xuICBvbigndmlydHVhbFVwZGF0ZScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuXG4gICAgaWYgKCFzd2lwZXIuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmIChyZXF1aXJlVXBkYXRlT25WaXJ0dWFsICYmIHN3aXBlci5zbGlkZXMgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICAgIHJlcXVpcmVVcGRhdGVPblZpcnR1YWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWZmZWN0VGFyZ2V0KGVmZmVjdFBhcmFtcywgJHNsaWRlRWwpIHtcbiAgaWYgKGVmZmVjdFBhcmFtcy50cmFuc2Zvcm1FbCkge1xuICAgIHJldHVybiAkc2xpZGVFbC5maW5kKGVmZmVjdFBhcmFtcy50cmFuc2Zvcm1FbCkuY3NzKHtcbiAgICAgICdiYWNrZmFjZS12aXNpYmlsaXR5JzogJ2hpZGRlbicsXG4gICAgICAnLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5JzogJ2hpZGRlbidcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiAkc2xpZGVFbDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCh7XG4gIHN3aXBlcixcbiAgZHVyYXRpb24sXG4gIHRyYW5zZm9ybUVsLFxuICBhbGxTbGlkZXNcbn0pIHtcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBhY3RpdmVJbmRleCxcbiAgICAkd3JhcHBlckVsXG4gIH0gPSBzd2lwZXI7XG5cbiAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiBkdXJhdGlvbiAhPT0gMCkge1xuICAgIGxldCBldmVudFRyaWdnZXJlZCA9IGZhbHNlO1xuICAgIGxldCAkdHJhbnNpdGlvbkVuZFRhcmdldDtcblxuICAgIGlmIChhbGxTbGlkZXMpIHtcbiAgICAgICR0cmFuc2l0aW9uRW5kVGFyZ2V0ID0gdHJhbnNmb3JtRWwgPyBzbGlkZXMuZmluZCh0cmFuc2Zvcm1FbCkgOiBzbGlkZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0cmFuc2l0aW9uRW5kVGFyZ2V0ID0gdHJhbnNmb3JtRWwgPyBzbGlkZXMuZXEoYWN0aXZlSW5kZXgpLmZpbmQodHJhbnNmb3JtRWwpIDogc2xpZGVzLmVxKGFjdGl2ZUluZGV4KTtcbiAgICB9XG5cbiAgICAkdHJhbnNpdGlvbkVuZFRhcmdldC50cmFuc2l0aW9uRW5kKCgpID0+IHtcbiAgICAgIGlmIChldmVudFRyaWdnZXJlZCkgcmV0dXJuO1xuICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgZXZlbnRUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgY29uc3QgdHJpZ2dlckV2ZW50cyA9IFsnd2Via2l0VHJhbnNpdGlvbkVuZCcsICd0cmFuc2l0aW9uZW5kJ107XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpZ2dlckV2ZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAkd3JhcHBlckVsLnRyaWdnZXIodHJpZ2dlckV2ZW50c1tpXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdzc3Itd2luZG93JztcbmxldCBicm93c2VyO1xuXG5mdW5jdGlvbiBjYWxjQnJvd3NlcigpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG5cbiAgZnVuY3Rpb24gaXNTYWZhcmkoKSB7XG4gICAgY29uc3QgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB1YS5pbmRleE9mKCdzYWZhcmknKSA+PSAwICYmIHVhLmluZGV4T2YoJ2Nocm9tZScpIDwgMCAmJiB1YS5pbmRleE9mKCdhbmRyb2lkJykgPCAwO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1NhZmFyaTogaXNTYWZhcmkoKSxcbiAgICBpc1dlYlZpZXc6IC8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0QnJvd3NlcigpIHtcbiAgaWYgKCFicm93c2VyKSB7XG4gICAgYnJvd3NlciA9IGNhbGNCcm93c2VyKCk7XG4gIH1cblxuICByZXR1cm4gYnJvd3Nlcjtcbn1cblxuZXhwb3J0IHsgZ2V0QnJvd3NlciB9OyIsImltcG9ydCB7IGdldFdpbmRvdyB9IGZyb20gJ3Nzci13aW5kb3cnO1xuaW1wb3J0IHsgZ2V0U3VwcG9ydCB9IGZyb20gJy4vZ2V0LXN1cHBvcnQuanMnO1xubGV0IGRldmljZUNhY2hlZDtcblxuZnVuY3Rpb24gY2FsY0RldmljZSh7XG4gIHVzZXJBZ2VudFxufSA9IHt9KSB7XG4gIGNvbnN0IHN1cHBvcnQgPSBnZXRTdXBwb3J0KCk7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBwbGF0Zm9ybSA9IHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm07XG4gIGNvbnN0IHVhID0gdXNlckFnZW50IHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICBjb25zdCBkZXZpY2UgPSB7XG4gICAgaW9zOiBmYWxzZSxcbiAgICBhbmRyb2lkOiBmYWxzZVxuICB9O1xuICBjb25zdCBzY3JlZW5XaWR0aCA9IHdpbmRvdy5zY3JlZW4ud2lkdGg7XG4gIGNvbnN0IHNjcmVlbkhlaWdodCA9IHdpbmRvdy5zY3JlZW4uaGVpZ2h0O1xuICBjb25zdCBhbmRyb2lkID0gdWEubWF0Y2goLyhBbmRyb2lkKTs/W1xcc1xcL10rKFtcXGQuXSspPy8pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgbGV0IGlwYWQgPSB1YS5tYXRjaCgvKGlQYWQpLipPU1xccyhbXFxkX10rKS8pO1xuICBjb25zdCBpcG9kID0gdWEubWF0Y2goLyhpUG9kKSguKk9TXFxzKFtcXGRfXSspKT8vKTtcbiAgY29uc3QgaXBob25lID0gIWlwYWQgJiYgdWEubWF0Y2goLyhpUGhvbmVcXHNPU3xpT1MpXFxzKFtcXGRfXSspLyk7XG4gIGNvbnN0IHdpbmRvd3MgPSBwbGF0Zm9ybSA9PT0gJ1dpbjMyJztcbiAgbGV0IG1hY29zID0gcGxhdGZvcm0gPT09ICdNYWNJbnRlbCc7IC8vIGlQYWRPcyAxMyBmaXhcblxuICBjb25zdCBpUGFkU2NyZWVucyA9IFsnMTAyNHgxMzY2JywgJzEzNjZ4MTAyNCcsICc4MzR4MTE5NCcsICcxMTk0eDgzNCcsICc4MzR4MTExMicsICcxMTEyeDgzNCcsICc3Njh4MTAyNCcsICcxMDI0eDc2OCcsICc4MjB4MTE4MCcsICcxMTgweDgyMCcsICc4MTB4MTA4MCcsICcxMDgweDgxMCddO1xuXG4gIGlmICghaXBhZCAmJiBtYWNvcyAmJiBzdXBwb3J0LnRvdWNoICYmIGlQYWRTY3JlZW5zLmluZGV4T2YoYCR7c2NyZWVuV2lkdGh9eCR7c2NyZWVuSGVpZ2h0fWApID49IDApIHtcbiAgICBpcGFkID0gdWEubWF0Y2goLyhWZXJzaW9uKVxcLyhbXFxkLl0rKS8pO1xuICAgIGlmICghaXBhZCkgaXBhZCA9IFswLCAxLCAnMTNfMF8wJ107XG4gICAgbWFjb3MgPSBmYWxzZTtcbiAgfSAvLyBBbmRyb2lkXG5cblxuICBpZiAoYW5kcm9pZCAmJiAhd2luZG93cykge1xuICAgIGRldmljZS5vcyA9ICdhbmRyb2lkJztcbiAgICBkZXZpY2UuYW5kcm9pZCA9IHRydWU7XG4gIH1cblxuICBpZiAoaXBhZCB8fCBpcGhvbmUgfHwgaXBvZCkge1xuICAgIGRldmljZS5vcyA9ICdpb3MnO1xuICAgIGRldmljZS5pb3MgPSB0cnVlO1xuICB9IC8vIEV4cG9ydCBvYmplY3RcblxuXG4gIHJldHVybiBkZXZpY2U7XG59XG5cbmZ1bmN0aW9uIGdldERldmljZShvdmVycmlkZXMgPSB7fSkge1xuICBpZiAoIWRldmljZUNhY2hlZCkge1xuICAgIGRldmljZUNhY2hlZCA9IGNhbGNEZXZpY2Uob3ZlcnJpZGVzKTtcbiAgfVxuXG4gIHJldHVybiBkZXZpY2VDYWNoZWQ7XG59XG5cbmV4cG9ydCB7IGdldERldmljZSB9OyIsImltcG9ydCB7IGdldFdpbmRvdywgZ2V0RG9jdW1lbnQgfSBmcm9tICdzc3Itd2luZG93JztcbmxldCBzdXBwb3J0O1xuXG5mdW5jdGlvbiBjYWxjU3VwcG9ydCgpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgcmV0dXJuIHtcbiAgICBzbW9vdGhTY3JvbGw6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgICB0b3VjaDogISEoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpLFxuICAgIHBhc3NpdmVMaXN0ZW5lcjogZnVuY3Rpb24gY2hlY2tQYXNzaXZlTGlzdGVuZXIoKSB7XG4gICAgICBsZXQgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmVMaXN0ZW5lcicsIG51bGwsIG9wdHMpO1xuICAgICAgfSBjYXRjaCAoZSkgey8vIE5vIHN1cHBvcnRcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZTtcbiAgICB9KCksXG4gICAgZ2VzdHVyZXM6IGZ1bmN0aW9uIGNoZWNrR2VzdHVyZXMoKSB7XG4gICAgICByZXR1cm4gJ29uZ2VzdHVyZXN0YXJ0JyBpbiB3aW5kb3c7XG4gICAgfSgpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFN1cHBvcnQoKSB7XG4gIGlmICghc3VwcG9ydCkge1xuICAgIHN1cHBvcnQgPSBjYWxjU3VwcG9ydCgpO1xuICB9XG5cbiAgcmV0dXJuIHN1cHBvcnQ7XG59XG5cbmV4cG9ydCB7IGdldFN1cHBvcnQgfTsiLCJpbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdzc3Itd2luZG93JztcblxuZnVuY3Rpb24gZGVsZXRlUHJvcHMob2JqKSB7XG4gIGNvbnN0IG9iamVjdCA9IG9iajtcbiAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIG9iamVjdFtrZXldID0gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7Ly8gbm8gZ2V0dGVyIGZvciBvYmplY3RcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgZGVsZXRlIG9iamVjdFtrZXldO1xuICAgIH0gY2F0Y2ggKGUpIHsvLyBzb21ldGhpbmcgZ290IHdyb25nXG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gbmV4dFRpY2soY2FsbGJhY2ssIGRlbGF5ID0gMCkge1xuICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xufVxuXG5mdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBEYXRlLm5vdygpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgc3R5bGU7XG5cbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCk7XG4gIH1cblxuICBpZiAoIXN0eWxlICYmIGVsLmN1cnJlbnRTdHlsZSkge1xuICAgIHN0eWxlID0gZWwuY3VycmVudFN0eWxlO1xuICB9XG5cbiAgaWYgKCFzdHlsZSkge1xuICAgIHN0eWxlID0gZWwuc3R5bGU7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZShlbCwgYXhpcyA9ICd4Jykge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IG1hdHJpeDtcbiAgbGV0IGN1clRyYW5zZm9ybTtcbiAgbGV0IHRyYW5zZm9ybU1hdHJpeDtcbiAgY29uc3QgY3VyU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTtcblxuICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkge1xuICAgIGN1clRyYW5zZm9ybSA9IGN1clN0eWxlLnRyYW5zZm9ybSB8fCBjdXJTdHlsZS53ZWJraXRUcmFuc2Zvcm07XG5cbiAgICBpZiAoY3VyVHJhbnNmb3JtLnNwbGl0KCcsJykubGVuZ3RoID4gNikge1xuICAgICAgY3VyVHJhbnNmb3JtID0gY3VyVHJhbnNmb3JtLnNwbGl0KCcsICcpLm1hcChhID0+IGEucmVwbGFjZSgnLCcsICcuJykpLmpvaW4oJywgJyk7XG4gICAgfSAvLyBTb21lIG9sZCB2ZXJzaW9ucyBvZiBXZWJraXQgY2hva2Ugd2hlbiAnbm9uZScgaXMgcGFzc2VkOyBwYXNzXG4gICAgLy8gZW1wdHkgc3RyaW5nIGluc3RlYWQgaW4gdGhpcyBjYXNlXG5cblxuICAgIHRyYW5zZm9ybU1hdHJpeCA9IG5ldyB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KGN1clRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBjdXJUcmFuc2Zvcm0pO1xuICB9IGVsc2Uge1xuICAgIHRyYW5zZm9ybU1hdHJpeCA9IGN1clN0eWxlLk1velRyYW5zZm9ybSB8fCBjdXJTdHlsZS5PVHJhbnNmb3JtIHx8IGN1clN0eWxlLk1zVHJhbnNmb3JtIHx8IGN1clN0eWxlLm1zVHJhbnNmb3JtIHx8IGN1clN0eWxlLnRyYW5zZm9ybSB8fCBjdXJTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKS5yZXBsYWNlKCd0cmFuc2xhdGUoJywgJ21hdHJpeCgxLCAwLCAwLCAxLCcpO1xuICAgIG1hdHJpeCA9IHRyYW5zZm9ybU1hdHJpeC50b1N0cmluZygpLnNwbGl0KCcsJyk7XG4gIH1cblxuICBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgLy8gTGF0ZXN0IENocm9tZSBhbmQgd2Via2l0cyBGaXhcbiAgICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkgY3VyVHJhbnNmb3JtID0gdHJhbnNmb3JtTWF0cml4Lm00MTsgLy8gQ3JhenkgSUUxMCBNYXRyaXhcbiAgICBlbHNlIGlmIChtYXRyaXgubGVuZ3RoID09PSAxNikgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbMTJdKTsgLy8gTm9ybWFsIEJyb3dzZXJzXG4gICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs0XSk7XG4gIH1cblxuICBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgLy8gTGF0ZXN0IENocm9tZSBhbmQgd2Via2l0cyBGaXhcbiAgICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkgY3VyVHJhbnNmb3JtID0gdHJhbnNmb3JtTWF0cml4Lm00MjsgLy8gQ3JhenkgSUUxMCBNYXRyaXhcbiAgICBlbHNlIGlmIChtYXRyaXgubGVuZ3RoID09PSAxNikgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbMTNdKTsgLy8gTm9ybWFsIEJyb3dzZXJzXG4gICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs1XSk7XG4gIH1cblxuICByZXR1cm4gY3VyVHJhbnNmb3JtIHx8IDA7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBvICE9PSBudWxsICYmIG8uY29uc3RydWN0b3IgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKSA9PT0gJ09iamVjdCc7XG59XG5cbmZ1bmN0aW9uIGlzTm9kZShub2RlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIG5vZGUgJiYgKG5vZGUubm9kZVR5cGUgPT09IDEgfHwgbm9kZS5ub2RlVHlwZSA9PT0gMTEpO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoLi4uYXJncykge1xuICBjb25zdCB0byA9IE9iamVjdChhcmdzWzBdKTtcbiAgY29uc3Qgbm9FeHRlbmQgPSBbJ19fcHJvdG9fXycsICdjb25zdHJ1Y3RvcicsICdwcm90b3R5cGUnXTtcblxuICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBuZXh0U291cmNlID0gYXJnc1tpXTtcblxuICAgIGlmIChuZXh0U291cmNlICE9PSB1bmRlZmluZWQgJiYgbmV4dFNvdXJjZSAhPT0gbnVsbCAmJiAhaXNOb2RlKG5leHRTb3VyY2UpKSB7XG4gICAgICBjb25zdCBrZXlzQXJyYXkgPSBPYmplY3Qua2V5cyhPYmplY3QobmV4dFNvdXJjZSkpLmZpbHRlcihrZXkgPT4gbm9FeHRlbmQuaW5kZXhPZihrZXkpIDwgMCk7XG5cbiAgICAgIGZvciAobGV0IG5leHRJbmRleCA9IDAsIGxlbiA9IGtleXNBcnJheS5sZW5ndGg7IG5leHRJbmRleCA8IGxlbjsgbmV4dEluZGV4ICs9IDEpIHtcbiAgICAgICAgY29uc3QgbmV4dEtleSA9IGtleXNBcnJheVtuZXh0SW5kZXhdO1xuICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuZXh0U291cmNlLCBuZXh0S2V5KTtcblxuICAgICAgICBpZiAoZGVzYyAhPT0gdW5kZWZpbmVkICYmIGRlc2MuZW51bWVyYWJsZSkge1xuICAgICAgICAgIGlmIChpc09iamVjdCh0b1tuZXh0S2V5XSkgJiYgaXNPYmplY3QobmV4dFNvdXJjZVtuZXh0S2V5XSkpIHtcbiAgICAgICAgICAgIGlmIChuZXh0U291cmNlW25leHRLZXldLl9fc3dpcGVyX18pIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXh0ZW5kKHRvW25leHRLZXldLCBuZXh0U291cmNlW25leHRLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc09iamVjdCh0b1tuZXh0S2V5XSkgJiYgaXNPYmplY3QobmV4dFNvdXJjZVtuZXh0S2V5XSkpIHtcbiAgICAgICAgICAgIHRvW25leHRLZXldID0ge307XG5cbiAgICAgICAgICAgIGlmIChuZXh0U291cmNlW25leHRLZXldLl9fc3dpcGVyX18pIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXh0ZW5kKHRvW25leHRLZXldLCBuZXh0U291cmNlW25leHRLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0bztcbn1cblxuZnVuY3Rpb24gc2V0Q1NTUHJvcGVydHkoZWwsIHZhck5hbWUsIHZhclZhbHVlKSB7XG4gIGVsLnN0eWxlLnNldFByb3BlcnR5KHZhck5hbWUsIHZhclZhbHVlKTtcbn1cblxuZnVuY3Rpb24gYW5pbWF0ZUNTU01vZGVTY3JvbGwoe1xuICBzd2lwZXIsXG4gIHRhcmdldFBvc2l0aW9uLFxuICBzaWRlXG59KSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBzdGFydFBvc2l0aW9uID0gLXN3aXBlci50cmFuc2xhdGU7XG4gIGxldCBzdGFydFRpbWUgPSBudWxsO1xuICBsZXQgdGltZTtcbiAgY29uc3QgZHVyYXRpb24gPSBzd2lwZXIucGFyYW1zLnNwZWVkO1xuICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlID0gJ25vbmUnO1xuICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoc3dpcGVyLmNzc01vZGVGcmFtZUlEKTtcbiAgY29uc3QgZGlyID0gdGFyZ2V0UG9zaXRpb24gPiBzdGFydFBvc2l0aW9uID8gJ25leHQnIDogJ3ByZXYnO1xuXG4gIGNvbnN0IGlzT3V0T2ZCb3VuZCA9IChjdXJyZW50LCB0YXJnZXQpID0+IHtcbiAgICByZXR1cm4gZGlyID09PSAnbmV4dCcgJiYgY3VycmVudCA+PSB0YXJnZXQgfHwgZGlyID09PSAncHJldicgJiYgY3VycmVudCA8PSB0YXJnZXQ7XG4gIH07XG5cbiAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICBpZiAoc3RhcnRUaW1lID09PSBudWxsKSB7XG4gICAgICBzdGFydFRpbWUgPSB0aW1lO1xuICAgIH1cblxuICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oKHRpbWUgLSBzdGFydFRpbWUpIC8gZHVyYXRpb24sIDEpLCAwKTtcbiAgICBjb25zdCBlYXNlUHJvZ3Jlc3MgPSAwLjUgLSBNYXRoLmNvcyhwcm9ncmVzcyAqIE1hdGguUEkpIC8gMjtcbiAgICBsZXQgY3VycmVudFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbiArIGVhc2VQcm9ncmVzcyAqICh0YXJnZXRQb3NpdGlvbiAtIHN0YXJ0UG9zaXRpb24pO1xuXG4gICAgaWYgKGlzT3V0T2ZCb3VuZChjdXJyZW50UG9zaXRpb24sIHRhcmdldFBvc2l0aW9uKSkge1xuICAgICAgY3VycmVudFBvc2l0aW9uID0gdGFyZ2V0UG9zaXRpb247XG4gICAgfVxuXG4gICAgc3dpcGVyLndyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICBbc2lkZV06IGN1cnJlbnRQb3NpdGlvblxuICAgIH0pO1xuXG4gICAgaWYgKGlzT3V0T2ZCb3VuZChjdXJyZW50UG9zaXRpb24sIHRhcmdldFBvc2l0aW9uKSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICcnO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICAgICAgW3NpZGVdOiBjdXJyZW50UG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShzd2lwZXIuY3NzTW9kZUZyYW1lSUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXBlci5jc3NNb2RlRnJhbWVJRCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gIH07XG5cbiAgYW5pbWF0ZSgpO1xufVxuXG5leHBvcnQgeyBhbmltYXRlQ1NTTW9kZVNjcm9sbCwgZGVsZXRlUHJvcHMsIG5leHRUaWNrLCBub3csIGdldFRyYW5zbGF0ZSwgaXNPYmplY3QsIGV4dGVuZCwgZ2V0Q29tcHV0ZWRTdHlsZSwgc2V0Q1NTUHJvcGVydHkgfTsiLCIvKipcbiAqIFN3aXBlciA4LjQuN1xuICogTW9zdCBtb2Rlcm4gbW9iaWxlIHRvdWNoIHNsaWRlciBhbmQgZnJhbWV3b3JrIHdpdGggaGFyZHdhcmUgYWNjZWxlcmF0ZWQgdHJhbnNpdGlvbnNcbiAqIGh0dHBzOi8vc3dpcGVyanMuY29tXG4gKlxuICogQ29weXJpZ2h0IDIwMTQtMjAyMyBWbGFkaW1pciBLaGFybGFtcGlkaVxuICpcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICpcbiAqIFJlbGVhc2VkIG9uOiBKYW51YXJ5IDMwLCAyMDIzXG4gKi9cblxuZXhwb3J0IHsgZGVmYXVsdCBhcyBTd2lwZXIsIGRlZmF1bHQgfSBmcm9tICcuL2NvcmUvY29yZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFZpcnR1YWwgfSBmcm9tICcuL21vZHVsZXMvdmlydHVhbC92aXJ0dWFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5Ym9hcmQgfSBmcm9tICcuL21vZHVsZXMva2V5Ym9hcmQva2V5Ym9hcmQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNb3VzZXdoZWVsIH0gZnJvbSAnLi9tb2R1bGVzL21vdXNld2hlZWwvbW91c2V3aGVlbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5hdmlnYXRpb24gfSBmcm9tICcuL21vZHVsZXMvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUGFnaW5hdGlvbiB9IGZyb20gJy4vbW9kdWxlcy9wYWdpbmF0aW9uL3BhZ2luYXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTY3JvbGxiYXIgfSBmcm9tICcuL21vZHVsZXMvc2Nyb2xsYmFyL3Njcm9sbGJhci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBhcmFsbGF4IH0gZnJvbSAnLi9tb2R1bGVzL3BhcmFsbGF4L3BhcmFsbGF4LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbSB9IGZyb20gJy4vbW9kdWxlcy96b29tL3pvb20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYXp5IH0gZnJvbSAnLi9tb2R1bGVzL2xhenkvbGF6eS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbnRyb2xsZXIgfSBmcm9tICcuL21vZHVsZXMvY29udHJvbGxlci9jb250cm9sbGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQTExeSB9IGZyb20gJy4vbW9kdWxlcy9hMTF5L2ExMXkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIaXN0b3J5IH0gZnJvbSAnLi9tb2R1bGVzL2hpc3RvcnkvaGlzdG9yeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhhc2hOYXZpZ2F0aW9uIH0gZnJvbSAnLi9tb2R1bGVzL2hhc2gtbmF2aWdhdGlvbi9oYXNoLW5hdmlnYXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBdXRvcGxheSB9IGZyb20gJy4vbW9kdWxlcy9hdXRvcGxheS9hdXRvcGxheS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRodW1icyB9IGZyb20gJy4vbW9kdWxlcy90aHVtYnMvdGh1bWJzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRnJlZU1vZGUgfSBmcm9tICcuL21vZHVsZXMvZnJlZS1tb2RlL2ZyZWUtbW9kZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdyaWQgfSBmcm9tICcuL21vZHVsZXMvZ3JpZC9ncmlkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFuaXB1bGF0aW9uIH0gZnJvbSAnLi9tb2R1bGVzL21hbmlwdWxhdGlvbi9tYW5pcHVsYXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFZmZlY3RGYWRlIH0gZnJvbSAnLi9tb2R1bGVzL2VmZmVjdC1mYWRlL2VmZmVjdC1mYWRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRWZmZWN0Q3ViZSB9IGZyb20gJy4vbW9kdWxlcy9lZmZlY3QtY3ViZS9lZmZlY3QtY3ViZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEVmZmVjdEZsaXAgfSBmcm9tICcuL21vZHVsZXMvZWZmZWN0LWZsaXAvZWZmZWN0LWZsaXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFZmZlY3RDb3ZlcmZsb3cgfSBmcm9tICcuL21vZHVsZXMvZWZmZWN0LWNvdmVyZmxvdy9lZmZlY3QtY292ZXJmbG93LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRWZmZWN0Q3JlYXRpdmUgfSBmcm9tICcuL21vZHVsZXMvZWZmZWN0LWNyZWF0aXZlL2VmZmVjdC1jcmVhdGl2ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEVmZmVjdENhcmRzIH0gZnJvbSAnLi9tb2R1bGVzL2VmZmVjdC1jYXJkcy9lZmZlY3QtY2FyZHMuanMnOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIlxuLyohKlxuICog0JLQndCY0JzQkNCd0JjQlSEg0K3RgtC+0YIg0YTQsNC50Lsg0LPQtdC90LXRgNC40YDRg9C10YLRgdGPINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4LlxuICog0JvRjtCx0YvQtSDQuNC30LzQtdC90LXQvdC40Y8g0Y3RgtC+0LPQviDRhNCw0LnQu9CwINCx0YPQtNGD0YIg0L/QvtGC0LXRgNGP0L3RiyDQv9GA0Lgg0YHQu9C10LTRg9GO0YnQtdC5INC60L7QvNC/0LjQu9GP0YbQuNC4LlxuICog0JvRjtCx0L7QtSDQuNC30LzQtdC90LXQvdC40LUg0L/RgNC+0LXQutGC0LAg0LHQtdC3INCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0LrQvtC80L/QuNC70Y/RhtC40Lgg0JTQntCb0KzQqNCVINCYINCU0J7QoNCe0JbQlSDQsiAyLTUg0YDQsNC3LlxuICovXG5cbi8qIGdsb2JhbCByZXF1aXJlICovXG5cbnJlcXVpcmUoJy4uL2Jsb2Nrcy9jYWxjdWxhdG9yL2NhbGN1bGF0b3IuanMnKTtcbnJlcXVpcmUoJy4uL2Jsb2Nrcy9jb250YWN0cy9jb250YWN0cy5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL2RpcmVjdGlvbnMvZGlyZWN0aW9ucy5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL2Zvcm0vZm9ybS5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL2hlYWRlci9oZWFkZXIuanMnKTtcbnJlcXVpcmUoJy4uL2Jsb2Nrcy9oZXJvL2hlcm8uanMnKTtcbnJlcXVpcmUoJy4uL2Jsb2Nrcy9pbnB1dC9pbnB1dC5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL25hdi9uYXYuanMnKTtcbnJlcXVpcmUoJy4uL2Jsb2Nrcy9wYWdlL3BhZ2UuanMnKTtcbnJlcXVpcmUoJy4uL2Jsb2Nrcy9wb3B1cC9wb3B1cC5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL3Jldmlld3MvcmV2aWV3cy5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL3NlcnZpY2VzL3NlcnZpY2VzLmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvdGFncy90YWdzLmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvdGV4dGFyZWEvdGV4dGFyZWEuanMnKTtcbnJlcXVpcmUoJy4uL2Jsb2Nrcy93b3JrL3dvcmsuanMnKTtcbnJlcXVpcmUoJy4vc2NyaXB0LmpzJyk7XG5cbi8qISpcbiAqINCS0J3QmNCc0JDQndCY0JUhINCt0YLQvtGCINGE0LDQudC7INCz0LXQvdC10YDQuNGA0YPQtdGC0YHRjyDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuC5cbiAqINCb0Y7QsdGL0LUg0LjQt9C80LXQvdC10L3QuNGPINGN0YLQvtCz0L4g0YTQsNC50LvQsCDQsdGD0LTRg9GCINC/0L7RgtC10YDRj9C90Ysg0L/RgNC4INGB0LvQtdC00YPRjtGJ0LXQuSDQutC+0LzQv9C40LvRj9GG0LjQuC5cbiAqINCb0Y7QsdC+0LUg0LjQt9C80LXQvdC10L3QuNC1INC/0YDQvtC10LrRgtCwINCx0LXQtyDQstC+0LfQvNC+0LbQvdC+0YHRgtC4INC60L7QvNC/0LjQu9GP0YbQuNC4INCU0J7Qm9Cs0KjQlSDQmCDQlNCe0KDQntCW0JUg0LIgMi01INGA0LDQty5cbiAqL1xuXG4iXSwibmFtZXMiOlsicmVhZHkiLCJhbmltZSIsImNhbGN1bGF0b3JIb3N0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYW5pbWF0aW9uT3B0aW9ucyIsInRhcmdldCIsInRhcmdldHMiLCJzdHJva2VEYXNob2Zmc2V0Iiwic2V0RGFzaG9mZnNldCIsImVhc2luZyIsImR1cmF0aW9uIiwiZGVsYXkiLCJlbCIsImkiLCJkaXJlY3Rpb24iLCJsb29wIiwib3B0aW9ucyIsInJvb3QiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJmb3JFYWNoIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInN2ZyIsInN2Z1BhdGgiLCJzaWduQW5pbWF0aW9uIiwic3R5bGUiLCJvcGFjaXR5IiwicGxheSIsInVub2JzZXJ2ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvYnNlcnZlIiwiY29udGFjdHNIb3N0IiwiY29udGFjdHNOYW1lRmllbGQiLCJjb250YWN0c0NvbnRhY3RGaWVsZCIsImNvbnRhY3RzTWVzc2FnZUZpZWxkIiwiZm9ybUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JtQ2hlY2siLCJmb3JtIiwic3VibWl0IiwiY29udGFjdHNOYW1lVmFsdWUiLCJ2YWx1ZSIsImNvbnRhY3RzQ29udGFjdFZhbHVlIiwiY29udGFjdHNQbGFjZVZhbHVlIiwibm9FbXB0eVZhbHVlcyIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImRpcmVjdGlvbnNIb3N0IiwidXNlck5hbWVGaWVsZCIsInVzZXJDb250YWN0RmllbGQiLCJ1c2VyUGxhY2VGaWVsZCIsInVzZXJDYXRlZ29yeUZpZWxkIiwidXNlck5hbWVWYWx1ZSIsInVzZXJDb250YWN0VmFsdWUiLCJ1c2VyUGxhY2VWYWx1ZSIsInVzZXJDYXRlZ29yeVZhbHVlIiwib3Blbk5hdiIsIm1lbnVUcmlnZ2VyIiwiaGVyb0hvc3QiLCJpc0FuaW1hdGVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhZ2VIZWFkZXIiLCJoZXJvVGV4dCIsImhlcm9QaHJhc2VzIiwiaGVyb1RpbWVMaW5lIiwidGltZWxpbmUiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIl9zdGVwIiwicyIsIm4iLCJkb25lIiwicGhyYXNlIiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJyZXBsYWNlIiwiZXJyIiwiZSIsImYiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0cmFuc2xhdGVZIiwiY29tcGxldGUiLCJoZXJvUGhyYXNlc0FuaW1hdGlvbiIsInJlbW92ZSIsInNldEl0ZW0iLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWiIsIklNYXNrIiwiaW5wdXRzIiwibGVuZ3RoIiwiaW5wdXQiLCJwaG9uZUZpZWxkcyIsImZpZWxkIiwibWFzayIsIm5hdkxpbmtzIiwibmF2SGVhZGVyTGlua3MiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJpdGVtIiwiY2xpY2tIYW5kbGVyIiwiaHJlZiIsImdldEF0dHJpYnV0ZSIsImluZGV4T2YiLCJwcmV2ZW50RGVmYXVsdCIsIm9mZnNldFRvcCIsInNjcm9sbCIsInRvcCIsImJlaGF2aW9yIiwidXJsUGF0aG5hbWUiLCJ1cmxTZWFyY2giLCJ1cmxIYXNoIiwid2luZG93Iiwic2Nyb2xsVG8iLCJsZWZ0IiwicGFnZVRpbWVMaW5lIiwiSHlzdE1vZGFsIiwicHJvcHMiLCJfY2xhc3NDYWxsQ2hlY2siLCJkZWZhdWx0Q29uZmlnIiwiYmFja3Njcm9sbCIsImxpbmtBdHRyaWJ1dGVOYW1lIiwiY2xvc2VPbk92ZXJsYXkiLCJjbG9zZU9uRXNjIiwiY2xvc2VPbkJ1dHRvbiIsIndhaXRUcmFuc2l0aW9ucyIsImNhdGNoRm9jdXMiLCJmaXhlZFNlbGVjdG9ycyIsImJlZm9yZU9wZW4iLCJhZnRlckNsb3NlIiwiY29uZmlnIiwiT2JqZWN0IiwiYXNzaWduIiwiaW5pdCIsIl9jbG9zZUFmdGVyVHJhbnNpdGlvbiIsImJpbmQiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJpc09wZW5lZCIsIm9wZW5lZFdpbmRvdyIsInN0YXJ0ZXIiLCJfbmV4dFdpbmRvd3MiLCJfc2Nyb2xsUG9zaXRpb24iLCJfcmVvcGVuVHJpZ2dlciIsIl9vdmVybGF5Q2hlY2tlciIsIl9pc01vdmVkIiwiX2ZvY3VzRWxlbWVudHMiLCJfbW9kYWxCbG9jayIsImV4aXN0aW5nU2hhZG93Iiwic2hhZG93IiwiY3JlYXRlRWxlbWVudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImV2ZW50c0ZlZWxlciIsIl90aGlzIiwiY2xpY2tlZGxpbmsiLCJjbG9zZXN0IiwidGFyZ2V0U2VsZWN0b3IiLCJvcGVuIiwiY2xvc2UiLCJFbGVtZW50IiwiY29udGFpbnMiLCJ3aGljaCIsImZvY3VzQ2F0Y2hlciIsInNlbGVjdG9yIiwiY29uc29sZSIsImxvZyIsIl9ib2R5U2Nyb2xsQ29udHJvbCIsImZvY3VzQ29udHJvbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzY3JvbGxUb3AiLCJub2RlcyIsImZvY3VzIiwibm9kZXNBcnJheSIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYWN0aXZlRWxlbWVudCIsImZvY3VzZWRJdGVtSW5kZXgiLCJzaGlmdEtleSIsImZpeGVkU2VsZWN0b3JzRWxlbXMiLCJodG1sIiwibWFyZ2luUmlnaHQiLCJwYWdlWU9mZnNldCIsIm1hcmdpblNpemUiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJwYXJzZUludCIsImdldENvbXB1dGVkU3R5bGUiLCJkZWZhdWx0IiwiU2ltcGxlQmFyIiwiU2xpbVNlbGVjdCIsInBsYWNlU2VsZWN0IiwiY2F0ZWdvcnlTZWxlY3QiLCJwbGFjZVNsaW1TZWxlY3QiLCJzZWxlY3QiLCJzZXR0aW5ncyIsInNob3dTZWFyY2giLCJldmVudHMiLCJhZnRlckNoYW5nZSIsImlkIiwiZGF0YXNldCIsImRyb3AiLCJsaXN0IiwiYXV0b0hpZGUiLCJjYXRlZ29yeVNsaW1TZWxlY3QiLCJtb2RhbCIsInRpbGVzIiwidGlsZSIsInRpbGVDYXRlZ29yeSIsImNhdCIsInNldFNlbGVjdGVkIiwidGhhbmtzIiwiU3dpcGVyIiwiUGFnaW5hdGlvbiIsInJldmlld3NIb3N0IiwiYnJlYWtwb2ludCIsIm1hdGNoTWVkaWEiLCJyZXZpZXdzU2xpZGVyIiwiYnJlYWtwb2ludENoZWNrZXIiLCJtYXRjaGVzIiwidW5kZWZpbmVkIiwiZGVzdHJveSIsImVuYWJsZVN3aXBlciIsIm1vZHVsZXMiLCJwYWdpbmF0aW9uIiwiYnJlYWtwb2ludHMiLCJhZGRMaXN0ZW5lciIsIk5hdmlnYXRpb24iLCJzZXJ2aWNlc0hvc3QiLCJzdmdQYXRocyIsInBhdGgiLCJyZXZpZXdzU2xpZGVzIiwiZmlyc3RTdmciLCJyZXZpZXdzU3dpcGVyU2xpZGVyIiwic3BhY2VCZXR3ZWVuIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsIm9uIiwiY3VycmVudFN2ZyIsImFjdGl2ZUluZGV4IiwicHJldlN2ZyIsInByZXZpb3VzSW5kZXgiLCJ0YWdIb3N0IiwiYWN0aXZlVGFnIiwidGFnU2Nyb2xsIiwiY2VudGVyVGFnIiwic2xpZGVyIiwiaXNEb3duIiwic3RhcnRYIiwic2Nyb2xsTGVmdCIsInBhZ2VYIiwib2Zmc2V0TGVmdCIsIngiLCJ3YWxrIiwiYWN0aXZlIiwib2Zmc2V0V2lkdGgiLCJhdXRvc2l6ZSIsInRleHRhcmVhcyIsInRleHRhcmVhIiwid29ya0hvc3QiLCJib2R5U3RhdGUiLCJzdGF0ZSIsImdldFNjcm9sbFNpemUiLCJzZXRQcm9wZXJ0eSIsImZuIiwiYXR0YWNoRXZlbnQiLCJyZWFkeVN0YXRlIiwib3V0ZXIiLCJpbm5lciIsIm92ZXJmbG93Iiwic2Nyb2xsYmFyU2l6ZSIsInJlbW92ZUNoaWxkIiwidXJsIiwiVVJMIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJyZXF1aXJlIl0sInNvdXJjZVJvb3QiOiIifQ=="],"mappings":"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"}